(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}(g.SilverDecisions || (g.SilverDecisions = {})).App = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var copy             = require('es5-ext/object/copy')
  , normalizeOptions = require('es5-ext/object/normalize-options')
  , ensureCallable   = require('es5-ext/object/valid-callable')
  , map              = require('es5-ext/object/map')
  , callable         = require('es5-ext/object/valid-callable')
  , validValue       = require('es5-ext/object/valid-value')

  , bind = Function.prototype.bind, defineProperty = Object.defineProperty
  , hasOwnProperty = Object.prototype.hasOwnProperty
  , define;

define = function (name, desc, options) {
	var value = validValue(desc) && callable(desc.value), dgs;
	dgs = copy(desc);
	delete dgs.writable;
	delete dgs.value;
	dgs.get = function () {
		if (!options.overwriteDefinition && hasOwnProperty.call(this, name)) return value;
		desc.value = bind.call(value, options.resolveContext ? options.resolveContext(this) : this);
		defineProperty(this, name, desc);
		return this[name];
	};
	return dgs;
};

module.exports = function (props/*, options*/) {
	var options = normalizeOptions(arguments[1]);
	if (options.resolveContext != null) ensureCallable(options.resolveContext);
	return map(props, function (desc, name) { return define(name, desc, options); });
};

},{"es5-ext/object/copy":16,"es5-ext/object/map":24,"es5-ext/object/normalize-options":25,"es5-ext/object/valid-callable":29,"es5-ext/object/valid-value":30}],2:[function(require,module,exports){
'use strict';

var assign        = require('es5-ext/object/assign')
  , normalizeOpts = require('es5-ext/object/normalize-options')
  , isCallable    = require('es5-ext/object/is-callable')
  , contains      = require('es5-ext/string/#/contains')

  , d;

d = module.exports = function (dscr, value/*, options*/) {
	var c, e, w, options, desc;
	if ((arguments.length < 2) || (typeof dscr !== 'string')) {
		options = value;
		value = dscr;
		dscr = null;
	} else {
		options = arguments[2];
	}
	if (dscr == null) {
		c = w = true;
		e = false;
	} else {
		c = contains.call(dscr, 'c');
		e = contains.call(dscr, 'e');
		w = contains.call(dscr, 'w');
	}

	desc = { value: value, configurable: c, enumerable: e, writable: w };
	return !options ? desc : assign(normalizeOpts(options), desc);
};

d.gs = function (dscr, get, set/*, options*/) {
	var c, e, options, desc;
	if (typeof dscr !== 'string') {
		options = set;
		set = get;
		get = dscr;
		dscr = null;
	} else {
		options = arguments[3];
	}
	if (get == null) {
		get = undefined;
	} else if (!isCallable(get)) {
		options = get;
		get = set = undefined;
	} else if (set == null) {
		set = undefined;
	} else if (!isCallable(set)) {
		options = set;
		set = undefined;
	}
	if (dscr == null) {
		c = true;
		e = false;
	} else {
		c = contains.call(dscr, 'c');
		e = contains.call(dscr, 'e');
	}

	desc = { get: get, set: set, configurable: c, enumerable: e };
	return !options ? desc : assign(normalizeOpts(options), desc);
};

},{"es5-ext/object/assign":13,"es5-ext/object/is-callable":19,"es5-ext/object/normalize-options":25,"es5-ext/string/#/contains":31}],3:[function(require,module,exports){
// Inspired by Google Closure:
// http://closure-library.googlecode.com/svn/docs/
// closure_goog_array_array.js.html#goog.array.clear

'use strict';

var value = require('../../object/valid-value');

module.exports = function () {
	value(this).length = 0;
	return this;
};

},{"../../object/valid-value":30}],4:[function(require,module,exports){
'use strict';

var toPosInt = require('../../number/to-pos-integer')
  , value    = require('../../object/valid-value')

  , indexOf = Array.prototype.indexOf
  , hasOwnProperty = Object.prototype.hasOwnProperty
  , abs = Math.abs, floor = Math.floor;

module.exports = function (searchElement/*, fromIndex*/) {
	var i, l, fromIndex, val;
	if (searchElement === searchElement) { //jslint: ignore
		return indexOf.apply(this, arguments);
	}

	l = toPosInt(value(this).length);
	fromIndex = arguments[1];
	if (isNaN(fromIndex)) fromIndex = 0;
	else if (fromIndex >= 0) fromIndex = floor(fromIndex);
	else fromIndex = toPosInt(this.length) - floor(abs(fromIndex));

	for (i = fromIndex; i < l; ++i) {
		if (hasOwnProperty.call(this, i)) {
			val = this[i];
			if (val !== val) return i; //jslint: ignore
		}
	}
	return -1;
};

},{"../../number/to-pos-integer":11,"../../object/valid-value":30}],5:[function(require,module,exports){
'use strict';

var toString = Object.prototype.toString

  , id = toString.call((function () { return arguments; }()));

module.exports = function (x) { return (toString.call(x) === id); };

},{}],6:[function(require,module,exports){
'use strict';

module.exports = new Function("return this")();

},{}],7:[function(require,module,exports){
'use strict';

module.exports = require('./is-implemented')()
	? Math.sign
	: require('./shim');

},{"./is-implemented":8,"./shim":9}],8:[function(require,module,exports){
'use strict';

module.exports = function () {
	var sign = Math.sign;
	if (typeof sign !== 'function') return false;
	return ((sign(10) === 1) && (sign(-20) === -1));
};

},{}],9:[function(require,module,exports){
'use strict';

module.exports = function (value) {
	value = Number(value);
	if (isNaN(value) || (value === 0)) return value;
	return (value > 0) ? 1 : -1;
};

},{}],10:[function(require,module,exports){
'use strict';

var sign = require('../math/sign')

  , abs = Math.abs, floor = Math.floor;

module.exports = function (value) {
	if (isNaN(value)) return 0;
	value = Number(value);
	if ((value === 0) || !isFinite(value)) return value;
	return sign(value) * floor(abs(value));
};

},{"../math/sign":7}],11:[function(require,module,exports){
'use strict';

var toInteger = require('./to-integer')

  , max = Math.max;

module.exports = function (value) { return max(0, toInteger(value)); };

},{"./to-integer":10}],12:[function(require,module,exports){
// Internal method, used by iteration functions.
// Calls a function for each key-value pair found in object
// Optionally takes compareFn to iterate object in specific order

'use strict';

var callable = require('./valid-callable')
  , value    = require('./valid-value')

  , bind = Function.prototype.bind, call = Function.prototype.call, keys = Object.keys
  , propertyIsEnumerable = Object.prototype.propertyIsEnumerable;

module.exports = function (method, defVal) {
	return function (obj, cb/*, thisArg, compareFn*/) {
		var list, thisArg = arguments[2], compareFn = arguments[3];
		obj = Object(value(obj));
		callable(cb);

		list = keys(obj);
		if (compareFn) {
			list.sort((typeof compareFn === 'function') ? bind.call(compareFn, obj) : undefined);
		}
		if (typeof method !== 'function') method = list[method];
		return call.call(method, list, function (key, index) {
			if (!propertyIsEnumerable.call(obj, key)) return defVal;
			return call.call(cb, thisArg, obj[key], key, obj, index);
		});
	};
};

},{"./valid-callable":29,"./valid-value":30}],13:[function(require,module,exports){
'use strict';

module.exports = require('./is-implemented')()
	? Object.assign
	: require('./shim');

},{"./is-implemented":14,"./shim":15}],14:[function(require,module,exports){
'use strict';

module.exports = function () {
	var assign = Object.assign, obj;
	if (typeof assign !== 'function') return false;
	obj = { foo: 'raz' };
	assign(obj, { bar: 'dwa' }, { trzy: 'trzy' });
	return (obj.foo + obj.bar + obj.trzy) === 'razdwatrzy';
};

},{}],15:[function(require,module,exports){
'use strict';

var keys  = require('../keys')
  , value = require('../valid-value')

  , max = Math.max;

module.exports = function (dest, src/*, …srcn*/) {
	var error, i, l = max(arguments.length, 2), assign;
	dest = Object(value(dest));
	assign = function (key) {
		try { dest[key] = src[key]; } catch (e) {
			if (!error) error = e;
		}
	};
	for (i = 1; i < l; ++i) {
		src = arguments[i];
		keys(src).forEach(assign);
	}
	if (error !== undefined) throw error;
	return dest;
};

},{"../keys":21,"../valid-value":30}],16:[function(require,module,exports){
'use strict';

var assign = require('./assign')
  , value  = require('./valid-value');

module.exports = function (obj) {
	var copy = Object(value(obj));
	if (copy !== obj) return copy;
	return assign({}, obj);
};

},{"./assign":13,"./valid-value":30}],17:[function(require,module,exports){
// Workaround for http://code.google.com/p/v8/issues/detail?id=2804

'use strict';

var create = Object.create, shim;

if (!require('./set-prototype-of/is-implemented')()) {
	shim = require('./set-prototype-of/shim');
}

module.exports = (function () {
	var nullObject, props, desc;
	if (!shim) return create;
	if (shim.level !== 1) return create;

	nullObject = {};
	props = {};
	desc = { configurable: false, enumerable: false, writable: true,
		value: undefined };
	Object.getOwnPropertyNames(Object.prototype).forEach(function (name) {
		if (name === '__proto__') {
			props[name] = { configurable: true, enumerable: false, writable: true,
				value: undefined };
			return;
		}
		props[name] = desc;
	});
	Object.defineProperties(nullObject, props);

	Object.defineProperty(shim, 'nullPolyfill', { configurable: false,
		enumerable: false, writable: false, value: nullObject });

	return function (prototype, props) {
		return create((prototype === null) ? nullObject : prototype, props);
	};
}());

},{"./set-prototype-of/is-implemented":27,"./set-prototype-of/shim":28}],18:[function(require,module,exports){
'use strict';

module.exports = require('./_iterate')('forEach');

},{"./_iterate":12}],19:[function(require,module,exports){
// Deprecated

'use strict';

module.exports = function (obj) { return typeof obj === 'function'; };

},{}],20:[function(require,module,exports){
'use strict';

var map = { 'function': true, object: true };

module.exports = function (x) {
	return ((x != null) && map[typeof x]) || false;
};

},{}],21:[function(require,module,exports){
'use strict';

module.exports = require('./is-implemented')()
	? Object.keys
	: require('./shim');

},{"./is-implemented":22,"./shim":23}],22:[function(require,module,exports){
'use strict';

module.exports = function () {
	try {
		Object.keys('primitive');
		return true;
	} catch (e) { return false; }
};

},{}],23:[function(require,module,exports){
'use strict';

var keys = Object.keys;

module.exports = function (object) {
	return keys(object == null ? object : Object(object));
};

},{}],24:[function(require,module,exports){
'use strict';

var callable = require('./valid-callable')
  , forEach  = require('./for-each')

  , call = Function.prototype.call;

module.exports = function (obj, cb/*, thisArg*/) {
	var o = {}, thisArg = arguments[2];
	callable(cb);
	forEach(obj, function (value, key, obj, index) {
		o[key] = call.call(cb, thisArg, value, key, obj, index);
	});
	return o;
};

},{"./for-each":18,"./valid-callable":29}],25:[function(require,module,exports){
'use strict';

var forEach = Array.prototype.forEach, create = Object.create;

var process = function (src, obj) {
	var key;
	for (key in src) obj[key] = src[key];
};

module.exports = function (options/*, …options*/) {
	var result = create(null);
	forEach.call(arguments, function (options) {
		if (options == null) return;
		process(Object(options), result);
	});
	return result;
};

},{}],26:[function(require,module,exports){
'use strict';

module.exports = require('./is-implemented')()
	? Object.setPrototypeOf
	: require('./shim');

},{"./is-implemented":27,"./shim":28}],27:[function(require,module,exports){
'use strict';

var create = Object.create, getPrototypeOf = Object.getPrototypeOf
  , x = {};

module.exports = function (/*customCreate*/) {
	var setPrototypeOf = Object.setPrototypeOf
	  , customCreate = arguments[0] || create;
	if (typeof setPrototypeOf !== 'function') return false;
	return getPrototypeOf(setPrototypeOf(customCreate(null), x)) === x;
};

},{}],28:[function(require,module,exports){
// Big thanks to @WebReflection for sorting this out
// https://gist.github.com/WebReflection/5593554

'use strict';

var isObject      = require('../is-object')
  , value         = require('../valid-value')

  , isPrototypeOf = Object.prototype.isPrototypeOf
  , defineProperty = Object.defineProperty
  , nullDesc = { configurable: true, enumerable: false, writable: true,
		value: undefined }
  , validate;

validate = function (obj, prototype) {
	value(obj);
	if ((prototype === null) || isObject(prototype)) return obj;
	throw new TypeError('Prototype must be null or an object');
};

module.exports = (function (status) {
	var fn, set;
	if (!status) return null;
	if (status.level === 2) {
		if (status.set) {
			set = status.set;
			fn = function (obj, prototype) {
				set.call(validate(obj, prototype), prototype);
				return obj;
			};
		} else {
			fn = function (obj, prototype) {
				validate(obj, prototype).__proto__ = prototype;
				return obj;
			};
		}
	} else {
		fn = function self(obj, prototype) {
			var isNullBase;
			validate(obj, prototype);
			isNullBase = isPrototypeOf.call(self.nullPolyfill, obj);
			if (isNullBase) delete self.nullPolyfill.__proto__;
			if (prototype === null) prototype = self.nullPolyfill;
			obj.__proto__ = prototype;
			if (isNullBase) defineProperty(self.nullPolyfill, '__proto__', nullDesc);
			return obj;
		};
	}
	return Object.defineProperty(fn, 'level', { configurable: false,
		enumerable: false, writable: false, value: status.level });
}((function () {
	var x = Object.create(null), y = {}, set
	  , desc = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__');

	if (desc) {
		try {
			set = desc.set; // Opera crashes at this point
			set.call(x, y);
		} catch (ignore) { }
		if (Object.getPrototypeOf(x) === y) return { set: set, level: 2 };
	}

	x.__proto__ = y;
	if (Object.getPrototypeOf(x) === y) return { level: 2 };

	x = {};
	x.__proto__ = y;
	if (Object.getPrototypeOf(x) === y) return { level: 1 };

	return false;
}())));

require('../create');

},{"../create":17,"../is-object":20,"../valid-value":30}],29:[function(require,module,exports){
'use strict';

module.exports = function (fn) {
	if (typeof fn !== 'function') throw new TypeError(fn + " is not a function");
	return fn;
};

},{}],30:[function(require,module,exports){
'use strict';

module.exports = function (value) {
	if (value == null) throw new TypeError("Cannot use null or undefined");
	return value;
};

},{}],31:[function(require,module,exports){
'use strict';

module.exports = require('./is-implemented')()
	? String.prototype.contains
	: require('./shim');

},{"./is-implemented":32,"./shim":33}],32:[function(require,module,exports){
'use strict';

var str = 'razdwatrzy';

module.exports = function () {
	if (typeof str.contains !== 'function') return false;
	return ((str.contains('dwa') === true) && (str.contains('foo') === false));
};

},{}],33:[function(require,module,exports){
'use strict';

var indexOf = String.prototype.indexOf;

module.exports = function (searchString/*, position*/) {
	return indexOf.call(this, searchString, arguments[1]) > -1;
};

},{}],34:[function(require,module,exports){
'use strict';

var toString = Object.prototype.toString

  , id = toString.call('');

module.exports = function (x) {
	return (typeof x === 'string') || (x && (typeof x === 'object') &&
		((x instanceof String) || (toString.call(x) === id))) || false;
};

},{}],35:[function(require,module,exports){
'use strict';

var setPrototypeOf = require('es5-ext/object/set-prototype-of')
  , contains       = require('es5-ext/string/#/contains')
  , d              = require('d')
  , Iterator       = require('./')

  , defineProperty = Object.defineProperty
  , ArrayIterator;

ArrayIterator = module.exports = function (arr, kind) {
	if (!(this instanceof ArrayIterator)) return new ArrayIterator(arr, kind);
	Iterator.call(this, arr);
	if (!kind) kind = 'value';
	else if (contains.call(kind, 'key+value')) kind = 'key+value';
	else if (contains.call(kind, 'key')) kind = 'key';
	else kind = 'value';
	defineProperty(this, '__kind__', d('', kind));
};
if (setPrototypeOf) setPrototypeOf(ArrayIterator, Iterator);

ArrayIterator.prototype = Object.create(Iterator.prototype, {
	constructor: d(ArrayIterator),
	_resolve: d(function (i) {
		if (this.__kind__ === 'value') return this.__list__[i];
		if (this.__kind__ === 'key+value') return [i, this.__list__[i]];
		return i;
	}),
	toString: d(function () { return '[object Array Iterator]'; })
});

},{"./":38,"d":2,"es5-ext/object/set-prototype-of":26,"es5-ext/string/#/contains":31}],36:[function(require,module,exports){
'use strict';

var isArguments = require('es5-ext/function/is-arguments')
  , callable    = require('es5-ext/object/valid-callable')
  , isString    = require('es5-ext/string/is-string')
  , get         = require('./get')

  , isArray = Array.isArray, call = Function.prototype.call
  , some = Array.prototype.some;

module.exports = function (iterable, cb/*, thisArg*/) {
	var mode, thisArg = arguments[2], result, doBreak, broken, i, l, char, code;
	if (isArray(iterable) || isArguments(iterable)) mode = 'array';
	else if (isString(iterable)) mode = 'string';
	else iterable = get(iterable);

	callable(cb);
	doBreak = function () { broken = true; };
	if (mode === 'array') {
		some.call(iterable, function (value) {
			call.call(cb, thisArg, value, doBreak);
			if (broken) return true;
		});
		return;
	}
	if (mode === 'string') {
		l = iterable.length;
		for (i = 0; i < l; ++i) {
			char = iterable[i];
			if ((i + 1) < l) {
				code = char.charCodeAt(0);
				if ((code >= 0xD800) && (code <= 0xDBFF)) char += iterable[++i];
			}
			call.call(cb, thisArg, char, doBreak);
			if (broken) break;
		}
		return;
	}
	result = iterable.next();

	while (!result.done) {
		call.call(cb, thisArg, result.value, doBreak);
		if (broken) return;
		result = iterable.next();
	}
};

},{"./get":37,"es5-ext/function/is-arguments":5,"es5-ext/object/valid-callable":29,"es5-ext/string/is-string":34}],37:[function(require,module,exports){
'use strict';

var isArguments    = require('es5-ext/function/is-arguments')
  , isString       = require('es5-ext/string/is-string')
  , ArrayIterator  = require('./array')
  , StringIterator = require('./string')
  , iterable       = require('./valid-iterable')
  , iteratorSymbol = require('es6-symbol').iterator;

module.exports = function (obj) {
	if (typeof iterable(obj)[iteratorSymbol] === 'function') return obj[iteratorSymbol]();
	if (isArguments(obj)) return new ArrayIterator(obj);
	if (isString(obj)) return new StringIterator(obj);
	return new ArrayIterator(obj);
};

},{"./array":35,"./string":40,"./valid-iterable":41,"es5-ext/function/is-arguments":5,"es5-ext/string/is-string":34,"es6-symbol":47}],38:[function(require,module,exports){
'use strict';

var clear    = require('es5-ext/array/#/clear')
  , assign   = require('es5-ext/object/assign')
  , callable = require('es5-ext/object/valid-callable')
  , value    = require('es5-ext/object/valid-value')
  , d        = require('d')
  , autoBind = require('d/auto-bind')
  , Symbol   = require('es6-symbol')

  , defineProperty = Object.defineProperty
  , defineProperties = Object.defineProperties
  , Iterator;

module.exports = Iterator = function (list, context) {
	if (!(this instanceof Iterator)) return new Iterator(list, context);
	defineProperties(this, {
		__list__: d('w', value(list)),
		__context__: d('w', context),
		__nextIndex__: d('w', 0)
	});
	if (!context) return;
	callable(context.on);
	context.on('_add', this._onAdd);
	context.on('_delete', this._onDelete);
	context.on('_clear', this._onClear);
};

defineProperties(Iterator.prototype, assign({
	constructor: d(Iterator),
	_next: d(function () {
		var i;
		if (!this.__list__) return;
		if (this.__redo__) {
			i = this.__redo__.shift();
			if (i !== undefined) return i;
		}
		if (this.__nextIndex__ < this.__list__.length) return this.__nextIndex__++;
		this._unBind();
	}),
	next: d(function () { return this._createResult(this._next()); }),
	_createResult: d(function (i) {
		if (i === undefined) return { done: true, value: undefined };
		return { done: false, value: this._resolve(i) };
	}),
	_resolve: d(function (i) { return this.__list__[i]; }),
	_unBind: d(function () {
		this.__list__ = null;
		delete this.__redo__;
		if (!this.__context__) return;
		this.__context__.off('_add', this._onAdd);
		this.__context__.off('_delete', this._onDelete);
		this.__context__.off('_clear', this._onClear);
		this.__context__ = null;
	}),
	toString: d(function () { return '[object Iterator]'; })
}, autoBind({
	_onAdd: d(function (index) {
		if (index >= this.__nextIndex__) return;
		++this.__nextIndex__;
		if (!this.__redo__) {
			defineProperty(this, '__redo__', d('c', [index]));
			return;
		}
		this.__redo__.forEach(function (redo, i) {
			if (redo >= index) this.__redo__[i] = ++redo;
		}, this);
		this.__redo__.push(index);
	}),
	_onDelete: d(function (index) {
		var i;
		if (index >= this.__nextIndex__) return;
		--this.__nextIndex__;
		if (!this.__redo__) return;
		i = this.__redo__.indexOf(index);
		if (i !== -1) this.__redo__.splice(i, 1);
		this.__redo__.forEach(function (redo, i) {
			if (redo > index) this.__redo__[i] = --redo;
		}, this);
	}),
	_onClear: d(function () {
		if (this.__redo__) clear.call(this.__redo__);
		this.__nextIndex__ = 0;
	})
})));

defineProperty(Iterator.prototype, Symbol.iterator, d(function () {
	return this;
}));
defineProperty(Iterator.prototype, Symbol.toStringTag, d('', 'Iterator'));

},{"d":2,"d/auto-bind":1,"es5-ext/array/#/clear":3,"es5-ext/object/assign":13,"es5-ext/object/valid-callable":29,"es5-ext/object/valid-value":30,"es6-symbol":47}],39:[function(require,module,exports){
'use strict';

var isArguments    = require('es5-ext/function/is-arguments')
  , isString       = require('es5-ext/string/is-string')
  , iteratorSymbol = require('es6-symbol').iterator

  , isArray = Array.isArray;

module.exports = function (value) {
	if (value == null) return false;
	if (isArray(value)) return true;
	if (isString(value)) return true;
	if (isArguments(value)) return true;
	return (typeof value[iteratorSymbol] === 'function');
};

},{"es5-ext/function/is-arguments":5,"es5-ext/string/is-string":34,"es6-symbol":47}],40:[function(require,module,exports){
// Thanks @mathiasbynens
// http://mathiasbynens.be/notes/javascript-unicode#iterating-over-symbols

'use strict';

var setPrototypeOf = require('es5-ext/object/set-prototype-of')
  , d              = require('d')
  , Iterator       = require('./')

  , defineProperty = Object.defineProperty
  , StringIterator;

StringIterator = module.exports = function (str) {
	if (!(this instanceof StringIterator)) return new StringIterator(str);
	str = String(str);
	Iterator.call(this, str);
	defineProperty(this, '__length__', d('', str.length));

};
if (setPrototypeOf) setPrototypeOf(StringIterator, Iterator);

StringIterator.prototype = Object.create(Iterator.prototype, {
	constructor: d(StringIterator),
	_next: d(function () {
		if (!this.__list__) return;
		if (this.__nextIndex__ < this.__length__) return this.__nextIndex__++;
		this._unBind();
	}),
	_resolve: d(function (i) {
		var char = this.__list__[i], code;
		if (this.__nextIndex__ === this.__length__) return char;
		code = char.charCodeAt(0);
		if ((code >= 0xD800) && (code <= 0xDBFF)) return char + this.__list__[this.__nextIndex__++];
		return char;
	}),
	toString: d(function () { return '[object String Iterator]'; })
});

},{"./":38,"d":2,"es5-ext/object/set-prototype-of":26}],41:[function(require,module,exports){
'use strict';

var isIterable = require('./is-iterable');

module.exports = function (value) {
	if (!isIterable(value)) throw new TypeError(value + " is not iterable");
	return value;
};

},{"./is-iterable":39}],42:[function(require,module,exports){
'use strict';

if (!require('./is-implemented')()) {
	Object.defineProperty(require('es5-ext/global'), 'Set',
		{ value: require('./polyfill'), configurable: true, enumerable: false,
			writable: true });
}

},{"./is-implemented":43,"./polyfill":46,"es5-ext/global":6}],43:[function(require,module,exports){
'use strict';

module.exports = function () {
	var set, iterator, result;
	if (typeof Set !== 'function') return false;
	set = new Set(['raz', 'dwa', 'trzy']);
	if (String(set) !== '[object Set]') return false;
	if (set.size !== 3) return false;
	if (typeof set.add !== 'function') return false;
	if (typeof set.clear !== 'function') return false;
	if (typeof set.delete !== 'function') return false;
	if (typeof set.entries !== 'function') return false;
	if (typeof set.forEach !== 'function') return false;
	if (typeof set.has !== 'function') return false;
	if (typeof set.keys !== 'function') return false;
	if (typeof set.values !== 'function') return false;

	iterator = set.values();
	result = iterator.next();
	if (result.done !== false) return false;
	if (result.value !== 'raz') return false;

	return true;
};

},{}],44:[function(require,module,exports){
// Exports true if environment provides native `Set` implementation,
// whatever that is.

'use strict';

module.exports = (function () {
	if (typeof Set === 'undefined') return false;
	return (Object.prototype.toString.call(Set.prototype) === '[object Set]');
}());

},{}],45:[function(require,module,exports){
'use strict';

var setPrototypeOf    = require('es5-ext/object/set-prototype-of')
  , contains          = require('es5-ext/string/#/contains')
  , d                 = require('d')
  , Iterator          = require('es6-iterator')
  , toStringTagSymbol = require('es6-symbol').toStringTag

  , defineProperty = Object.defineProperty
  , SetIterator;

SetIterator = module.exports = function (set, kind) {
	if (!(this instanceof SetIterator)) return new SetIterator(set, kind);
	Iterator.call(this, set.__setData__, set);
	if (!kind) kind = 'value';
	else if (contains.call(kind, 'key+value')) kind = 'key+value';
	else kind = 'value';
	defineProperty(this, '__kind__', d('', kind));
};
if (setPrototypeOf) setPrototypeOf(SetIterator, Iterator);

SetIterator.prototype = Object.create(Iterator.prototype, {
	constructor: d(SetIterator),
	_resolve: d(function (i) {
		if (this.__kind__ === 'value') return this.__list__[i];
		return [this.__list__[i], this.__list__[i]];
	}),
	toString: d(function () { return '[object Set Iterator]'; })
});
defineProperty(SetIterator.prototype, toStringTagSymbol, d('c', 'Set Iterator'));

},{"d":2,"es5-ext/object/set-prototype-of":26,"es5-ext/string/#/contains":31,"es6-iterator":38,"es6-symbol":47}],46:[function(require,module,exports){
'use strict';

var clear          = require('es5-ext/array/#/clear')
  , eIndexOf       = require('es5-ext/array/#/e-index-of')
  , setPrototypeOf = require('es5-ext/object/set-prototype-of')
  , callable       = require('es5-ext/object/valid-callable')
  , d              = require('d')
  , ee             = require('event-emitter')
  , Symbol         = require('es6-symbol')
  , iterator       = require('es6-iterator/valid-iterable')
  , forOf          = require('es6-iterator/for-of')
  , Iterator       = require('./lib/iterator')
  , isNative       = require('./is-native-implemented')

  , call = Function.prototype.call
  , defineProperty = Object.defineProperty, getPrototypeOf = Object.getPrototypeOf
  , SetPoly, getValues, NativeSet;

if (isNative) NativeSet = Set;

module.exports = SetPoly = function Set(/*iterable*/) {
	var iterable = arguments[0], self;
	if (!(this instanceof SetPoly)) throw new TypeError('Constructor requires \'new\'');
	if (isNative && setPrototypeOf) self = setPrototypeOf(new NativeSet(), getPrototypeOf(this));
	else self = this;
	if (iterable != null) iterator(iterable);
	defineProperty(self, '__setData__', d('c', []));
	if (!iterable) return self;
	forOf(iterable, function (value) {
		if (eIndexOf.call(this, value) !== -1) return;
		this.push(value);
	}, self.__setData__);
	return self;
};

if (isNative) {
	if (setPrototypeOf) setPrototypeOf(SetPoly, NativeSet);
	SetPoly.prototype = Object.create(NativeSet.prototype, { constructor: d(SetPoly) });
}

ee(Object.defineProperties(SetPoly.prototype, {
	add: d(function (value) {
		if (this.has(value)) return this;
		this.emit('_add', this.__setData__.push(value) - 1, value);
		return this;
	}),
	clear: d(function () {
		if (!this.__setData__.length) return;
		clear.call(this.__setData__);
		this.emit('_clear');
	}),
	delete: d(function (value) {
		var index = eIndexOf.call(this.__setData__, value);
		if (index === -1) return false;
		this.__setData__.splice(index, 1);
		this.emit('_delete', index, value);
		return true;
	}),
	entries: d(function () { return new Iterator(this, 'key+value'); }),
	forEach: d(function (cb/*, thisArg*/) {
		var thisArg = arguments[1], iterator, result, value;
		callable(cb);
		iterator = this.values();
		result = iterator._next();
		while (result !== undefined) {
			value = iterator._resolve(result);
			call.call(cb, thisArg, value, value, this);
			result = iterator._next();
		}
	}),
	has: d(function (value) {
		return (eIndexOf.call(this.__setData__, value) !== -1);
	}),
	keys: d(getValues = function () { return this.values(); }),
	size: d.gs(function () { return this.__setData__.length; }),
	values: d(function () { return new Iterator(this); }),
	toString: d(function () { return '[object Set]'; })
}));
defineProperty(SetPoly.prototype, Symbol.iterator, d(getValues));
defineProperty(SetPoly.prototype, Symbol.toStringTag, d('c', 'Set'));

},{"./is-native-implemented":44,"./lib/iterator":45,"d":2,"es5-ext/array/#/clear":3,"es5-ext/array/#/e-index-of":4,"es5-ext/object/set-prototype-of":26,"es5-ext/object/valid-callable":29,"es6-iterator/for-of":36,"es6-iterator/valid-iterable":41,"es6-symbol":47,"event-emitter":52}],47:[function(require,module,exports){
'use strict';

module.exports = require('./is-implemented')() ? Symbol : require('./polyfill');

},{"./is-implemented":48,"./polyfill":50}],48:[function(require,module,exports){
'use strict';

var validTypes = { object: true, symbol: true };

module.exports = function () {
	var symbol;
	if (typeof Symbol !== 'function') return false;
	symbol = Symbol('test symbol');
	try { String(symbol); } catch (e) { return false; }

	// Return 'true' also for polyfills
	if (!validTypes[typeof Symbol.iterator]) return false;
	if (!validTypes[typeof Symbol.toPrimitive]) return false;
	if (!validTypes[typeof Symbol.toStringTag]) return false;

	return true;
};

},{}],49:[function(require,module,exports){
'use strict';

module.exports = function (x) {
	if (!x) return false;
	if (typeof x === 'symbol') return true;
	if (!x.constructor) return false;
	if (x.constructor.name !== 'Symbol') return false;
	return (x[x.constructor.toStringTag] === 'Symbol');
};

},{}],50:[function(require,module,exports){
// ES2015 Symbol polyfill for environments that do not (or partially) support it

'use strict';

var d              = require('d')
  , validateSymbol = require('./validate-symbol')

  , create = Object.create, defineProperties = Object.defineProperties
  , defineProperty = Object.defineProperty, objPrototype = Object.prototype
  , NativeSymbol, SymbolPolyfill, HiddenSymbol, globalSymbols = create(null)
  , isNativeSafe;

if (typeof Symbol === 'function') {
	NativeSymbol = Symbol;
	try {
		String(NativeSymbol());
		isNativeSafe = true;
	} catch (ignore) {}
}

var generateName = (function () {
	var created = create(null);
	return function (desc) {
		var postfix = 0, name, ie11BugWorkaround;
		while (created[desc + (postfix || '')]) ++postfix;
		desc += (postfix || '');
		created[desc] = true;
		name = '@@' + desc;
		defineProperty(objPrototype, name, d.gs(null, function (value) {
			// For IE11 issue see:
			// https://connect.microsoft.com/IE/feedbackdetail/view/1928508/
			//    ie11-broken-getters-on-dom-objects
			// https://github.com/medikoo/es6-symbol/issues/12
			if (ie11BugWorkaround) return;
			ie11BugWorkaround = true;
			defineProperty(this, name, d(value));
			ie11BugWorkaround = false;
		}));
		return name;
	};
}());

// Internal constructor (not one exposed) for creating Symbol instances.
// This one is used to ensure that `someSymbol instanceof Symbol` always return false
HiddenSymbol = function Symbol(description) {
	if (this instanceof HiddenSymbol) throw new TypeError('Symbol is not a constructor');
	return SymbolPolyfill(description);
};

// Exposed `Symbol` constructor
// (returns instances of HiddenSymbol)
module.exports = SymbolPolyfill = function Symbol(description) {
	var symbol;
	if (this instanceof Symbol) throw new TypeError('Symbol is not a constructor');
	if (isNativeSafe) return NativeSymbol(description);
	symbol = create(HiddenSymbol.prototype);
	description = (description === undefined ? '' : String(description));
	return defineProperties(symbol, {
		__description__: d('', description),
		__name__: d('', generateName(description))
	});
};
defineProperties(SymbolPolyfill, {
	for: d(function (key) {
		if (globalSymbols[key]) return globalSymbols[key];
		return (globalSymbols[key] = SymbolPolyfill(String(key)));
	}),
	keyFor: d(function (s) {
		var key;
		validateSymbol(s);
		for (key in globalSymbols) if (globalSymbols[key] === s) return key;
	}),

	// To ensure proper interoperability with other native functions (e.g. Array.from)
	// fallback to eventual native implementation of given symbol
	hasInstance: d('', (NativeSymbol && NativeSymbol.hasInstance) || SymbolPolyfill('hasInstance')),
	isConcatSpreadable: d('', (NativeSymbol && NativeSymbol.isConcatSpreadable) ||
		SymbolPolyfill('isConcatSpreadable')),
	iterator: d('', (NativeSymbol && NativeSymbol.iterator) || SymbolPolyfill('iterator')),
	match: d('', (NativeSymbol && NativeSymbol.match) || SymbolPolyfill('match')),
	replace: d('', (NativeSymbol && NativeSymbol.replace) || SymbolPolyfill('replace')),
	search: d('', (NativeSymbol && NativeSymbol.search) || SymbolPolyfill('search')),
	species: d('', (NativeSymbol && NativeSymbol.species) || SymbolPolyfill('species')),
	split: d('', (NativeSymbol && NativeSymbol.split) || SymbolPolyfill('split')),
	toPrimitive: d('', (NativeSymbol && NativeSymbol.toPrimitive) || SymbolPolyfill('toPrimitive')),
	toStringTag: d('', (NativeSymbol && NativeSymbol.toStringTag) || SymbolPolyfill('toStringTag')),
	unscopables: d('', (NativeSymbol && NativeSymbol.unscopables) || SymbolPolyfill('unscopables'))
});

// Internal tweaks for real symbol producer
defineProperties(HiddenSymbol.prototype, {
	constructor: d(SymbolPolyfill),
	toString: d('', function () { return this.__name__; })
});

// Proper implementation of methods exposed on Symbol.prototype
// They won't be accessible on produced symbol instances as they derive from HiddenSymbol.prototype
defineProperties(SymbolPolyfill.prototype, {
	toString: d(function () { return 'Symbol (' + validateSymbol(this).__description__ + ')'; }),
	valueOf: d(function () { return validateSymbol(this); })
});
defineProperty(SymbolPolyfill.prototype, SymbolPolyfill.toPrimitive, d('', function () {
	var symbol = validateSymbol(this);
	if (typeof symbol === 'symbol') return symbol;
	return symbol.toString();
}));
defineProperty(SymbolPolyfill.prototype, SymbolPolyfill.toStringTag, d('c', 'Symbol'));

// Proper implementaton of toPrimitive and toStringTag for returned symbol instances
defineProperty(HiddenSymbol.prototype, SymbolPolyfill.toStringTag,
	d('c', SymbolPolyfill.prototype[SymbolPolyfill.toStringTag]));

// Note: It's important to define `toPrimitive` as last one, as some implementations
// implement `toPrimitive` natively without implementing `toStringTag` (or other specified symbols)
// And that may invoke error in definition flow:
// See: https://github.com/medikoo/es6-symbol/issues/13#issuecomment-164146149
defineProperty(HiddenSymbol.prototype, SymbolPolyfill.toPrimitive,
	d('c', SymbolPolyfill.prototype[SymbolPolyfill.toPrimitive]));

},{"./validate-symbol":51,"d":2}],51:[function(require,module,exports){
'use strict';

var isSymbol = require('./is-symbol');

module.exports = function (value) {
	if (!isSymbol(value)) throw new TypeError(value + " is not a symbol");
	return value;
};

},{"./is-symbol":49}],52:[function(require,module,exports){
'use strict';

var d        = require('d')
  , callable = require('es5-ext/object/valid-callable')

  , apply = Function.prototype.apply, call = Function.prototype.call
  , create = Object.create, defineProperty = Object.defineProperty
  , defineProperties = Object.defineProperties
  , hasOwnProperty = Object.prototype.hasOwnProperty
  , descriptor = { configurable: true, enumerable: false, writable: true }

  , on, once, off, emit, methods, descriptors, base;

on = function (type, listener) {
	var data;

	callable(listener);

	if (!hasOwnProperty.call(this, '__ee__')) {
		data = descriptor.value = create(null);
		defineProperty(this, '__ee__', descriptor);
		descriptor.value = null;
	} else {
		data = this.__ee__;
	}
	if (!data[type]) data[type] = listener;
	else if (typeof data[type] === 'object') data[type].push(listener);
	else data[type] = [data[type], listener];

	return this;
};

once = function (type, listener) {
	var once, self;

	callable(listener);
	self = this;
	on.call(this, type, once = function () {
		off.call(self, type, once);
		apply.call(listener, this, arguments);
	});

	once.__eeOnceListener__ = listener;
	return this;
};

off = function (type, listener) {
	var data, listeners, candidate, i;

	callable(listener);

	if (!hasOwnProperty.call(this, '__ee__')) return this;
	data = this.__ee__;
	if (!data[type]) return this;
	listeners = data[type];

	if (typeof listeners === 'object') {
		for (i = 0; (candidate = listeners[i]); ++i) {
			if ((candidate === listener) ||
					(candidate.__eeOnceListener__ === listener)) {
				if (listeners.length === 2) data[type] = listeners[i ? 0 : 1];
				else listeners.splice(i, 1);
			}
		}
	} else {
		if ((listeners === listener) ||
				(listeners.__eeOnceListener__ === listener)) {
			delete data[type];
		}
	}

	return this;
};

emit = function (type) {
	var i, l, listener, listeners, args;

	if (!hasOwnProperty.call(this, '__ee__')) return;
	listeners = this.__ee__[type];
	if (!listeners) return;

	if (typeof listeners === 'object') {
		l = arguments.length;
		args = new Array(l - 1);
		for (i = 1; i < l; ++i) args[i - 1] = arguments[i];

		listeners = listeners.slice();
		for (i = 0; (listener = listeners[i]); ++i) {
			apply.call(listener, this, args);
		}
	} else {
		switch (arguments.length) {
		case 1:
			call.call(listeners, this);
			break;
		case 2:
			call.call(listeners, this, arguments[1]);
			break;
		case 3:
			call.call(listeners, this, arguments[1], arguments[2]);
			break;
		default:
			l = arguments.length;
			args = new Array(l - 1);
			for (i = 1; i < l; ++i) {
				args[i - 1] = arguments[i];
			}
			apply.call(listeners, this, args);
		}
	}
};

methods = {
	on: on,
	once: once,
	off: off,
	emit: emit
};

descriptors = {
	on: d(on),
	once: d(once),
	off: d(off),
	emit: d(emit)
};

base = defineProperties({}, descriptors);

module.exports = exports = function (o) {
	return (o == null) ? create(base) : defineProperties(Object(o), descriptors);
};
exports.methods = methods;

},{"d":2,"es5-ext/object/valid-callable":29}],53:[function(require,module,exports){
/*!
 * jQuery UI :data 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: :data Selector
//>>group: Core
//>>description: Selects elements which have data stored under the specified key.
//>>docs: http://api.jqueryui.com/data-selector/

( function( factory ) {
	if ( typeof define === "function" && define.amd ) {

		// AMD. Register as an anonymous module.
		define( [ "jquery", "./version" ], factory );
	} else {

		// Browser globals
		factory( jQuery );
	}
} ( function( $ ) {
return $.extend( $.expr[ ":" ], {
	data: $.expr.createPseudo ?
		$.expr.createPseudo( function( dataName ) {
			return function( elem ) {
				return !!$.data( elem, dataName );
			};
		} ) :

		// Support: jQuery <1.8
		function( elem, i, match ) {
			return !!$.data( elem, match[ 3 ] );
		}
} );
} ) );

},{}],54:[function(require,module,exports){
/*!
 * jQuery UI Keycode 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Keycode
//>>group: Core
//>>description: Provide keycodes as keynames
//>>docs: http://api.jqueryui.com/jQuery.ui.keyCode/

( function( factory ) {
	if ( typeof define === "function" && define.amd ) {

		// AMD. Register as an anonymous module.
		define( [ "jquery", "./version" ], factory );
	} else {

		// Browser globals
		factory( jQuery );
	}
} ( function( $ ) {
return $.ui.keyCode = {
	BACKSPACE: 8,
	COMMA: 188,
	DELETE: 46,
	DOWN: 40,
	END: 35,
	ENTER: 13,
	ESCAPE: 27,
	HOME: 36,
	LEFT: 37,
	PAGE_DOWN: 34,
	PAGE_UP: 33,
	PERIOD: 190,
	RIGHT: 39,
	SPACE: 32,
	TAB: 9,
	UP: 38
};

} ) );

},{}],55:[function(require,module,exports){
/*!
 * jQuery UI Position 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */

//>>label: Position
//>>group: Core
//>>description: Positions elements relative to other elements.
//>>docs: http://api.jqueryui.com/position/
//>>demos: http://jqueryui.com/position/

( function( factory ) {
	if ( typeof define === "function" && define.amd ) {

		// AMD. Register as an anonymous module.
		define( [ "jquery", "./version" ], factory );
	} else {

		// Browser globals
		factory( jQuery );
	}
}( function( $ ) {
( function() {
var cachedScrollbarWidth,
	max = Math.max,
	abs = Math.abs,
	rhorizontal = /left|center|right/,
	rvertical = /top|center|bottom/,
	roffset = /[\+\-]\d+(\.[\d]+)?%?/,
	rposition = /^\w+/,
	rpercent = /%$/,
	_position = $.fn.position;

function getOffsets( offsets, width, height ) {
	return [
		parseFloat( offsets[ 0 ] ) * ( rpercent.test( offsets[ 0 ] ) ? width / 100 : 1 ),
		parseFloat( offsets[ 1 ] ) * ( rpercent.test( offsets[ 1 ] ) ? height / 100 : 1 )
	];
}

function parseCss( element, property ) {
	return parseInt( $.css( element, property ), 10 ) || 0;
}

function getDimensions( elem ) {
	var raw = elem[ 0 ];
	if ( raw.nodeType === 9 ) {
		return {
			width: elem.width(),
			height: elem.height(),
			offset: { top: 0, left: 0 }
		};
	}
	if ( $.isWindow( raw ) ) {
		return {
			width: elem.width(),
			height: elem.height(),
			offset: { top: elem.scrollTop(), left: elem.scrollLeft() }
		};
	}
	if ( raw.preventDefault ) {
		return {
			width: 0,
			height: 0,
			offset: { top: raw.pageY, left: raw.pageX }
		};
	}
	return {
		width: elem.outerWidth(),
		height: elem.outerHeight(),
		offset: elem.offset()
	};
}

$.position = {
	scrollbarWidth: function() {
		if ( cachedScrollbarWidth !== undefined ) {
			return cachedScrollbarWidth;
		}
		var w1, w2,
			div = $( "<div " +
				"style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'>" +
				"<div style='height:100px;width:auto;'></div></div>" ),
			innerDiv = div.children()[ 0 ];

		$( "body" ).append( div );
		w1 = innerDiv.offsetWidth;
		div.css( "overflow", "scroll" );

		w2 = innerDiv.offsetWidth;

		if ( w1 === w2 ) {
			w2 = div[ 0 ].clientWidth;
		}

		div.remove();

		return ( cachedScrollbarWidth = w1 - w2 );
	},
	getScrollInfo: function( within ) {
		var overflowX = within.isWindow || within.isDocument ? "" :
				within.element.css( "overflow-x" ),
			overflowY = within.isWindow || within.isDocument ? "" :
				within.element.css( "overflow-y" ),
			hasOverflowX = overflowX === "scroll" ||
				( overflowX === "auto" && within.width < within.element[ 0 ].scrollWidth ),
			hasOverflowY = overflowY === "scroll" ||
				( overflowY === "auto" && within.height < within.element[ 0 ].scrollHeight );
		return {
			width: hasOverflowY ? $.position.scrollbarWidth() : 0,
			height: hasOverflowX ? $.position.scrollbarWidth() : 0
		};
	},
	getWithinInfo: function( element ) {
		var withinElement = $( element || window ),
			isWindow = $.isWindow( withinElement[ 0 ] ),
			isDocument = !!withinElement[ 0 ] && withinElement[ 0 ].nodeType === 9,
			hasOffset = !isWindow && !isDocument;
		return {
			element: withinElement,
			isWindow: isWindow,
			isDocument: isDocument,
			offset: hasOffset ? $( element ).offset() : { left: 0, top: 0 },
			scrollLeft: withinElement.scrollLeft(),
			scrollTop: withinElement.scrollTop(),
			width: withinElement.outerWidth(),
			height: withinElement.outerHeight()
		};
	}
};

$.fn.position = function( options ) {
	if ( !options || !options.of ) {
		return _position.apply( this, arguments );
	}

	// Make a copy, we don't want to modify arguments
	options = $.extend( {}, options );

	var atOffset, targetWidth, targetHeight, targetOffset, basePosition, dimensions,
		target = $( options.of ),
		within = $.position.getWithinInfo( options.within ),
		scrollInfo = $.position.getScrollInfo( within ),
		collision = ( options.collision || "flip" ).split( " " ),
		offsets = {};

	dimensions = getDimensions( target );
	if ( target[ 0 ].preventDefault ) {

		// Force left top to allow flipping
		options.at = "left top";
	}
	targetWidth = dimensions.width;
	targetHeight = dimensions.height;
	targetOffset = dimensions.offset;

	// Clone to reuse original targetOffset later
	basePosition = $.extend( {}, targetOffset );

	// Force my and at to have valid horizontal and vertical positions
	// if a value is missing or invalid, it will be converted to center
	$.each( [ "my", "at" ], function() {
		var pos = ( options[ this ] || "" ).split( " " ),
			horizontalOffset,
			verticalOffset;

		if ( pos.length === 1 ) {
			pos = rhorizontal.test( pos[ 0 ] ) ?
				pos.concat( [ "center" ] ) :
				rvertical.test( pos[ 0 ] ) ?
					[ "center" ].concat( pos ) :
					[ "center", "center" ];
		}
		pos[ 0 ] = rhorizontal.test( pos[ 0 ] ) ? pos[ 0 ] : "center";
		pos[ 1 ] = rvertical.test( pos[ 1 ] ) ? pos[ 1 ] : "center";

		// Calculate offsets
		horizontalOffset = roffset.exec( pos[ 0 ] );
		verticalOffset = roffset.exec( pos[ 1 ] );
		offsets[ this ] = [
			horizontalOffset ? horizontalOffset[ 0 ] : 0,
			verticalOffset ? verticalOffset[ 0 ] : 0
		];

		// Reduce to just the positions without the offsets
		options[ this ] = [
			rposition.exec( pos[ 0 ] )[ 0 ],
			rposition.exec( pos[ 1 ] )[ 0 ]
		];
	} );

	// Normalize collision option
	if ( collision.length === 1 ) {
		collision[ 1 ] = collision[ 0 ];
	}

	if ( options.at[ 0 ] === "right" ) {
		basePosition.left += targetWidth;
	} else if ( options.at[ 0 ] === "center" ) {
		basePosition.left += targetWidth / 2;
	}

	if ( options.at[ 1 ] === "bottom" ) {
		basePosition.top += targetHeight;
	} else if ( options.at[ 1 ] === "center" ) {
		basePosition.top += targetHeight / 2;
	}

	atOffset = getOffsets( offsets.at, targetWidth, targetHeight );
	basePosition.left += atOffset[ 0 ];
	basePosition.top += atOffset[ 1 ];

	return this.each( function() {
		var collisionPosition, using,
			elem = $( this ),
			elemWidth = elem.outerWidth(),
			elemHeight = elem.outerHeight(),
			marginLeft = parseCss( this, "marginLeft" ),
			marginTop = parseCss( this, "marginTop" ),
			collisionWidth = elemWidth + marginLeft + parseCss( this, "marginRight" ) +
				scrollInfo.width,
			collisionHeight = elemHeight + marginTop + parseCss( this, "marginBottom" ) +
				scrollInfo.height,
			position = $.extend( {}, basePosition ),
			myOffset = getOffsets( offsets.my, elem.outerWidth(), elem.outerHeight() );

		if ( options.my[ 0 ] === "right" ) {
			position.left -= elemWidth;
		} else if ( options.my[ 0 ] === "center" ) {
			position.left -= elemWidth / 2;
		}

		if ( options.my[ 1 ] === "bottom" ) {
			position.top -= elemHeight;
		} else if ( options.my[ 1 ] === "center" ) {
			position.top -= elemHeight / 2;
		}

		position.left += myOffset[ 0 ];
		position.top += myOffset[ 1 ];

		collisionPosition = {
			marginLeft: marginLeft,
			marginTop: marginTop
		};

		$.each( [ "left", "top" ], function( i, dir ) {
			if ( $.ui.position[ collision[ i ] ] ) {
				$.ui.position[ collision[ i ] ][ dir ]( position, {
					targetWidth: targetWidth,
					targetHeight: targetHeight,
					elemWidth: elemWidth,
					elemHeight: elemHeight,
					collisionPosition: collisionPosition,
					collisionWidth: collisionWidth,
					collisionHeight: collisionHeight,
					offset: [ atOffset[ 0 ] + myOffset[ 0 ], atOffset [ 1 ] + myOffset[ 1 ] ],
					my: options.my,
					at: options.at,
					within: within,
					elem: elem
				} );
			}
		} );

		if ( options.using ) {

			// Adds feedback as second argument to using callback, if present
			using = function( props ) {
				var left = targetOffset.left - position.left,
					right = left + targetWidth - elemWidth,
					top = targetOffset.top - position.top,
					bottom = top + targetHeight - elemHeight,
					feedback = {
						target: {
							element: target,
							left: targetOffset.left,
							top: targetOffset.top,
							width: targetWidth,
							height: targetHeight
						},
						element: {
							element: elem,
							left: position.left,
							top: position.top,
							width: elemWidth,
							height: elemHeight
						},
						horizontal: right < 0 ? "left" : left > 0 ? "right" : "center",
						vertical: bottom < 0 ? "top" : top > 0 ? "bottom" : "middle"
					};
				if ( targetWidth < elemWidth && abs( left + right ) < targetWidth ) {
					feedback.horizontal = "center";
				}
				if ( targetHeight < elemHeight && abs( top + bottom ) < targetHeight ) {
					feedback.vertical = "middle";
				}
				if ( max( abs( left ), abs( right ) ) > max( abs( top ), abs( bottom ) ) ) {
					feedback.important = "horizontal";
				} else {
					feedback.important = "vertical";
				}
				options.using.call( this, props, feedback );
			};
		}

		elem.offset( $.extend( position, { using: using } ) );
	} );
};

$.ui.position = {
	fit: {
		left: function( position, data ) {
			var within = data.within,
				withinOffset = within.isWindow ? within.scrollLeft : within.offset.left,
				outerWidth = within.width,
				collisionPosLeft = position.left - data.collisionPosition.marginLeft,
				overLeft = withinOffset - collisionPosLeft,
				overRight = collisionPosLeft + data.collisionWidth - outerWidth - withinOffset,
				newOverRight;

			// Element is wider than within
			if ( data.collisionWidth > outerWidth ) {

				// Element is initially over the left side of within
				if ( overLeft > 0 && overRight <= 0 ) {
					newOverRight = position.left + overLeft + data.collisionWidth - outerWidth -
						withinOffset;
					position.left += overLeft - newOverRight;

				// Element is initially over right side of within
				} else if ( overRight > 0 && overLeft <= 0 ) {
					position.left = withinOffset;

				// Element is initially over both left and right sides of within
				} else {
					if ( overLeft > overRight ) {
						position.left = withinOffset + outerWidth - data.collisionWidth;
					} else {
						position.left = withinOffset;
					}
				}

			// Too far left -> align with left edge
			} else if ( overLeft > 0 ) {
				position.left += overLeft;

			// Too far right -> align with right edge
			} else if ( overRight > 0 ) {
				position.left -= overRight;

			// Adjust based on position and margin
			} else {
				position.left = max( position.left - collisionPosLeft, position.left );
			}
		},
		top: function( position, data ) {
			var within = data.within,
				withinOffset = within.isWindow ? within.scrollTop : within.offset.top,
				outerHeight = data.within.height,
				collisionPosTop = position.top - data.collisionPosition.marginTop,
				overTop = withinOffset - collisionPosTop,
				overBottom = collisionPosTop + data.collisionHeight - outerHeight - withinOffset,
				newOverBottom;

			// Element is taller than within
			if ( data.collisionHeight > outerHeight ) {

				// Element is initially over the top of within
				if ( overTop > 0 && overBottom <= 0 ) {
					newOverBottom = position.top + overTop + data.collisionHeight - outerHeight -
						withinOffset;
					position.top += overTop - newOverBottom;

				// Element is initially over bottom of within
				} else if ( overBottom > 0 && overTop <= 0 ) {
					position.top = withinOffset;

				// Element is initially over both top and bottom of within
				} else {
					if ( overTop > overBottom ) {
						position.top = withinOffset + outerHeight - data.collisionHeight;
					} else {
						position.top = withinOffset;
					}
				}

			// Too far up -> align with top
			} else if ( overTop > 0 ) {
				position.top += overTop;

			// Too far down -> align with bottom edge
			} else if ( overBottom > 0 ) {
				position.top -= overBottom;

			// Adjust based on position and margin
			} else {
				position.top = max( position.top - collisionPosTop, position.top );
			}
		}
	},
	flip: {
		left: function( position, data ) {
			var within = data.within,
				withinOffset = within.offset.left + within.scrollLeft,
				outerWidth = within.width,
				offsetLeft = within.isWindow ? within.scrollLeft : within.offset.left,
				collisionPosLeft = position.left - data.collisionPosition.marginLeft,
				overLeft = collisionPosLeft - offsetLeft,
				overRight = collisionPosLeft + data.collisionWidth - outerWidth - offsetLeft,
				myOffset = data.my[ 0 ] === "left" ?
					-data.elemWidth :
					data.my[ 0 ] === "right" ?
						data.elemWidth :
						0,
				atOffset = data.at[ 0 ] === "left" ?
					data.targetWidth :
					data.at[ 0 ] === "right" ?
						-data.targetWidth :
						0,
				offset = -2 * data.offset[ 0 ],
				newOverRight,
				newOverLeft;

			if ( overLeft < 0 ) {
				newOverRight = position.left + myOffset + atOffset + offset + data.collisionWidth -
					outerWidth - withinOffset;
				if ( newOverRight < 0 || newOverRight < abs( overLeft ) ) {
					position.left += myOffset + atOffset + offset;
				}
			} else if ( overRight > 0 ) {
				newOverLeft = position.left - data.collisionPosition.marginLeft + myOffset +
					atOffset + offset - offsetLeft;
				if ( newOverLeft > 0 || abs( newOverLeft ) < overRight ) {
					position.left += myOffset + atOffset + offset;
				}
			}
		},
		top: function( position, data ) {
			var within = data.within,
				withinOffset = within.offset.top + within.scrollTop,
				outerHeight = within.height,
				offsetTop = within.isWindow ? within.scrollTop : within.offset.top,
				collisionPosTop = position.top - data.collisionPosition.marginTop,
				overTop = collisionPosTop - offsetTop,
				overBottom = collisionPosTop + data.collisionHeight - outerHeight - offsetTop,
				top = data.my[ 1 ] === "top",
				myOffset = top ?
					-data.elemHeight :
					data.my[ 1 ] === "bottom" ?
						data.elemHeight :
						0,
				atOffset = data.at[ 1 ] === "top" ?
					data.targetHeight :
					data.at[ 1 ] === "bottom" ?
						-data.targetHeight :
						0,
				offset = -2 * data.offset[ 1 ],
				newOverTop,
				newOverBottom;
			if ( overTop < 0 ) {
				newOverBottom = position.top + myOffset + atOffset + offset + data.collisionHeight -
					outerHeight - withinOffset;
				if ( newOverBottom < 0 || newOverBottom < abs( overTop ) ) {
					position.top += myOffset + atOffset + offset;
				}
			} else if ( overBottom > 0 ) {
				newOverTop = position.top - data.collisionPosition.marginTop + myOffset + atOffset +
					offset - offsetTop;
				if ( newOverTop > 0 || abs( newOverTop ) < overBottom ) {
					position.top += myOffset + atOffset + offset;
				}
			}
		}
	},
	flipfit: {
		left: function() {
			$.ui.position.flip.left.apply( this, arguments );
			$.ui.position.fit.left.apply( this, arguments );
		},
		top: function() {
			$.ui.position.flip.top.apply( this, arguments );
			$.ui.position.fit.top.apply( this, arguments );
		}
	}
};

} )();

return $.ui.position;

} ) );

},{}],56:[function(require,module,exports){
( function( factory ) {
	if ( typeof define === "function" && define.amd ) {

		// AMD. Register as an anonymous module.
		define( [ "jquery", "./version" ], factory );
	} else {

		// Browser globals
		factory( jQuery );
	}
} ( function( $ ) {
return $.ui.safeActiveElement = function( document ) {
	var activeElement;

	// Support: IE 9 only
	// IE9 throws an "Unspecified error" accessing document.activeElement from an <iframe>
	try {
		activeElement = document.activeElement;
	} catch ( error ) {
		activeElement = document.body;
	}

	// Support: IE 9 - 11 only
	// IE may return null instead of an element
	// Interestingly, this only seems to occur when NOT in an iframe
	if ( !activeElement ) {
		activeElement = document.body;
	}

	// Support: IE 11 only
	// IE11 returns a seemingly empty object in some cases when accessing
	// document.activeElement from an <iframe>
	if ( !activeElement.nodeName ) {
		activeElement = document.body;
	}

	return activeElement;
};

} ) );

},{}],57:[function(require,module,exports){
/*!
 * jQuery UI Scroll Parent 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: scrollParent
//>>group: Core
//>>description: Get the closest ancestor element that is scrollable.
//>>docs: http://api.jqueryui.com/scrollParent/

( function( factory ) {
	if ( typeof define === "function" && define.amd ) {

		// AMD. Register as an anonymous module.
		define( [ "jquery", "./version" ], factory );
	} else {

		// Browser globals
		factory( jQuery );
	}
} ( function( $ ) {

return $.fn.scrollParent = function( includeHidden ) {
	var position = this.css( "position" ),
		excludeStaticParent = position === "absolute",
		overflowRegex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/,
		scrollParent = this.parents().filter( function() {
			var parent = $( this );
			if ( excludeStaticParent && parent.css( "position" ) === "static" ) {
				return false;
			}
			return overflowRegex.test( parent.css( "overflow" ) + parent.css( "overflow-y" ) +
				parent.css( "overflow-x" ) );
		} ).eq( 0 );

	return position === "fixed" || !scrollParent.length ?
		$( this[ 0 ].ownerDocument || document ) :
		scrollParent;
};

} ) );

},{}],58:[function(require,module,exports){
/*!
 * jQuery UI Unique ID 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: uniqueId
//>>group: Core
//>>description: Functions to generate and remove uniqueId's
//>>docs: http://api.jqueryui.com/uniqueId/

( function( factory ) {
	if ( typeof define === "function" && define.amd ) {

		// AMD. Register as an anonymous module.
		define( [ "jquery", "./version" ], factory );
	} else {

		// Browser globals
		factory( jQuery );
	}
} ( function( $ ) {

return $.fn.extend( {
	uniqueId: ( function() {
		var uuid = 0;

		return function() {
			return this.each( function() {
				if ( !this.id ) {
					this.id = "ui-id-" + ( ++uuid );
				}
			} );
		};
	} )(),

	removeUniqueId: function() {
		return this.each( function() {
			if ( /^ui-id-\d+$/.test( this.id ) ) {
				$( this ).removeAttr( "id" );
			}
		} );
	}
} );

} ) );

},{}],59:[function(require,module,exports){
/*!
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Widget
//>>group: Core
//>>description: Provides a factory for creating stateful widgets with a common API.
//>>docs: http://api.jqueryui.com/jQuery.widget/
//>>demos: http://jqueryui.com/widget/

( function( factory ) {
	if ( typeof define === "function" && define.amd ) {

		// AMD. Register as an anonymous module.
		define( [ "jquery", "./version" ], factory );
	} else {

		// Browser globals
		factory( jQuery );
	}
}( function( $ ) {

var widgetUuid = 0;
var widgetSlice = Array.prototype.slice;

$.cleanData = ( function( orig ) {
	return function( elems ) {
		var events, elem, i;
		for ( i = 0; ( elem = elems[ i ] ) != null; i++ ) {
			try {

				// Only trigger remove when necessary to save time
				events = $._data( elem, "events" );
				if ( events && events.remove ) {
					$( elem ).triggerHandler( "remove" );
				}

			// Http://bugs.jquery.com/ticket/8235
			} catch ( e ) {}
		}
		orig( elems );
	};
} )( $.cleanData );

$.widget = function( name, base, prototype ) {
	var existingConstructor, constructor, basePrototype;

	// ProxiedPrototype allows the provided prototype to remain unmodified
	// so that it can be used as a mixin for multiple widgets (#8876)
	var proxiedPrototype = {};

	var namespace = name.split( "." )[ 0 ];
	name = name.split( "." )[ 1 ];
	var fullName = namespace + "-" + name;

	if ( !prototype ) {
		prototype = base;
		base = $.Widget;
	}

	if ( $.isArray( prototype ) ) {
		prototype = $.extend.apply( null, [ {} ].concat( prototype ) );
	}

	// Create selector for plugin
	$.expr[ ":" ][ fullName.toLowerCase() ] = function( elem ) {
		return !!$.data( elem, fullName );
	};

	$[ namespace ] = $[ namespace ] || {};
	existingConstructor = $[ namespace ][ name ];
	constructor = $[ namespace ][ name ] = function( options, element ) {

		// Allow instantiation without "new" keyword
		if ( !this._createWidget ) {
			return new constructor( options, element );
		}

		// Allow instantiation without initializing for simple inheritance
		// must use "new" keyword (the code above always passes args)
		if ( arguments.length ) {
			this._createWidget( options, element );
		}
	};

	// Extend with the existing constructor to carry over any static properties
	$.extend( constructor, existingConstructor, {
		version: prototype.version,

		// Copy the object used to create the prototype in case we need to
		// redefine the widget later
		_proto: $.extend( {}, prototype ),

		// Track widgets that inherit from this widget in case this widget is
		// redefined after a widget inherits from it
		_childConstructors: []
	} );

	basePrototype = new base();

	// We need to make the options hash a property directly on the new instance
	// otherwise we'll modify the options hash on the prototype that we're
	// inheriting from
	basePrototype.options = $.widget.extend( {}, basePrototype.options );
	$.each( prototype, function( prop, value ) {
		if ( !$.isFunction( value ) ) {
			proxiedPrototype[ prop ] = value;
			return;
		}
		proxiedPrototype[ prop ] = ( function() {
			function _super() {
				return base.prototype[ prop ].apply( this, arguments );
			}

			function _superApply( args ) {
				return base.prototype[ prop ].apply( this, args );
			}

			return function() {
				var __super = this._super;
				var __superApply = this._superApply;
				var returnValue;

				this._super = _super;
				this._superApply = _superApply;

				returnValue = value.apply( this, arguments );

				this._super = __super;
				this._superApply = __superApply;

				return returnValue;
			};
		} )();
	} );
	constructor.prototype = $.widget.extend( basePrototype, {

		// TODO: remove support for widgetEventPrefix
		// always use the name + a colon as the prefix, e.g., draggable:start
		// don't prefix for widgets that aren't DOM-based
		widgetEventPrefix: existingConstructor ? ( basePrototype.widgetEventPrefix || name ) : name
	}, proxiedPrototype, {
		constructor: constructor,
		namespace: namespace,
		widgetName: name,
		widgetFullName: fullName
	} );

	// If this widget is being redefined then we need to find all widgets that
	// are inheriting from it and redefine all of them so that they inherit from
	// the new version of this widget. We're essentially trying to replace one
	// level in the prototype chain.
	if ( existingConstructor ) {
		$.each( existingConstructor._childConstructors, function( i, child ) {
			var childPrototype = child.prototype;

			// Redefine the child widget using the same prototype that was
			// originally used, but inherit from the new version of the base
			$.widget( childPrototype.namespace + "." + childPrototype.widgetName, constructor,
				child._proto );
		} );

		// Remove the list of existing child constructors from the old constructor
		// so the old child constructors can be garbage collected
		delete existingConstructor._childConstructors;
	} else {
		base._childConstructors.push( constructor );
	}

	$.widget.bridge( name, constructor );

	return constructor;
};

$.widget.extend = function( target ) {
	var input = widgetSlice.call( arguments, 1 );
	var inputIndex = 0;
	var inputLength = input.length;
	var key;
	var value;

	for ( ; inputIndex < inputLength; inputIndex++ ) {
		for ( key in input[ inputIndex ] ) {
			value = input[ inputIndex ][ key ];
			if ( input[ inputIndex ].hasOwnProperty( key ) && value !== undefined ) {

				// Clone objects
				if ( $.isPlainObject( value ) ) {
					target[ key ] = $.isPlainObject( target[ key ] ) ?
						$.widget.extend( {}, target[ key ], value ) :

						// Don't extend strings, arrays, etc. with objects
						$.widget.extend( {}, value );

				// Copy everything else by reference
				} else {
					target[ key ] = value;
				}
			}
		}
	}
	return target;
};

$.widget.bridge = function( name, object ) {
	var fullName = object.prototype.widgetFullName || name;
	$.fn[ name ] = function( options ) {
		var isMethodCall = typeof options === "string";
		var args = widgetSlice.call( arguments, 1 );
		var returnValue = this;

		if ( isMethodCall ) {

			// If this is an empty collection, we need to have the instance method
			// return undefined instead of the jQuery instance
			if ( !this.length && options === "instance" ) {
				returnValue = undefined;
			} else {
				this.each( function() {
					var methodValue;
					var instance = $.data( this, fullName );

					if ( options === "instance" ) {
						returnValue = instance;
						return false;
					}

					if ( !instance ) {
						return $.error( "cannot call methods on " + name +
							" prior to initialization; " +
							"attempted to call method '" + options + "'" );
					}

					if ( !$.isFunction( instance[ options ] ) || options.charAt( 0 ) === "_" ) {
						return $.error( "no such method '" + options + "' for " + name +
							" widget instance" );
					}

					methodValue = instance[ options ].apply( instance, args );

					if ( methodValue !== instance && methodValue !== undefined ) {
						returnValue = methodValue && methodValue.jquery ?
							returnValue.pushStack( methodValue.get() ) :
							methodValue;
						return false;
					}
				} );
			}
		} else {

			// Allow multiple hashes to be passed on init
			if ( args.length ) {
				options = $.widget.extend.apply( null, [ options ].concat( args ) );
			}

			this.each( function() {
				var instance = $.data( this, fullName );
				if ( instance ) {
					instance.option( options || {} );
					if ( instance._init ) {
						instance._init();
					}
				} else {
					$.data( this, fullName, new object( options, this ) );
				}
			} );
		}

		return returnValue;
	};
};

$.Widget = function( /* options, element */ ) {};
$.Widget._childConstructors = [];

$.Widget.prototype = {
	widgetName: "widget",
	widgetEventPrefix: "",
	defaultElement: "<div>",

	options: {
		classes: {},
		disabled: false,

		// Callbacks
		create: null
	},

	_createWidget: function( options, element ) {
		element = $( element || this.defaultElement || this )[ 0 ];
		this.element = $( element );
		this.uuid = widgetUuid++;
		this.eventNamespace = "." + this.widgetName + this.uuid;

		this.bindings = $();
		this.hoverable = $();
		this.focusable = $();
		this.classesElementLookup = {};

		if ( element !== this ) {
			$.data( element, this.widgetFullName, this );
			this._on( true, this.element, {
				remove: function( event ) {
					if ( event.target === element ) {
						this.destroy();
					}
				}
			} );
			this.document = $( element.style ?

				// Element within the document
				element.ownerDocument :

				// Element is window or document
				element.document || element );
			this.window = $( this.document[ 0 ].defaultView || this.document[ 0 ].parentWindow );
		}

		this.options = $.widget.extend( {},
			this.options,
			this._getCreateOptions(),
			options );

		this._create();

		if ( this.options.disabled ) {
			this._setOptionDisabled( this.options.disabled );
		}

		this._trigger( "create", null, this._getCreateEventData() );
		this._init();
	},

	_getCreateOptions: function() {
		return {};
	},

	_getCreateEventData: $.noop,

	_create: $.noop,

	_init: $.noop,

	destroy: function() {
		var that = this;

		this._destroy();
		$.each( this.classesElementLookup, function( key, value ) {
			that._removeClass( value, key );
		} );

		// We can probably remove the unbind calls in 2.0
		// all event bindings should go through this._on()
		this.element
			.off( this.eventNamespace )
			.removeData( this.widgetFullName );
		this.widget()
			.off( this.eventNamespace )
			.removeAttr( "aria-disabled" );

		// Clean up events and states
		this.bindings.off( this.eventNamespace );
	},

	_destroy: $.noop,

	widget: function() {
		return this.element;
	},

	option: function( key, value ) {
		var options = key;
		var parts;
		var curOption;
		var i;

		if ( arguments.length === 0 ) {

			// Don't return a reference to the internal hash
			return $.widget.extend( {}, this.options );
		}

		if ( typeof key === "string" ) {

			// Handle nested keys, e.g., "foo.bar" => { foo: { bar: ___ } }
			options = {};
			parts = key.split( "." );
			key = parts.shift();
			if ( parts.length ) {
				curOption = options[ key ] = $.widget.extend( {}, this.options[ key ] );
				for ( i = 0; i < parts.length - 1; i++ ) {
					curOption[ parts[ i ] ] = curOption[ parts[ i ] ] || {};
					curOption = curOption[ parts[ i ] ];
				}
				key = parts.pop();
				if ( arguments.length === 1 ) {
					return curOption[ key ] === undefined ? null : curOption[ key ];
				}
				curOption[ key ] = value;
			} else {
				if ( arguments.length === 1 ) {
					return this.options[ key ] === undefined ? null : this.options[ key ];
				}
				options[ key ] = value;
			}
		}

		this._setOptions( options );

		return this;
	},

	_setOptions: function( options ) {
		var key;

		for ( key in options ) {
			this._setOption( key, options[ key ] );
		}

		return this;
	},

	_setOption: function( key, value ) {
		if ( key === "classes" ) {
			this._setOptionClasses( value );
		}

		this.options[ key ] = value;

		if ( key === "disabled" ) {
			this._setOptionDisabled( value );
		}

		return this;
	},

	_setOptionClasses: function( value ) {
		var classKey, elements, currentElements;

		for ( classKey in value ) {
			currentElements = this.classesElementLookup[ classKey ];
			if ( value[ classKey ] === this.options.classes[ classKey ] ||
					!currentElements ||
					!currentElements.length ) {
				continue;
			}

			// We are doing this to create a new jQuery object because the _removeClass() call
			// on the next line is going to destroy the reference to the current elements being
			// tracked. We need to save a copy of this collection so that we can add the new classes
			// below.
			elements = $( currentElements.get() );
			this._removeClass( currentElements, classKey );

			// We don't use _addClass() here, because that uses this.options.classes
			// for generating the string of classes. We want to use the value passed in from
			// _setOption(), this is the new value of the classes option which was passed to
			// _setOption(). We pass this value directly to _classes().
			elements.addClass( this._classes( {
				element: elements,
				keys: classKey,
				classes: value,
				add: true
			} ) );
		}
	},

	_setOptionDisabled: function( value ) {
		this._toggleClass( this.widget(), this.widgetFullName + "-disabled", null, !!value );

		// If the widget is becoming disabled, then nothing is interactive
		if ( value ) {
			this._removeClass( this.hoverable, null, "ui-state-hover" );
			this._removeClass( this.focusable, null, "ui-state-focus" );
		}
	},

	enable: function() {
		return this._setOptions( { disabled: false } );
	},

	disable: function() {
		return this._setOptions( { disabled: true } );
	},

	_classes: function( options ) {
		var full = [];
		var that = this;

		options = $.extend( {
			element: this.element,
			classes: this.options.classes || {}
		}, options );

		function processClassString( classes, checkOption ) {
			var current, i;
			for ( i = 0; i < classes.length; i++ ) {
				current = that.classesElementLookup[ classes[ i ] ] || $();
				if ( options.add ) {
					current = $( $.unique( current.get().concat( options.element.get() ) ) );
				} else {
					current = $( current.not( options.element ).get() );
				}
				that.classesElementLookup[ classes[ i ] ] = current;
				full.push( classes[ i ] );
				if ( checkOption && options.classes[ classes[ i ] ] ) {
					full.push( options.classes[ classes[ i ] ] );
				}
			}
		}

		this._on( options.element, {
			"remove": "_untrackClassesElement"
		} );

		if ( options.keys ) {
			processClassString( options.keys.match( /\S+/g ) || [], true );
		}
		if ( options.extra ) {
			processClassString( options.extra.match( /\S+/g ) || [] );
		}

		return full.join( " " );
	},

	_untrackClassesElement: function( event ) {
		var that = this;
		$.each( that.classesElementLookup, function( key, value ) {
			if ( $.inArray( event.target, value ) !== -1 ) {
				that.classesElementLookup[ key ] = $( value.not( event.target ).get() );
			}
		} );
	},

	_removeClass: function( element, keys, extra ) {
		return this._toggleClass( element, keys, extra, false );
	},

	_addClass: function( element, keys, extra ) {
		return this._toggleClass( element, keys, extra, true );
	},

	_toggleClass: function( element, keys, extra, add ) {
		add = ( typeof add === "boolean" ) ? add : extra;
		var shift = ( typeof element === "string" || element === null ),
			options = {
				extra: shift ? keys : extra,
				keys: shift ? element : keys,
				element: shift ? this.element : element,
				add: add
			};
		options.element.toggleClass( this._classes( options ), add );
		return this;
	},

	_on: function( suppressDisabledCheck, element, handlers ) {
		var delegateElement;
		var instance = this;

		// No suppressDisabledCheck flag, shuffle arguments
		if ( typeof suppressDisabledCheck !== "boolean" ) {
			handlers = element;
			element = suppressDisabledCheck;
			suppressDisabledCheck = false;
		}

		// No element argument, shuffle and use this.element
		if ( !handlers ) {
			handlers = element;
			element = this.element;
			delegateElement = this.widget();
		} else {
			element = delegateElement = $( element );
			this.bindings = this.bindings.add( element );
		}

		$.each( handlers, function( event, handler ) {
			function handlerProxy() {

				// Allow widgets to customize the disabled handling
				// - disabled as an array instead of boolean
				// - disabled class as method for disabling individual parts
				if ( !suppressDisabledCheck &&
						( instance.options.disabled === true ||
						$( this ).hasClass( "ui-state-disabled" ) ) ) {
					return;
				}
				return ( typeof handler === "string" ? instance[ handler ] : handler )
					.apply( instance, arguments );
			}

			// Copy the guid so direct unbinding works
			if ( typeof handler !== "string" ) {
				handlerProxy.guid = handler.guid =
					handler.guid || handlerProxy.guid || $.guid++;
			}

			var match = event.match( /^([\w:-]*)\s*(.*)$/ );
			var eventName = match[ 1 ] + instance.eventNamespace;
			var selector = match[ 2 ];

			if ( selector ) {
				delegateElement.on( eventName, selector, handlerProxy );
			} else {
				element.on( eventName, handlerProxy );
			}
		} );
	},

	_off: function( element, eventName ) {
		eventName = ( eventName || "" ).split( " " ).join( this.eventNamespace + " " ) +
			this.eventNamespace;
		element.off( eventName ).off( eventName );

		// Clear the stack to avoid memory leaks (#10056)
		this.bindings = $( this.bindings.not( element ).get() );
		this.focusable = $( this.focusable.not( element ).get() );
		this.hoverable = $( this.hoverable.not( element ).get() );
	},

	_delay: function( handler, delay ) {
		function handlerProxy() {
			return ( typeof handler === "string" ? instance[ handler ] : handler )
				.apply( instance, arguments );
		}
		var instance = this;
		return setTimeout( handlerProxy, delay || 0 );
	},

	_hoverable: function( element ) {
		this.hoverable = this.hoverable.add( element );
		this._on( element, {
			mouseenter: function( event ) {
				this._addClass( $( event.currentTarget ), null, "ui-state-hover" );
			},
			mouseleave: function( event ) {
				this._removeClass( $( event.currentTarget ), null, "ui-state-hover" );
			}
		} );
	},

	_focusable: function( element ) {
		this.focusable = this.focusable.add( element );
		this._on( element, {
			focusin: function( event ) {
				this._addClass( $( event.currentTarget ), null, "ui-state-focus" );
			},
			focusout: function( event ) {
				this._removeClass( $( event.currentTarget ), null, "ui-state-focus" );
			}
		} );
	},

	_trigger: function( type, event, data ) {
		var prop, orig;
		var callback = this.options[ type ];

		data = data || {};
		event = $.Event( event );
		event.type = ( type === this.widgetEventPrefix ?
			type :
			this.widgetEventPrefix + type ).toLowerCase();

		// The original event may come from any element
		// so we need to reset the target on the new event
		event.target = this.element[ 0 ];

		// Copy original event properties over to the new event
		orig = event.originalEvent;
		if ( orig ) {
			for ( prop in orig ) {
				if ( !( prop in event ) ) {
					event[ prop ] = orig[ prop ];
				}
			}
		}

		this.element.trigger( event, data );
		return !( $.isFunction( callback ) &&
			callback.apply( this.element[ 0 ], [ event ].concat( data ) ) === false ||
			event.isDefaultPrevented() );
	}
};

$.each( { show: "fadeIn", hide: "fadeOut" }, function( method, defaultEffect ) {
	$.Widget.prototype[ "_" + method ] = function( element, options, callback ) {
		if ( typeof options === "string" ) {
			options = { effect: options };
		}

		var hasOptions;
		var effectName = !options ?
			method :
			options === true || typeof options === "number" ?
				defaultEffect :
				options.effect || defaultEffect;

		options = options || {};
		if ( typeof options === "number" ) {
			options = { duration: options };
		}

		hasOptions = !$.isEmptyObject( options );
		options.complete = callback;

		if ( options.delay ) {
			element.delay( options.delay );
		}

		if ( hasOptions && $.effects && $.effects.effect[ effectName ] ) {
			element[ method ]( options );
		} else if ( effectName !== method && element[ effectName ] ) {
			element[ effectName ]( options.duration, options.easing, callback );
		} else {
			element.queue( function( next ) {
				$( this )[ method ]();
				if ( callback ) {
					callback.call( element[ 0 ] );
				}
				next();
			} );
		}
	};
} );

return $.widget;

} ) );

},{}],60:[function(require,module,exports){
/*!
 * jQuery UI Autocomplete 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Autocomplete
//>>group: Widgets
//>>description: Lists suggested words as the user is typing.
//>>docs: http://api.jqueryui.com/autocomplete/
//>>demos: http://jqueryui.com/autocomplete/
//>>css.structure: ../../themes/base/core.css
//>>css.structure: ../../themes/base/autocomplete.css
//>>css.theme: ../../themes/base/theme.css

( function( factory ) {
	if ( typeof define === "function" && define.amd ) {

		// AMD. Register as an anonymous module.
		define( [
			"jquery",
			"./menu",
			"../keycode",
			"../position",
			"../safe-active-element",
			"../version",
			"../widget"
		], factory );
	} else {

		// Browser globals
		factory( jQuery );
	}
}( function( $ ) {

$.widget( "ui.autocomplete", {
	version: "1.12.1",
	defaultElement: "<input>",
	options: {
		appendTo: null,
		autoFocus: false,
		delay: 300,
		minLength: 1,
		position: {
			my: "left top",
			at: "left bottom",
			collision: "none"
		},
		source: null,

		// Callbacks
		change: null,
		close: null,
		focus: null,
		open: null,
		response: null,
		search: null,
		select: null
	},

	requestIndex: 0,
	pending: 0,

	_create: function() {

		// Some browsers only repeat keydown events, not keypress events,
		// so we use the suppressKeyPress flag to determine if we've already
		// handled the keydown event. #7269
		// Unfortunately the code for & in keypress is the same as the up arrow,
		// so we use the suppressKeyPressRepeat flag to avoid handling keypress
		// events when we know the keydown event was used to modify the
		// search term. #7799
		var suppressKeyPress, suppressKeyPressRepeat, suppressInput,
			nodeName = this.element[ 0 ].nodeName.toLowerCase(),
			isTextarea = nodeName === "textarea",
			isInput = nodeName === "input";

		// Textareas are always multi-line
		// Inputs are always single-line, even if inside a contentEditable element
		// IE also treats inputs as contentEditable
		// All other element types are determined by whether or not they're contentEditable
		this.isMultiLine = isTextarea || !isInput && this._isContentEditable( this.element );

		this.valueMethod = this.element[ isTextarea || isInput ? "val" : "text" ];
		this.isNewMenu = true;

		this._addClass( "ui-autocomplete-input" );
		this.element.attr( "autocomplete", "off" );

		this._on( this.element, {
			keydown: function( event ) {
				if ( this.element.prop( "readOnly" ) ) {
					suppressKeyPress = true;
					suppressInput = true;
					suppressKeyPressRepeat = true;
					return;
				}

				suppressKeyPress = false;
				suppressInput = false;
				suppressKeyPressRepeat = false;
				var keyCode = $.ui.keyCode;
				switch ( event.keyCode ) {
				case keyCode.PAGE_UP:
					suppressKeyPress = true;
					this._move( "previousPage", event );
					break;
				case keyCode.PAGE_DOWN:
					suppressKeyPress = true;
					this._move( "nextPage", event );
					break;
				case keyCode.UP:
					suppressKeyPress = true;
					this._keyEvent( "previous", event );
					break;
				case keyCode.DOWN:
					suppressKeyPress = true;
					this._keyEvent( "next", event );
					break;
				case keyCode.ENTER:

					// when menu is open and has focus
					if ( this.menu.active ) {

						// #6055 - Opera still allows the keypress to occur
						// which causes forms to submit
						suppressKeyPress = true;
						event.preventDefault();
						this.menu.select( event );
					}
					break;
				case keyCode.TAB:
					if ( this.menu.active ) {
						this.menu.select( event );
					}
					break;
				case keyCode.ESCAPE:
					if ( this.menu.element.is( ":visible" ) ) {
						if ( !this.isMultiLine ) {
							this._value( this.term );
						}
						this.close( event );

						// Different browsers have different default behavior for escape
						// Single press can mean undo or clear
						// Double press in IE means clear the whole form
						event.preventDefault();
					}
					break;
				default:
					suppressKeyPressRepeat = true;

					// search timeout should be triggered before the input value is changed
					this._searchTimeout( event );
					break;
				}
			},
			keypress: function( event ) {
				if ( suppressKeyPress ) {
					suppressKeyPress = false;
					if ( !this.isMultiLine || this.menu.element.is( ":visible" ) ) {
						event.preventDefault();
					}
					return;
				}
				if ( suppressKeyPressRepeat ) {
					return;
				}

				// Replicate some key handlers to allow them to repeat in Firefox and Opera
				var keyCode = $.ui.keyCode;
				switch ( event.keyCode ) {
				case keyCode.PAGE_UP:
					this._move( "previousPage", event );
					break;
				case keyCode.PAGE_DOWN:
					this._move( "nextPage", event );
					break;
				case keyCode.UP:
					this._keyEvent( "previous", event );
					break;
				case keyCode.DOWN:
					this._keyEvent( "next", event );
					break;
				}
			},
			input: function( event ) {
				if ( suppressInput ) {
					suppressInput = false;
					event.preventDefault();
					return;
				}
				this._searchTimeout( event );
			},
			focus: function() {
				this.selectedItem = null;
				this.previous = this._value();
			},
			blur: function( event ) {
				if ( this.cancelBlur ) {
					delete this.cancelBlur;
					return;
				}

				clearTimeout( this.searching );
				this.close( event );
				this._change( event );
			}
		} );

		this._initSource();
		this.menu = $( "<ul>" )
			.appendTo( this._appendTo() )
			.menu( {

				// disable ARIA support, the live region takes care of that
				role: null
			} )
			.hide()
			.menu( "instance" );

		this._addClass( this.menu.element, "ui-autocomplete", "ui-front" );
		this._on( this.menu.element, {
			mousedown: function( event ) {

				// prevent moving focus out of the text field
				event.preventDefault();

				// IE doesn't prevent moving focus even with event.preventDefault()
				// so we set a flag to know when we should ignore the blur event
				this.cancelBlur = true;
				this._delay( function() {
					delete this.cancelBlur;

					// Support: IE 8 only
					// Right clicking a menu item or selecting text from the menu items will
					// result in focus moving out of the input. However, we've already received
					// and ignored the blur event because of the cancelBlur flag set above. So
					// we restore focus to ensure that the menu closes properly based on the user's
					// next actions.
					if ( this.element[ 0 ] !== $.ui.safeActiveElement( this.document[ 0 ] ) ) {
						this.element.trigger( "focus" );
					}
				} );
			},
			menufocus: function( event, ui ) {
				var label, item;

				// support: Firefox
				// Prevent accidental activation of menu items in Firefox (#7024 #9118)
				if ( this.isNewMenu ) {
					this.isNewMenu = false;
					if ( event.originalEvent && /^mouse/.test( event.originalEvent.type ) ) {
						this.menu.blur();

						this.document.one( "mousemove", function() {
							$( event.target ).trigger( event.originalEvent );
						} );

						return;
					}
				}

				item = ui.item.data( "ui-autocomplete-item" );
				if ( false !== this._trigger( "focus", event, { item: item } ) ) {

					// use value to match what will end up in the input, if it was a key event
					if ( event.originalEvent && /^key/.test( event.originalEvent.type ) ) {
						this._value( item.value );
					}
				}

				// Announce the value in the liveRegion
				label = ui.item.attr( "aria-label" ) || item.value;
				if ( label && $.trim( label ).length ) {
					this.liveRegion.children().hide();
					$( "<div>" ).text( label ).appendTo( this.liveRegion );
				}
			},
			menuselect: function( event, ui ) {
				var item = ui.item.data( "ui-autocomplete-item" ),
					previous = this.previous;

				// Only trigger when focus was lost (click on menu)
				if ( this.element[ 0 ] !== $.ui.safeActiveElement( this.document[ 0 ] ) ) {
					this.element.trigger( "focus" );
					this.previous = previous;

					// #6109 - IE triggers two focus events and the second
					// is asynchronous, so we need to reset the previous
					// term synchronously and asynchronously :-(
					this._delay( function() {
						this.previous = previous;
						this.selectedItem = item;
					} );
				}

				if ( false !== this._trigger( "select", event, { item: item } ) ) {
					this._value( item.value );
				}

				// reset the term after the select event
				// this allows custom select handling to work properly
				this.term = this._value();

				this.close( event );
				this.selectedItem = item;
			}
		} );

		this.liveRegion = $( "<div>", {
			role: "status",
			"aria-live": "assertive",
			"aria-relevant": "additions"
		} )
			.appendTo( this.document[ 0 ].body );

		this._addClass( this.liveRegion, null, "ui-helper-hidden-accessible" );

		// Turning off autocomplete prevents the browser from remembering the
		// value when navigating through history, so we re-enable autocomplete
		// if the page is unloaded before the widget is destroyed. #7790
		this._on( this.window, {
			beforeunload: function() {
				this.element.removeAttr( "autocomplete" );
			}
		} );
	},

	_destroy: function() {
		clearTimeout( this.searching );
		this.element.removeAttr( "autocomplete" );
		this.menu.element.remove();
		this.liveRegion.remove();
	},

	_setOption: function( key, value ) {
		this._super( key, value );
		if ( key === "source" ) {
			this._initSource();
		}
		if ( key === "appendTo" ) {
			this.menu.element.appendTo( this._appendTo() );
		}
		if ( key === "disabled" && value && this.xhr ) {
			this.xhr.abort();
		}
	},

	_isEventTargetInWidget: function( event ) {
		var menuElement = this.menu.element[ 0 ];

		return event.target === this.element[ 0 ] ||
			event.target === menuElement ||
			$.contains( menuElement, event.target );
	},

	_closeOnClickOutside: function( event ) {
		if ( !this._isEventTargetInWidget( event ) ) {
			this.close();
		}
	},

	_appendTo: function() {
		var element = this.options.appendTo;

		if ( element ) {
			element = element.jquery || element.nodeType ?
				$( element ) :
				this.document.find( element ).eq( 0 );
		}

		if ( !element || !element[ 0 ] ) {
			element = this.element.closest( ".ui-front, dialog" );
		}

		if ( !element.length ) {
			element = this.document[ 0 ].body;
		}

		return element;
	},

	_initSource: function() {
		var array, url,
			that = this;
		if ( $.isArray( this.options.source ) ) {
			array = this.options.source;
			this.source = function( request, response ) {
				response( $.ui.autocomplete.filter( array, request.term ) );
			};
		} else if ( typeof this.options.source === "string" ) {
			url = this.options.source;
			this.source = function( request, response ) {
				if ( that.xhr ) {
					that.xhr.abort();
				}
				that.xhr = $.ajax( {
					url: url,
					data: request,
					dataType: "json",
					success: function( data ) {
						response( data );
					},
					error: function() {
						response( [] );
					}
				} );
			};
		} else {
			this.source = this.options.source;
		}
	},

	_searchTimeout: function( event ) {
		clearTimeout( this.searching );
		this.searching = this._delay( function() {

			// Search if the value has changed, or if the user retypes the same value (see #7434)
			var equalValues = this.term === this._value(),
				menuVisible = this.menu.element.is( ":visible" ),
				modifierKey = event.altKey || event.ctrlKey || event.metaKey || event.shiftKey;

			if ( !equalValues || ( equalValues && !menuVisible && !modifierKey ) ) {
				this.selectedItem = null;
				this.search( null, event );
			}
		}, this.options.delay );
	},

	search: function( value, event ) {
		value = value != null ? value : this._value();

		// Always save the actual value, not the one passed as an argument
		this.term = this._value();

		if ( value.length < this.options.minLength ) {
			return this.close( event );
		}

		if ( this._trigger( "search", event ) === false ) {
			return;
		}

		return this._search( value );
	},

	_search: function( value ) {
		this.pending++;
		this._addClass( "ui-autocomplete-loading" );
		this.cancelSearch = false;

		this.source( { term: value }, this._response() );
	},

	_response: function() {
		var index = ++this.requestIndex;

		return $.proxy( function( content ) {
			if ( index === this.requestIndex ) {
				this.__response( content );
			}

			this.pending--;
			if ( !this.pending ) {
				this._removeClass( "ui-autocomplete-loading" );
			}
		}, this );
	},

	__response: function( content ) {
		if ( content ) {
			content = this._normalize( content );
		}
		this._trigger( "response", null, { content: content } );
		if ( !this.options.disabled && content && content.length && !this.cancelSearch ) {
			this._suggest( content );
			this._trigger( "open" );
		} else {

			// use ._close() instead of .close() so we don't cancel future searches
			this._close();
		}
	},

	close: function( event ) {
		this.cancelSearch = true;
		this._close( event );
	},

	_close: function( event ) {

		// Remove the handler that closes the menu on outside clicks
		this._off( this.document, "mousedown" );

		if ( this.menu.element.is( ":visible" ) ) {
			this.menu.element.hide();
			this.menu.blur();
			this.isNewMenu = true;
			this._trigger( "close", event );
		}
	},

	_change: function( event ) {
		if ( this.previous !== this._value() ) {
			this._trigger( "change", event, { item: this.selectedItem } );
		}
	},

	_normalize: function( items ) {

		// assume all items have the right format when the first item is complete
		if ( items.length && items[ 0 ].label && items[ 0 ].value ) {
			return items;
		}
		return $.map( items, function( item ) {
			if ( typeof item === "string" ) {
				return {
					label: item,
					value: item
				};
			}
			return $.extend( {}, item, {
				label: item.label || item.value,
				value: item.value || item.label
			} );
		} );
	},

	_suggest: function( items ) {
		var ul = this.menu.element.empty();
		this._renderMenu( ul, items );
		this.isNewMenu = true;
		this.menu.refresh();

		// Size and position menu
		ul.show();
		this._resizeMenu();
		ul.position( $.extend( {
			of: this.element
		}, this.options.position ) );

		if ( this.options.autoFocus ) {
			this.menu.next();
		}

		// Listen for interactions outside of the widget (#6642)
		this._on( this.document, {
			mousedown: "_closeOnClickOutside"
		} );
	},

	_resizeMenu: function() {
		var ul = this.menu.element;
		ul.outerWidth( Math.max(

			// Firefox wraps long text (possibly a rounding bug)
			// so we add 1px to avoid the wrapping (#7513)
			ul.width( "" ).outerWidth() + 1,
			this.element.outerWidth()
		) );
	},

	_renderMenu: function( ul, items ) {
		var that = this;
		$.each( items, function( index, item ) {
			that._renderItemData( ul, item );
		} );
	},

	_renderItemData: function( ul, item ) {
		return this._renderItem( ul, item ).data( "ui-autocomplete-item", item );
	},

	_renderItem: function( ul, item ) {
		return $( "<li>" )
			.append( $( "<div>" ).text( item.label ) )
			.appendTo( ul );
	},

	_move: function( direction, event ) {
		if ( !this.menu.element.is( ":visible" ) ) {
			this.search( null, event );
			return;
		}
		if ( this.menu.isFirstItem() && /^previous/.test( direction ) ||
				this.menu.isLastItem() && /^next/.test( direction ) ) {

			if ( !this.isMultiLine ) {
				this._value( this.term );
			}

			this.menu.blur();
			return;
		}
		this.menu[ direction ]( event );
	},

	widget: function() {
		return this.menu.element;
	},

	_value: function() {
		return this.valueMethod.apply( this.element, arguments );
	},

	_keyEvent: function( keyEvent, event ) {
		if ( !this.isMultiLine || this.menu.element.is( ":visible" ) ) {
			this._move( keyEvent, event );

			// Prevents moving cursor to beginning/end of the text field in some browsers
			event.preventDefault();
		}
	},

	// Support: Chrome <=50
	// We should be able to just use this.element.prop( "isContentEditable" )
	// but hidden elements always report false in Chrome.
	// https://code.google.com/p/chromium/issues/detail?id=313082
	_isContentEditable: function( element ) {
		if ( !element.length ) {
			return false;
		}

		var editable = element.prop( "contentEditable" );

		if ( editable === "inherit" ) {
		  return this._isContentEditable( element.parent() );
		}

		return editable === "true";
	}
} );

$.extend( $.ui.autocomplete, {
	escapeRegex: function( value ) {
		return value.replace( /[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&" );
	},
	filter: function( array, term ) {
		var matcher = new RegExp( $.ui.autocomplete.escapeRegex( term ), "i" );
		return $.grep( array, function( value ) {
			return matcher.test( value.label || value.value || value );
		} );
	}
} );

// Live region extension, adding a `messages` option
// NOTE: This is an experimental API. We are still investigating
// a full solution for string manipulation and internationalization.
$.widget( "ui.autocomplete", $.ui.autocomplete, {
	options: {
		messages: {
			noResults: "No search results.",
			results: function( amount ) {
				return amount + ( amount > 1 ? " results are" : " result is" ) +
					" available, use up and down arrow keys to navigate.";
			}
		}
	},

	__response: function( content ) {
		var message;
		this._superApply( arguments );
		if ( this.options.disabled || this.cancelSearch ) {
			return;
		}
		if ( content && content.length ) {
			message = this.options.messages.results( content.length );
		} else {
			message = this.options.messages.noResults;
		}
		this.liveRegion.children().hide();
		$( "<div>" ).text( message ).appendTo( this.liveRegion );
	}
} );

return $.ui.autocomplete;

} ) );

},{}],61:[function(require,module,exports){
/*!
 * jQuery UI Button 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Button
//>>group: Widgets
//>>description: Enhances a form with themeable buttons.
//>>docs: http://api.jqueryui.com/button/
//>>demos: http://jqueryui.com/button/
//>>css.structure: ../../themes/base/core.css
//>>css.structure: ../../themes/base/button.css
//>>css.theme: ../../themes/base/theme.css

( function( factory ) {
	if ( typeof define === "function" && define.amd ) {

		// AMD. Register as an anonymous module.
		define( [
			"jquery",

			// These are only for backcompat
			// TODO: Remove after 1.12
			"./controlgroup",
			"./checkboxradio",

			"../keycode",
			"../widget"
		], factory );
	} else {

		// Browser globals
		factory( jQuery );
	}
}( function( $ ) {

$.widget( "ui.button", {
	version: "1.12.1",
	defaultElement: "<button>",
	options: {
		classes: {
			"ui-button": "ui-corner-all"
		},
		disabled: null,
		icon: null,
		iconPosition: "beginning",
		label: null,
		showLabel: true
	},

	_getCreateOptions: function() {
		var disabled,

			// This is to support cases like in jQuery Mobile where the base widget does have
			// an implementation of _getCreateOptions
			options = this._super() || {};

		this.isInput = this.element.is( "input" );

		disabled = this.element[ 0 ].disabled;
		if ( disabled != null ) {
			options.disabled = disabled;
		}

		this.originalLabel = this.isInput ? this.element.val() : this.element.html();
		if ( this.originalLabel ) {
			options.label = this.originalLabel;
		}

		return options;
	},

	_create: function() {
		if ( !this.option.showLabel & !this.options.icon ) {
			this.options.showLabel = true;
		}

		// We have to check the option again here even though we did in _getCreateOptions,
		// because null may have been passed on init which would override what was set in
		// _getCreateOptions
		if ( this.options.disabled == null ) {
			this.options.disabled = this.element[ 0 ].disabled || false;
		}

		this.hasTitle = !!this.element.attr( "title" );

		// Check to see if the label needs to be set or if its already correct
		if ( this.options.label && this.options.label !== this.originalLabel ) {
			if ( this.isInput ) {
				this.element.val( this.options.label );
			} else {
				this.element.html( this.options.label );
			}
		}
		this._addClass( "ui-button", "ui-widget" );
		this._setOption( "disabled", this.options.disabled );
		this._enhance();

		if ( this.element.is( "a" ) ) {
			this._on( {
				"keyup": function( event ) {
					if ( event.keyCode === $.ui.keyCode.SPACE ) {
						event.preventDefault();

						// Support: PhantomJS <= 1.9, IE 8 Only
						// If a native click is available use it so we actually cause navigation
						// otherwise just trigger a click event
						if ( this.element[ 0 ].click ) {
							this.element[ 0 ].click();
						} else {
							this.element.trigger( "click" );
						}
					}
				}
			} );
		}
	},

	_enhance: function() {
		if ( !this.element.is( "button" ) ) {
			this.element.attr( "role", "button" );
		}

		if ( this.options.icon ) {
			this._updateIcon( "icon", this.options.icon );
			this._updateTooltip();
		}
	},

	_updateTooltip: function() {
		this.title = this.element.attr( "title" );

		if ( !this.options.showLabel && !this.title ) {
			this.element.attr( "title", this.options.label );
		}
	},

	_updateIcon: function( option, value ) {
		var icon = option !== "iconPosition",
			position = icon ? this.options.iconPosition : value,
			displayBlock = position === "top" || position === "bottom";

		// Create icon
		if ( !this.icon ) {
			this.icon = $( "<span>" );

			this._addClass( this.icon, "ui-button-icon", "ui-icon" );

			if ( !this.options.showLabel ) {
				this._addClass( "ui-button-icon-only" );
			}
		} else if ( icon ) {

			// If we are updating the icon remove the old icon class
			this._removeClass( this.icon, null, this.options.icon );
		}

		// If we are updating the icon add the new icon class
		if ( icon ) {
			this._addClass( this.icon, null, value );
		}

		this._attachIcon( position );

		// If the icon is on top or bottom we need to add the ui-widget-icon-block class and remove
		// the iconSpace if there is one.
		if ( displayBlock ) {
			this._addClass( this.icon, null, "ui-widget-icon-block" );
			if ( this.iconSpace ) {
				this.iconSpace.remove();
			}
		} else {

			// Position is beginning or end so remove the ui-widget-icon-block class and add the
			// space if it does not exist
			if ( !this.iconSpace ) {
				this.iconSpace = $( "<span> </span>" );
				this._addClass( this.iconSpace, "ui-button-icon-space" );
			}
			this._removeClass( this.icon, null, "ui-wiget-icon-block" );
			this._attachIconSpace( position );
		}
	},

	_destroy: function() {
		this.element.removeAttr( "role" );

		if ( this.icon ) {
			this.icon.remove();
		}
		if ( this.iconSpace ) {
			this.iconSpace.remove();
		}
		if ( !this.hasTitle ) {
			this.element.removeAttr( "title" );
		}
	},

	_attachIconSpace: function( iconPosition ) {
		this.icon[ /^(?:end|bottom)/.test( iconPosition ) ? "before" : "after" ]( this.iconSpace );
	},

	_attachIcon: function( iconPosition ) {
		this.element[ /^(?:end|bottom)/.test( iconPosition ) ? "append" : "prepend" ]( this.icon );
	},

	_setOptions: function( options ) {
		var newShowLabel = options.showLabel === undefined ?
				this.options.showLabel :
				options.showLabel,
			newIcon = options.icon === undefined ? this.options.icon : options.icon;

		if ( !newShowLabel && !newIcon ) {
			options.showLabel = true;
		}
		this._super( options );
	},

	_setOption: function( key, value ) {
		if ( key === "icon" ) {
			if ( value ) {
				this._updateIcon( key, value );
			} else if ( this.icon ) {
				this.icon.remove();
				if ( this.iconSpace ) {
					this.iconSpace.remove();
				}
			}
		}

		if ( key === "iconPosition" ) {
			this._updateIcon( key, value );
		}

		// Make sure we can't end up with a button that has neither text nor icon
		if ( key === "showLabel" ) {
				this._toggleClass( "ui-button-icon-only", null, !value );
				this._updateTooltip();
		}

		if ( key === "label" ) {
			if ( this.isInput ) {
				this.element.val( value );
			} else {

				// If there is an icon, append it, else nothing then append the value
				// this avoids removal of the icon when setting label text
				this.element.html( value );
				if ( this.icon ) {
					this._attachIcon( this.options.iconPosition );
					this._attachIconSpace( this.options.iconPosition );
				}
			}
		}

		this._super( key, value );

		if ( key === "disabled" ) {
			this._toggleClass( null, "ui-state-disabled", value );
			this.element[ 0 ].disabled = value;
			if ( value ) {
				this.element.blur();
			}
		}
	},

	refresh: function() {

		// Make sure to only check disabled if its an element that supports this otherwise
		// check for the disabled class to determine state
		var isDisabled = this.element.is( "input, button" ) ?
			this.element[ 0 ].disabled : this.element.hasClass( "ui-button-disabled" );

		if ( isDisabled !== this.options.disabled ) {
			this._setOptions( { disabled: isDisabled } );
		}

		this._updateTooltip();
	}
} );

// DEPRECATED
if ( $.uiBackCompat !== false ) {

	// Text and Icons options
	$.widget( "ui.button", $.ui.button, {
		options: {
			text: true,
			icons: {
				primary: null,
				secondary: null
			}
		},

		_create: function() {
			if ( this.options.showLabel && !this.options.text ) {
				this.options.showLabel = this.options.text;
			}
			if ( !this.options.showLabel && this.options.text ) {
				this.options.text = this.options.showLabel;
			}
			if ( !this.options.icon && ( this.options.icons.primary ||
					this.options.icons.secondary ) ) {
				if ( this.options.icons.primary ) {
					this.options.icon = this.options.icons.primary;
				} else {
					this.options.icon = this.options.icons.secondary;
					this.options.iconPosition = "end";
				}
			} else if ( this.options.icon ) {
				this.options.icons.primary = this.options.icon;
			}
			this._super();
		},

		_setOption: function( key, value ) {
			if ( key === "text" ) {
				this._super( "showLabel", value );
				return;
			}
			if ( key === "showLabel" ) {
				this.options.text = value;
			}
			if ( key === "icon" ) {
				this.options.icons.primary = value;
			}
			if ( key === "icons" ) {
				if ( value.primary ) {
					this._super( "icon", value.primary );
					this._super( "iconPosition", "beginning" );
				} else if ( value.secondary ) {
					this._super( "icon", value.secondary );
					this._super( "iconPosition", "end" );
				}
			}
			this._superApply( arguments );
		}
	} );

	$.fn.button = ( function( orig ) {
		return function() {
			if ( !this.length || ( this.length && this[ 0 ].tagName !== "INPUT" ) ||
					( this.length && this[ 0 ].tagName === "INPUT" && (
						this.attr( "type" ) !== "checkbox" && this.attr( "type" ) !== "radio"
					) ) ) {
				return orig.apply( this, arguments );
			}
			if ( !$.ui.checkboxradio ) {
				$.error( "Checkboxradio widget missing" );
			}
			if ( arguments.length === 0 ) {
				return this.checkboxradio( {
					"icon": false
				} );
			}
			return this.checkboxradio.apply( this, arguments );
		};
	} )( $.fn.button );

	$.fn.buttonset = function() {
		if ( !$.ui.controlgroup ) {
			$.error( "Controlgroup widget missing" );
		}
		if ( arguments[ 0 ] === "option" && arguments[ 1 ] === "items" && arguments[ 2 ] ) {
			return this.controlgroup.apply( this,
				[ arguments[ 0 ], "items.button", arguments[ 2 ] ] );
		}
		if ( arguments[ 0 ] === "option" && arguments[ 1 ] === "items" ) {
			return this.controlgroup.apply( this, [ arguments[ 0 ], "items.button" ] );
		}
		if ( typeof arguments[ 0 ] === "object" && arguments[ 0 ].items ) {
			arguments[ 0 ].items = {
				button: arguments[ 0 ].items
			};
		}
		return this.controlgroup.apply( this, arguments );
	};
}

return $.ui.button;

} ) );

},{}],62:[function(require,module,exports){
/*!
 * jQuery UI Menu 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Menu
//>>group: Widgets
//>>description: Creates nestable menus.
//>>docs: http://api.jqueryui.com/menu/
//>>demos: http://jqueryui.com/menu/
//>>css.structure: ../../themes/base/core.css
//>>css.structure: ../../themes/base/menu.css
//>>css.theme: ../../themes/base/theme.css

( function( factory ) {
	if ( typeof define === "function" && define.amd ) {

		// AMD. Register as an anonymous module.
		define( [
			"jquery",
			"../keycode",
			"../position",
			"../safe-active-element",
			"../unique-id",
			"../version",
			"../widget"
		], factory );
	} else {

		// Browser globals
		factory( jQuery );
	}
}( function( $ ) {

return $.widget( "ui.menu", {
	version: "1.12.1",
	defaultElement: "<ul>",
	delay: 300,
	options: {
		icons: {
			submenu: "ui-icon-caret-1-e"
		},
		items: "> *",
		menus: "ul",
		position: {
			my: "left top",
			at: "right top"
		},
		role: "menu",

		// Callbacks
		blur: null,
		focus: null,
		select: null
	},

	_create: function() {
		this.activeMenu = this.element;

		// Flag used to prevent firing of the click handler
		// as the event bubbles up through nested menus
		this.mouseHandled = false;
		this.element
			.uniqueId()
			.attr( {
				role: this.options.role,
				tabIndex: 0
			} );

		this._addClass( "ui-menu", "ui-widget ui-widget-content" );
		this._on( {

			// Prevent focus from sticking to links inside menu after clicking
			// them (focus should always stay on UL during navigation).
			"mousedown .ui-menu-item": function( event ) {
				event.preventDefault();
			},
			"click .ui-menu-item": function( event ) {
				var target = $( event.target );
				var active = $( $.ui.safeActiveElement( this.document[ 0 ] ) );
				if ( !this.mouseHandled && target.not( ".ui-state-disabled" ).length ) {
					this.select( event );

					// Only set the mouseHandled flag if the event will bubble, see #9469.
					if ( !event.isPropagationStopped() ) {
						this.mouseHandled = true;
					}

					// Open submenu on click
					if ( target.has( ".ui-menu" ).length ) {
						this.expand( event );
					} else if ( !this.element.is( ":focus" ) &&
							active.closest( ".ui-menu" ).length ) {

						// Redirect focus to the menu
						this.element.trigger( "focus", [ true ] );

						// If the active item is on the top level, let it stay active.
						// Otherwise, blur the active item since it is no longer visible.
						if ( this.active && this.active.parents( ".ui-menu" ).length === 1 ) {
							clearTimeout( this.timer );
						}
					}
				}
			},
			"mouseenter .ui-menu-item": function( event ) {

				// Ignore mouse events while typeahead is active, see #10458.
				// Prevents focusing the wrong item when typeahead causes a scroll while the mouse
				// is over an item in the menu
				if ( this.previousFilter ) {
					return;
				}

				var actualTarget = $( event.target ).closest( ".ui-menu-item" ),
					target = $( event.currentTarget );

				// Ignore bubbled events on parent items, see #11641
				if ( actualTarget[ 0 ] !== target[ 0 ] ) {
					return;
				}

				// Remove ui-state-active class from siblings of the newly focused menu item
				// to avoid a jump caused by adjacent elements both having a class with a border
				this._removeClass( target.siblings().children( ".ui-state-active" ),
					null, "ui-state-active" );
				this.focus( event, target );
			},
			mouseleave: "collapseAll",
			"mouseleave .ui-menu": "collapseAll",
			focus: function( event, keepActiveItem ) {

				// If there's already an active item, keep it active
				// If not, activate the first item
				var item = this.active || this.element.find( this.options.items ).eq( 0 );

				if ( !keepActiveItem ) {
					this.focus( event, item );
				}
			},
			blur: function( event ) {
				this._delay( function() {
					var notContained = !$.contains(
						this.element[ 0 ],
						$.ui.safeActiveElement( this.document[ 0 ] )
					);
					if ( notContained ) {
						this.collapseAll( event );
					}
				} );
			},
			keydown: "_keydown"
		} );

		this.refresh();

		// Clicks outside of a menu collapse any open menus
		this._on( this.document, {
			click: function( event ) {
				if ( this._closeOnDocumentClick( event ) ) {
					this.collapseAll( event );
				}

				// Reset the mouseHandled flag
				this.mouseHandled = false;
			}
		} );
	},

	_destroy: function() {
		var items = this.element.find( ".ui-menu-item" )
				.removeAttr( "role aria-disabled" ),
			submenus = items.children( ".ui-menu-item-wrapper" )
				.removeUniqueId()
				.removeAttr( "tabIndex role aria-haspopup" );

		// Destroy (sub)menus
		this.element
			.removeAttr( "aria-activedescendant" )
			.find( ".ui-menu" ).addBack()
				.removeAttr( "role aria-labelledby aria-expanded aria-hidden aria-disabled " +
					"tabIndex" )
				.removeUniqueId()
				.show();

		submenus.children().each( function() {
			var elem = $( this );
			if ( elem.data( "ui-menu-submenu-caret" ) ) {
				elem.remove();
			}
		} );
	},

	_keydown: function( event ) {
		var match, prev, character, skip,
			preventDefault = true;

		switch ( event.keyCode ) {
		case $.ui.keyCode.PAGE_UP:
			this.previousPage( event );
			break;
		case $.ui.keyCode.PAGE_DOWN:
			this.nextPage( event );
			break;
		case $.ui.keyCode.HOME:
			this._move( "first", "first", event );
			break;
		case $.ui.keyCode.END:
			this._move( "last", "last", event );
			break;
		case $.ui.keyCode.UP:
			this.previous( event );
			break;
		case $.ui.keyCode.DOWN:
			this.next( event );
			break;
		case $.ui.keyCode.LEFT:
			this.collapse( event );
			break;
		case $.ui.keyCode.RIGHT:
			if ( this.active && !this.active.is( ".ui-state-disabled" ) ) {
				this.expand( event );
			}
			break;
		case $.ui.keyCode.ENTER:
		case $.ui.keyCode.SPACE:
			this._activate( event );
			break;
		case $.ui.keyCode.ESCAPE:
			this.collapse( event );
			break;
		default:
			preventDefault = false;
			prev = this.previousFilter || "";
			skip = false;

			// Support number pad values
			character = event.keyCode >= 96 && event.keyCode <= 105 ?
				( event.keyCode - 96 ).toString() : String.fromCharCode( event.keyCode );

			clearTimeout( this.filterTimer );

			if ( character === prev ) {
				skip = true;
			} else {
				character = prev + character;
			}

			match = this._filterMenuItems( character );
			match = skip && match.index( this.active.next() ) !== -1 ?
				this.active.nextAll( ".ui-menu-item" ) :
				match;

			// If no matches on the current filter, reset to the last character pressed
			// to move down the menu to the first item that starts with that character
			if ( !match.length ) {
				character = String.fromCharCode( event.keyCode );
				match = this._filterMenuItems( character );
			}

			if ( match.length ) {
				this.focus( event, match );
				this.previousFilter = character;
				this.filterTimer = this._delay( function() {
					delete this.previousFilter;
				}, 1000 );
			} else {
				delete this.previousFilter;
			}
		}

		if ( preventDefault ) {
			event.preventDefault();
		}
	},

	_activate: function( event ) {
		if ( this.active && !this.active.is( ".ui-state-disabled" ) ) {
			if ( this.active.children( "[aria-haspopup='true']" ).length ) {
				this.expand( event );
			} else {
				this.select( event );
			}
		}
	},

	refresh: function() {
		var menus, items, newSubmenus, newItems, newWrappers,
			that = this,
			icon = this.options.icons.submenu,
			submenus = this.element.find( this.options.menus );

		this._toggleClass( "ui-menu-icons", null, !!this.element.find( ".ui-icon" ).length );

		// Initialize nested menus
		newSubmenus = submenus.filter( ":not(.ui-menu)" )
			.hide()
			.attr( {
				role: this.options.role,
				"aria-hidden": "true",
				"aria-expanded": "false"
			} )
			.each( function() {
				var menu = $( this ),
					item = menu.prev(),
					submenuCaret = $( "<span>" ).data( "ui-menu-submenu-caret", true );

				that._addClass( submenuCaret, "ui-menu-icon", "ui-icon " + icon );
				item
					.attr( "aria-haspopup", "true" )
					.prepend( submenuCaret );
				menu.attr( "aria-labelledby", item.attr( "id" ) );
			} );

		this._addClass( newSubmenus, "ui-menu", "ui-widget ui-widget-content ui-front" );

		menus = submenus.add( this.element );
		items = menus.find( this.options.items );

		// Initialize menu-items containing spaces and/or dashes only as dividers
		items.not( ".ui-menu-item" ).each( function() {
			var item = $( this );
			if ( that._isDivider( item ) ) {
				that._addClass( item, "ui-menu-divider", "ui-widget-content" );
			}
		} );

		// Don't refresh list items that are already adapted
		newItems = items.not( ".ui-menu-item, .ui-menu-divider" );
		newWrappers = newItems.children()
			.not( ".ui-menu" )
				.uniqueId()
				.attr( {
					tabIndex: -1,
					role: this._itemRole()
				} );
		this._addClass( newItems, "ui-menu-item" )
			._addClass( newWrappers, "ui-menu-item-wrapper" );

		// Add aria-disabled attribute to any disabled menu item
		items.filter( ".ui-state-disabled" ).attr( "aria-disabled", "true" );

		// If the active item has been removed, blur the menu
		if ( this.active && !$.contains( this.element[ 0 ], this.active[ 0 ] ) ) {
			this.blur();
		}
	},

	_itemRole: function() {
		return {
			menu: "menuitem",
			listbox: "option"
		}[ this.options.role ];
	},

	_setOption: function( key, value ) {
		if ( key === "icons" ) {
			var icons = this.element.find( ".ui-menu-icon" );
			this._removeClass( icons, null, this.options.icons.submenu )
				._addClass( icons, null, value.submenu );
		}
		this._super( key, value );
	},

	_setOptionDisabled: function( value ) {
		this._super( value );

		this.element.attr( "aria-disabled", String( value ) );
		this._toggleClass( null, "ui-state-disabled", !!value );
	},

	focus: function( event, item ) {
		var nested, focused, activeParent;
		this.blur( event, event && event.type === "focus" );

		this._scrollIntoView( item );

		this.active = item.first();

		focused = this.active.children( ".ui-menu-item-wrapper" );
		this._addClass( focused, null, "ui-state-active" );

		// Only update aria-activedescendant if there's a role
		// otherwise we assume focus is managed elsewhere
		if ( this.options.role ) {
			this.element.attr( "aria-activedescendant", focused.attr( "id" ) );
		}

		// Highlight active parent menu item, if any
		activeParent = this.active
			.parent()
				.closest( ".ui-menu-item" )
					.children( ".ui-menu-item-wrapper" );
		this._addClass( activeParent, null, "ui-state-active" );

		if ( event && event.type === "keydown" ) {
			this._close();
		} else {
			this.timer = this._delay( function() {
				this._close();
			}, this.delay );
		}

		nested = item.children( ".ui-menu" );
		if ( nested.length && event && ( /^mouse/.test( event.type ) ) ) {
			this._startOpening( nested );
		}
		this.activeMenu = item.parent();

		this._trigger( "focus", event, { item: item } );
	},

	_scrollIntoView: function( item ) {
		var borderTop, paddingTop, offset, scroll, elementHeight, itemHeight;
		if ( this._hasScroll() ) {
			borderTop = parseFloat( $.css( this.activeMenu[ 0 ], "borderTopWidth" ) ) || 0;
			paddingTop = parseFloat( $.css( this.activeMenu[ 0 ], "paddingTop" ) ) || 0;
			offset = item.offset().top - this.activeMenu.offset().top - borderTop - paddingTop;
			scroll = this.activeMenu.scrollTop();
			elementHeight = this.activeMenu.height();
			itemHeight = item.outerHeight();

			if ( offset < 0 ) {
				this.activeMenu.scrollTop( scroll + offset );
			} else if ( offset + itemHeight > elementHeight ) {
				this.activeMenu.scrollTop( scroll + offset - elementHeight + itemHeight );
			}
		}
	},

	blur: function( event, fromFocus ) {
		if ( !fromFocus ) {
			clearTimeout( this.timer );
		}

		if ( !this.active ) {
			return;
		}

		this._removeClass( this.active.children( ".ui-menu-item-wrapper" ),
			null, "ui-state-active" );

		this._trigger( "blur", event, { item: this.active } );
		this.active = null;
	},

	_startOpening: function( submenu ) {
		clearTimeout( this.timer );

		// Don't open if already open fixes a Firefox bug that caused a .5 pixel
		// shift in the submenu position when mousing over the caret icon
		if ( submenu.attr( "aria-hidden" ) !== "true" ) {
			return;
		}

		this.timer = this._delay( function() {
			this._close();
			this._open( submenu );
		}, this.delay );
	},

	_open: function( submenu ) {
		var position = $.extend( {
			of: this.active
		}, this.options.position );

		clearTimeout( this.timer );
		this.element.find( ".ui-menu" ).not( submenu.parents( ".ui-menu" ) )
			.hide()
			.attr( "aria-hidden", "true" );

		submenu
			.show()
			.removeAttr( "aria-hidden" )
			.attr( "aria-expanded", "true" )
			.position( position );
	},

	collapseAll: function( event, all ) {
		clearTimeout( this.timer );
		this.timer = this._delay( function() {

			// If we were passed an event, look for the submenu that contains the event
			var currentMenu = all ? this.element :
				$( event && event.target ).closest( this.element.find( ".ui-menu" ) );

			// If we found no valid submenu ancestor, use the main menu to close all
			// sub menus anyway
			if ( !currentMenu.length ) {
				currentMenu = this.element;
			}

			this._close( currentMenu );

			this.blur( event );

			// Work around active item staying active after menu is blurred
			this._removeClass( currentMenu.find( ".ui-state-active" ), null, "ui-state-active" );

			this.activeMenu = currentMenu;
		}, this.delay );
	},

	// With no arguments, closes the currently active menu - if nothing is active
	// it closes all menus.  If passed an argument, it will search for menus BELOW
	_close: function( startMenu ) {
		if ( !startMenu ) {
			startMenu = this.active ? this.active.parent() : this.element;
		}

		startMenu.find( ".ui-menu" )
			.hide()
			.attr( "aria-hidden", "true" )
			.attr( "aria-expanded", "false" );
	},

	_closeOnDocumentClick: function( event ) {
		return !$( event.target ).closest( ".ui-menu" ).length;
	},

	_isDivider: function( item ) {

		// Match hyphen, em dash, en dash
		return !/[^\-\u2014\u2013\s]/.test( item.text() );
	},

	collapse: function( event ) {
		var newItem = this.active &&
			this.active.parent().closest( ".ui-menu-item", this.element );
		if ( newItem && newItem.length ) {
			this._close();
			this.focus( event, newItem );
		}
	},

	expand: function( event ) {
		var newItem = this.active &&
			this.active
				.children( ".ui-menu " )
					.find( this.options.items )
						.first();

		if ( newItem && newItem.length ) {
			this._open( newItem.parent() );

			// Delay so Firefox will not hide activedescendant change in expanding submenu from AT
			this._delay( function() {
				this.focus( event, newItem );
			} );
		}
	},

	next: function( event ) {
		this._move( "next", "first", event );
	},

	previous: function( event ) {
		this._move( "prev", "last", event );
	},

	isFirstItem: function() {
		return this.active && !this.active.prevAll( ".ui-menu-item" ).length;
	},

	isLastItem: function() {
		return this.active && !this.active.nextAll( ".ui-menu-item" ).length;
	},

	_move: function( direction, filter, event ) {
		var next;
		if ( this.active ) {
			if ( direction === "first" || direction === "last" ) {
				next = this.active
					[ direction === "first" ? "prevAll" : "nextAll" ]( ".ui-menu-item" )
					.eq( -1 );
			} else {
				next = this.active
					[ direction + "All" ]( ".ui-menu-item" )
					.eq( 0 );
			}
		}
		if ( !next || !next.length || !this.active ) {
			next = this.activeMenu.find( this.options.items )[ filter ]();
		}

		this.focus( event, next );
	},

	nextPage: function( event ) {
		var item, base, height;

		if ( !this.active ) {
			this.next( event );
			return;
		}
		if ( this.isLastItem() ) {
			return;
		}
		if ( this._hasScroll() ) {
			base = this.active.offset().top;
			height = this.element.height();
			this.active.nextAll( ".ui-menu-item" ).each( function() {
				item = $( this );
				return item.offset().top - base - height < 0;
			} );

			this.focus( event, item );
		} else {
			this.focus( event, this.activeMenu.find( this.options.items )
				[ !this.active ? "first" : "last" ]() );
		}
	},

	previousPage: function( event ) {
		var item, base, height;
		if ( !this.active ) {
			this.next( event );
			return;
		}
		if ( this.isFirstItem() ) {
			return;
		}
		if ( this._hasScroll() ) {
			base = this.active.offset().top;
			height = this.element.height();
			this.active.prevAll( ".ui-menu-item" ).each( function() {
				item = $( this );
				return item.offset().top - base + height > 0;
			} );

			this.focus( event, item );
		} else {
			this.focus( event, this.activeMenu.find( this.options.items ).first() );
		}
	},

	_hasScroll: function() {
		return this.element.outerHeight() < this.element.prop( "scrollHeight" );
	},

	select: function( event ) {

		// TODO: It should never be possible to not have an active item at this
		// point, but the tests don't trigger mouseenter before click.
		this.active = this.active || $( event.target ).closest( ".ui-menu-item" );
		var ui = { item: this.active };
		if ( !this.active.has( ".ui-menu" ).length ) {
			this.collapseAll( event, true );
		}
		this._trigger( "select", event, ui );
	},

	_filterMenuItems: function( character ) {
		var escapedCharacter = character.replace( /[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&" ),
			regex = new RegExp( "^" + escapedCharacter, "i" );

		return this.activeMenu
			.find( this.options.items )

				// Only match on items, not dividers or other content (#10571)
				.filter( ".ui-menu-item" )
					.filter( function() {
						return regex.test(
							$.trim( $( this ).children( ".ui-menu-item-wrapper" ).text() ) );
					} );
	}
} );

} ) );

},{}],63:[function(require,module,exports){
/*!
 * jQuery UI Mouse 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Mouse
//>>group: Widgets
//>>description: Abstracts mouse-based interactions to assist in creating certain widgets.
//>>docs: http://api.jqueryui.com/mouse/

( function( factory ) {
	if ( typeof define === "function" && define.amd ) {

		// AMD. Register as an anonymous module.
		define( [
			"jquery",
			"../ie",
			"../version",
			"../widget"
		], factory );
	} else {

		// Browser globals
		factory( jQuery );
	}
}( function( $ ) {

var mouseHandled = false;
$( document ).on( "mouseup", function() {
	mouseHandled = false;
} );

return $.widget( "ui.mouse", {
	version: "1.12.1",
	options: {
		cancel: "input, textarea, button, select, option",
		distance: 1,
		delay: 0
	},
	_mouseInit: function() {
		var that = this;

		this.element
			.on( "mousedown." + this.widgetName, function( event ) {
				return that._mouseDown( event );
			} )
			.on( "click." + this.widgetName, function( event ) {
				if ( true === $.data( event.target, that.widgetName + ".preventClickEvent" ) ) {
					$.removeData( event.target, that.widgetName + ".preventClickEvent" );
					event.stopImmediatePropagation();
					return false;
				}
			} );

		this.started = false;
	},

	// TODO: make sure destroying one instance of mouse doesn't mess with
	// other instances of mouse
	_mouseDestroy: function() {
		this.element.off( "." + this.widgetName );
		if ( this._mouseMoveDelegate ) {
			this.document
				.off( "mousemove." + this.widgetName, this._mouseMoveDelegate )
				.off( "mouseup." + this.widgetName, this._mouseUpDelegate );
		}
	},

	_mouseDown: function( event ) {

		// don't let more than one widget handle mouseStart
		if ( mouseHandled ) {
			return;
		}

		this._mouseMoved = false;

		// We may have missed mouseup (out of window)
		( this._mouseStarted && this._mouseUp( event ) );

		this._mouseDownEvent = event;

		var that = this,
			btnIsLeft = ( event.which === 1 ),

			// event.target.nodeName works around a bug in IE 8 with
			// disabled inputs (#7620)
			elIsCancel = ( typeof this.options.cancel === "string" && event.target.nodeName ?
				$( event.target ).closest( this.options.cancel ).length : false );
		if ( !btnIsLeft || elIsCancel || !this._mouseCapture( event ) ) {
			return true;
		}

		this.mouseDelayMet = !this.options.delay;
		if ( !this.mouseDelayMet ) {
			this._mouseDelayTimer = setTimeout( function() {
				that.mouseDelayMet = true;
			}, this.options.delay );
		}

		if ( this._mouseDistanceMet( event ) && this._mouseDelayMet( event ) ) {
			this._mouseStarted = ( this._mouseStart( event ) !== false );
			if ( !this._mouseStarted ) {
				event.preventDefault();
				return true;
			}
		}

		// Click event may never have fired (Gecko & Opera)
		if ( true === $.data( event.target, this.widgetName + ".preventClickEvent" ) ) {
			$.removeData( event.target, this.widgetName + ".preventClickEvent" );
		}

		// These delegates are required to keep context
		this._mouseMoveDelegate = function( event ) {
			return that._mouseMove( event );
		};
		this._mouseUpDelegate = function( event ) {
			return that._mouseUp( event );
		};

		this.document
			.on( "mousemove." + this.widgetName, this._mouseMoveDelegate )
			.on( "mouseup." + this.widgetName, this._mouseUpDelegate );

		event.preventDefault();

		mouseHandled = true;
		return true;
	},

	_mouseMove: function( event ) {

		// Only check for mouseups outside the document if you've moved inside the document
		// at least once. This prevents the firing of mouseup in the case of IE<9, which will
		// fire a mousemove event if content is placed under the cursor. See #7778
		// Support: IE <9
		if ( this._mouseMoved ) {

			// IE mouseup check - mouseup happened when mouse was out of window
			if ( $.ui.ie && ( !document.documentMode || document.documentMode < 9 ) &&
					!event.button ) {
				return this._mouseUp( event );

			// Iframe mouseup check - mouseup occurred in another document
			} else if ( !event.which ) {

				// Support: Safari <=8 - 9
				// Safari sets which to 0 if you press any of the following keys
				// during a drag (#14461)
				if ( event.originalEvent.altKey || event.originalEvent.ctrlKey ||
						event.originalEvent.metaKey || event.originalEvent.shiftKey ) {
					this.ignoreMissingWhich = true;
				} else if ( !this.ignoreMissingWhich ) {
					return this._mouseUp( event );
				}
			}
		}

		if ( event.which || event.button ) {
			this._mouseMoved = true;
		}

		if ( this._mouseStarted ) {
			this._mouseDrag( event );
			return event.preventDefault();
		}

		if ( this._mouseDistanceMet( event ) && this._mouseDelayMet( event ) ) {
			this._mouseStarted =
				( this._mouseStart( this._mouseDownEvent, event ) !== false );
			( this._mouseStarted ? this._mouseDrag( event ) : this._mouseUp( event ) );
		}

		return !this._mouseStarted;
	},

	_mouseUp: function( event ) {
		this.document
			.off( "mousemove." + this.widgetName, this._mouseMoveDelegate )
			.off( "mouseup." + this.widgetName, this._mouseUpDelegate );

		if ( this._mouseStarted ) {
			this._mouseStarted = false;

			if ( event.target === this._mouseDownEvent.target ) {
				$.data( event.target, this.widgetName + ".preventClickEvent", true );
			}

			this._mouseStop( event );
		}

		if ( this._mouseDelayTimer ) {
			clearTimeout( this._mouseDelayTimer );
			delete this._mouseDelayTimer;
		}

		this.ignoreMissingWhich = false;
		mouseHandled = false;
		event.preventDefault();
	},

	_mouseDistanceMet: function( event ) {
		return ( Math.max(
				Math.abs( this._mouseDownEvent.pageX - event.pageX ),
				Math.abs( this._mouseDownEvent.pageY - event.pageY )
			) >= this.options.distance
		);
	},

	_mouseDelayMet: function( /* event */ ) {
		return this.mouseDelayMet;
	},

	// These are placeholder methods, to be overriden by extending plugin
	_mouseStart: function( /* event */ ) {},
	_mouseDrag: function( /* event */ ) {},
	_mouseStop: function( /* event */ ) {},
	_mouseCapture: function( /* event */ ) { return true; }
} );

} ) );

},{}],64:[function(require,module,exports){
/*!
 * jQuery UI Sortable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Sortable
//>>group: Interactions
//>>description: Enables items in a list to be sorted using the mouse.
//>>docs: http://api.jqueryui.com/sortable/
//>>demos: http://jqueryui.com/sortable/
//>>css.structure: ../../themes/base/sortable.css

( function( factory ) {
	if ( typeof define === "function" && define.amd ) {

		// AMD. Register as an anonymous module.
		define( [
			"jquery",
			"./mouse",
			"../data",
			"../ie",
			"../scroll-parent",
			"../version",
			"../widget"
		], factory );
	} else {

		// Browser globals
		factory( jQuery );
	}
}( function( $ ) {

return $.widget( "ui.sortable", $.ui.mouse, {
	version: "1.12.1",
	widgetEventPrefix: "sort",
	ready: false,
	options: {
		appendTo: "parent",
		axis: false,
		connectWith: false,
		containment: false,
		cursor: "auto",
		cursorAt: false,
		dropOnEmpty: true,
		forcePlaceholderSize: false,
		forceHelperSize: false,
		grid: false,
		handle: false,
		helper: "original",
		items: "> *",
		opacity: false,
		placeholder: false,
		revert: false,
		scroll: true,
		scrollSensitivity: 20,
		scrollSpeed: 20,
		scope: "default",
		tolerance: "intersect",
		zIndex: 1000,

		// Callbacks
		activate: null,
		beforeStop: null,
		change: null,
		deactivate: null,
		out: null,
		over: null,
		receive: null,
		remove: null,
		sort: null,
		start: null,
		stop: null,
		update: null
	},

	_isOverAxis: function( x, reference, size ) {
		return ( x >= reference ) && ( x < ( reference + size ) );
	},

	_isFloating: function( item ) {
		return ( /left|right/ ).test( item.css( "float" ) ) ||
			( /inline|table-cell/ ).test( item.css( "display" ) );
	},

	_create: function() {
		this.containerCache = {};
		this._addClass( "ui-sortable" );

		//Get the items
		this.refresh();

		//Let's determine the parent's offset
		this.offset = this.element.offset();

		//Initialize mouse events for interaction
		this._mouseInit();

		this._setHandleClassName();

		//We're ready to go
		this.ready = true;

	},

	_setOption: function( key, value ) {
		this._super( key, value );

		if ( key === "handle" ) {
			this._setHandleClassName();
		}
	},

	_setHandleClassName: function() {
		var that = this;
		this._removeClass( this.element.find( ".ui-sortable-handle" ), "ui-sortable-handle" );
		$.each( this.items, function() {
			that._addClass(
				this.instance.options.handle ?
					this.item.find( this.instance.options.handle ) :
					this.item,
				"ui-sortable-handle"
			);
		} );
	},

	_destroy: function() {
		this._mouseDestroy();

		for ( var i = this.items.length - 1; i >= 0; i-- ) {
			this.items[ i ].item.removeData( this.widgetName + "-item" );
		}

		return this;
	},

	_mouseCapture: function( event, overrideHandle ) {
		var currentItem = null,
			validHandle = false,
			that = this;

		if ( this.reverting ) {
			return false;
		}

		if ( this.options.disabled || this.options.type === "static" ) {
			return false;
		}

		//We have to refresh the items data once first
		this._refreshItems( event );

		//Find out if the clicked node (or one of its parents) is a actual item in this.items
		$( event.target ).parents().each( function() {
			if ( $.data( this, that.widgetName + "-item" ) === that ) {
				currentItem = $( this );
				return false;
			}
		} );
		if ( $.data( event.target, that.widgetName + "-item" ) === that ) {
			currentItem = $( event.target );
		}

		if ( !currentItem ) {
			return false;
		}
		if ( this.options.handle && !overrideHandle ) {
			$( this.options.handle, currentItem ).find( "*" ).addBack().each( function() {
				if ( this === event.target ) {
					validHandle = true;
				}
			} );
			if ( !validHandle ) {
				return false;
			}
		}

		this.currentItem = currentItem;
		this._removeCurrentsFromItems();
		return true;

	},

	_mouseStart: function( event, overrideHandle, noActivation ) {

		var i, body,
			o = this.options;

		this.currentContainer = this;

		//We only need to call refreshPositions, because the refreshItems call has been moved to
		// mouseCapture
		this.refreshPositions();

		//Create and append the visible helper
		this.helper = this._createHelper( event );

		//Cache the helper size
		this._cacheHelperProportions();

		/*
		 * - Position generation -
		 * This block generates everything position related - it's the core of draggables.
		 */

		//Cache the margins of the original element
		this._cacheMargins();

		//Get the next scrolling parent
		this.scrollParent = this.helper.scrollParent();

		//The element's absolute position on the page minus margins
		this.offset = this.currentItem.offset();
		this.offset = {
			top: this.offset.top - this.margins.top,
			left: this.offset.left - this.margins.left
		};

		$.extend( this.offset, {
			click: { //Where the click happened, relative to the element
				left: event.pageX - this.offset.left,
				top: event.pageY - this.offset.top
			},
			parent: this._getParentOffset(),

			// This is a relative to absolute position minus the actual position calculation -
			// only used for relative positioned helper
			relative: this._getRelativeOffset()
		} );

		// Only after we got the offset, we can change the helper's position to absolute
		// TODO: Still need to figure out a way to make relative sorting possible
		this.helper.css( "position", "absolute" );
		this.cssPosition = this.helper.css( "position" );

		//Generate the original position
		this.originalPosition = this._generatePosition( event );
		this.originalPageX = event.pageX;
		this.originalPageY = event.pageY;

		//Adjust the mouse offset relative to the helper if "cursorAt" is supplied
		( o.cursorAt && this._adjustOffsetFromHelper( o.cursorAt ) );

		//Cache the former DOM position
		this.domPosition = {
			prev: this.currentItem.prev()[ 0 ],
			parent: this.currentItem.parent()[ 0 ]
		};

		// If the helper is not the original, hide the original so it's not playing any role during
		// the drag, won't cause anything bad this way
		if ( this.helper[ 0 ] !== this.currentItem[ 0 ] ) {
			this.currentItem.hide();
		}

		//Create the placeholder
		this._createPlaceholder();

		//Set a containment if given in the options
		if ( o.containment ) {
			this._setContainment();
		}

		if ( o.cursor && o.cursor !== "auto" ) { // cursor option
			body = this.document.find( "body" );

			// Support: IE
			this.storedCursor = body.css( "cursor" );
			body.css( "cursor", o.cursor );

			this.storedStylesheet =
				$( "<style>*{ cursor: " + o.cursor + " !important; }</style>" ).appendTo( body );
		}

		if ( o.opacity ) { // opacity option
			if ( this.helper.css( "opacity" ) ) {
				this._storedOpacity = this.helper.css( "opacity" );
			}
			this.helper.css( "opacity", o.opacity );
		}

		if ( o.zIndex ) { // zIndex option
			if ( this.helper.css( "zIndex" ) ) {
				this._storedZIndex = this.helper.css( "zIndex" );
			}
			this.helper.css( "zIndex", o.zIndex );
		}

		//Prepare scrolling
		if ( this.scrollParent[ 0 ] !== this.document[ 0 ] &&
				this.scrollParent[ 0 ].tagName !== "HTML" ) {
			this.overflowOffset = this.scrollParent.offset();
		}

		//Call callbacks
		this._trigger( "start", event, this._uiHash() );

		//Recache the helper size
		if ( !this._preserveHelperProportions ) {
			this._cacheHelperProportions();
		}

		//Post "activate" events to possible containers
		if ( !noActivation ) {
			for ( i = this.containers.length - 1; i >= 0; i-- ) {
				this.containers[ i ]._trigger( "activate", event, this._uiHash( this ) );
			}
		}

		//Prepare possible droppables
		if ( $.ui.ddmanager ) {
			$.ui.ddmanager.current = this;
		}

		if ( $.ui.ddmanager && !o.dropBehaviour ) {
			$.ui.ddmanager.prepareOffsets( this, event );
		}

		this.dragging = true;

		this._addClass( this.helper, "ui-sortable-helper" );

		// Execute the drag once - this causes the helper not to be visiblebefore getting its
		// correct position
		this._mouseDrag( event );
		return true;

	},

	_mouseDrag: function( event ) {
		var i, item, itemElement, intersection,
			o = this.options,
			scrolled = false;

		//Compute the helpers position
		this.position = this._generatePosition( event );
		this.positionAbs = this._convertPositionTo( "absolute" );

		if ( !this.lastPositionAbs ) {
			this.lastPositionAbs = this.positionAbs;
		}

		//Do scrolling
		if ( this.options.scroll ) {
			if ( this.scrollParent[ 0 ] !== this.document[ 0 ] &&
					this.scrollParent[ 0 ].tagName !== "HTML" ) {

				if ( ( this.overflowOffset.top + this.scrollParent[ 0 ].offsetHeight ) -
						event.pageY < o.scrollSensitivity ) {
					this.scrollParent[ 0 ].scrollTop =
						scrolled = this.scrollParent[ 0 ].scrollTop + o.scrollSpeed;
				} else if ( event.pageY - this.overflowOffset.top < o.scrollSensitivity ) {
					this.scrollParent[ 0 ].scrollTop =
						scrolled = this.scrollParent[ 0 ].scrollTop - o.scrollSpeed;
				}

				if ( ( this.overflowOffset.left + this.scrollParent[ 0 ].offsetWidth ) -
						event.pageX < o.scrollSensitivity ) {
					this.scrollParent[ 0 ].scrollLeft = scrolled =
						this.scrollParent[ 0 ].scrollLeft + o.scrollSpeed;
				} else if ( event.pageX - this.overflowOffset.left < o.scrollSensitivity ) {
					this.scrollParent[ 0 ].scrollLeft = scrolled =
						this.scrollParent[ 0 ].scrollLeft - o.scrollSpeed;
				}

			} else {

				if ( event.pageY - this.document.scrollTop() < o.scrollSensitivity ) {
					scrolled = this.document.scrollTop( this.document.scrollTop() - o.scrollSpeed );
				} else if ( this.window.height() - ( event.pageY - this.document.scrollTop() ) <
						o.scrollSensitivity ) {
					scrolled = this.document.scrollTop( this.document.scrollTop() + o.scrollSpeed );
				}

				if ( event.pageX - this.document.scrollLeft() < o.scrollSensitivity ) {
					scrolled = this.document.scrollLeft(
						this.document.scrollLeft() - o.scrollSpeed
					);
				} else if ( this.window.width() - ( event.pageX - this.document.scrollLeft() ) <
						o.scrollSensitivity ) {
					scrolled = this.document.scrollLeft(
						this.document.scrollLeft() + o.scrollSpeed
					);
				}

			}

			if ( scrolled !== false && $.ui.ddmanager && !o.dropBehaviour ) {
				$.ui.ddmanager.prepareOffsets( this, event );
			}
		}

		//Regenerate the absolute position used for position checks
		this.positionAbs = this._convertPositionTo( "absolute" );

		//Set the helper position
		if ( !this.options.axis || this.options.axis !== "y" ) {
			this.helper[ 0 ].style.left = this.position.left + "px";
		}
		if ( !this.options.axis || this.options.axis !== "x" ) {
			this.helper[ 0 ].style.top = this.position.top + "px";
		}

		//Rearrange
		for ( i = this.items.length - 1; i >= 0; i-- ) {

			//Cache variables and intersection, continue if no intersection
			item = this.items[ i ];
			itemElement = item.item[ 0 ];
			intersection = this._intersectsWithPointer( item );
			if ( !intersection ) {
				continue;
			}

			// Only put the placeholder inside the current Container, skip all
			// items from other containers. This works because when moving
			// an item from one container to another the
			// currentContainer is switched before the placeholder is moved.
			//
			// Without this, moving items in "sub-sortables" can cause
			// the placeholder to jitter between the outer and inner container.
			if ( item.instance !== this.currentContainer ) {
				continue;
			}

			// Cannot intersect with itself
			// no useless actions that have been done before
			// no action if the item moved is the parent of the item checked
			if ( itemElement !== this.currentItem[ 0 ] &&
				this.placeholder[ intersection === 1 ? "next" : "prev" ]()[ 0 ] !== itemElement &&
				!$.contains( this.placeholder[ 0 ], itemElement ) &&
				( this.options.type === "semi-dynamic" ?
					!$.contains( this.element[ 0 ], itemElement ) :
					true
				)
			) {

				this.direction = intersection === 1 ? "down" : "up";

				if ( this.options.tolerance === "pointer" || this._intersectsWithSides( item ) ) {
					this._rearrange( event, item );
				} else {
					break;
				}

				this._trigger( "change", event, this._uiHash() );
				break;
			}
		}

		//Post events to containers
		this._contactContainers( event );

		//Interconnect with droppables
		if ( $.ui.ddmanager ) {
			$.ui.ddmanager.drag( this, event );
		}

		//Call callbacks
		this._trigger( "sort", event, this._uiHash() );

		this.lastPositionAbs = this.positionAbs;
		return false;

	},

	_mouseStop: function( event, noPropagation ) {

		if ( !event ) {
			return;
		}

		//If we are using droppables, inform the manager about the drop
		if ( $.ui.ddmanager && !this.options.dropBehaviour ) {
			$.ui.ddmanager.drop( this, event );
		}

		if ( this.options.revert ) {
			var that = this,
				cur = this.placeholder.offset(),
				axis = this.options.axis,
				animation = {};

			if ( !axis || axis === "x" ) {
				animation.left = cur.left - this.offset.parent.left - this.margins.left +
					( this.offsetParent[ 0 ] === this.document[ 0 ].body ?
						0 :
						this.offsetParent[ 0 ].scrollLeft
					);
			}
			if ( !axis || axis === "y" ) {
				animation.top = cur.top - this.offset.parent.top - this.margins.top +
					( this.offsetParent[ 0 ] === this.document[ 0 ].body ?
						0 :
						this.offsetParent[ 0 ].scrollTop
					);
			}
			this.reverting = true;
			$( this.helper ).animate(
				animation,
				parseInt( this.options.revert, 10 ) || 500,
				function() {
					that._clear( event );
				}
			);
		} else {
			this._clear( event, noPropagation );
		}

		return false;

	},

	cancel: function() {

		if ( this.dragging ) {

			this._mouseUp( new $.Event( "mouseup", { target: null } ) );

			if ( this.options.helper === "original" ) {
				this.currentItem.css( this._storedCSS );
				this._removeClass( this.currentItem, "ui-sortable-helper" );
			} else {
				this.currentItem.show();
			}

			//Post deactivating events to containers
			for ( var i = this.containers.length - 1; i >= 0; i-- ) {
				this.containers[ i ]._trigger( "deactivate", null, this._uiHash( this ) );
				if ( this.containers[ i ].containerCache.over ) {
					this.containers[ i ]._trigger( "out", null, this._uiHash( this ) );
					this.containers[ i ].containerCache.over = 0;
				}
			}

		}

		if ( this.placeholder ) {

			//$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately,
			// it unbinds ALL events from the original node!
			if ( this.placeholder[ 0 ].parentNode ) {
				this.placeholder[ 0 ].parentNode.removeChild( this.placeholder[ 0 ] );
			}
			if ( this.options.helper !== "original" && this.helper &&
					this.helper[ 0 ].parentNode ) {
				this.helper.remove();
			}

			$.extend( this, {
				helper: null,
				dragging: false,
				reverting: false,
				_noFinalSort: null
			} );

			if ( this.domPosition.prev ) {
				$( this.domPosition.prev ).after( this.currentItem );
			} else {
				$( this.domPosition.parent ).prepend( this.currentItem );
			}
		}

		return this;

	},

	serialize: function( o ) {

		var items = this._getItemsAsjQuery( o && o.connected ),
			str = [];
		o = o || {};

		$( items ).each( function() {
			var res = ( $( o.item || this ).attr( o.attribute || "id" ) || "" )
				.match( o.expression || ( /(.+)[\-=_](.+)/ ) );
			if ( res ) {
				str.push(
					( o.key || res[ 1 ] + "[]" ) +
					"=" + ( o.key && o.expression ? res[ 1 ] : res[ 2 ] ) );
			}
		} );

		if ( !str.length && o.key ) {
			str.push( o.key + "=" );
		}

		return str.join( "&" );

	},

	toArray: function( o ) {

		var items = this._getItemsAsjQuery( o && o.connected ),
			ret = [];

		o = o || {};

		items.each( function() {
			ret.push( $( o.item || this ).attr( o.attribute || "id" ) || "" );
		} );
		return ret;

	},

	/* Be careful with the following core functions */
	_intersectsWith: function( item ) {

		var x1 = this.positionAbs.left,
			x2 = x1 + this.helperProportions.width,
			y1 = this.positionAbs.top,
			y2 = y1 + this.helperProportions.height,
			l = item.left,
			r = l + item.width,
			t = item.top,
			b = t + item.height,
			dyClick = this.offset.click.top,
			dxClick = this.offset.click.left,
			isOverElementHeight = ( this.options.axis === "x" ) || ( ( y1 + dyClick ) > t &&
				( y1 + dyClick ) < b ),
			isOverElementWidth = ( this.options.axis === "y" ) || ( ( x1 + dxClick ) > l &&
				( x1 + dxClick ) < r ),
			isOverElement = isOverElementHeight && isOverElementWidth;

		if ( this.options.tolerance === "pointer" ||
			this.options.forcePointerForContainers ||
			( this.options.tolerance !== "pointer" &&
				this.helperProportions[ this.floating ? "width" : "height" ] >
				item[ this.floating ? "width" : "height" ] )
		) {
			return isOverElement;
		} else {

			return ( l < x1 + ( this.helperProportions.width / 2 ) && // Right Half
				x2 - ( this.helperProportions.width / 2 ) < r && // Left Half
				t < y1 + ( this.helperProportions.height / 2 ) && // Bottom Half
				y2 - ( this.helperProportions.height / 2 ) < b ); // Top Half

		}
	},

	_intersectsWithPointer: function( item ) {
		var verticalDirection, horizontalDirection,
			isOverElementHeight = ( this.options.axis === "x" ) ||
				this._isOverAxis(
					this.positionAbs.top + this.offset.click.top, item.top, item.height ),
			isOverElementWidth = ( this.options.axis === "y" ) ||
				this._isOverAxis(
					this.positionAbs.left + this.offset.click.left, item.left, item.width ),
			isOverElement = isOverElementHeight && isOverElementWidth;

		if ( !isOverElement ) {
			return false;
		}

		verticalDirection = this._getDragVerticalDirection();
		horizontalDirection = this._getDragHorizontalDirection();

		return this.floating ?
			( ( horizontalDirection === "right" || verticalDirection === "down" ) ? 2 : 1 )
			: ( verticalDirection && ( verticalDirection === "down" ? 2 : 1 ) );

	},

	_intersectsWithSides: function( item ) {

		var isOverBottomHalf = this._isOverAxis( this.positionAbs.top +
				this.offset.click.top, item.top + ( item.height / 2 ), item.height ),
			isOverRightHalf = this._isOverAxis( this.positionAbs.left +
				this.offset.click.left, item.left + ( item.width / 2 ), item.width ),
			verticalDirection = this._getDragVerticalDirection(),
			horizontalDirection = this._getDragHorizontalDirection();

		if ( this.floating && horizontalDirection ) {
			return ( ( horizontalDirection === "right" && isOverRightHalf ) ||
				( horizontalDirection === "left" && !isOverRightHalf ) );
		} else {
			return verticalDirection && ( ( verticalDirection === "down" && isOverBottomHalf ) ||
				( verticalDirection === "up" && !isOverBottomHalf ) );
		}

	},

	_getDragVerticalDirection: function() {
		var delta = this.positionAbs.top - this.lastPositionAbs.top;
		return delta !== 0 && ( delta > 0 ? "down" : "up" );
	},

	_getDragHorizontalDirection: function() {
		var delta = this.positionAbs.left - this.lastPositionAbs.left;
		return delta !== 0 && ( delta > 0 ? "right" : "left" );
	},

	refresh: function( event ) {
		this._refreshItems( event );
		this._setHandleClassName();
		this.refreshPositions();
		return this;
	},

	_connectWith: function() {
		var options = this.options;
		return options.connectWith.constructor === String ?
			[ options.connectWith ] :
			options.connectWith;
	},

	_getItemsAsjQuery: function( connected ) {

		var i, j, cur, inst,
			items = [],
			queries = [],
			connectWith = this._connectWith();

		if ( connectWith && connected ) {
			for ( i = connectWith.length - 1; i >= 0; i-- ) {
				cur = $( connectWith[ i ], this.document[ 0 ] );
				for ( j = cur.length - 1; j >= 0; j-- ) {
					inst = $.data( cur[ j ], this.widgetFullName );
					if ( inst && inst !== this && !inst.options.disabled ) {
						queries.push( [ $.isFunction( inst.options.items ) ?
							inst.options.items.call( inst.element ) :
							$( inst.options.items, inst.element )
								.not( ".ui-sortable-helper" )
								.not( ".ui-sortable-placeholder" ), inst ] );
					}
				}
			}
		}

		queries.push( [ $.isFunction( this.options.items ) ?
			this.options.items
				.call( this.element, null, { options: this.options, item: this.currentItem } ) :
			$( this.options.items, this.element )
				.not( ".ui-sortable-helper" )
				.not( ".ui-sortable-placeholder" ), this ] );

		function addItems() {
			items.push( this );
		}
		for ( i = queries.length - 1; i >= 0; i-- ) {
			queries[ i ][ 0 ].each( addItems );
		}

		return $( items );

	},

	_removeCurrentsFromItems: function() {

		var list = this.currentItem.find( ":data(" + this.widgetName + "-item)" );

		this.items = $.grep( this.items, function( item ) {
			for ( var j = 0; j < list.length; j++ ) {
				if ( list[ j ] === item.item[ 0 ] ) {
					return false;
				}
			}
			return true;
		} );

	},

	_refreshItems: function( event ) {

		this.items = [];
		this.containers = [ this ];

		var i, j, cur, inst, targetData, _queries, item, queriesLength,
			items = this.items,
			queries = [ [ $.isFunction( this.options.items ) ?
				this.options.items.call( this.element[ 0 ], event, { item: this.currentItem } ) :
				$( this.options.items, this.element ), this ] ],
			connectWith = this._connectWith();

		//Shouldn't be run the first time through due to massive slow-down
		if ( connectWith && this.ready ) {
			for ( i = connectWith.length - 1; i >= 0; i-- ) {
				cur = $( connectWith[ i ], this.document[ 0 ] );
				for ( j = cur.length - 1; j >= 0; j-- ) {
					inst = $.data( cur[ j ], this.widgetFullName );
					if ( inst && inst !== this && !inst.options.disabled ) {
						queries.push( [ $.isFunction( inst.options.items ) ?
							inst.options.items
								.call( inst.element[ 0 ], event, { item: this.currentItem } ) :
							$( inst.options.items, inst.element ), inst ] );
						this.containers.push( inst );
					}
				}
			}
		}

		for ( i = queries.length - 1; i >= 0; i-- ) {
			targetData = queries[ i ][ 1 ];
			_queries = queries[ i ][ 0 ];

			for ( j = 0, queriesLength = _queries.length; j < queriesLength; j++ ) {
				item = $( _queries[ j ] );

				// Data for target checking (mouse manager)
				item.data( this.widgetName + "-item", targetData );

				items.push( {
					item: item,
					instance: targetData,
					width: 0, height: 0,
					left: 0, top: 0
				} );
			}
		}

	},

	refreshPositions: function( fast ) {

		// Determine whether items are being displayed horizontally
		this.floating = this.items.length ?
			this.options.axis === "x" || this._isFloating( this.items[ 0 ].item ) :
			false;

		//This has to be redone because due to the item being moved out/into the offsetParent,
		// the offsetParent's position will change
		if ( this.offsetParent && this.helper ) {
			this.offset.parent = this._getParentOffset();
		}

		var i, item, t, p;

		for ( i = this.items.length - 1; i >= 0; i-- ) {
			item = this.items[ i ];

			//We ignore calculating positions of all connected containers when we're not over them
			if ( item.instance !== this.currentContainer && this.currentContainer &&
					item.item[ 0 ] !== this.currentItem[ 0 ] ) {
				continue;
			}

			t = this.options.toleranceElement ?
				$( this.options.toleranceElement, item.item ) :
				item.item;

			if ( !fast ) {
				item.width = t.outerWidth();
				item.height = t.outerHeight();
			}

			p = t.offset();
			item.left = p.left;
			item.top = p.top;
		}

		if ( this.options.custom && this.options.custom.refreshContainers ) {
			this.options.custom.refreshContainers.call( this );
		} else {
			for ( i = this.containers.length - 1; i >= 0; i-- ) {
				p = this.containers[ i ].element.offset();
				this.containers[ i ].containerCache.left = p.left;
				this.containers[ i ].containerCache.top = p.top;
				this.containers[ i ].containerCache.width =
					this.containers[ i ].element.outerWidth();
				this.containers[ i ].containerCache.height =
					this.containers[ i ].element.outerHeight();
			}
		}

		return this;
	},

	_createPlaceholder: function( that ) {
		that = that || this;
		var className,
			o = that.options;

		if ( !o.placeholder || o.placeholder.constructor === String ) {
			className = o.placeholder;
			o.placeholder = {
				element: function() {

					var nodeName = that.currentItem[ 0 ].nodeName.toLowerCase(),
						element = $( "<" + nodeName + ">", that.document[ 0 ] );

						that._addClass( element, "ui-sortable-placeholder",
								className || that.currentItem[ 0 ].className )
							._removeClass( element, "ui-sortable-helper" );

					if ( nodeName === "tbody" ) {
						that._createTrPlaceholder(
							that.currentItem.find( "tr" ).eq( 0 ),
							$( "<tr>", that.document[ 0 ] ).appendTo( element )
						);
					} else if ( nodeName === "tr" ) {
						that._createTrPlaceholder( that.currentItem, element );
					} else if ( nodeName === "img" ) {
						element.attr( "src", that.currentItem.attr( "src" ) );
					}

					if ( !className ) {
						element.css( "visibility", "hidden" );
					}

					return element;
				},
				update: function( container, p ) {

					// 1. If a className is set as 'placeholder option, we don't force sizes -
					// the class is responsible for that
					// 2. The option 'forcePlaceholderSize can be enabled to force it even if a
					// class name is specified
					if ( className && !o.forcePlaceholderSize ) {
						return;
					}

					//If the element doesn't have a actual height by itself (without styles coming
					// from a stylesheet), it receives the inline height from the dragged item
					if ( !p.height() ) {
						p.height(
							that.currentItem.innerHeight() -
							parseInt( that.currentItem.css( "paddingTop" ) || 0, 10 ) -
							parseInt( that.currentItem.css( "paddingBottom" ) || 0, 10 ) );
					}
					if ( !p.width() ) {
						p.width(
							that.currentItem.innerWidth() -
							parseInt( that.currentItem.css( "paddingLeft" ) || 0, 10 ) -
							parseInt( that.currentItem.css( "paddingRight" ) || 0, 10 ) );
					}
				}
			};
		}

		//Create the placeholder
		that.placeholder = $( o.placeholder.element.call( that.element, that.currentItem ) );

		//Append it after the actual current item
		that.currentItem.after( that.placeholder );

		//Update the size of the placeholder (TODO: Logic to fuzzy, see line 316/317)
		o.placeholder.update( that, that.placeholder );

	},

	_createTrPlaceholder: function( sourceTr, targetTr ) {
		var that = this;

		sourceTr.children().each( function() {
			$( "<td>&#160;</td>", that.document[ 0 ] )
				.attr( "colspan", $( this ).attr( "colspan" ) || 1 )
				.appendTo( targetTr );
		} );
	},

	_contactContainers: function( event ) {
		var i, j, dist, itemWithLeastDistance, posProperty, sizeProperty, cur, nearBottom,
			floating, axis,
			innermostContainer = null,
			innermostIndex = null;

		// Get innermost container that intersects with item
		for ( i = this.containers.length - 1; i >= 0; i-- ) {

			// Never consider a container that's located within the item itself
			if ( $.contains( this.currentItem[ 0 ], this.containers[ i ].element[ 0 ] ) ) {
				continue;
			}

			if ( this._intersectsWith( this.containers[ i ].containerCache ) ) {

				// If we've already found a container and it's more "inner" than this, then continue
				if ( innermostContainer &&
						$.contains(
							this.containers[ i ].element[ 0 ],
							innermostContainer.element[ 0 ] ) ) {
					continue;
				}

				innermostContainer = this.containers[ i ];
				innermostIndex = i;

			} else {

				// container doesn't intersect. trigger "out" event if necessary
				if ( this.containers[ i ].containerCache.over ) {
					this.containers[ i ]._trigger( "out", event, this._uiHash( this ) );
					this.containers[ i ].containerCache.over = 0;
				}
			}

		}

		// If no intersecting containers found, return
		if ( !innermostContainer ) {
			return;
		}

		// Move the item into the container if it's not there already
		if ( this.containers.length === 1 ) {
			if ( !this.containers[ innermostIndex ].containerCache.over ) {
				this.containers[ innermostIndex ]._trigger( "over", event, this._uiHash( this ) );
				this.containers[ innermostIndex ].containerCache.over = 1;
			}
		} else {

			// When entering a new container, we will find the item with the least distance and
			// append our item near it
			dist = 10000;
			itemWithLeastDistance = null;
			floating = innermostContainer.floating || this._isFloating( this.currentItem );
			posProperty = floating ? "left" : "top";
			sizeProperty = floating ? "width" : "height";
			axis = floating ? "pageX" : "pageY";

			for ( j = this.items.length - 1; j >= 0; j-- ) {
				if ( !$.contains(
						this.containers[ innermostIndex ].element[ 0 ], this.items[ j ].item[ 0 ] )
				) {
					continue;
				}
				if ( this.items[ j ].item[ 0 ] === this.currentItem[ 0 ] ) {
					continue;
				}

				cur = this.items[ j ].item.offset()[ posProperty ];
				nearBottom = false;
				if ( event[ axis ] - cur > this.items[ j ][ sizeProperty ] / 2 ) {
					nearBottom = true;
				}

				if ( Math.abs( event[ axis ] - cur ) < dist ) {
					dist = Math.abs( event[ axis ] - cur );
					itemWithLeastDistance = this.items[ j ];
					this.direction = nearBottom ? "up" : "down";
				}
			}

			//Check if dropOnEmpty is enabled
			if ( !itemWithLeastDistance && !this.options.dropOnEmpty ) {
				return;
			}

			if ( this.currentContainer === this.containers[ innermostIndex ] ) {
				if ( !this.currentContainer.containerCache.over ) {
					this.containers[ innermostIndex ]._trigger( "over", event, this._uiHash() );
					this.currentContainer.containerCache.over = 1;
				}
				return;
			}

			itemWithLeastDistance ?
				this._rearrange( event, itemWithLeastDistance, null, true ) :
				this._rearrange( event, null, this.containers[ innermostIndex ].element, true );
			this._trigger( "change", event, this._uiHash() );
			this.containers[ innermostIndex ]._trigger( "change", event, this._uiHash( this ) );
			this.currentContainer = this.containers[ innermostIndex ];

			//Update the placeholder
			this.options.placeholder.update( this.currentContainer, this.placeholder );

			this.containers[ innermostIndex ]._trigger( "over", event, this._uiHash( this ) );
			this.containers[ innermostIndex ].containerCache.over = 1;
		}

	},

	_createHelper: function( event ) {

		var o = this.options,
			helper = $.isFunction( o.helper ) ?
				$( o.helper.apply( this.element[ 0 ], [ event, this.currentItem ] ) ) :
				( o.helper === "clone" ? this.currentItem.clone() : this.currentItem );

		//Add the helper to the DOM if that didn't happen already
		if ( !helper.parents( "body" ).length ) {
			$( o.appendTo !== "parent" ?
				o.appendTo :
				this.currentItem[ 0 ].parentNode )[ 0 ].appendChild( helper[ 0 ] );
		}

		if ( helper[ 0 ] === this.currentItem[ 0 ] ) {
			this._storedCSS = {
				width: this.currentItem[ 0 ].style.width,
				height: this.currentItem[ 0 ].style.height,
				position: this.currentItem.css( "position" ),
				top: this.currentItem.css( "top" ),
				left: this.currentItem.css( "left" )
			};
		}

		if ( !helper[ 0 ].style.width || o.forceHelperSize ) {
			helper.width( this.currentItem.width() );
		}
		if ( !helper[ 0 ].style.height || o.forceHelperSize ) {
			helper.height( this.currentItem.height() );
		}

		return helper;

	},

	_adjustOffsetFromHelper: function( obj ) {
		if ( typeof obj === "string" ) {
			obj = obj.split( " " );
		}
		if ( $.isArray( obj ) ) {
			obj = { left: +obj[ 0 ], top: +obj[ 1 ] || 0 };
		}
		if ( "left" in obj ) {
			this.offset.click.left = obj.left + this.margins.left;
		}
		if ( "right" in obj ) {
			this.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;
		}
		if ( "top" in obj ) {
			this.offset.click.top = obj.top + this.margins.top;
		}
		if ( "bottom" in obj ) {
			this.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;
		}
	},

	_getParentOffset: function() {

		//Get the offsetParent and cache its position
		this.offsetParent = this.helper.offsetParent();
		var po = this.offsetParent.offset();

		// This is a special case where we need to modify a offset calculated on start, since the
		// following happened:
		// 1. The position of the helper is absolute, so it's position is calculated based on the
		// next positioned parent
		// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't
		// the document, which means that the scroll is included in the initial calculation of the
		// offset of the parent, and never recalculated upon drag
		if ( this.cssPosition === "absolute" && this.scrollParent[ 0 ] !== this.document[ 0 ] &&
				$.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) {
			po.left += this.scrollParent.scrollLeft();
			po.top += this.scrollParent.scrollTop();
		}

		// This needs to be actually done for all browsers, since pageX/pageY includes this
		// information with an ugly IE fix
		if ( this.offsetParent[ 0 ] === this.document[ 0 ].body ||
				( this.offsetParent[ 0 ].tagName &&
				this.offsetParent[ 0 ].tagName.toLowerCase() === "html" && $.ui.ie ) ) {
			po = { top: 0, left: 0 };
		}

		return {
			top: po.top + ( parseInt( this.offsetParent.css( "borderTopWidth" ), 10 ) || 0 ),
			left: po.left + ( parseInt( this.offsetParent.css( "borderLeftWidth" ), 10 ) || 0 )
		};

	},

	_getRelativeOffset: function() {

		if ( this.cssPosition === "relative" ) {
			var p = this.currentItem.position();
			return {
				top: p.top - ( parseInt( this.helper.css( "top" ), 10 ) || 0 ) +
					this.scrollParent.scrollTop(),
				left: p.left - ( parseInt( this.helper.css( "left" ), 10 ) || 0 ) +
					this.scrollParent.scrollLeft()
			};
		} else {
			return { top: 0, left: 0 };
		}

	},

	_cacheMargins: function() {
		this.margins = {
			left: ( parseInt( this.currentItem.css( "marginLeft" ), 10 ) || 0 ),
			top: ( parseInt( this.currentItem.css( "marginTop" ), 10 ) || 0 )
		};
	},

	_cacheHelperProportions: function() {
		this.helperProportions = {
			width: this.helper.outerWidth(),
			height: this.helper.outerHeight()
		};
	},

	_setContainment: function() {

		var ce, co, over,
			o = this.options;
		if ( o.containment === "parent" ) {
			o.containment = this.helper[ 0 ].parentNode;
		}
		if ( o.containment === "document" || o.containment === "window" ) {
			this.containment = [
				0 - this.offset.relative.left - this.offset.parent.left,
				0 - this.offset.relative.top - this.offset.parent.top,
				o.containment === "document" ?
					this.document.width() :
					this.window.width() - this.helperProportions.width - this.margins.left,
				( o.containment === "document" ?
					( this.document.height() || document.body.parentNode.scrollHeight ) :
					this.window.height() || this.document[ 0 ].body.parentNode.scrollHeight
				) - this.helperProportions.height - this.margins.top
			];
		}

		if ( !( /^(document|window|parent)$/ ).test( o.containment ) ) {
			ce = $( o.containment )[ 0 ];
			co = $( o.containment ).offset();
			over = ( $( ce ).css( "overflow" ) !== "hidden" );

			this.containment = [
				co.left + ( parseInt( $( ce ).css( "borderLeftWidth" ), 10 ) || 0 ) +
					( parseInt( $( ce ).css( "paddingLeft" ), 10 ) || 0 ) - this.margins.left,
				co.top + ( parseInt( $( ce ).css( "borderTopWidth" ), 10 ) || 0 ) +
					( parseInt( $( ce ).css( "paddingTop" ), 10 ) || 0 ) - this.margins.top,
				co.left + ( over ? Math.max( ce.scrollWidth, ce.offsetWidth ) : ce.offsetWidth ) -
					( parseInt( $( ce ).css( "borderLeftWidth" ), 10 ) || 0 ) -
					( parseInt( $( ce ).css( "paddingRight" ), 10 ) || 0 ) -
					this.helperProportions.width - this.margins.left,
				co.top + ( over ? Math.max( ce.scrollHeight, ce.offsetHeight ) : ce.offsetHeight ) -
					( parseInt( $( ce ).css( "borderTopWidth" ), 10 ) || 0 ) -
					( parseInt( $( ce ).css( "paddingBottom" ), 10 ) || 0 ) -
					this.helperProportions.height - this.margins.top
			];
		}

	},

	_convertPositionTo: function( d, pos ) {

		if ( !pos ) {
			pos = this.position;
		}
		var mod = d === "absolute" ? 1 : -1,
			scroll = this.cssPosition === "absolute" &&
				!( this.scrollParent[ 0 ] !== this.document[ 0 ] &&
				$.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) ?
					this.offsetParent :
					this.scrollParent,
			scrollIsRootNode = ( /(html|body)/i ).test( scroll[ 0 ].tagName );

		return {
			top: (

				// The absolute mouse position
				pos.top	+

				// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.relative.top * mod +

				// The offsetParent's offset without borders (offset + border)
				this.offset.parent.top * mod -
				( ( this.cssPosition === "fixed" ?
					-this.scrollParent.scrollTop() :
					( scrollIsRootNode ? 0 : scroll.scrollTop() ) ) * mod )
			),
			left: (

				// The absolute mouse position
				pos.left +

				// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.relative.left * mod +

				// The offsetParent's offset without borders (offset + border)
				this.offset.parent.left * mod	-
				( ( this.cssPosition === "fixed" ?
					-this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 :
					scroll.scrollLeft() ) * mod )
			)
		};

	},

	_generatePosition: function( event ) {

		var top, left,
			o = this.options,
			pageX = event.pageX,
			pageY = event.pageY,
			scroll = this.cssPosition === "absolute" &&
				!( this.scrollParent[ 0 ] !== this.document[ 0 ] &&
				$.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) ?
					this.offsetParent :
					this.scrollParent,
				scrollIsRootNode = ( /(html|body)/i ).test( scroll[ 0 ].tagName );

		// This is another very weird special case that only happens for relative elements:
		// 1. If the css position is relative
		// 2. and the scroll parent is the document or similar to the offset parent
		// we have to refresh the relative offset during the scroll so there are no jumps
		if ( this.cssPosition === "relative" && !( this.scrollParent[ 0 ] !== this.document[ 0 ] &&
				this.scrollParent[ 0 ] !== this.offsetParent[ 0 ] ) ) {
			this.offset.relative = this._getRelativeOffset();
		}

		/*
		 * - Position constraining -
		 * Constrain the position to a mix of grid, containment.
		 */

		if ( this.originalPosition ) { //If we are not dragging yet, we won't check for options

			if ( this.containment ) {
				if ( event.pageX - this.offset.click.left < this.containment[ 0 ] ) {
					pageX = this.containment[ 0 ] + this.offset.click.left;
				}
				if ( event.pageY - this.offset.click.top < this.containment[ 1 ] ) {
					pageY = this.containment[ 1 ] + this.offset.click.top;
				}
				if ( event.pageX - this.offset.click.left > this.containment[ 2 ] ) {
					pageX = this.containment[ 2 ] + this.offset.click.left;
				}
				if ( event.pageY - this.offset.click.top > this.containment[ 3 ] ) {
					pageY = this.containment[ 3 ] + this.offset.click.top;
				}
			}

			if ( o.grid ) {
				top = this.originalPageY + Math.round( ( pageY - this.originalPageY ) /
					o.grid[ 1 ] ) * o.grid[ 1 ];
				pageY = this.containment ?
					( ( top - this.offset.click.top >= this.containment[ 1 ] &&
						top - this.offset.click.top <= this.containment[ 3 ] ) ?
							top :
							( ( top - this.offset.click.top >= this.containment[ 1 ] ) ?
								top - o.grid[ 1 ] : top + o.grid[ 1 ] ) ) :
								top;

				left = this.originalPageX + Math.round( ( pageX - this.originalPageX ) /
					o.grid[ 0 ] ) * o.grid[ 0 ];
				pageX = this.containment ?
					( ( left - this.offset.click.left >= this.containment[ 0 ] &&
						left - this.offset.click.left <= this.containment[ 2 ] ) ?
							left :
							( ( left - this.offset.click.left >= this.containment[ 0 ] ) ?
								left - o.grid[ 0 ] : left + o.grid[ 0 ] ) ) :
								left;
			}

		}

		return {
			top: (

				// The absolute mouse position
				pageY -

				// Click offset (relative to the element)
				this.offset.click.top -

				// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.relative.top -

				// The offsetParent's offset without borders (offset + border)
				this.offset.parent.top +
				( ( this.cssPosition === "fixed" ?
					-this.scrollParent.scrollTop() :
					( scrollIsRootNode ? 0 : scroll.scrollTop() ) ) )
			),
			left: (

				// The absolute mouse position
				pageX -

				// Click offset (relative to the element)
				this.offset.click.left -

				// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.relative.left -

				// The offsetParent's offset without borders (offset + border)
				this.offset.parent.left +
				( ( this.cssPosition === "fixed" ?
					-this.scrollParent.scrollLeft() :
					scrollIsRootNode ? 0 : scroll.scrollLeft() ) )
			)
		};

	},

	_rearrange: function( event, i, a, hardRefresh ) {

		a ? a[ 0 ].appendChild( this.placeholder[ 0 ] ) :
			i.item[ 0 ].parentNode.insertBefore( this.placeholder[ 0 ],
				( this.direction === "down" ? i.item[ 0 ] : i.item[ 0 ].nextSibling ) );

		//Various things done here to improve the performance:
		// 1. we create a setTimeout, that calls refreshPositions
		// 2. on the instance, we have a counter variable, that get's higher after every append
		// 3. on the local scope, we copy the counter variable, and check in the timeout,
		// if it's still the same
		// 4. this lets only the last addition to the timeout stack through
		this.counter = this.counter ? ++this.counter : 1;
		var counter = this.counter;

		this._delay( function() {
			if ( counter === this.counter ) {

				//Precompute after each DOM insertion, NOT on mousemove
				this.refreshPositions( !hardRefresh );
			}
		} );

	},

	_clear: function( event, noPropagation ) {

		this.reverting = false;

		// We delay all events that have to be triggered to after the point where the placeholder
		// has been removed and everything else normalized again
		var i,
			delayedTriggers = [];

		// We first have to update the dom position of the actual currentItem
		// Note: don't do it if the current item is already removed (by a user), or it gets
		// reappended (see #4088)
		if ( !this._noFinalSort && this.currentItem.parent().length ) {
			this.placeholder.before( this.currentItem );
		}
		this._noFinalSort = null;

		if ( this.helper[ 0 ] === this.currentItem[ 0 ] ) {
			for ( i in this._storedCSS ) {
				if ( this._storedCSS[ i ] === "auto" || this._storedCSS[ i ] === "static" ) {
					this._storedCSS[ i ] = "";
				}
			}
			this.currentItem.css( this._storedCSS );
			this._removeClass( this.currentItem, "ui-sortable-helper" );
		} else {
			this.currentItem.show();
		}

		if ( this.fromOutside && !noPropagation ) {
			delayedTriggers.push( function( event ) {
				this._trigger( "receive", event, this._uiHash( this.fromOutside ) );
			} );
		}
		if ( ( this.fromOutside ||
				this.domPosition.prev !==
				this.currentItem.prev().not( ".ui-sortable-helper" )[ 0 ] ||
				this.domPosition.parent !== this.currentItem.parent()[ 0 ] ) && !noPropagation ) {

			// Trigger update callback if the DOM position has changed
			delayedTriggers.push( function( event ) {
				this._trigger( "update", event, this._uiHash() );
			} );
		}

		// Check if the items Container has Changed and trigger appropriate
		// events.
		if ( this !== this.currentContainer ) {
			if ( !noPropagation ) {
				delayedTriggers.push( function( event ) {
					this._trigger( "remove", event, this._uiHash() );
				} );
				delayedTriggers.push( ( function( c ) {
					return function( event ) {
						c._trigger( "receive", event, this._uiHash( this ) );
					};
				} ).call( this, this.currentContainer ) );
				delayedTriggers.push( ( function( c ) {
					return function( event ) {
						c._trigger( "update", event, this._uiHash( this ) );
					};
				} ).call( this, this.currentContainer ) );
			}
		}

		//Post events to containers
		function delayEvent( type, instance, container ) {
			return function( event ) {
				container._trigger( type, event, instance._uiHash( instance ) );
			};
		}
		for ( i = this.containers.length - 1; i >= 0; i-- ) {
			if ( !noPropagation ) {
				delayedTriggers.push( delayEvent( "deactivate", this, this.containers[ i ] ) );
			}
			if ( this.containers[ i ].containerCache.over ) {
				delayedTriggers.push( delayEvent( "out", this, this.containers[ i ] ) );
				this.containers[ i ].containerCache.over = 0;
			}
		}

		//Do what was originally in plugins
		if ( this.storedCursor ) {
			this.document.find( "body" ).css( "cursor", this.storedCursor );
			this.storedStylesheet.remove();
		}
		if ( this._storedOpacity ) {
			this.helper.css( "opacity", this._storedOpacity );
		}
		if ( this._storedZIndex ) {
			this.helper.css( "zIndex", this._storedZIndex === "auto" ? "" : this._storedZIndex );
		}

		this.dragging = false;

		if ( !noPropagation ) {
			this._trigger( "beforeStop", event, this._uiHash() );
		}

		//$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately,
		// it unbinds ALL events from the original node!
		this.placeholder[ 0 ].parentNode.removeChild( this.placeholder[ 0 ] );

		if ( !this.cancelHelperRemoval ) {
			if ( this.helper[ 0 ] !== this.currentItem[ 0 ] ) {
				this.helper.remove();
			}
			this.helper = null;
		}

		if ( !noPropagation ) {
			for ( i = 0; i < delayedTriggers.length; i++ ) {

				// Trigger all delayed events
				delayedTriggers[ i ].call( this, event );
			}
			this._trigger( "stop", event, this._uiHash() );
		}

		this.fromOutside = false;
		return !this.cancelHelperRemoval;

	},

	_trigger: function() {
		if ( $.Widget.prototype._trigger.apply( this, arguments ) === false ) {
			this.cancel();
		}
	},

	_uiHash: function( _inst ) {
		var inst = _inst || this;
		return {
			helper: inst.helper,
			placeholder: inst.placeholder || $( [] ),
			position: inst.position,
			originalPosition: inst.originalPosition,
			offset: inst.positionAbs,
			item: inst.currentItem,
			sender: _inst ? _inst.element : null
		};
	}

} );

} ) );

},{}],65:[function(require,module,exports){
(function() {
  var callWithJQuery;

  callWithJQuery = function(pivotModule) {
    if (typeof exports === "object" && typeof module === "object") {
      return pivotModule(require("jquery"));
    } else if (typeof define === "function" && define.amd) {
      return define(["jquery"], pivotModule);
    } else {
      return pivotModule(jQuery);
    }
  };

  callWithJQuery(function($) {
    var frFmt, frFmtInt, frFmtPct, nf, tpl;
    nf = $.pivotUtilities.numberFormat;
    tpl = $.pivotUtilities.aggregatorTemplates;
    frFmt = nf({
      thousandsSep: " ",
      decimalSep: ","
    });
    frFmtInt = nf({
      digitsAfterDecimal: 0,
      thousandsSep: " ",
      decimalSep: ","
    });
    frFmtPct = nf({
      digitsAfterDecimal: 1,
      scaler: 100,
      suffix: "%",
      thousandsSep: " ",
      decimalSep: ","
    });
    return $.pivotUtilities.locales.de = {
      localeStrings: {
        renderError: "Bei der Darstellung der Pivot-Tabelle ist ein Fehler aufgetreten.",
        computeError: "Bei der Berechnung der Pivot-Tabelle ist ein Fehler aufgetreten.",
        uiRenderError: "Bei der Darstellung Oberfläche der Pivot-Tabelle ist ein Fehler aufgetreten.",
        selectAll: "Alles auswählen",
        selectNone: "Nichts auswählen",
        tooMany: "(zu viele für Liste)",
        filterResults: "Ergebnisse filtern",
        totals: "Gesamt",
        vs: "gegen",
        by: "pro"
      },
      aggregators: {
        "Anzahl": tpl.count(frFmtInt),
        "Anzahl eindeutiger Werte": tpl.countUnique(frFmtInt),
        "Liste eindeutiger Werte": tpl.listUnique(", "),
        "Summe": tpl.sum(frFmt),
        "Ganzzahlige Summe": tpl.sum(frFmtInt),
        "Durchschnitt": tpl.average(frFmt),
        "Minimum": tpl.min(frFmt),
        "Maximum": tpl.max(frFmt),
        "Summe über Summe": tpl.sumOverSum(frFmt),
        "80% Obergrenze": tpl.sumOverSumBound80(true, frFmt),
        "80% Untergrenze": tpl.sumOverSumBound80(false, frFmt),
        "Summe als Anteil von Gesamt": tpl.fractionOf(tpl.sum(), "total", frFmtPct),
        "Summe als Anteil von Zeile": tpl.fractionOf(tpl.sum(), "row", frFmtPct),
        "Summe als Anteil von Spalte": tpl.fractionOf(tpl.sum(), "col", frFmtPct),
        "Anzahl als Anteil von Gesamt": tpl.fractionOf(tpl.count(), "total", frFmtPct),
        "Anzahl als Anteil von Zeile": tpl.fractionOf(tpl.count(), "row", frFmtPct),
        "Anzahl als Anteil von Spalte": tpl.fractionOf(tpl.count(), "col", frFmtPct)
      },
      renderers: {
        "Tabelle": $.pivotUtilities.renderers["Table"],
        "Tabelle mit Balkendiagramm": $.pivotUtilities.renderers["Table Barchart"],
        "Heatmap": $.pivotUtilities.renderers["Heatmap"],
        "Heatmap pro Zeile": $.pivotUtilities.renderers["Row Heatmap"],
        "Heatmap pro Spalte": $.pivotUtilities.renderers["Col Heatmap"]
      }
    };
  });

}).call(this);


},{"jquery":"jquery"}],66:[function(require,module,exports){
(function() {
  var callWithJQuery;

  callWithJQuery = function(pivotModule) {
    if (typeof exports === "object" && typeof module === "object") {
      return pivotModule(require("jquery"));
    } else if (typeof define === "function" && define.amd) {
      return define(["jquery"], pivotModule);
    } else {
      return pivotModule(jQuery);
    }
  };

  callWithJQuery(function($) {
    var frFmt, frFmtInt, frFmtPct, nf, tpl;
    nf = $.pivotUtilities.numberFormat;
    tpl = $.pivotUtilities.aggregatorTemplates;
    frFmt = nf({
      thousandsSep: " ",
      decimalSep: ","
    });
    frFmtInt = nf({
      digitsAfterDecimal: 0,
      thousandsSep: " ",
      decimalSep: ","
    });
    frFmtPct = nf({
      digitsAfterDecimal: 1,
      scaler: 100,
      suffix: "%",
      thousandsSep: " ",
      decimalSep: ","
    });
    return $.pivotUtilities.locales.fr = {
      localeStrings: {
        renderError: "Une erreur est survenue en dessinant le tableau croisé.",
        computeError: "Une erreur est survenue en calculant le tableau croisé.",
        uiRenderError: "Une erreur est survenue en dessinant l'interface du tableau croisé dynamique.",
        selectAll: "Sélectionner tout",
        selectNone: "Sélectionner rien",
        tooMany: "(trop de valeurs à afficher)",
        filterResults: "Filtrer les valeurs",
        totals: "Totaux",
        vs: "sur",
        by: "par",
        apply: "Appliquer",
        cancel: "Annuler"
      },
      aggregators: {
        "Nombre": tpl.count(frFmtInt),
        "Nombre de valeurs uniques": tpl.countUnique(frFmtInt),
        "Liste de valeurs uniques": tpl.listUnique(", "),
        "Somme": tpl.sum(frFmt),
        "Somme en entiers": tpl.sum(frFmtInt),
        "Moyenne": tpl.average(frFmt),
        "Minimum": tpl.min(frFmt),
        "Maximum": tpl.max(frFmt),
        "Premier": tpl.min(frFmt),
        "Dernier": tpl.max(frFmt),
        "Ratio de sommes": tpl.sumOverSum(frFmt),
        "Borne supérieure 80%": tpl.sumOverSumBound80(true, frFmt),
        "Borne inférieure 80%": tpl.sumOverSumBound80(false, frFmt),
        "Somme en proportion du totale": tpl.fractionOf(tpl.sum(), "total", frFmtPct),
        "Somme en proportion de la ligne": tpl.fractionOf(tpl.sum(), "row", frFmtPct),
        "Somme en proportion de la colonne": tpl.fractionOf(tpl.sum(), "col", frFmtPct),
        "Nombre en proportion du totale": tpl.fractionOf(tpl.count(), "total", frFmtPct),
        "Nombre en proportion de la ligne": tpl.fractionOf(tpl.count(), "row", frFmtPct),
        "Nombre en proportion de la colonne": tpl.fractionOf(tpl.count(), "col", frFmtPct)
      },
      renderers: {
        "Table": $.pivotUtilities.renderers["Table"],
        "Table avec barres": $.pivotUtilities.renderers["Table Barchart"],
        "Carte de chaleur": $.pivotUtilities.renderers["Heatmap"],
        "Carte de chaleur par ligne": $.pivotUtilities.renderers["Row Heatmap"],
        "Carte de chaleur par colonne": $.pivotUtilities.renderers["Col Heatmap"]
      }
    };
  });

}).call(this);


},{"jquery":"jquery"}],67:[function(require,module,exports){
(function() {
  var callWithJQuery;

  callWithJQuery = function(pivotModule) {
    if (typeof exports === "object" && typeof module === "object") {
      return pivotModule(require("jquery"));
    } else if (typeof define === "function" && define.amd) {
      return define(["jquery"], pivotModule);
    } else {
      return pivotModule(jQuery);
    }
  };

  callWithJQuery(function($) {
    var frFmt, frFmtInt, frFmtPct, nf, tpl;
    nf = $.pivotUtilities.numberFormat;
    tpl = $.pivotUtilities.aggregatorTemplates;
    frFmt = nf({
      thousandsSep: " ",
      decimalSep: ","
    });
    frFmtInt = nf({
      digitsAfterDecimal: 0,
      thousandsSep: " ",
      decimalSep: ","
    });
    frFmtPct = nf({
      digitsAfterDecimal: 1,
      scaler: 100,
      suffix: "%",
      thousandsSep: " ",
      decimalSep: ","
    });
    return $.pivotUtilities.locales.it = {
      localeStrings: {
        renderError: "Si è verificato un errore durante la creazione della tabella.",
        computeError: "Si è verificato un errore di calcolo nella tabella.",
        uiRenderError: "Si è verificato un errore durante il disegno di interfaccia della tabella pivot.",
        selectAll: "Seleziona tutto",
        selectNone: "Deseleziona tutto",
        tooMany: "(troppi valori da visualizzare)",
        filterResults: "Filtra i valori",
        totals: "Totali",
        vs: "su",
        by: "da"
      },
      aggregators: {
        "Numero": tpl.count(frFmtInt),
        "Numero di valori unici": tpl.countUnique(frFmtInt),
        "Elenco di valori unici": tpl.listUnique(", "),
        "Somma": tpl.sum(frFmt),
        "Somma intera": tpl.sum(frFmtInt),
        "Media": tpl.average(frFmt),
        "Minimo": tpl.min(frFmt),
        "Massimo": tpl.max(frFmt),
        "Rapporto": tpl.sumOverSum(frFmt),
        "Limite superiore 80%": tpl.sumOverSumBound80(true, frFmt),
        "limite inferiore 80%": tpl.sumOverSumBound80(false, frFmt),
        "Somma proporzionale al totale": tpl.fractionOf(tpl.sum(), "total", frFmtPct),
        "Somma proporzionale alla riga": tpl.fractionOf(tpl.sum(), "row", frFmtPct),
        "Somma proporzionale alla colonna": tpl.fractionOf(tpl.sum(), "col", frFmtPct),
        "Numero proporzionale al totale": tpl.fractionOf(tpl.count(), "total", frFmtPct),
        "Numero proporzionale alla riga": tpl.fractionOf(tpl.count(), "row", frFmtPct),
        "Numero proporzionale alla colonna": tpl.fractionOf(tpl.count(), "col", frFmtPct)
      },
      renderers: {
        "Tabella": $.pivotUtilities.renderers["Table"],
        "Tabella con grafico": $.pivotUtilities.renderers["Table Barchart"],
        "Mappa di calore": $.pivotUtilities.renderers["Heatmap"],
        "Mappa di calore per righe": $.pivotUtilities.renderers["Row Heatmap"],
        "Mappa di calore per colonne": $.pivotUtilities.renderers["Col Heatmap"]
      }
    };
  });

}).call(this);


},{"jquery":"jquery"}],68:[function(require,module,exports){
module.exports={
  "name": "silver-decisions",
  "version": "0.7.0",
  "description": "Software for creating and analyzing decision trees.",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/SilverDecisions/SilverDecisions.git"
  },
  "author": "Michał Wasiluk, Bogumił Kamiński, Przemysław Szufel",
  "license": "LGPL-3.0",
  "bugs": {
    "url": "https://github.com/SilverDecisions/SilverDecisions/issues"
  },
  "homepage": "https://github.com/SilverDecisions/SilverDecisions#readme",
  "browserify": {
    "transform": [
      [
        "babelify",
        {
          "presets": [
            "es2015"
          ],
          "plugins": [
            "transform-class-properties",
            "transform-object-assign",
            "transform-es2015-spread",
            "transform-object-rest-spread",
            [
              "babel-plugin-transform-builtin-extend",
              {
                "globals": [
                  "Error"
                ]
              }
            ]
          ]
        }
      ]
    ]
  },
  "devDependencies": {
    "babel-plugin-transform-builtin-extend": "^1.1.2",
    "babel-plugin-transform-class-properties": "^6.11.5",
    "babel-plugin-transform-es2015-spread": "^6.22.0",
    "babel-plugin-transform-object-assign": "^6.8.0",
    "babel-plugin-transform-object-rest-spread": "^6.23.0",
    "babel-preset-es2015": "^6.14.0",
    "babelify": "^7.3.0",
    "browser-sync": "^2.13.0",
    "browserify": "^13.1.0",
    "browserify-resolutions": "^1.1.0",
    "browserify-shim": "^3.8.13",
    "chalk": "^1.1.3",
    "del": "^2.2.0",
    "es6-set": "^0.1.5",
    "gulp": "^3.9.1",
    "gulp-concat": "^2.6.0",
    "gulp-filelist": "^1.0.0",
    "gulp-html2js": "^0.4.2",
    "gulp-load-plugins": "^1.2.4",
    "gulp-minify-css": "^1.2.4",
    "gulp-plumber": "^1.1.0",
    "gulp-rename": "^1.2.2",
    "gulp-replace": "^0.5.4",
    "gulp-sass": "^2.3.1",
    "gulp-sourcemaps": "^1.6.0",
    "gulp-strip-debug": "^1.1.0",
    "gulp-template": "^4.0.0",
    "gulp-uglify": "^1.5.3",
    "gulp-util": "^3.0.7",
    "jasmine": "^2.5.2",
    "jasmine-jquery": "^2.1.1",
    "karma": "^1.3.0",
    "karma-browserify": "^5.1.1",
    "karma-chrome-launcher": "^2.0.0",
    "karma-intl-shim": "^1.0.3",
    "karma-jasmine": "^1.0.2",
    "karma-phantomjs-launcher": "^1.0.2",
    "merge-stream": "^1.0.0",
    "phantomjs": "^2.1.7",
    "stringify": "^5.1.0",
    "svg2pdf.js": "^0.11.4",
    "vinyl-buffer": "^1.0.0",
    "vinyl-source-stream": "^1.1.0",
    "yargs": "^6.0.0"
  },
  "dependencies": {
    "autosize": "^3.0.19",
    "blueimp-canvas-to-blob": "^3.3.0",
    "d3-array": "^1.0.1",
    "d3-brush": "^1.0.3",
    "d3-dispatch": "^1.0.1",
    "d3-drag": "^1.0.1",
    "d3-hierarchy": "^1.0.2",
    "d3-scale": "^1.0.3",
    "d3-selection": "^1.0.2",
    "d3-shape": "^1.0.3",
    "d3-time-format": "^2.0.2",
    "file-saver": "^1.3.2",
    "hammerjs": "^2.0.8",
    "i18next": "^3.4.3",
    "jquery": "^3.1.1",
    "jquery-ui": "^1.12.1",
    "pivottable": "^2.11.0",
    "sd-computations": "latest",
    "sd-model": "latest",
    "sd-utils": "latest"
  }
}

},{}],69:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.AboutDialog = undefined;

var _d = require('./d3');

var d3 = _interopRequireWildcard(_d);

var _dialog = require('./dialog');

function _interopRequireWildcard(obj) {
    if (obj && obj.__esModule) {
        return obj;
    } else {
        var newObj = {};if (obj != null) {
            for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
            }
        }newObj.default = obj;return newObj;
    }
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

function _possibleConstructorReturn(self, call) {
    if (!self) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }return call && ((typeof call === 'undefined' ? 'undefined' : _typeof(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === 'undefined' ? 'undefined' : _typeof(superClass)));
    }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var AboutDialog = exports.AboutDialog = function (_Dialog) {
    _inherits(AboutDialog, _Dialog);

    function AboutDialog(app) {
        _classCallCheck(this, AboutDialog);

        return _possibleConstructorReturn(this, (AboutDialog.__proto__ || Object.getPrototypeOf(AboutDialog)).call(this, app.container.select('#sd-about-dialog'), app));
    }

    return AboutDialog;
}(_dialog.Dialog);

},{"./d3":74,"./dialog":76}],70:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.AppUtils = undefined;

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _d = require("./d3");

var d3 = _interopRequireWildcard(_d);

var _autosize = require("autosize");

var autosize = _interopRequireWildcard(_autosize);

var _templates = require("./templates");

var _i18n = require("./i18n/i18n");

var _sdUtils = require("sd-utils");

function _interopRequireWildcard(obj) {
    if (obj && obj.__esModule) {
        return obj;
    } else {
        var newObj = {};if (obj != null) {
            for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
            }
        }newObj.default = obj;return newObj;
    }
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

var AppUtils = function () {
    function AppUtils() {
        _classCallCheck(this, AppUtils);
    }

    _createClass(AppUtils, null, [{
        key: "placeTextWithEllipsis",

        //places textString in textObj, adds an ellipsis if text can't fit in width
        value: function placeTextWithEllipsis(textD3Obj, textString, width) {
            var textObj = textD3Obj.node();
            textObj.textContent = textString;

            var margin = 0;
            var ellipsisLength = 9;
            //ellipsis is needed
            if (textObj.getComputedTextLength() > width + margin) {
                for (var x = textString.length - 3; x > 0; x -= 1) {
                    if (textObj.getSubStringLength(0, x) + ellipsisLength <= width + margin) {
                        textObj.textContent = textString.substring(0, x) + "...";
                        return true;
                    }
                }
                textObj.textContent = "..."; //can't place at all
                return true;
            }
            return false;
        }
    }, {
        key: "placeTextWithEllipsisAndTooltip",
        value: function placeTextWithEllipsisAndTooltip(textD3Obj, textString, width, tooltip) {
            var ellipsisPlaced = AppUtils.placeTextWithEllipsis(textD3Obj, textString, width);
            if (ellipsisPlaced && tooltip) {
                textD3Obj.on("mouseover", function (d) {
                    tooltip.transition().duration(200).style("opacity", .9);
                    tooltip.html(textString).style("left", d3.event.pageX + 5 + "px").style("top", d3.event.pageY - 28 + "px");
                });

                textD3Obj.on("mouseout", function (d) {
                    tooltip.transition().duration(500).style("opacity", 0);
                });
            }
        }
    }, {
        key: "getFontSize",
        value: function getFontSize(element) {
            return window.getComputedStyle(element, null).getPropertyValue("font-size");
        }
    }, {
        key: "getTranslation",
        value: function getTranslation(transform) {
            // Create a dummy g for calculation purposes only. This will never
            // be appended to the DOM and will be discarded once this function
            // returns.
            var g = document.createElementNS("http://www.w3.org/2000/svg", "g");

            // Set the transform attribute to the provided string value.
            g.setAttributeNS(null, "transform", transform);

            // consolidate the SVGTransformList containing all transformations
            // to a single SVGTransform of type SVG_TRANSFORM_MATRIX and get
            // its SVGMatrix.
            var matrix = g.transform.baseVal.consolidate().matrix;

            // As per definition values e and f are the ones for the translation.
            return [matrix.e, matrix.f];
        }
    }, {
        key: "updateInputClass",
        value: function updateInputClass(selection) {
            var value = selection.node().value;
            selection.classed('empty', value !== 0 && !value);
            return selection;
        }
    }, {
        key: "autoResizeTextarea",
        value: function autoResizeTextarea(element) {
            setTimeout(function () {
                element.style.width = "";
                var width = element.getBoundingClientRect().width;
                if (width) {
                    element.style.width = width + 'px';
                }
                autosize.update(element);
            }, 10);
        }
    }, {
        key: "elasticTextarea",
        value: function elasticTextarea(selection) {
            setTimeout(function () {
                selection.style('width', undefined);
                var width = selection.node().getBoundingClientRect().width;
                if (width) {
                    selection.style('width', width + 'px');
                }
                autosize.default(selection.node());
            }, 10);
        }
    }, {
        key: "closestPoint",
        value: function closestPoint(pathNode, point) {
            var pathLength = pathNode.getTotalLength(),
                precision = 8,
                best,
                bestLength,
                bestDistance = Infinity;

            // linear scan for coarse approximation
            for (var scan, scanLength = 0, scanDistance; scanLength <= pathLength; scanLength += precision) {
                if ((scanDistance = distance2(scan = pathNode.getPointAtLength(scanLength))) < bestDistance) {
                    best = scan, bestLength = scanLength, bestDistance = scanDistance;
                }
            }

            // binary search for precise estimate
            precision /= 2;
            while (precision > 0.5) {
                var before, after, beforeLength, afterLength, beforeDistance, afterDistance;
                if ((beforeLength = bestLength - precision) >= 0 && (beforeDistance = distance2(before = pathNode.getPointAtLength(beforeLength))) < bestDistance) {
                    best = before, bestLength = beforeLength, bestDistance = beforeDistance;
                } else if ((afterLength = bestLength + precision) <= pathLength && (afterDistance = distance2(after = pathNode.getPointAtLength(afterLength))) < bestDistance) {
                    best = after, bestLength = afterLength, bestDistance = afterDistance;
                } else {
                    precision /= 2;
                }
            }

            best = [best.x, best.y];
            best.distance = Math.sqrt(bestDistance);
            return best;

            function distance2(p) {
                var dx = p.x - point[0],
                    dy = p.y - point[1];
                return dx * dx + dy * dy;
            }
        }
    }, {
        key: "growl",
        value: function growl(message) {
            var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'info';
            var position = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'right';
            var time = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 2000;

            var html = _templates.Templates.get('growl', { message: message, type: type });

            var g = d3.select('body').selectOrAppend('div.sd-growl-list.' + position).append('div').html(html);
            setTimeout(function () {
                g.remove();
            }, time);
        }
    }, {
        key: "postByForm",
        value: function postByForm(url, data) {
            var name, form;

            // create the form
            form = AppUtils.createElement('form', AppUtils.mergeDeep({
                method: 'post',
                action: url,
                enctype: 'multipart/form-data'
            }), document.body);

            for (name in data) {
                if (data.hasOwnProperty(name)) {
                    AppUtils.createElement('input', {
                        type: 'hidden',
                        name: name,
                        value: data[name]
                    }, form);
                }
            }

            form.submit();

            AppUtils.removeElement(form);
        }
    }, {
        key: "createElement",
        value: function createElement(tag, attribs, parent) {
            var el = document.createElement(tag);

            if (attribs) {
                AppUtils.deepExtend(el, attribs);
            }
            if (parent) {
                parent.appendChild(el);
            }
            return el;
        }
    }, {
        key: "removeElement",
        value: function removeElement(element) {
            element.parentNode.removeChild(element);
        }
    }, {
        key: "replaceUrls",
        value: function replaceUrls(text) {
            if (!text) {
                return text;
            }
            var urlRegexp = /((ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?)/;

            return text.replace(urlRegexp, '<a href="$1" target="_blank">$1</a>');
        }
    }, {
        key: "escapeHtml",
        value: function escapeHtml(html) {
            var text = document.createTextNode(html);
            var div = document.createElement('div');
            div.appendChild(text);
            return div.innerHTML;
        }
    }, {
        key: "dispatchHtmlEvent",
        value: function dispatchHtmlEvent(element, name) {
            if ("createEvent" in document) {
                var evt = document.createEvent("HTMLEvents");
                evt.initEvent(name, false, true);
                element.dispatchEvent(evt);
            } else element.fireEvent("on" + name);
        }
    }, {
        key: "dispatchEvent",
        value: function dispatchEvent(name, data) {
            var event;
            try {
                event = new CustomEvent(name, { 'detail': data });
            } catch (e) {
                //IE
                event = document.createEvent('CustomEvent');
                event.initCustomEvent(name, false, false, data);
            }
            document.dispatchEvent(event);
        }
    }, {
        key: "getValidationMessage",
        value: function getValidationMessage(error) {
            if (_sdUtils.Utils.isString(error)) {
                error = { name: error };
            }
            var key = 'validation.' + error.name;
            return _i18n.i18n.t(key, error.data);
        }
    }, {
        key: "hide",
        value: function hide(selection) {
            selection.classed('sd-hidden', true);
        }
    }, {
        key: "show",
        value: function show(selection) {
            var _show = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

            selection.classed('sd-hidden', !_show);
        }
    }, {
        key: "showFullScreenPopup",
        value: function showFullScreenPopup(title, html, closeCallback) {
            var popup = d3.select("body").selectOrAppend("div.sd-full-screen-popup-container").html(_templates.Templates.get('fullscreenPopup', { title: title, body: html }));
            popup.select('.sd-close-popup').on('click', function () {
                popup.remove();
                if (closeCallback) {
                    closeCallback();
                }
            });
        }
    }, {
        key: "getJSON",
        value: function getJSON(url, callback) {
            var xhr = new XMLHttpRequest();
            xhr.open('get', url, true);
            xhr.responseType = 'json';
            xhr.onload = function () {
                var status = xhr.status;
                if (status == 200) {
                    callback(xhr.response, null);
                } else {
                    callback(null, status);
                }
            };
            xhr.send();
        }
    }]);

    return AppUtils;
}();

exports.AppUtils = AppUtils;

AppUtils.sanitizeHeight = function (height, container) {
    return height || parseInt(container.style('height'), 10) || 400;
};

AppUtils.sanitizeWidth = function (width, container) {
    return width || parseInt(container.style('width'), 10) || 960;
};

AppUtils.availableHeight = function (height, container, margin) {
    return Math.max(0, AppUtils.sanitizeHeight(height, container) - margin.top - margin.bottom);
};

AppUtils.availableWidth = function (width, container, margin) {
    return Math.max(0, AppUtils.sanitizeWidth(width, container) - margin.left - margin.right);
};

},{"./d3":74,"./i18n/i18n":82,"./templates":95,"autosize":"autosize","sd-utils":"sd-utils"}],71:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.App = exports.AppConfig = undefined;

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _d = require('./d3');

var d3 = _interopRequireWildcard(_d);

var _i18n = require('./i18n/i18n');

var _sdUtils = require('sd-utils');

var _appUtils = require('./app-utils');

var _sdModel = require('sd-model');

var model = _interopRequireWildcard(_sdModel);

var _treeDesigner = require('./tree-designer/tree-designer');

var _templates = require('./templates');

var _sidebar = require('./sidebar');

var _toolbar = require('./toolbar');

var _settingsDialog = require('./settings-dialog');

var _aboutDialog = require('./about-dialog');

var _exporter = require('./exporter');

var _definitionsDialog = require('./definitions-dialog');

var _sdComputations = require('sd-computations');

var _sensitivityAnalysisDialog = require('./sensitivity-analysis-dialog');

var _loadingIndicator = require('./loading-indicator');

function _interopRequireWildcard(obj) {
    if (obj && obj.__esModule) {
        return obj;
    } else {
        var newObj = {};if (obj != null) {
            for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
            }
        }newObj.default = obj;return newObj;
    }
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

var buildConfig = require('../tmp/build-config.js');

var AppConfig =

//https://github.com/d3/d3-format/blob/master/README.md#format

exports.AppConfig = function AppConfig(custom) {
    _classCallCheck(this, AppConfig);

    this.readOnly = false;
    this.logLevel = 'warn';
    this.workerUrl = null;
    this.jobRepositoryType = 'idb';
    this.clearRepository = false;
    this.buttons = {
        new: true,
        save: true,
        open: true,
        exportToPng: true,
        exportToSvg: true,
        exportToPdf: true
    };
    this.exports = {
        show: true,
        serverUrl: 'http://export.highcharts.com', //url of the export server
        pdf: {
            mode: 'server' },
        png: {
            mode: 'fallback' }
    };
    this.showDetails = true;
    this.showDefinitions = true;
    this.jsonFileDownload = true;
    this.width = undefined;
    this.height = undefined;
    this.rule = "expected-value-maximization";
    this.lng = 'en';
    this.format = { // NumberFormat  options
        locales: 'en',
        payoff: {
            style: 'currency',
            currency: 'USD',
            currencyDisplay: 'symbol',
            minimumFractionDigits: 0,
            maximumFractionDigits: 2,
            // minimumSignificantDigits: 1,
            useGrouping: true
        },
        probability: { // NumberFormat  options
            style: 'decimal',
            minimumFractionDigits: 2,
            maximumFractionDigits: 3,
            useGrouping: true
        }
    };
    this.title = '';
    this.description = '';
    this.treeDesigner = {};

    if (custom) {
        _sdUtils.Utils.deepExtend(this, custom);
    }
};

var App = exports.App = function () {
    // version is set from package.json
    function App(containerIdOrElem, config, diagramData) {
        var _this = this;

        _classCallCheck(this, App);

        var p = Promise.resolve();
        this.setConfig(config);
        this.initI18n();
        this.initContainer(containerIdOrElem);
        this.initDataModel();
        p = this.initComputationsManager();
        this.initProbabilityNumberFormat();
        this.initPayoffNumberFormat();
        this.initTreeDesigner();
        this.initSidebar();
        this.initSettingsDialog();
        this.initAboutDialog();
        this.initDefinitionsDialog();
        this.initSensitivityAnalysisDialog();
        this.initOnBeforeUnload();
        this.initKeyCodes();
        p.then(function () {
            _this.initToolbar();
            if (diagramData) {
                _this.openDiagram(diagramData);
            } else {
                _this.updateView();
            }
        }).catch(function (e) {
            _sdUtils.log.error(e);
        });
    } //Data model manager


    _createClass(App, [{
        key: 'setConfig',
        value: function setConfig(config) {
            if (!config) {
                this.config = new AppConfig();
            } else {
                this.config = new AppConfig(config);
            }
            this.setLogLevel(this.config.logLevel);
            return this;
        }
    }, {
        key: 'setLogLevel',
        value: function setLogLevel(level) {
            _sdUtils.log.setLevel(level);
        }
    }, {
        key: 'initContainer',
        value: function initContainer(containerIdOrElem) {

            if (_sdUtils.Utils.isString(containerIdOrElem)) {
                var selector = containerIdOrElem.trim();

                if (!_sdUtils.Utils.startsWith(selector, '#') && !_sdUtils.Utils.startsWith(selector, '.')) {
                    selector = '#' + selector;
                }
                this.container = d3.select(selector);
            } else {
                this.container = d3.select(containerIdOrElem);
            }
            var self = this;
            this.container.html(_templates.Templates.get('main', { version: App.version, buildTimestamp: App.buildTimestamp, 'lng': self.config.lng }));
            this.container.select('#silver-decisions').classed('sd-read-only', this.config.readOnly);
        }
    }, {
        key: 'initI18n',
        value: function initI18n() {
            _i18n.i18n.init(this.config.lng);
        }
    }, {
        key: 'initDataModel',
        value: function initDataModel() {
            var _this2 = this;

            var self = this;
            this.dataModel = new model.DataModel();
            // this.dataModel.nodeAddedCallback = this.dataModel.nodeRemovedCallback = ()=>self.onNodeAddedOrRemoved();
            this.dataModel.nodeAddedCallback = this.dataModel.nodeRemovedCallback = function (node) {
                return _sdUtils.Utils.waitForFinalEvent(function () {
                    return _this2.onNodeAddedOrRemoved();
                }, 'onNodeAddedOrRemoved', 5);
            };

            this.dataModel.textAddedCallback = function (text) {
                return _sdUtils.Utils.waitForFinalEvent(function () {
                    return _this2.onTextAdded(text);
                }, 'onTextAdded');
            };
            this.dataModel.textRemovedCallback = function (text) {
                return _sdUtils.Utils.waitForFinalEvent(function () {
                    return _this2.onTextRemoved(text);
                }, 'onTextAdded');
            };
        }
    }, {
        key: 'initComputationsManager',
        value: function initComputationsManager() {
            this.computationsManager = new _sdComputations.ComputationsManager({
                ruleName: this.config.ruleName,
                worker: {
                    url: this.config.workerUrl
                },
                jobRepositoryType: this.config.jobRepositoryType,
                clearRepository: this.config.clearRepository
            }, this.dataModel);
            this.expressionEngine = this.computationsManager.expressionEngine;
            return this.checkValidityAndRecomputeObjective(false, false, false);
        }
    }, {
        key: 'initSidebar',
        value: function initSidebar() {
            this.sidebar = new _sidebar.Sidebar(this.container.select('#sd-sidebar'), this);
        }
    }, {
        key: 'initSettingsDialog',
        value: function initSettingsDialog() {
            this.settingsDialog = new _settingsDialog.SettingsDialog(this);
        }
    }, {
        key: 'initAboutDialog',
        value: function initAboutDialog() {
            this.aboutDialog = new _aboutDialog.AboutDialog(this);
        }
    }, {
        key: 'initDefinitionsDialog',
        value: function initDefinitionsDialog() {
            var _this3 = this;

            this.definitionsDialog = new _definitionsDialog.DefinitionsDialog(this);
            this.definitionsDialog.onClosed = function () {
                return _this3.recompute(true, true);
            };
        }
    }, {
        key: 'initSensitivityAnalysisDialog',
        value: function initSensitivityAnalysisDialog() {
            this.sensitivityAnalysisDialog = new _sensitivityAnalysisDialog.SensitivityAnalysisDialog(this);
        }
    }, {
        key: 'isSensitivityAnalysisAvailable',
        value: function isSensitivityAnalysisAvailable() {
            return this.dataModel.getRoots().length === 1 && this.computationsManager.isValid();
        }
    }, {
        key: 'initToolbar',
        value: function initToolbar() {
            this.toolbar = new _toolbar.Toolbar(this.container.select('#sd-toolbar'), this);
        }
    }, {
        key: 'initPayoffNumberFormat',
        value: function initPayoffNumberFormat() {

            this.payoffNumberFormat = new Intl.NumberFormat(this.config.format.locales, this.config.format.payoff);
        }
    }, {
        key: 'initProbabilityNumberFormat',
        value: function initProbabilityNumberFormat() {
            this.probabilityNumberFormat = new Intl.NumberFormat(this.config.format.locales, this.config.format.probability);
        }
    }, {
        key: 'initTreeDesigner',
        value: function initTreeDesigner() {
            var self = this;
            var config = this.getTreeDesignerInitialConfig();
            this.treeDesigner = new _treeDesigner.TreeDesigner(this.container.select('#tree-designer-container'), this.dataModel, config);
        }
    }, {
        key: 'getTreeDesignerInitialConfig',
        value: function getTreeDesignerInitialConfig() {
            var self = this;
            return _sdUtils.Utils.deepExtend({
                $readOnly: self.config.readOnly,
                onNodeSelected: function onNodeSelected(node) {
                    self.onObjectSelected(node);
                },
                onEdgeSelected: function onEdgeSelected(edge) {
                    self.onObjectSelected(edge);
                },
                onTextSelected: function onTextSelected(text) {
                    self.onObjectSelected(text);
                },
                onSelectionCleared: function onSelectionCleared() {
                    self.onSelectionCleared();
                },
                payoffNumberFormatter: function payoffNumberFormatter(v) {
                    return self.payoffNumberFormat.format(v);
                },
                probabilityNumberFormatter: function probabilityNumberFormatter(v) {
                    return self.probabilityNumberFormat.format(v);
                },
                operationsForObject: function operationsForObject(o) {
                    return self.computationsManager.operationsForObject(o);
                }
            }, self.config.treeDesigner);
        }
    }, {
        key: 'onObjectSelected',
        value: function onObjectSelected(object) {
            var self = this;
            if (this.selectedObject === object) {
                return;
            }
            this.selectedObject = object;
            setTimeout(function () {
                self.sidebar.updateObjectPropertiesView(self.selectedObject);
                self.updateVariableDefinitions();
                self.treeDesigner.updatePlottingRegionSize();
            }, 10);
        }
    }, {
        key: 'onSelectionCleared',
        value: function onSelectionCleared() {
            var self = this;
            this.selectedObject = null;
            this.sidebar.hideObjectProperties();
            setTimeout(function () {
                self.updateVariableDefinitions();
                self.treeDesigner.updatePlottingRegionSize();
            }, 10);
            // console.log();
        }
    }, {
        key: 'getCurrentVariableDefinitionsSourceObject',
        value: function getCurrentVariableDefinitionsSourceObject() {
            if (this.selectedObject) {
                if (this.selectedObject instanceof model.domain.Node) {
                    return this.selectedObject;
                }
                if (this.selectedObject instanceof model.domain.Edge) {
                    return this.selectedObject.parentNode;
                }
            }
            return this.dataModel;
        }
    }, {
        key: 'updateVariableDefinitions',
        value: function updateVariableDefinitions() {
            var self = this;
            var definitionsSourceObject = self.getCurrentVariableDefinitionsSourceObject();
            var readOnly = this.selectedObject instanceof model.domain.Edge || this.selectedObject instanceof model.domain.TerminalNode;
            self.sidebar.updateDefinitions(definitionsSourceObject, readOnly, function (code) {
                self.dataModel.saveState();
                definitionsSourceObject.code = code;
                self.recompute(true, true);
            });
        }
    }, {
        key: 'openDefinitionsDialog',
        value: function openDefinitionsDialog() {
            var _this4 = this;

            var definitionsSourceObject = this.getCurrentVariableDefinitionsSourceObject();
            this.definitionsDialog.open(definitionsSourceObject, function (code) {
                _this4.dataModel.saveState();
                definitionsSourceObject.code = code;
                _this4.recompute(true, true);
            });
        }
    }, {
        key: 'updateView',
        value: function updateView() {
            var withTransitions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;

            // console.log('_updateView');
            this.treeDesigner.redraw(withTransitions);
            this.sidebar.updateObjectPropertiesView(this.selectedObject);
            this.updateVariableDefinitions();
            this.toolbar.update();
            this.sidebar.updateLayoutOptions();
            this.sidebar.updateDiagramDetails();
        }
    }, {
        key: 'undo',
        value: function undo() {
            var self = this;
            self.dataModel.undo();
            if (self.selectedObject) {
                self.selectedObject = self.dataModel.findById(self.selectedObject.$id);
            }
            return this.checkValidityAndRecomputeObjective(false, false, false).then(function () {
                self.updateView();
            });
        }
    }, {
        key: 'redo',
        value: function redo() {
            var self = this;
            self.dataModel.redo();
            if (self.selectedObject) {
                self.selectedObject = self.dataModel.findById(self.selectedObject.$id);
            }

            return this.checkValidityAndRecomputeObjective(false, false, false).then(function () {
                self.updateView();
            });
        }
    }, {
        key: 'onNodeAddedOrRemoved',
        value: function onNodeAddedOrRemoved() {
            var self = this;
            return this.checkValidityAndRecomputeObjective().then(function () {
                self.updateView();
            });
        }
    }, {
        key: 'onTextAdded',
        value: function onTextAdded(text) {
            return this.onObjectSelected(text);
        }
    }, {
        key: 'onTextRemoved',
        value: function onTextRemoved(text) {
            this.updateView();
        }
    }, {
        key: 'onObjectUpdated',
        value: function onObjectUpdated(object, fieldName) {
            var _this5 = this;

            var self = this;
            var p = Promise.resolve();
            if (!(object instanceof model.domain.Text) && fieldName !== 'name') {
                p = p.then(function () {
                    return _this5.checkValidityAndRecomputeObjective();
                });
            }
            // this.sidebar.updateObjectPropertiesView(this.selectedObject);
            return p.then(function () {
                setTimeout(function () {
                    self.treeDesigner.redraw(true);
                }, 1);
            });
        }
    }, {
        key: 'setObjectiveRule',
        value: function setObjectiveRule(ruleName) {
            var evalCode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

            var _this6 = this;

            var evalNumeric = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
            var updateView = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;

            this.computationsManager.setCurrentRuleByName(ruleName);
            return this.checkValidityAndRecomputeObjective(false, evalCode, evalNumeric).then(function () {
                if (updateView) {
                    _this6.updateView(true);
                }
            });
        }
    }, {
        key: 'getCurrentObjectiveRule',
        value: function getCurrentObjectiveRule() {
            return this.computationsManager.getCurrentRule();
        }
    }, {
        key: 'getObjectiveRules',
        value: function getObjectiveRules() {
            return this.computationsManager.getObjectiveRules();
        }
    }, {
        key: 'openSensitivityAnalysis',
        value: function openSensitivityAnalysis() {
            this.sensitivityAnalysisDialog.open();
        }
    }, {
        key: 'showTreePreview',
        value: function showTreePreview(dataDTO, closeCallback) {
            var autoLayout = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;

            var self = this;
            this.originalDataModelSnapshot = this.dataModel.createStateSnapshot();
            this.dataModel.loadFromDTO(dataDTO, this.computationsManager.expressionEngine.getJsonReviver());
            this.computationsManager.updateDisplayValues(this.dataModel);
            this.updateView(false);
            setTimeout(function () {
                self.updateView(false);
                setTimeout(function () {
                    var svgString = _exporter.Exporter.getSVGString(self.treeDesigner.svg.node());
                    _appUtils.AppUtils.showFullScreenPopup('', svgString, function () {
                        if (closeCallback) {
                            self.dataModel._setNewState(self.originalDataModelSnapshot);
                            self.updateView(false);

                            closeCallback();
                            setTimeout(function () {
                                self.updateView(false);
                            }, 1);
                        }
                    });
                }, 300);
            }, 1);
        }
    }, {
        key: 'showPolicyPreview',
        value: function showPolicyPreview(title, policy, closeCallback) {
            var self = this;
            this.originalDataModelSnapshot = this.dataModel.createStateSnapshot();
            this.computationsManager.displayPolicy(policy);
            this.updateView(false);
            _appUtils.AppUtils.showFullScreenPopup(title, '');
            _loadingIndicator.LoadingIndicator.show();
            setTimeout(function () {
                self.updateView(false);
                setTimeout(function () {
                    var svgString = _exporter.Exporter.getSVGString(self.treeDesigner.svg.node(), true);
                    _loadingIndicator.LoadingIndicator.hide();
                    _appUtils.AppUtils.showFullScreenPopup(title, svgString, function () {

                        self.dataModel._setNewState(self.originalDataModelSnapshot);

                        // self.computationsManager.updateDisplayValues(self.dataModel);
                        self.updateView(false);
                        if (closeCallback) {
                            closeCallback();
                        }
                        setTimeout(function () {
                            self.updateView(false);
                        }, 1);
                    });
                }, 500);
            }, 1);
        }
    }, {
        key: 'recompute',
        value: function recompute() {
            var _this7 = this;

            var updateView = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
            var debounce = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

            if (debounce) {
                if (!this.debouncedRecompute) {
                    this.debouncedRecompute = _sdUtils.Utils.debounce(function (updateView) {
                        return _this7.recompute(updateView, false);
                    }, 200);
                }
                this.debouncedRecompute(updateView);
                return;
            }

            return this.checkValidityAndRecomputeObjective(false, true).then(function () {
                if (updateView) {
                    _this7.updateView();
                }
            });
        }
    }, {
        key: 'checkValidityAndRecomputeObjective',
        value: function checkValidityAndRecomputeObjective(allRules) {
            var _this8 = this;

            var evalCode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
            var evalNumeric = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;

            return this.computationsManager.checkValidityAndRecomputeObjective(allRules, evalCode, evalNumeric).then(function () {
                _this8.updateValidationMessages();
                _appUtils.AppUtils.dispatchEvent('SilverDecisionsRecomputedEvent', _this8);
            }).catch(function (e) {
                _sdUtils.log.error(e);
            });
        }
    }, {
        key: 'updateValidationMessages',
        value: function updateValidationMessages() {
            var self = this;
            setTimeout(function () {
                self.treeDesigner.updateValidationMessages();
            }, 1);
        }
    }, {
        key: 'newDiagram',
        value: function newDiagram() {
            this.clear();
            this.updateView();
        }
    }, {
        key: 'clear',
        value: function clear() {
            this.dataModel.clear();
            this.setDiagramTitle('', true);
            this.setDiagramDescription('', true);
            this.treeDesigner.setConfig(_sdUtils.Utils.deepExtend(this.getTreeDesignerInitialConfig()));
            this.onSelectionCleared();
            this.sensitivityAnalysisDialog.clear(true);
        }
    }, {
        key: 'openDiagram',
        value: function openDiagram(diagramData) {
            var _this9 = this;

            var self = this;
            var errors = [];

            if (_sdUtils.Utils.isString(diagramData)) {
                try {
                    diagramData = JSON.parse(diagramData, self.computationsManager.expressionEngine.getJsonReviver());
                } catch (e) {
                    errors.push('error.jsonParse');
                    alert(_i18n.i18n.t('error.jsonParse'));
                    _sdUtils.log.error(e);
                    return Promise.resolve(errors);
                }
            }

            var dataModelObject = diagramData.data;

            this.clear();
            if (!diagramData.SilverDecisions) {
                errors.push('error.notSilverDecisionsFile');
                alert(_i18n.i18n.t('error.notSilverDecisionsFile'));
                return Promise.resolve(errors);
            }

            if (!_sdUtils.Utils.isValidVersionString(diagramData.SilverDecisions)) {
                errors.push('error.incorrectVersionFormat');
                alert(_i18n.i18n.t('error.incorrectVersionFormat'));
            } else {
                //Check if version in file is newer than version of application
                if (_sdUtils.Utils.compareVersionNumbers(diagramData.SilverDecisions, App.version) > 0) {
                    errors.push('error.fileVersionNewerThanApplicationVersion');
                    alert(_i18n.i18n.t('error.fileVersionNewerThanApplicationVersion'));
                }

                if (_sdUtils.Utils.compareVersionNumbers(diagramData.SilverDecisions, "0.7.0") < 0) {
                    dataModelObject = {
                        code: diagramData.code,
                        expressionScope: diagramData.expressionScope,
                        trees: diagramData.trees,
                        texts: diagramData.texts
                    };
                }
            }

            try {
                if (diagramData.lng) {
                    this.config.lng = diagramData.lng;
                }
                if (diagramData.rule) {
                    if (this.computationsManager.isRuleName(diagramData.rule)) {
                        this.config.rule = diagramData.rule;
                    } else {
                        delete this.config.rule;
                    }
                }
                if (diagramData.format) {
                    this.config.format = diagramData.format;
                }

                this.setConfig(this.config);
                this.dataModel.load(dataModelObject);

                if (diagramData.treeDesigner) {
                    this.treeDesigner.setConfig(_sdUtils.Utils.deepExtend(self.getTreeDesignerInitialConfig(), diagramData.treeDesigner));
                }

                this.setDiagramTitle(diagramData.title || '', true);
                this.setDiagramDescription(diagramData.description || '', true);

                if (diagramData.sensitivityAnalysis) {
                    this.sensitivityAnalysisDialog.loadSavedParamValues(diagramData.sensitivityAnalysis);
                }
            } catch (e) {
                errors.push('error.malformedData');
                alert(_i18n.i18n.t('error.malformedData'));
                this.clear();
                _sdUtils.log.error('malformedData', e);
                return Promise.resolve(errors);
            }
            try {
                this.updateNumberFormats(false);
            } catch (e) {
                _sdUtils.log.error('incorrectNumberFormatOptions', e);
                errors.push('error.incorrectNumberFormatOptions');
                alert(_i18n.i18n.t('error.incorrectNumberFormatOptions'));
                delete this.config.format;
                this.setConfig(this.config);
                this.updateNumberFormats(false);
            }
            return this.setObjectiveRule(this.config.rule, false, true, false).catch(function (e) {
                _sdUtils.log.error('diagramDrawingFailure', e);
                errors.push('error.diagramDrawingFailure');
                alert(_i18n.i18n.t('error.diagramDrawingFailure'));
                _this9.clear();
                return errors;
            }).then(function () {
                _this9.updateView(false);
                return errors;
            }).catch(function (e) {
                _sdUtils.log.error('diagramDrawingFailure', e);
                errors.push('error.diagramDrawingFailure');
                alert(_i18n.i18n.t('error.diagramDrawingFailure'));
                _this9.clear();
                return errors;
            });
        }
    }, {
        key: 'serialize',
        value: function serialize(filterLocation, filterComputed) {
            var _this10 = this;

            var self = this;
            return self.checkValidityAndRecomputeObjective(true, false, false).then(function () {
                var obj = {
                    SilverDecisions: App.version,
                    buildTimestamp: App.buildTimestamp,
                    savetime: d3.isoFormat(new Date()),
                    lng: self.config.lng,
                    rule: self.computationsManager.getCurrentRule().name,
                    title: self.config.title,
                    description: self.config.description,
                    format: self.config.format,
                    treeDesigner: self.treeDesigner.config,
                    data: self.dataModel.serialize(false),
                    sensitivityAnalysis: _this10.sensitivityAnalysisDialog.jobNameToParamValues
                };

                return _sdUtils.Utils.stringify(obj, [self.dataModel.getJsonReplacer(filterLocation, filterComputed), self.computationsManager.expressionEngine.getJsonReplacer()]);
            });
        }
    }, {
        key: 'updateNumberFormats',
        value: function updateNumberFormats() {
            var updateView = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;

            this.initPayoffNumberFormat();
            this.initProbabilityNumberFormat();
            if (updateView) {
                this.updateView();
            }
        }
    }, {
        key: 'updatePayoffNumberFormat',
        value: function updatePayoffNumberFormat() {
            var updateView = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;

            this.initPayoffNumberFormat();
            if (updateView) {
                this.updateView();
            }
        }
    }, {
        key: 'updateProbabilityNumberFormat',
        value: function updateProbabilityNumberFormat() {
            var updateView = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;

            this.initProbabilityNumberFormat();
            if (updateView) {
                this.updateView();
            }
        }
    }, {
        key: 'initOnBeforeUnload',
        value: function initOnBeforeUnload() {
            var self = this;
            window.addEventListener("beforeunload", function (e) {
                if (!(self.dataModel.isUndoAvailable() || self.dataModel.isRedoAvailable())) {
                    return;
                }

                var dialogText = _i18n.i18n.t('confirm.beforeunload');
                e.returnValue = dialogText;
                return dialogText;
            });
        }
    }, {
        key: 'setConfigParam',
        value: function setConfigParam(path, value, withoutStateSaving, callback) {
            var self = this;
            var prevValue = _sdUtils.Utils.get(this.config, path);

            if (prevValue == value) {
                return;
            }
            if (!withoutStateSaving) {
                this.dataModel.saveState({
                    data: {
                        prevValue: prevValue
                    },
                    onUndo: function onUndo(data) {
                        self.setConfigParam(path, data.prevValue, true, callback);
                    },
                    onRedo: function onRedo(data) {
                        self.setConfigParam(path, value, true, callback);
                    }
                });
            }
            _sdUtils.Utils.set(this.config, path, value);
            if (callback) {
                callback(value);
            }
        }
    }, {
        key: 'setDiagramTitle',
        value: function setDiagramTitle(title, withoutStateSaving) {
            var _this11 = this;

            this.setConfigParam('title', title, withoutStateSaving, function (v) {
                return _this11.treeDesigner.updateDiagramTitle(v);
            });
        }
    }, {
        key: 'setDiagramDescription',
        value: function setDiagramDescription(description, withoutStateSaving) {
            var _this12 = this;

            this.setConfigParam('description', description, withoutStateSaving, function (v) {
                return _this12.treeDesigner.updateDiagramDescription(v);
            });
        }
    }, {
        key: 'initKeyCodes',
        value: function initKeyCodes() {
            var _this13 = this;

            this.container.on("keyup", function (d) {
                if (d3.event.srcElement && ['INPUT', 'TEXTAREA'].indexOf(d3.event.srcElement.nodeName.toUpperCase()) > -1) {
                    //ignore events from input and textarea elements
                    return;
                }

                var key = d3.event.keyCode;
                if (key == 46) {
                    //delete
                    _this13.treeDesigner.removeSelectedNodes();
                    _this13.treeDesigner.removeSelectedTexts();
                    return;
                }
                if (!d3.event.ctrlKey) {
                    return;
                }

                if (d3.event.altKey) {
                    if (_this13.selectedObject instanceof model.domain.Node) {
                        var selectedNode = _this13.selectedObject;
                        if (selectedNode instanceof model.domain.TerminalNode) {
                            return;
                        }
                        if (key == 68) {
                            // ctrl + alt + d
                            _this13.treeDesigner.addDecisionNode(selectedNode);
                        } else if (key == 67) {
                            // ctrl + alt + c
                            _this13.treeDesigner.addChanceNode(selectedNode);
                        } else if (key == 84) {
                            // ctrl + alt + t
                            _this13.treeDesigner.addTerminalNode(selectedNode);
                        }
                        return;
                    } else if (_this13.selectedObject instanceof model.domain.Edge) {
                        if (key == 68) {
                            // ctrl + alt + d
                            _this13.treeDesigner.injectDecisionNode(_this13.selectedObject);
                        } else if (key == 67) {
                            // ctrl + alt + c
                            _this13.treeDesigner.injectChanceNode(_this13.selectedObject);
                        }
                    }
                }

                if (key == 90) {
                    //ctrl + z
                    _this13.undo();
                    return;
                }
                if (key == 89) {
                    //ctrl + y
                    _this13.redo();
                    return;
                }

                /*if(key==65){//ctrl + a
                 if(selectedNodes.length==1){
                 this.treeDesigner.selectSubTree(selectedNodes[0])
                 }else{
                 this.treeDesigner.selectAllNodes();
                 }
                 // d3.event.preventDefault()
                 return;
                 }*/
                var selectedNodes = _this13.treeDesigner.getSelectedNodes();
                if (key == 86) {
                    //ctrl + v
                    if (selectedNodes.length == 1) {
                        var _selectedNode = selectedNodes[0];
                        if (_selectedNode instanceof model.domain.TerminalNode) {
                            return;
                        }
                        _this13.treeDesigner.pasteToNode(_selectedNode);
                    } else if (selectedNodes.length == 0) {}
                    return;
                }

                if (!selectedNodes.length) {
                    return;
                }

                if (key == 88) {
                    //ctrl + x
                    _this13.treeDesigner.cutSelectedNodes();
                } else if (key == 67) {
                    //ctrl + c
                    _this13.treeDesigner.copySelectedNodes();
                }
            });
        }
    }], [{
        key: 'growl',
        value: function growl() {
            return _appUtils.AppUtils.growl(arguments);
        }
    }]);

    return App;
}();

App.version = '';
App.buildTimestamp = buildConfig.buildTimestamp;
App.utils = _sdUtils.Utils;
App.appUtils = _appUtils.AppUtils;
App.d3 = d3;

},{"../tmp/build-config.js":138,"./about-dialog":69,"./app-utils":70,"./d3":74,"./definitions-dialog":75,"./exporter":77,"./i18n/i18n":82,"./loading-indicator":90,"./sensitivity-analysis-dialog":92,"./settings-dialog":93,"./sidebar":94,"./templates":95,"./toolbar":123,"./tree-designer/tree-designer":135,"sd-computations":"sd-computations","sd-model":"sd-model","sd-utils":"sd-utils"}],72:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Autocomplete = undefined;

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _sdUtils = require("sd-utils");

var _appUtils = require("./app-utils");

var _d = require("./d3");

var d3 = _interopRequireWildcard(_d);

function _interopRequireWildcard(obj) {
    if (obj && obj.__esModule) {
        return obj;
    } else {
        var newObj = {};if (obj != null) {
            for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
            }
        }newObj.default = obj;return newObj;
    }
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

var $ = require('jquery');
_sdUtils.Utils.getGlobalObject().jQuery = $; //FIXME
require('jquery-ui/ui/data');
require('jquery-ui/ui/widget');
require('jquery-ui/ui/widgets/mouse');
require('jquery-ui/ui/widgets/button');
require('jquery-ui/ui/widgets/menu');
require('jquery-ui/ui/unique-id');
require('jquery-ui/ui/position');
require('jquery-ui/ui/keycode');
require('jquery-ui/ui/safe-active-element.js');
require('jquery-ui/ui/widgets/autocomplete');

$(function () {
    $.widget("sd.combobox", {
        _create: function _create() {
            this.wrapper = $("<span>").addClass("sd-combobox").insertAfter(this.element);

            this.element.hide();
            this._createAutocomplete();
            this._createShowAllButton();
        },

        _createAutocomplete: function _createAutocomplete() {
            var selected = this.element.children(":selected"),
                value = selected.val() ? selected.text() : "";

            this.input = $("<input>").appendTo(this.wrapper).val(value).attr("title", "").attr("type", "text").addClass("sd-combobox-input ui-widget ui-widget-content ui-state-default ui-corner-left").autocomplete({
                delay: 0,
                minLength: 0,
                source: $.proxy(this, "_source"),
                classes: {
                    "ui-autocomplete": "sd-combobox-autocomplete"
                }
            });
            $("<span class='bar'>").appendTo(this.wrapper);

            var input = this.input;
            this._on(this.input, {
                autocompleteselect: function autocompleteselect(event, ui) {
                    ui.item.option.selected = true;
                    this._trigger("select", event, {
                        item: ui.item.option
                    });
                },

                autocompletechange: function autocompletechange() {
                    var inputD3 = d3.select($(input).get(0));
                    _appUtils.AppUtils.dispatchHtmlEvent(inputD3.node(), "change");
                }
            });
        },

        _createShowAllButton: function _createShowAllButton() {
            var input = this.input,
                wasOpen = false;

            $("<button>").attr("tabIndex", -1).attr("type", "button").html('<i class="material-icons">arrow_drop_down</i>').appendTo(this.wrapper).addClass("sd-combobox-toggle ui-corner-right").on("mousedown", function () {
                wasOpen = input.autocomplete("widget").is(":visible");
            }).on("click", function () {
                input.trigger("focus");
                // Close if already visible
                if (wasOpen) {
                    return;
                }

                // Pass empty string as value to search for, displaying all results
                input.autocomplete("search", "");
            });
        },

        _source: function _source(request, response) {
            var matcher = new RegExp($.ui.autocomplete.escapeRegex(request.term), "i");
            response(this.element.children("option").map(function () {
                var text = $(this).text();
                if (this.value && (!request.term || matcher.test(text))) return {
                    label: text,
                    value: text,
                    option: this
                };
            }));
        },

        _destroy: function _destroy() {
            this.wrapper.remove();
            this.element.show();
        },

        input_element: function input_element() {
            return this.input;
        }
    });
});

var Autocomplete = exports.Autocomplete = function () {
    function Autocomplete(container) {
        _classCallCheck(this, Autocomplete);

        this.container = container;
        this.combobox = $(this.container.node()).combobox();
    }

    _createClass(Autocomplete, [{
        key: "getInput",
        value: function getInput() {
            return d3.select($(this.combobox).combobox('input_element').get(0));
        }
    }]);

    return Autocomplete;
}();

},{"./app-utils":70,"./d3":74,"jquery":"jquery","jquery-ui/ui/data":53,"jquery-ui/ui/keycode":54,"jquery-ui/ui/position":55,"jquery-ui/ui/safe-active-element.js":56,"jquery-ui/ui/unique-id":58,"jquery-ui/ui/widget":59,"jquery-ui/ui/widgets/autocomplete":60,"jquery-ui/ui/widgets/button":61,"jquery-ui/ui/widgets/menu":62,"jquery-ui/ui/widgets/mouse":63,"sd-utils":"sd-utils"}],73:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.D3Extensions = undefined;

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _d = require("./d3");

var d3 = _interopRequireWildcard(_d);

function _interopRequireWildcard(obj) {
    if (obj && obj.__esModule) {
        return obj;
    } else {
        var newObj = {};if (obj != null) {
            for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
            }
        }newObj.default = obj;return newObj;
    }
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

var D3Extensions = exports.D3Extensions = function () {
    function D3Extensions() {
        _classCallCheck(this, D3Extensions);
    }

    _createClass(D3Extensions, null, [{
        key: "extend",
        value: function extend() {

            d3.selection.prototype.enter.prototype.insertSelector = d3.selection.prototype.insertSelector = function (selector, before) {
                return D3Extensions.insertSelector(this, selector, before);
            };

            d3.selection.prototype.enter.prototype.appendSelector = d3.selection.prototype.appendSelector = function (selector) {
                return D3Extensions.appendSelector(this, selector);
            };

            d3.selection.prototype.enter.prototype.selectOrAppend = d3.selection.prototype.selectOrAppend = function (selector) {
                return D3Extensions.selectOrAppend(this, selector);
            };

            d3.selection.prototype.enter.prototype.selectOrInsert = d3.selection.prototype.selectOrInsert = function (selector, before) {
                return D3Extensions.selectOrInsert(this, selector, before);
            };
        }
    }, {
        key: "insertOrAppendSelector",
        value: function insertOrAppendSelector(parent, selector, operation, before) {

            var selectorParts = selector.split(/([\.\#])/);
            var element = parent[operation](selectorParts.shift(), before); //":first-child"

            while (selectorParts.length > 1) {
                var selectorModifier = selectorParts.shift();
                var selectorItem = selectorParts.shift();
                if (selectorModifier === ".") {
                    element = element.classed(selectorItem, true);
                } else if (selectorModifier === "#") {
                    element = element.attr('id', selectorItem);
                }
            }
            return element;
        }
    }, {
        key: "insertSelector",
        value: function insertSelector(parent, selector, before) {
            return D3Extensions.insertOrAppendSelector(parent, selector, "insert", before);
        }
    }, {
        key: "appendSelector",
        value: function appendSelector(parent, selector) {
            return D3Extensions.insertOrAppendSelector(parent, selector, "append");
        }
    }, {
        key: "selectOrAppend",
        value: function selectOrAppend(parent, selector, element) {
            var selection = parent.select(selector);
            if (selection.empty()) {
                if (element) {
                    return parent.append(element);
                }
                return D3Extensions.appendSelector(parent, selector);
            }
            return selection;
        }
    }, {
        key: "selectOrInsert",
        value: function selectOrInsert(parent, selector, before) {
            var selection = parent.select(selector);
            if (selection.empty()) {
                return D3Extensions.insertSelector(parent, selector, before);
            }
            return selection;
        }
    }]);

    return D3Extensions;
}();

},{"./d3":74}],74:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _d3Dispatch = require('d3-dispatch');

Object.keys(_d3Dispatch).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _d3Dispatch[key];
    }
  });
});

var _d3Scale = require('d3-scale');

Object.keys(_d3Scale).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _d3Scale[key];
    }
  });
});

var _d3Selection = require('d3-selection');

Object.keys(_d3Selection).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _d3Selection[key];
    }
  });
});

var _d3Shape = require('d3-shape');

Object.keys(_d3Shape).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _d3Shape[key];
    }
  });
});

var _d3Drag = require('d3-drag');

Object.keys(_d3Drag).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _d3Drag[key];
    }
  });
});

var _d3Brush = require('d3-brush');

Object.keys(_d3Brush).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _d3Brush[key];
    }
  });
});

var _d3Array = require('d3-array');

Object.keys(_d3Array).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _d3Array[key];
    }
  });
});

var _d3Hierarchy = require('d3-hierarchy');

Object.keys(_d3Hierarchy).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _d3Hierarchy[key];
    }
  });
});

var _d3TimeFormat = require('d3-time-format');

Object.keys(_d3TimeFormat).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _d3TimeFormat[key];
    }
  });
});

},{"d3-array":"d3-array","d3-brush":"d3-brush","d3-dispatch":"d3-dispatch","d3-drag":"d3-drag","d3-hierarchy":"d3-hierarchy","d3-scale":"d3-scale","d3-selection":"d3-selection","d3-shape":"d3-shape","d3-time-format":"d3-time-format"}],75:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.DefinitionsDialog = undefined;

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _get = function get(object, property, receiver) {
    if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
        var parent = Object.getPrototypeOf(object);if (parent === null) {
            return undefined;
        } else {
            return get(parent, property, receiver);
        }
    } else if ("value" in desc) {
        return desc.value;
    } else {
        var getter = desc.get;if (getter === undefined) {
            return undefined;
        }return getter.call(receiver);
    }
};

var _d = require('./d3');

var d3 = _interopRequireWildcard(_d);

var _dialog = require('./dialog');

var _sdUtils = require('sd-utils');

var _appUtils = require('./app-utils');

var _templates = require('./templates');

function _interopRequireWildcard(obj) {
    if (obj && obj.__esModule) {
        return obj;
    } else {
        var newObj = {};if (obj != null) {
            for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
            }
        }newObj.default = obj;return newObj;
    }
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

function _possibleConstructorReturn(self, call) {
    if (!self) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }return call && ((typeof call === "undefined" ? "undefined" : _typeof(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === "undefined" ? "undefined" : _typeof(superClass)));
    }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var DefinitionsDialog = exports.DefinitionsDialog = function (_Dialog) {
    _inherits(DefinitionsDialog, _Dialog);

    function DefinitionsDialog(app) {
        _classCallCheck(this, DefinitionsDialog);

        var _this = _possibleConstructorReturn(this, (DefinitionsDialog.__proto__ || Object.getPrototypeOf(DefinitionsDialog)).call(this, app.container.select('#sd-definitions-dialog'), app));

        var self = _this;
        _this.definitionsCode = _this.container.select('textarea#sd-definitions-dialog-definitions-code').on('input', function () {
            _appUtils.AppUtils.updateInputClass(d3.select(this));
        });

        _this.definitionsCode = _this.container.select('textarea#sd-definitions-dialog-definitions-code').on('change', function () {
            if (self.changeCallback) {
                self.changeCallback(this.value);
            }
        });

        _this.recalculateButton = _this.container.select('button#sd-definitions-dialog-recalculate-button').on('click', function () {
            self.app.recompute();
        });

        _this.variableValuesContainer = _this.container.select("#sd-definitions-dialog-variable-values");
        _appUtils.AppUtils.elasticTextarea(_this.definitionsCode);

        document.addEventListener('SilverDecisionsRecomputedEvent', function (data) {
            if (data.detail === app) {
                self.update();
            }
        });
        return _this;
    }

    _createClass(DefinitionsDialog, [{
        key: 'open',
        value: function open(definitionsSourceObject, changeCallback) {
            _get(DefinitionsDialog.prototype.__proto__ || Object.getPrototypeOf(DefinitionsDialog.prototype), 'open', this).call(this);
            this.changeCallback = changeCallback;
            this.definitionsSourceObject = definitionsSourceObject;
            this.update();
        }
    }, {
        key: 'update',
        value: function update() {
            var force = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

            if (!force && !this.isVisible()) {
                return;
            }
            this.definitionsCode.node().value = this.definitionsSourceObject.code;
            _appUtils.AppUtils.updateInputClass(this.definitionsCode);
            _appUtils.AppUtils.autoResizeTextarea(this.definitionsCode.node());
            this.definitionsCode.classed('invalid', !!this.definitionsSourceObject.$codeError);
            if (this.definitionsSourceObject.$codeError) {
                this.printError(this.definitionsSourceObject.$codeError);
            } else {
                this.printVariables(this.definitionsSourceObject.expressionScope);
            }
        }
    }, {
        key: 'printError',
        value: function printError(error) {
            var html = error;
            this.variableValuesContainer.html(html);
        }
    }, {
        key: 'printVariables',
        value: function printVariables(scope) {
            var html = _templates.Templates.get('evaluatedVariables', { scopeVariables: _sdUtils.Utils.getVariablesAsList(scope) });
            this.variableValuesContainer.html(html);
        }
    }]);

    return DefinitionsDialog;
}(_dialog.Dialog);

},{"./app-utils":70,"./d3":74,"./dialog":76,"./templates":95,"sd-utils":"sd-utils"}],76:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Dialog = undefined;

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _d = require('./d3');

var d3 = _interopRequireWildcard(_d);

var _i18n = require('./i18n/i18n');

var _sdUtils = require('sd-utils');

function _interopRequireWildcard(obj) {
    if (obj && obj.__esModule) {
        return obj;
    } else {
        var newObj = {};if (obj != null) {
            for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
            }
        }newObj.default = obj;return newObj;
    }
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

var Dialog = exports.Dialog = function () {
    function Dialog(container, app) {
        var _this = this;

        _classCallCheck(this, Dialog);

        this.app = app;
        this.container = container;
        this.container.select('.sd-close-modal').on('click', function () {
            return _this.close();
        });
        this.container.select('.sd-extend-modal').on('click', function () {
            return _this.extend();
        });
        this.container.select('.sd-shrink-modal').on('click', function () {
            return _this.shrink();
        });
    }

    _createClass(Dialog, [{
        key: 'open',
        value: function open() {
            this.onOpen();
            this.container.classed('open', true);
        }
    }, {
        key: 'close',
        value: function close() {
            this.container.classed('open', false);
            this.onClosed();
        }
    }, {
        key: 'extend',
        value: function extend() {
            this.container.classed('sd-full-screen', true);
        }
    }, {
        key: 'shrink',
        value: function shrink() {
            this.container.classed('sd-full-screen', false);
        }
    }, {
        key: 'isVisible',
        value: function isVisible() {
            return this.container.classed('open');
        }
    }, {
        key: 'onClosed',
        value: function onClosed() {}
    }, {
        key: 'onOpen',
        value: function onOpen() {}
    }]);

    return Dialog;
}();

},{"./d3":74,"./i18n/i18n":82,"sd-utils":"sd-utils"}],77:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Exporter = undefined;

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _blueimpCanvasToBlob = require("blueimp-canvas-to-blob");

var _fileSaver = require("file-saver");

var _d = require("./d3");

var d3 = _interopRequireWildcard(_d);

var _i18n = require("./i18n/i18n");

var _sdUtils = require("sd-utils");

var _loadingIndicator = require("./loading-indicator");

function _interopRequireWildcard(obj) {
    if (obj && obj.__esModule) {
        return obj;
    } else {
        var newObj = {};if (obj != null) {
            for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
            }
        }newObj.default = obj;return newObj;
    }
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

var Exporter = exports.Exporter = function () {
    function Exporter() {
        _classCallCheck(this, Exporter);
    }

    _createClass(Exporter, null, [{
        key: "getSvgCloneWithInlineStyles",

        // Below are the function that handle actual exporting:
        // getSVGString (svgNode ) and svgString2Image( svgString, width, height, format, callback )
        value: function getSvgCloneWithInlineStyles(svgNode) {
            var svgClone = svgNode.cloneNode(true);
            appendInlineStyles(svgNode, svgClone);

            function appendInlineStyles(source, target, parentCs) {
                if (!source) {
                    _sdUtils.log.error('Exporter.appendInlineStyles - undefined source!');
                    return false;
                }
                var children = source.children;
                var targetChildren = target.children;
                if (!source.children) {
                    children = source.childNodes;
                    targetChildren = target.childNodes;
                }

                if (source.tagName === 'text') {
                    /*
                     var bBox = source.getBBox();
                     console.log(source, bBox);
                     target.setAttribute('y', bBox.y)*/
                }

                var cssStyleText = '';
                var cs = getComputedStyle(source);
                if (!cs) {
                    return true;
                }
                if (cs.display === 'none') {
                    return false;
                }

                for (var i = 0; i < cs.length; i++) {
                    var styleName = cs.item(i);
                    if (_sdUtils.Utils.startsWith(styleName, '-')) {
                        continue;
                    }

                    var propertyValue = cs.getPropertyValue(styleName);
                    if (parentCs) {
                        if (propertyValue === parentCs.getPropertyValue(styleName)) {
                            continue;
                        }
                    }

                    if (Exporter.exportedStyles.some(function (s) {
                        return s.test(styleName);
                    })) {
                        cssStyleText += '; ' + styleName + ': ' + propertyValue;
                    } else if (Exporter.svgProperties.some(function (s) {
                        return s.test(styleName);
                    })) {
                        target.setAttribute(styleName, propertyValue);
                    }
                }
                if (cssStyleText.length) {
                    target.setAttribute("style", cssStyleText);
                } else {
                    target.removeAttribute("style");
                }

                var toRemove = [];
                for (var _i = 0; _i < children.length; _i++) {
                    var node = children[_i];
                    if (!appendInlineStyles(node, targetChildren[_i], cs)) {
                        toRemove.push(targetChildren[_i]);
                    }
                }
                toRemove.forEach(function (n) {
                    target.removeChild(n);
                });
                return true;
            }

            /*var textElements = svgNode.getElementsByTagName('text')
             _.each(textElements, function (el) {
               var textBBox = el.getBBox();
             console.log(el,textBBox, el.getBoundingClientRect());
             _.each(el.getElementsByTagName('tspan'), tspan=>{
             var tspanBBox = tspan.getBBox();
             console.log(tspan,tspanBBox, tspan.getBoundingClientRect());
             })
              // el.style['font-family'] = el.style['font-family'] && el.style['font-family'].split(' ').splice(-1);
             });*/

            svgClone.setAttribute('xlink', 'http://www.w3.org/1999/xlink');
            return svgClone;
        }
    }, {
        key: "getSVGString",
        value: function getSVGString(svgNode) {
            var removeIds = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

            // svgNode = svgNode.cloneNode(true);
            var svgClone = Exporter.getSvgCloneWithInlineStyles(svgNode);

            var svgString = Exporter.serializeSvgNode(svgClone);
            // svgString = svgString.replace(/(\w+)?:?xlink=/g, 'xmlns:xlink=') // Fix root xlink without namespace
            // svgString = svgString.replace(/NS\d+:href/g, 'xlink:href') // Safari NS namespace fix
            svgString = Exporter.sanitizeSVG(svgString, removeIds);

            return svgString;
        }
    }, {
        key: "serializeSvgNode",
        value: function serializeSvgNode(svgNode) {
            var serializer = new XMLSerializer();
            return serializer.serializeToString(svgNode);
        }
    }, {
        key: "validateSvgNode",
        value: function validateSvgNode(svgNode) {
            var svgString = Exporter.serializeSvgNode(svgNode);
            var oParser = new DOMParser();
            var doc = oParser.parseFromString(svgString, 'image/svg+xml');
            return doc.documentElement.nodeName.indexOf('parsererror') === -1;
        }
    }, {
        key: "svgString2Image",
        value: function svgString2Image(svgString, width, height, format, callback) {
            var format = format ? format : 'png';
            var imgsrc = 'data:image/svg+xml,' + encodeURIComponent(svgString); // Convert SVG string to dataurl

            // var canvas = document.createElement("canvas");
            var canvas = document.createElement("canvas");
            var context = canvas.getContext("2d");

            canvas.width = width;
            canvas.height = height;

            var image = new Image();
            image.width = width;
            image.height = height;
            var target = new Image();
            target.width = width;
            target.height = height;

            image.onload = function () {
                // context.clearRect(0, 0, width, height);
                context.drawImage(image, 0, 0, width, height);
                canvas.toBlob(function (blob) {
                    var filesize = Math.round(blob.length / 1024) + ' KB';
                    if (callback) callback(blob, filesize);
                });
            };

            image.src = imgsrc;
        }

        //decisiontree@yyyy.mm.dd_hh.mm.ss

    }, {
        key: "getExportFileName",
        value: function getExportFileName(ext) {
            var name = 'decisiontree';
            var format = d3.timeFormat("%Y.%m.%d_%H.%M.%S");
            var date = new Date();
            name += '@' + format(date);
            if (ext) {
                name += '.' + ext;
            }
            return name;
        }
    }, {
        key: "saveAsPng",
        value: function saveAsPng(svg, options) {

            var clientSide = options.png.mode === 'client';
            var fallback = options.png.mode === 'fallback';
            var serverSide = options.png.mode === 'server';
            if (_sdUtils.Utils.detectIE()) {
                if (clientSide) {
                    alert(_i18n.i18n.t('error.pngExportNotSupportedIE'));
                    return;
                }

                if (fallback) {
                    fallback = false;
                    serverSide = true;
                }
            }
            _loadingIndicator.LoadingIndicator.show();

            try {
                var svgString = Exporter.getSVGString(svg.node());
                var svgWidth = svg.attr('width');
                var svgHeight = svg.attr('height');

                var pngWidth = 4 * svgWidth;
                var pngHeight = 4 * svgHeight;
                if (clientSide || fallback) {
                    // passes Blob and filesize String to the callback

                    var save = function save(dataBlob, filesize) {
                        try {
                            Exporter.saveAs(dataBlob, Exporter.getExportFileName('png'));
                            _loadingIndicator.LoadingIndicator.hide();
                        } catch (e) {
                            _sdUtils.log.warn('client side png rendering failed!');
                            if (fallback) {
                                _sdUtils.log.info('performing server side fallback.');
                                Exporter.exportPngServerSide(svgString, options.serverUrl, pngWidth, pngHeight);
                            } else {
                                throw e;
                            }
                        }
                    };

                    Exporter.svgString2Image(svgString, pngWidth, pngHeight, 'png', save);
                } else if (serverSide) {
                    Exporter.exportPngServerSide(svgString, options.serverUrl, pngWidth, pngHeight);
                }
            } catch (e) {
                alert(_i18n.i18n.t('error.pngExportNotSupported'));
                _loadingIndicator.LoadingIndicator.hide();
                _sdUtils.log.error('pngExportNotSupported', e);
            }
        }
    }, {
        key: "saveAsSvg",
        value: function saveAsSvg(svg) {
            try {
                var svgString = Exporter.getSVGString(svg.node());

                var blob = new Blob([svgString], { type: "image/svg+xml" });
                Exporter.saveAs(blob, Exporter.getExportFileName('svg'));
            } catch (e) {
                alert(_i18n.i18n.t('error.svgExportNotSupported'));
                _sdUtils.log.error('svgExportNotSupported', e);
            }
        }
    }, {
        key: "exportPdfClientSide",
        value: function exportPdfClientSide(svgString, width, height) {
            var doc = new jsPDF('l', 'pt', [width, height]);
            var dummy = document.createElement('svg');
            dummy.innerHTML = svgString;
            svg2pdf(dummy.firstChild, doc, {
                xOffset: 0,
                yOffset: 0,
                scale: 1
            });
            doc.save(Exporter.getExportFileName('pdf'));
            _loadingIndicator.LoadingIndicator.hide();
        }
    }, {
        key: "postAndSave",
        value: function postAndSave(url, data, filename, successCallback, failCallback) {
            var xhr = new XMLHttpRequest();
            xhr.open('post', url, true);
            xhr.setRequestHeader("Content-type", "application/json");
            xhr.responseType = 'arraybuffer';
            xhr.onload = function () {
                var status = xhr.status;
                _sdUtils.log.debug(status);
                var type = xhr.getResponseHeader('Content-Type');
                if (status == 200) {
                    var blob = new Blob([this.response], { type: type });
                    Exporter.saveAs(blob, filename);
                    if (successCallback) {
                        successCallback();
                    }
                } else {
                    if (failCallback) {
                        failCallback();
                    }
                }
            };
            xhr.onreadystatechange = function (oEvent) {
                if (xhr.readyState === 4) {
                    if (xhr.status !== 200) {
                        failCallback();
                    }
                }
            };

            xhr.send(JSON.stringify(data));
        }
    }, {
        key: "exportPdfServerSide",
        value: function exportPdfServerSide(svgString, url) {
            var filename = Exporter.getExportFileName('pdf');
            var data = { svg: svgString, type: 'pdf', noDownload: true };
            Exporter.postAndSave(url, data, filename, _loadingIndicator.LoadingIndicator.hide, function () {
                _loadingIndicator.LoadingIndicator.hide();
                alert(_i18n.i18n.t('error.serverSideExportRequestFailure'));
                throw new Error('Server side export failure');
            });

            // Utils.postByForm(url, {
            //     filename: filename,
            //     type: 'pdf',
            //     // width: options.width || 0, // IE8 fails to post undefined correctly, so use 0
            //     // scale: options.scale,
            //     svg: svgString
            // });
        }
    }, {
        key: "exportPngServerSide",
        value: function exportPngServerSide(svgString, url, pngWidth, pngHeight) {
            var filename = Exporter.getExportFileName('png');
            var data = { svg: svgString, type: 'png', noDownload: true, width: pngWidth };
            Exporter.postAndSave(url, data, filename, _loadingIndicator.LoadingIndicator.hide, function () {
                _loadingIndicator.LoadingIndicator.hide();
                alert(_i18n.i18n.t('error.serverSideExportRequestFailure'));
                throw new Error('Server side export failure');
            });

            /*Utils.postByForm(url, {
             filename: filename,
             type: 'pdf',
             // width: options.width || 0, // IE8 fails to post undefined correctly, so use 0
             // scale: options.scale,
             svg: svgString
             });*/
        }
    }, {
        key: "saveAsPdf",
        value: function saveAsPdf(svg, options) {
            var clientSidePdfExportAvailable = Exporter.isClientSidePdfExportAvailable();
            if (options.pdf.mode === 'client') {
                if (!clientSidePdfExportAvailable) {
                    alert(_i18n.i18n.t('error.jsPDFisNotIncluded'));
                    return;
                }
            }
            _loadingIndicator.LoadingIndicator.show();
            var margin = 20;
            var svgElement = svg.node();
            var width = svgElement.width.baseVal.value + 2 * margin,
                height = svgElement.height.baseVal.value + 2 * margin;
            try {
                var svgString = Exporter.getSVGString(svgElement);

                var fallback = options.pdf.mode === 'fallback';
                if (options.pdf.mode === 'client' || fallback) {
                    try {
                        Exporter.exportPdfClientSide(svgString, width, height);
                    } catch (e) {
                        _sdUtils.log.error('client side pdf rendering failed!');
                        if (fallback) {
                            _sdUtils.log.info('performing server side fallback.');
                            Exporter.exportPdfServerSide(svgString, options.serverUrl);
                        } else {
                            throw e;
                        }
                    }
                } else if (options.pdf.mode === 'server') {
                    Exporter.exportPdfServerSide(svgString, options.serverUrl);
                }
            } catch (e) {
                _sdUtils.log.error('pdfExportNotSupported', e);
                _loadingIndicator.LoadingIndicator.hide();
                alert(_i18n.i18n.t('error.pdfExportNotSupported'));
            }
        }
    }, {
        key: "isClientSidePdfExportAvailable",
        value: function isClientSidePdfExportAvailable() {
            return typeof jsPDF !== 'undefined' && typeof svg2pdf !== 'undefined';
        }
    }, {
        key: "sanitizeSVG",
        value: function sanitizeSVG(svg) {
            var removeIds = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

            var sanitized = svg.replace(/zIndex="[^"]+"/g, '').replace(/isShadow="[^"]+"/g, '').replace(/symbolName="[^"]+"/g, '').replace(/jQuery[0-9]+="[^"]+"/g, '').replace(/url\(("|&quot;)(\S+)("|&quot;)\)/g, 'url($2)').replace(/url\([^#]+#/g, 'url(#').replace(/<svg /, '<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g, ' xlink:href=').replace(/\n/, ' ').replace(/<\/svg>.*?$/, '</svg>').replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g, '$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g, "\xA0").replace(/&shy;/g, "\xAD");

            if (removeIds) {
                return sanitized.replace(/id="[^"]+"/g, '');
            }

            return sanitized;
        }
    }, {
        key: "saveAsCSV",
        value: function saveAsCSV(rows) {
            var csvRows = [];
            rows.forEach(function (row) {
                csvRows.push(row.map(function (r) {
                    return Exporter.escapeCsvField(r);
                }).join(','));
            });
            var csvString = csvRows.join("\r\n");

            var blob = new Blob([csvString], { type: "text/csv" });
            Exporter.saveAs(blob, Exporter.getExportFileName('csv'));
        }
    }, {
        key: "escapeCsvField",
        value: function escapeCsvField(field) {
            if (_sdUtils.Utils.isString(field)) {
                return '"' + field.replace(/"/g, '""') + '"';
            }
            return field;
        }
    }]);

    return Exporter;
}();

Exporter.saveAs = _fileSaver.saveAs;
Exporter.dataURLtoBlob = _blueimpCanvasToBlob.dataURLtoBlob;
Exporter.exportedStyles = [/^font/, /^color/, /^opacity$/];
Exporter.svgProperties = [/^stroke/, /^fill/, /^text/];

},{"./d3":74,"./i18n/i18n":82,"./loading-indicator":90,"blueimp-canvas-to-blob":"blueimp-canvas-to-blob","file-saver":"file-saver","sd-utils":"sd-utils"}],78:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.FileLoader = undefined;

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _i18n = require('./i18n/i18n');

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

var FileLoader = exports.FileLoader = function () {
    function FileLoader() {
        _classCallCheck(this, FileLoader);
    }

    _createClass(FileLoader, null, [{
        key: 'openFile',
        value: function openFile(callback) {
            var input = document.getElementById('sd-file-input');
            input.onchange = loadFile;

            input.click();

            function loadFile() {

                var file, fr;

                if (typeof window.FileReader !== 'function') {
                    alert(_i18n.i18n.t('error.fileApiNotSupported'));
                    return;
                }
                input = document.getElementById('sd-file-input');
                if (!input.files) {
                    alert(_i18n.i18n.t('error.inputFilesProperty'));
                    return;
                }

                if (!input.files[0]) {
                    return;
                }

                file = input.files[0];
                fr = new FileReader();
                fr.onload = receivedText;
                fr.readAsText(file);

                function receivedText(e) {
                    callback(e.target.result);
                    input.value = null;
                }
            }
        }
    }]);

    return FileLoader;
}();

},{"./i18n/i18n":82}],79:[function(require,module,exports){
module.exports={
  "toolbar": {
    "newDiagram": "Neues Diagramm",
    "openDiagram": "Diagramm öffnen",
    "saveDiagram": "Aktuelles Diagramm speichern",
    "export":{
      "label": "Exportieren nach",
      "png": "Png",
      "svg": "Svg",
      "pdf": "Pdf"
    },
    "layout":{
      "label": "Layout",
      "manual": "Manual",
      "tree": "Baum",
      "cluster": "Cluster"
    },
    "objectiveRule":{
      "label": "Regel",
      "options": {
        "expected-value-maximization":"max",
        "expected-value-minimization":"min",
        "maxi-min":"maxi-min",
        "maxi-max":"maxi-max",
        "mini-min":"mini-min",
        "mini-max":"mini-max"
      }
    },
    "undo": "Rückgängig machen",
    "redo": "Wiederholen",
    "settings": "Einstellungen",
    "about": "Über",
    "recompute": "Neu Berechnen"
  },
  "node":{
    "name": "Beschreibung"
  },
  "edge":{
    "name": "Beschreibung",
    "payoff": "Auszahlung",
    "probability": "Wahrscheinlichkeit"

  },
  "text":{
    "value": "Text"
  },
  "contextMenu":{
    "main":{
      "addDecisionNode": "Entscheidungsknoten hinzufügen",
      "addChanceNode": "Zufall Knoten hinzufügen",
      "addText": "Text hinzufügen ",
      "paste": "Einfügen",
      "selectAllNodes": "Alle Knoten auswählen"
    },
    "node":{
      "copy": "Kopieren",
      "cut": "Ausschneiden",
      "paste": "Einfügen",
      "delete": "Löschen",
      "addDecisionNode": "Entscheidungsknoten hinzufügen",
      "addChanceNode": "Zufall Knoten hinzufügen",
      "addTerminalNode": "Endknotten hinzufügen",
      "convert":{
        "decision": "Als Entscheidungsknoten",
        "chance": "Als Zufall Knoten",
        "terminal": "Als Endknoten"

      },
      "selectSubtree": "Teilbaum wählen",
      "flipSubtree": "Teilbaum umdrehen"
    },
    "edge":{
      "injectDecisionNode": "Entscheidungsknoten Injizieren",
      "injectChanceNode": "Zufall Knoten Injizieren"
    },
    "text":{
      "delete": "Löschen"
    }
  },
  "settingsDialog":{
    "title": "Einstellungen",
    "general":{
      "title": "Allgemein",
      "fontSize": "Schriftgröße",
      "fontFamily": "Schriftfamilie",
      "fontWeight": "Schriftgewicht",
      "fontStyle": "Schriftstil",
      "numberFormatLocale": "Zahlenformat Gebietsschema"
    },
    "payoff":{
      "title": "Auszahlung Zahlenformat",
      "currency": "Währung",
      "currencyDisplay": "Währungsanzeige",
      "style": "Stil",
      "minimumFractionDigits": "Minimale Bruchzahlen",
      "maximumFractionDigits": "Maximale Bruchzahlen",
      "useGrouping": "Gruppierung Separatoren verwenden"
    },
    "probability":{
      "title": "Wahrscheinlichkeit Zahlenformat",
      "style": "Stil",
      "minimumFractionDigits": "Minimale Bruchzahlen",
      "maximumFractionDigits": "Maximale Bruchzahlen",
      "fontSize": "Schriftgröße",
      "color": "Farbe"
    },
    "node":{
      "title": "Knoten",
      "strokeWidth": "Strichbreite",
      "optimal":{
        "title": "Optimal",
        "stroke": "Farbe",
        "strokeWidth": "Strichbreite"
      },
      "label": {
        "title": "Beschreibung",
        "fontSize": "Beschreibung Schriftgröße",
        "color": "Beschreibungsfarbe"
      },
      "payoff": {
        "title": "Auszahlung",
        "fontSize": "Schriftgröße",
        "color": "Farbe",
        "negativeColor": "Negative Farbe"
      },
      "decision": {
        "title": "Entscheidungsknoten",
        "fill": "Füllfarbe",
        "stroke": "Strichfarbe",
        "selected": {
          "fill": "Ausgewählte Füllfarbe"
        }
      },
      "chance": {
        "title": "Zufall Knoten",
        "fill": "Füllfarbe",
        "stroke": "Strichfarbe",
        "selected": {
          "fill": "Ausgewählte Füllfarbe"
        }
      },
      "terminal":{
        "title": "Endknoten",
        "fill": "Füllfarbe",
        "stroke": "Strichfarbe",
        "selected": {
          "fill": "Ausgewählte Füllfarbe"
        },
        "payoff": {
          "title": "Auszahlung",
          "fontSize": "Schriftgröße",
          "color": "Farbe",
          "negativeColor": "Negative Farbe"
        }
      }
    },
    "edge":{
      "title": " Zweig",
      "stroke": "Farbe",
      "strokeWidth": "Strichbreite",
      "optimal":{
        "title": "Optimal",
        "stroke": "Farbe",
        "strokeWidth": "Strichbreite"
      },
      "selected":{
        "title": "Ausgewählt",
        "stroke": "Farbe",
        "strokeWidth": "Strichbreite"
      },
      "label": {
        "title": "Beschreibung",
        "fontSize": "Schriftgröße",
        "color": "Farbe"
      },
      "payoff":{
        "title": "Auszahlung",
        "fontSize": "Schriftgröße",
        "color": "Farbe",
        "negativeColor": "Negative Farbe"
      }
    },
    "diagramTitle":{
      "title": "Diagrammtitel",
      "fontSize": "Schriftgröße",
      "fontWeight": "Schriftgewicht",
      "fontStyle": "Schriftstil",
      "color": "Farbe",
      "margin":{
        "title": "Rand",
        "top": "Oben",
        "bottom": "Unten"
      },
      "description":{
        "title": "Untertitel (Diagrammbeschreibung)",
        "show": "Anzeigen",
        "fontSize": "Schriftgröße",
        "fontWeight": "Schriftgewicht",
        "fontStyle": "Schriftstil",
        "color": "Farbe",
        "marginTop": "Rand Oben"
      }
    },
    "other":{
      "title": "Weitere",
      "disableAnimations": "Animationen Deaktivieren",
      "forceFullEdgeRedraw": "Erzwingt vollständige Neuzeichnung der Zweige",
      "hideLabels": "Verstecke Beschreibung",
      "hidePayoffs": "Verstecke Auszahlungen",
      "hideProbabilities": "Verstecke Wahrscheinlichkeiten",
      "raw": "Rau"
    }
  },
  "aboutDialog":{
    "title": "Über"
  },
  "help":{
    "header": "Hilfe",
    "mouse": {
      "header":"Mausaktionen:",
      "list":{
        "1": "Linke Maustaste: Knoten/Zweig Auswahl",
        "2": "Rechte Maustaste: Kontextmenü (Hinzufügen / Manipulieren von Knoten)",
        "3": "Linke Maus Doppelklick: Kontextmenü"
      }
    },
    "keyboard": {
      "header":"Tastatur:",
      "list":{
        "1": "Del: ausgewählte Knoten Löschen",
        "2": "Ctrl-C/X: ausgewählte Knoten Kopieren/Ausschneiden",
        "3": "Ctrl-V: kopierte Knoten als Teilbaum ausgewähltes Knotens einfügen",
        "4": "Ctrl-Y/Z: Rückgängig/Wiederholen",
        "5": "Ctrl-Alt-D/C/T: Neue Entscheidungs/Zufall/Endsknoten als Unterknoten von <strong>ausgewähltem Knoten</strong>",
        "6": "Ctrl-Alt-D/C: Neue Entscheidungs/Zufall Knoten in <strong>ausgewählten Zweig </strong> Injizieren"
      }
    },
    "docs": "Die Dokumentation von SilverDecisions ist unter <a href=\"https://github.com/SilverDecisions/SilverDecisions/wiki/Documentation\" target=\"_blank\">here</a> verfügbar"
  },
  "definitionsDialog":{
    "title": "Variablendefinitionen",
    "buttons":{
      "recalculate": "Neu berechnen"
    },
    "evaluatedVariables": "Ausgewertete Variablen"
  },
  "sidebarDefinitions":{
    "header": "Variablen",
    "code": "Code",
    "buttons":{
      "openDialog" : "Dialog Öffnen",
      "recalculate": "Neu berechnen"
    },
    "evaluatedVariables": "Ausgewertete Variablen"
  },
  "layoutOptions":{
    "header": "Layout",
    "marginHorizontal": "Horizontaler Rand",
    "marginVertical": "Vertikaler Rand",
    "nodeSize": "Knotengröße",
    "edgeSlantWidthMax": "Kantenschräge (max)",
    "gridWidth": "Breite",
    "gridHeight": "Höhe"
  },
  "diagramDetails":{
    "header": "Einzelheiten",
    "title" : "Titel",
    "description" : "Beschreibung"
  },
  "objectProperties":{
    "header":{
      "node":{
        "decision":"Entscheidungsknoten",
        "chance":"Zufall Knoten",
        "terminal":"Endknoten"
      },
      "edge": "Zweig",
      "text": "Schwimmender Text"
    },
    "childrenProperties":{
      "node":{
        "header": "Verbindungen",
        "child": {
          "header": "Zweig #{{number}}"
        }
      }
    }
  },
  "validation":{
    "incompletePath": "Pfad, der nicht mit dem Endknoten endet",
    "probabilityDoNotSumUpTo1": "Die Summe der Wahrscheinlichkeiten ist nicht gleich 1",
    "invalidProbability": "Ungültige Wahrscheinlichkeit im Zweig #{{number}}",
    "invalidPayoff": "Ungültige Auszahlung in Zweig #{{number}}"
  },
  "growl":{
    "brushDisabled": "Auswahlbürste deaktiviert",
    "brushEnabled": "Auswahlbürste aktiviert"
  },
  "tooltip":{
    "node":{
      "payoff": "Auszahlung",
      "aggregatedPayoff": "Aggregierte Auszahlung",
      "probabilityToEnter": "Wahrscheinlichkeit"
    },
    "edge":{
      "payoff": "Auszahlung: {{value}}",
      "probability": "Wahrscheinlichkeit: {{value}}"
    }
  },
  "confirm":{
    "newDiagram": "Möchten Sie das aktuelle Diagramm wirklich löschen? Alle nicht gespeicherten Daten werden verloren.",
    "openDiagram": "Sind Sie sicher? Alle nicht gespeicherten Diagrammdaten werden verloren.",
    "beforeunload": "Sind Sie sicher, dass Sie SilverDecisions schließen möchten? Alle nicht gespeicherten Diagrammdaten werden verloren."
  },
  "error":{
    "jsonParse": "Fehler beim Analysieren der Datei!",
    "fileApiNotSupported":"Die Datei-API wird in diesem Browser noch nicht unterstützt.",
    "inputFilesProperty":"Ihr Browser scheint die `files`-Eigenschaft der Dateieingaben nicht zu unterstützen.",
    "notSilverDecisionsFile":"Keine SilverDecisions-Datei!",
    "incorrectVersionFormat": "Falsches Format der Versionszeichenfolge!",
    "fileVersionNewerThanApplicationVersion": "Version der Datei ist neuer als Version des Softwares. Einige Funktionen möglicherweise fehlen.",
    "objectiveComputationFailure": "Fehler beim Berechnen von Objektiven!",
    "diagramDrawingFailure": "Fehler beim Zeichnen des Diagramms!",
    "malformedData":"Fehler beim Lesen der Baumdaten!",
    "pngExportNotSupported": "Der Export nach PNG wird in Ihrem Browser nicht unterstützt.",
    "pngExportNotSupportedIE": "Der Export nach PNG wird in Internet Explorer nicht unterstützt.",
    "svgExportNotSupported": "Der Export nach SVG wird in Ihrem Browser nicht unterstützt.",
    "pdfExportNotSupported": "Der Export nach PDF wird in Ihrem Browser nicht unterstützt.",
    "incorrectPayoffNumberFormatOptions": "Falsche Auszahlungsformat Optionen",
    "incorrectProbabilityNumberFormatOptions": "Falsche Wahrscheinlichkeitsformat Optionen",
    "incorrectNumberFormatOptions": "Falsche Zahlenformat, die Standardeinstellungen angewendet.",
    "jsPDFisNotIncluded": "jsPDF ist nicht enthalten!",
    "serverSideExportRequestFailure": "Export Server Anfrage fehlgeschlagen!"
  }
}

},{}],80:[function(require,module,exports){
module.exports={
  "toolbar": {
    "newDiagram": "New diagram",
    "openDiagram": "Open existing diagram",
    "saveDiagram": "Save current diagram",
    "export":{
      "label": "Export to",
      "png": "Png",
      "svg": "Svg",
      "pdf": "Pdf"
    },
    "layout":{
      "label": "Layout",
      "manual": "Manual",
      "tree": "Tree",
      "cluster": "Cluster"
    },
    "objectiveRule":{
      "label": "Rule",
      "options": {
        "expected-value-maximization":"max",
        "expected-value-minimization":"min",
        "maxi-min":"maxi-min",
        "maxi-max":"maxi-max",
        "mini-min":"mini-min",
        "mini-max":"mini-max"
      }
    },
    "undo": "Undo",
    "redo": "Redo",
    "settings": "Settings",
    "about": "About",
    "sensitivityAnalysis": "Sensitivity analysis",
    "recompute": "Recompute"
  },
  "node":{
    "name": "Label"
  },
  "edge":{
    "name": "Label",
    "payoff": "Payoff",
    "probability": "Probability"

  },
  "text":{
    "value": "Text"
  },
  "contextMenu":{
    "main":{
      "addDecisionNode": "Add Decision Node",
      "addChanceNode": "Add Chance Node",
      "addText": "Add Text",
      "paste": "Paste",
      "selectAllNodes": "Select all nodes"
    },
    "node":{
      "copy": "Copy",
      "cut": "Cut",
      "paste": "Paste",
      "delete": "Delete",
      "addDecisionNode": "Add Decision Node",
      "addChanceNode": "Add Chance Node",
      "addTerminalNode": "Add Terminal Node",
      "convert":{
        "decision": "As Decision Node",
        "chance": "As Chance Node",
        "terminal": "As Terminal Node"

      },
      "selectSubtree": "Select subtree",
      "flipSubtree": "Flip subtree"
    },
    "edge":{
      "injectDecisionNode": "Inject Decision Node",
      "injectChanceNode": "Inject Chance Node"
    },
    "text":{
      "delete": "Delete"
    }
  },
  "sensitivityAnalysisDialog":{
    "title": "Sensitivity analysis",
    "buttons": {
      "runJob": "Run",
      "stopJob": "Stop",
      "terminateJob": "Terminate",
      "resumeJob": "Resume",
      "downloadCsv": "Download CSV",
      "back": "Back",
      "clear": "Clear"
    }
  },
  "jobParametersBuilder": {
    "buttons": {
      "removeParameterValue": "Remove",
      "addParameterValue": "Add"
    }
  },
  "jobResultTable":{
    "tooltip": {
      "multiplePoliciesInCell": "{{number}} policies"
    },
    "pivot": {
      "aggregators":{
        "maximum": "Maximum",
        "minimum": "Minimum"
      },
      "renderers":{
        "heatmap": "Heatmap"
      }
    },
    "policyPreview": "policy preview"
  },
  "job":{
    "sensitivity-analysis":{
      "name": "N-way sensitivity analysis",
      "param":{
        "ruleName": "Rule name",
        "extendedPolicyDescription": {
          "label": "Extended policy description"
        },
        "variables": {
          "label": "Variables",
          "name": {
            "label": "Name"
          },
          "min": {
            "label": "Min"
          },
          "max": {
            "label": "Max"
          },
          "length": {
            "label": "Length"
          },
          "step": {
            "label": "Step"
          }
        }
      },
      "errors":{
        "computations": "Error in sensitivity analysis computations for the following parameters:"
      },
      "warnings": {
        "largeScenariosNumber": "Number of defined scenarios larger than {{numberFormatted}}. Sensitivity analysis might fail to compute or be very slow.",
        "largeParametersNumber": "Number of parameters larger than {{number}}. Sensitivity analysis display might fail or be very slow."
      }
    },
    "probabilistic-sensitivity-analysis":{
      "name": "Probabilistic sensitivity analysis",
      "param":{
        "ruleName": "Rule name",
        "numberOfRuns": {
          "label": "Number of runs"
        },
        "extendedPolicyDescription": {
          "label": "Extended policy description"
        },
        "variables": {
          "label": "Variables",
          "name": {
            "label": "Name"
          },
          "formula": {
            "label": "Formula",
            "help": "Select formula temlplate from the menu or write custom code"
          }
        }
      },
      "errors":{
        "computations": "Error in sensitivity analysis computations for the following parameters:",
        "param-computation": "Error computing parameter values:"
      },
      "warnings": {
        "largeScenariosNumber": "Number of defined scenarios larger than {{numberFormatted}}. Sensitivity analysis might fail to compute or be very slow."
      }
    },
    "errors":{
      "generic": "Error in sensitivity analysis computations: {{message}}"
    }
  },
  "settingsDialog":{
    "title": "Settings",
    "general":{
      "title": "General",
      "fontSize": "Font size",
      "fontFamily": "Font family",
      "fontWeight": "Font weight",
      "fontStyle": "Font style",
      "numberFormatLocale": "Number format locale"
    },
    "payoff":{
      "title": "Payoff number format",
      "currency": "Currency",
      "currencyDisplay": "Currency display",
      "style": "Style",
      "minimumFractionDigits": "Minimum fraction digits",
      "maximumFractionDigits": "Maximum fraction digits",
      "useGrouping": "Use grouping separators"
    },
    "probability":{
      "title": "Probability number format",
      "style": "Style",
      "minimumFractionDigits": "Minimum fraction digits",
      "maximumFractionDigits": "Maximum fraction digits",
      "fontSize": "Font size",
      "color": "Color"
    },
    "node":{
      "title": "Node",
      "strokeWidth": "Stroke width",
      "optimal":{
        "title": "Optimal",
        "stroke": "Color",
        "strokeWidth": "Stroke width"
      },
      "label": {
        "title": "Label",
        "fontSize": "Label font size",
        "color": "Label color"
      },
      "payoff": {
        "title": "Payoff",
        "fontSize": "Font size",
        "color": "Color",
        "negativeColor": "Negative color"
      },
      "decision": {
        "title": "Decision Node",
        "fill": "Fill color",
        "stroke": "Stroke color",
        "selected": {
          "fill": "Selected fill color"
        }
      },
      "chance": {
        "title": "Chance Node",
        "fill": "Fill color",
        "stroke": "Stroke color",
        "selected": {
          "fill": "Selected fill color"
        }
      },
      "terminal":{
        "title": "Terminal Node",
        "fill": "Fill color",
        "stroke": "Stroke color",
        "selected": {
          "fill": "Selected fill color"
        },
        "payoff": {
          "title": "Payoff",
          "fontSize": "Font size",
          "color": "Color",
          "negativeColor": "Negative color"
        }
      }
    },
    "edge":{
      "title": "Edge",
      "stroke": "Color",
      "strokeWidth": "Stroke width",
      "optimal":{
        "title": "Optimal",
        "stroke": "Color",
        "strokeWidth": "Stroke width"
      },
      "selected":{
        "title": "Selected",
        "stroke": "Color",
        "strokeWidth": "Stroke width"
      },
      "label": {
        "title": "Label",
        "fontSize": "Font size",
        "color": "Color"
      },
      "payoff":{
        "title": "Payoff",
        "fontSize": "Font size",
        "color": "Color",
        "negativeColor": "Negative color"
      }
    },
    "diagramTitle":{
      "title": "Diagram title",
      "fontSize": "Font size",
      "fontWeight": "Font weight",
      "fontStyle": "Font style",
      "color": "Color",
      "margin":{
        "title": "Margin",
        "top": "Top",
        "bottom": "Bottom"
      },
      "description":{
        "title": "Subtitle (diagram description)",
        "show": "Show",
        "fontSize": "Font size",
        "fontWeight": "Font weight",
        "fontStyle": "Font style",
        "color": "Color",
        "marginTop": "Margin top"
      }
    },
    "other":{
      "title": "Other",
      "disableAnimations": "Disable animations",
      "forceFullEdgeRedraw": "Force full redraw of edges",
      "hideLabels": "Hide labels",
      "hidePayoffs": "Hide payoffs",
      "hideProbabilities": "Hide probabilities",
      "raw": "Raw"
    }
  },
  "aboutDialog":{
    "title": "About"
  },
  "help":{
    "header": "Help",
    "mouse": {
      "header":"Mouse actions:",
      "list":{
        "1": "left mouse button: node/edge selection",
        "2": "right mouse button: context menu (adding/manipulating nodes)",
        "3": "left mouse dbclick: context menu"
      }
    },
    "keyboard": {
      "header":"Keyboard:",
      "list":{
        "1": "Del: delete selected nodes",
        "2": "Ctrl-C/X: copy/cut selected nodes",
        "3": "Ctrl-V: paste copied nodes as a subtree of a selected node",
        "4": "Ctrl-Y/Z: undo/redo",
        "5": "Ctrl-Alt-D/C/T: add new Decision/Chance/Terminal subnode of a <strong>selected node</strong>",
        "6": "Ctrl-Alt-D/C: inject new Decision/Chance node into a <strong>selected edge</strong>"
      }
    },
    "docs": "Documentation of SilverDecisions is available <a href=\"https://github.com/SilverDecisions/SilverDecisions/wiki/Documentation\" target=\"_blank\">here</a>"
  },
  "definitionsDialog":{
    "title": "Variable definitions",
    "buttons":{
      "recalculate": "Recalculate"
    },
    "evaluatedVariables": "Evaluated variables"
  },
  "sidebarDefinitions":{
    "header": "Variables",
    "code": "Code",
    "buttons":{
      "openDialog" : "Open dialog",
      "recalculate": "Recalculate"
    },
    "evaluatedVariables": "Evaluated variables"
  },
  "layoutOptions":{
    "header": "Layout",
    "marginHorizontal": "Horizontal Margin",
    "marginVertical": "Vertical Margin",
    "nodeSize": "Node size",
    "edgeSlantWidthMax": "Edge slant (max)",
    "gridWidth": "Width",
    "gridHeight": "Height"
  },
  "diagramDetails":{
    "header": "Details",
    "title" : "Title",
    "description" : "Description"
  },
  "objectProperties":{
    "header":{
      "node":{
        "decision":"Decision Node",
        "chance":"Chance Node",
        "terminal":"Terminal Node"
      },
      "edge": "Edge",
      "text": "Floating text"
    },
    "childrenProperties":{
      "node":{
        "header": "Connections",
        "child": {
          "header": "Edge #{{number}}"
        }
      }
    }
  },
  "validation":{
    "incompletePath": "Path not ending with terminal node",
    "probabilityDoNotSumUpTo1": "Probabilities do not sum up to 1",
    "invalidProbability": "Invalid probability in edge #{{number}}",
    "invalidPayoff": "Invalid payoff in edge #{{number}}"
  },
  "growl":{
    "brushDisabled": "Selection brush disabled",
    "brushEnabled": "Selection brush enabled"
  },
  "tooltip":{
    "node":{
      "payoff": "Payoff",
      "aggregatedPayoff": "Aggregated Payoff",
      "probabilityToEnter": "Probability to enter"
    },
    "edge":{
      "payoff": "Payoff: {{value}}",
      "probability": "Probability: {{value}}"
    }
  },
  "confirm":{
    "newDiagram": "Do you really want to clear current diagram? All unsaved data will be lost.",
    "openDiagram": "Are you sure? All unsaved diagram data will be lost.",
    "beforeunload": "Are you sure you want to close SilverDecisions? All unsaved diagram data will be lost."
  },
  "error":{
    "jsonParse": "Error parsing file!",
    "fileApiNotSupported":"The file API isn't supported on this browser yet.",
    "inputFilesProperty":"Your browser doesn't seem to support the `files` property of file inputs.",
    "notSilverDecisionsFile":"Not a SilverDecisions file!",
    "incorrectVersionFormat": "Incorrect format of version string!",
    "fileVersionNewerThanApplicationVersion": "Version in file is newer than version of the application. Some features may be missing.",
    "objectiveComputationFailure": "Error while computing objective!",
    "diagramDrawingFailure": "Error while drawing diagram!",
    "malformedData":"Error reading tree data!",
    "pngExportNotSupported": "Export to PNG is not supported in your browser.",
    "pngExportNotSupportedIE": "Export to PNG not supported in Internet Explorer.",
    "svgExportNotSupported": "Export to SVG is not supported in your browser.",
    "pdfExportNotSupported": "Export to PDF is not supported in your browser.",
    "incorrectPayoffNumberFormatOptions": "Incorrect payoff number format options",
    "incorrectProbabilityNumberFormatOptions": "Incorrect probability number format options",
    "incorrectNumberFormatOptions": "Incorrect number format options, using default.",
    "jsPDFisNotIncluded": "jsPDF is not included!",
    "serverSideExportRequestFailure": "Export Server request failed!"
  }
}

},{}],81:[function(require,module,exports){
module.exports={
  "toolbar": {
    "newDiagram": "Nouveau diagramme",
    "openDiagram": "Ouvrir le diagramme existant",
    "saveDiagram": "Enregistrer le diagramme actuel",
    "export":{
      "label": "Exporter vers",
      "png": "Png",
      "svg": "Svg",
      "pdf": "Pdf"
    },
    "layout":{
      "label": "Disposition",
      "manual": "Manuel",
      "tree": "Arbre",
      "cluster": "Grappe"
    },
    "objectiveRule":{
      "label": "Regle",
      "options": {
        "expected-value-maximization":"max",
	"expected-value-minimization":"min",
        "maxi-min":"maxi-min",
        "maxi-max":"maxi-max",
	"mini-min":"mini-min",
        "mini-max":"mini-max"
      }
    },
    "undo": "Annuler",
    "redo": "Refaire",
    "settings": "Parametres",
    "about": "A propos",
    "recompute": "Recalculer"
  },
  "node":{
    "name": "Étiquette"
  },
  "edge":{
    "name": "Étiquette",
    "payoff": "Avantage",
    "probability": "Probabilité"

  },
  "text":{
    "value": "Texte"
  },
  "contextMenu":{
    "main":{
      "addDecisionNode": "Ajouter noud de décision",
      "addChanceNode": "Ajouter noud aléatoire",
      "addText": "Ajouter du texte",
      "paste": "Coller",
      "selectAllNodes": "Sélectionner tous les nouds"
    },
    "node":{
      "copy": "Copie",
      "cut": "Couper",
      "paste": "Coller",
      "delete": "Effacer",
      "addDecisionNode": "Ajouter noud de décision",
      "addChanceNode": "Ajouter noud aléatoire",
      "addTerminalNode": "Ajouter un noeud terminal",
      "convert":{
        "decision": "Comme noud de décision",
        "chance": "Comme noud aléatoire",
        "terminal": "Comme un noeud terminal"

      },
      "selectSubtree": "Sélectionner une sous-arborescence",
      "flipSubtree": "Basculer sous-arbre"
    },
    "edge":{
      "injectDecisionNode": "Injecter un noeud de décision",
      "injectChanceNode": "Injecter un noeud de chance"
    },
    "text":{
      "delete": "Effacer"
    }
  },
  "jobResultTable":{
    "tooltip": {
      "multiplePoliciesInCell": "{{number}} policies"
    },
    "pivot": {
      "aggregators":{
        "maximum": "Maximum",
        "minimum": "Minimum"
      },
      "renderers":{
        "heatmap": "Carte de chaleur"
      }
    }
  },
  "settingsDialog":{
    "title": "Parametres",
    "general":{
      "title": "Général",
      "fontSize": "Taille de la police",
      "fontFamily": "Famille de police",
      "fontWeight": "Poid de la police",
      "fontStyle": "Style de police",
      "numberFormatLocale": "format local de numérotation"
    },
    "payoff":{
      "title": "Format de la numérotation des avantages",
      "currency": "Devise",
      "currencyDisplay": "Affichage de la devise",
      "style": "Style",
      "minimumFractionDigits": "Nombre minimum de fractions",
      "maximumFractionDigits": "Nombre maximum de fractions",
      "useGrouping": "Utiliser des séparateurs de regroupement"
    },
    "probability":{
      "title": "Format de la numérotatio des probabilités",
      "style": "Style",
      "minimumFractionDigits": "Nombre minimum de fractions",
      "maximumFractionDigits": "Nombre maximum de fractions",
      "fontSize": "Taille de police",
      "color": "Couleur"
    },
    "node":{
      "title": "Noud",
      "strokeWidth": "Largeur de trait",
      "optimal":{
        "title": "Optimal",
        "stroke": "Couleur",
        "strokeWidth": "Largeur de trait"
      },
      "label": {
        "title": "Étiquette",
        "fontSize": "Taille de la police de l'étiquette",
        "color": "Couleur de l'étiquette"
      },
      "payoff": {
        "title": "Avantage",
        "fontSize": "Taille de la police",
        "color": "Couleur",
        "negativeColor": "Négatif couleur"
      },
      "decision": {
        "title": "Noeud décisionnel",
        "fill": "La couleur de remplissage",
        "stroke": "Couleur de trait",
        "selected": {
          "fill": "Couleur de remplissage sélectionnée"
        }
      },
      "chance": {
        "title": "Noud aléatoire",
        "fill": "La couleur de remplissage",
        "stroke": "Couleur de course",
        "selected": {
          "fill": "Couleur de remplissage sélectionné"
        }
      },
      "terminal":{
        "title": "Noeud terminal",
        "fill": "Couleur de remplissage",
        "stroke": "Couleur de course",
        "selected": {
          "fill": "Couleur de remplissage sélectionné"
        },
        "payoff": {
          "title": "Avantage",
          "fontSize": "Taille de la police",
          "color": "Couleur",
          "negativeColor": "Négatif couleur"
        }
      }
    },
    "edge":{
      "title": "Bord",
      "stroke": "Couleur",
      "strokeWidth": "Largeur de trait",
      "optimal":{
        "title": "Optimal",
        "stroke": "Couleur",
        "strokeWidth": "Largeur de trait"
      },
      "selected":{
        "title": "Choisi",
        "stroke": "Couleur",
        "strokeWidth": "Largeur de trait"
      },
      "label": {
        "title": "Étiquette",
        "fontSize": "Taille de la police",
        "color": "Couleur"
      },
      "payoff":{
        "title": "Avantage",
        "fontSize": "Taille de la police",
        "color": "Couleur",
        "negativeColor": "Négatif couleur"
      }
    },
    "diagramTitle":{
      "title": "Titre du diagramme",
      "fontSize": "Taille de la police",
      "fontWeight": "Poids de la police",
      "fontStyle": "Style de la police",
      "color": "Couleur",
      "margin":{
        "title": "Marge",
        "top": "Haut du diagramme",
        "bottom": "Bas du diagramme"
      },
      "description":{
        "title": "Sous-titre (description du diagramme)",
        "show": "Afficher",
        "fontSize": "Taille de la police",
        "fontWeight": "Poids de la police",
        "fontStyle": "Style de police",
        "color": "Couleur",
        "marginTop": "Haut du marge"
      }
    },
    "other":{
      "title": "Autre",
      "disableAnimations": "Désactiver les animations",
      "forceFullEdgeRedraw": "Forcer le redessinage complet des bords",
      "hideLabels": "Masquer les étiquettes",
      "hidePayoffs": "Masquer les paiements",
      "hideProbabilities": "Masquer les probabilités",
      "raw": "Brut"
    }
  },
  "aboutDialog":{
    "title": "A propos"
  },
  "help":{
    "header": "Aide",
    "mouse": {
      "header":"Actions de la souris:",
      "list":{
        "1": "Bouton gauche de la souris: sélection du noud/bord",
        "2": "Bouton droit de la souris: menu contextuel (ajout/manipulation des nouds)",
        "3": "Double clic gauche de la souris: menu contextuel"
      }
    },
    "keyboard": {
      "header":"Raccourcis clavier:",
      "list":{
        "1": "Supprimer: effacer les nouds sélectionnés",
        "2": "Ctrl-C/X: copier/couper les nouds sélectionnés",
        "3": "Ctrl-V: coller les nouds copiés comme un sous-arbre d'un noud sélectionné",
        "4": "Ctrl-Y/Z: annuler/refaire",
        "5": "Ctrl-Alt-D/C/T: ajouter un nouveau sous-noud de décision/aléatoire/terminal d'un <strong>noud sélectionné</strong>",
        "6": "Ctrl-Alt-D/C: injecter un nouveau noeud de décision/aléatoire dans un <strong>bord sélectionné</strong>"
      }
    },
    "docs": "La documentation de SilverDecisions est disponible  <a href=\"https://github.com/SilverDecisions/SilverDecisions/wiki/Documentation\" target=\"_blank\">ici</a>"
  },
  "definitionsDialog":{
    "title": "Définitions des variables",
    "buttons":{
      "recalculate": "Recalculer"
    },
    "evaluatedVariables": "Variables évaluées"
  },
  "sidebarDefinitions":{
    "header": "Variables",
    "code": "Code",
    "buttons":{
      "openDialog" : "Ouvrir la boîte de dialogue",
      "recalculate": "Recalculer"
    },
    "evaluatedVariables": "Variables évaluées"
  },
  "layoutOptions":{
    "header": "Disposition",
    "marginHorizontal": "Marge horizontale",
    "marginVertical": "Marge verticale",
    "nodeSize": "Taille du noeud",
    "edgeSlantWidthMax": "Inclinaison du bord (max.)",
    "gridWidth": "Largeur",
    "gridHeight": "Taille"
  },
  "diagramDetails":{
    "header": "Détails",
    "title" : "Titre",
    "description" : "Description"
  },
  "objectProperties":{
    "header":{
      "node":{
        "decision":"Noeud de décision",
        "chance":"Noud aléatoire",
        "terminal":"Noeud terminal"
      },
      "edge": "Bord",
      "text": "Texte flottant"
    },
    "childrenProperties":{
      "node":{
        "header": "Les connexions",
        "child": {
          "header": "Bord #{{number}}"
        }
      }
    }
  },
  "validation":{
    "incompletePath": "Parcours non terminé par noeud terminal",
    "probabilityDoNotSumUpTo1": "La somme des probabilités n'est pas 1 ou plus",
    "invalidProbability": "Probabilité invalide - le bord #{{number}}",
    "invalidPayoff": "Avantage invalide - le bord #{{number}}"
  },
  "growl":{
    "brushDisabled": "Brosse de sélection désactivée",
    "brushEnabled": "Brosse de sélection activée"
  },
  "tooltip":{
    "node":{
      "payoff": "Avantage",
      "aggregatedPayoff": "Avantage agrégé",
      "probabilityToEnter": "Probabilité d'entrée"
    },
    "edge":{
      "payoff": "Avantage: {{value}}",
      "probability": "Probabilité: {{value}}"
    }
  },
  "confirm":{
    "newDiagram": "Voulez-vous vraiment effacer le diagramme actuel? Toutes les données non enregistrées seront perdues.",
    "openDiagram": "Etes-vous sur? Toutes les données de diagramme non enregistrées seront perdues.",
    "beforeunload": "Voulez-vous vraiment fermer SilverDecisions? Toutes les données de diagramme non enregistrées seront perdues."
  },
  "error":{
    "jsonParse": "Erreur lors de l'analyse du fichier!",
    "fileApiNotSupported":"L'API du fichier n'est pas encore prise en charge sur ce navigateur.",
    "inputFilesProperty":"Votre navigateur ne semble pas prendre en charge la propriété `fichiers`.",
    "notSilverDecisionsFile":"Pas de fichiers SilverDecisions!",
    "incorrectVersionFormat": "Format incorrect de la chaîne de version!",
    "fileVersionNewerThanApplicationVersion": "La version dans le fichier est plus récente que la version de l'application. Certaines fonctionnalités peuvent être manquantes.",
    "objectiveComputationFailure": "Erreur en calculant l'objectif!",
    "diagramDrawingFailure": "Erreur lors du dessin diagramme!",
    "malformedData":"Erreur lors de la lecture des données arborescentes!",
    "pngExportNotSupported": "L'exportation vers PNG n'est pas prise en charge dans votre navigateur.",
    "pngExportNotSupportedIE": "Exporter vers PNG n'est pas pris en charge dans Internet Explorer.",
    "svgExportNotSupported": "L'exportation vers SVG n'est pas prise en charge par votre navigateur.",
    "pdfExportNotSupported": "L'exportation au format PDF n'est pas prise en charge par votre navigateur.",
    "incorrectPayoffNumberFormatOptions": "L'option de format de numérotation des avantages chiosie est incorrecte.",
    "incorrectProbabilityNumberFormatOptions": "L'option de format de numérotation des probabilités chiosie est incorrecte.",
    "incorrectNumberFormatOptions": "L'option de format de numérotation choisie est incorrecte.",
    "jsPDFisNotIncluded": "JsPDF n'est pas inclus!",
    "serverSideExportRequestFailure": "La demande de téléchargement au serveur a échoué!"
  }
}

},{}],82:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.i18n = undefined;

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _i18next = require('i18next');

var _i18next2 = _interopRequireDefault(_i18next);

var _en = require('./en.json');

var en = _interopRequireWildcard(_en);

var _pl = require('./pl.json');

var pl = _interopRequireWildcard(_pl);

var _it = require('./it.json');

var it = _interopRequireWildcard(_it);

var _de = require('./de.json');

var de = _interopRequireWildcard(_de);

var _fr = require('./fr.json');

var fr = _interopRequireWildcard(_fr);

function _interopRequireWildcard(obj) {
    if (obj && obj.__esModule) {
        return obj;
    } else {
        var newObj = {};if (obj != null) {
            for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
            }
        }newObj.default = obj;return newObj;
    }
}

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

var i18n = exports.i18n = function () {
    function i18n() {
        _classCallCheck(this, i18n);
    }

    _createClass(i18n, null, [{
        key: 'init',
        value: function init(lng) {
            var self = this;
            i18n.language = lng;
            _i18next2.default.init({
                lng: lng,
                fallbackLng: 'en',
                resources: {
                    en: {
                        translation: en
                    },
                    pl: {
                        translation: pl
                    },
                    it: {
                        translation: it
                    },
                    de: {
                        translation: de
                    },
                    fr: {
                        translation: fr
                    }
                }
            }, function (err, t) {});
        }
    }, {
        key: 't',
        value: function t(key, opt) {
            return _i18next2.default.t(key, opt);
        }
    }]);

    return i18n;
}();

},{"./de.json":79,"./en.json":80,"./fr.json":81,"./it.json":83,"./pl.json":84,"i18next":"i18next"}],83:[function(require,module,exports){
module.exports={
  "toolbar": {
    "newDiagram": "Nuovo diagramma",
    "openDiagram": "Apri diagramma esistnte",
    "saveDiagram": "Salva il diagramma corente",
    "export":{
      "label": "Esporta in",
      "png": "Png",
      "svg": "Svg",
      "pdf": "Pdf"
    },
    "layout":{
      "label": "Disposizione",
      "manual": "Manuale",
      "tree": "Albero",
      "cluster": "Grappolo"
    },
    "objectiveRule":{
      "label": "Regola",
      "options": {
        "expected-value-maximization":"max",
        "expected-value-minimization":"min",
        "maxi-min":"max-min",
        "maxi-max":"max-max",
        "mini-min":"min-min",
        "mini-max":"min-max"
      }
    },
    "undo": "Ripristina",
    "redo": "Ripeti",
    "settings": "Settaggi",
    "about": "Di",
    "recompute": "Ricalcola"
  },
  "node":{
    "name": "Etichetta"
  },
  "edge":{
    "name": "Eticehtta",
    "payoff": "Saldo",
    "probability": "Probabilità"

  },
  "text":{
    "value": "Testo"
  },
  "contextMenu":{
    "main":{
      "addDecisionNode": "Aggiungi un nodo di decisione",
      "addChanceNode": "Aggiungi un nodo opportunità",
      "addText": "Aggiungi testo",
      "paste": "Incolla",
      "selectAllNodes": "Seleziona tutti i nodi"
    },
    "node":{
      "copy": "Copia",
      "cut": "Taglia",
      "paste": "Incolla",
      "delete": "Cancella",
      "addDecisionNode": "Aggiungi un nodo di decisione",
      "addChanceNode": "Aggiungi un nodo opportunità",
      "addTerminalNode": "Aggiungi un nodo terminale",
      "convert":{
        "decision": "Come Decision Node",
        "chance": "Come Chance Node",
        "terminal": "Come Terminal Node"

      },

      "selectSubtree": "Seleziona Sotto-albero",
      "flipSubtree": "Ribalta sotto-albero"
    },
    "edge":{
      "injectDecisionNode": "Inietta nodo di decisione",
      "injectChanceNode": "Inietta nodo opportunità"
    },
    "text":{
      "delete": "Cancella"
    }
  },
  "jobResultTable":{
    "tooltip": {
      "multiplePoliciesInCell": "{{number}} policies"
    },
    "pivot": {
      "aggregators":{
        "maximum": "Massimo",
        "minimum": "Minimo"
      },
      "renderers":{
        "heatmap": "Mappa di calore"
      }
    }
  },
  "settingsDialog":{
    "title": "Settaggi",
    "general":{
      "title": "Generale",
      "fontSize": "Dimensione font",
      "fontFamily": "Famiglia font",
      "fontWeight": "Peso del font",
      "fontStyle": "Stile font",
      "numberFormatLocale": "Formato numero locale"
    },
    "payoff":{
      "title": "Formato saldo",
      "currency": "Valuta",
      "currencyDisplay": "Visualizzazione valuta",
      "style": "Stile",
      "minimumFractionDigits": "Numero minimo cifre frazione",
      "maximumFractionDigits": "Numero massimo cifre frazione",
      "useGrouping": "Usa separatori di gruppo"
    },
    "probability":{
      "title": "Formato probabilità",
      "style": "Stile",
      "minimumFractionDigits": "Numero minimo cifre frazione",
      "maximumFractionDigits": "Numero massimo cifre frazione",
      "fontSize": "Dimensione font",
      "color": "Colore"
    },
    "node":{
      "title": "Nodo",
      "strokeWidth": "Spessore linea",
      "optimal":{
        "title": "Ottimale",
        "stroke": "Colore",
        "strokeWidth": "Spessore linea"
      },
      "label": {
        "title": "Etichetta",
        "fontSize": "Dimensione font etichetta",
        "color": "Colore etichetta"
      },
      "payoff": {
        "title": "Saldo",
        "fontSize": "Dimensione font",
        "color": "Colore",
        "negativeColor": "Colore negativo"
      },
      "decision": {
        "title": "Nodo dicisione",
        "fill": "Colore riempimento",
        "stroke": "Colore linea",
        "selected": {
          "fill": "Colore riempimento selezionato"
        }
      },
      "chance": {
        "title": "Nodo opportunità",
        "fill": "Colore riempimento",
        "stroke": "Colore linea",
        "selected": {
          "fill": "Colore riempimento selezionato"
        }
      },
      "terminal":{
        "title": "Nodo terminale",
        "fill": "Colore riempimento",
        "stroke": "Colore linea",
        "selected": {
          "fill": "Colore riempimento selezionato"
        },
        "payoff": {
          "title": "Saldo",
          "fontSize": "Dimensione font",
          "color": "Colore",
          "negativeColor": "Colore negativo"
        }
      }
    },
    "edge":{
      "title": "Ramo",
      "stroke": "Colore",
      "strokeWidth": "Larghezza linea",
      "optimal":{
        "title": "Ottimale",
        "stroke": "Colore",
        "strokeWidth": "Larghezza linea"
      },
      "selected":{
        "title": "Selezionato",
        "stroke": "Colore",
        "strokeWidth": "Larghezza linea"
      },
      "label": {
        "title": "Etichetta",
        "fontSize": "Dimensione font",
        "color": "Colore"
      },
      "payoff":{
        "title": "Saldo",
        "fontSize": "Dimensione font",
        "color": "Colore",
        "negativeColor": "Colore negativo"
      }
    },
    "diagramTitle":{
      "title": "Titolo diagramma",
      "fontSize": "Dimensione font",
      "fontWeight": "Peso del font",
      "fontStyle": "Stile font",
      "color": "Colore",
      "margin":{
        "title": "Margine",
        "top": "Superiore",
        "bottom": "Inferiore"
      },
      "description":{
        "title": "Sotto-titolo (descrizione diagramma)",
        "show": "Mostra",
        "fontSize": "Dimensione font",
        "fontWeight": "Peso del font",
        "fontStyle": "Stile font",
        "color": "Colore",
        "marginTop": "Margine superiore"
      }
    },
    "other":{
      "title": "Altro",
      "disableAnimations": "Disabilita animazione",
      "forceFullEdgeRedraw": "Forza ridisegno dei rami",
      "hideLabels": "Nascondi le etichette",
      "hidePayoffs": "Nascondi saldo",
      "hideProbabilities": "Nascondi le probabilità",
      "raw": "Non elaborato"
    }
  },
  "aboutDialog":{
    "title": "Informazioni"
  },
  "help":{
    "header": "Aiuto",
    "mouse": {
      "header":"Azioni mouse:",
      "list":{
        "1": "Bottone sinistro: selezione nodo/ramo",
        "2": "Bottone destro: menu di contesto (aggiunta/manipolazione nodi)",
        "3": "Doppio click bottone sinistro: menu di contesto"
      }
    },
    "keyboard": {
      "header":"Scorciatoie tastiera:",
      "list":{
        "1": "Del: cancella nodi selezionati",
        "2": "Ctrl-C/X: copia/taglia nodi selezionati",
        "3": "Ctrl-V: incolla nodi copiati come sotto-albero di un nodo selezionato",
        "4": "Ctrl-Y/Z: ripristina/ripeti",
        "5": "Ctrl-Alt-D/C/T: aggiungi nuovo sottonodo Decisione/Opportunità/Terminale di un <strong>nodo selezionato</strong>",
        "6": "Ctrl-Alt-D/C: inietta un nuovo nodo Decisione/Opportunità in un <strong>ramo selezionato</strong>"
      }
    },
    "docs": "La documentazione di SilverDecisions e disponibile <a href=\"https://github.com/SilverDecisions/SilverDecisions/wiki/Documentation\" target=\"_blank\">qui</a>"
  },
  "definitionsDialog":{
    "title": "Definizioni delle variabili",
    "buttons":{
      "recalculate": "Ricalcolare"
    },
    "evaluatedVariables": "Variabili valutate"
  },
  "sidebarDefinitions":{
    "header": "Variabili",
    "code": "Codice",
    "buttons":{
      "openDialog" : "Apri il dialogo",
      "recalculate": "Ricalcolare"
    },
    "evaluatedVariables": "Variabili valutate"
  },
  "layoutOptions":{
    "header": "Disposizione",
    "marginHorizontal": "Margine orizzontale",
    "marginVertical": "Margine verticale",
    "nodeSize": "Dimensione nodo",
    "edgeSlantWidthMax": "Inclinazione nodo",
    "gridWidth": "Larghezza",
    "gridHeight": "Altezza"
  },
  "diagramDetails":{
    "header": "Dettagli",
    "title" : "Titolo",
    "description" : "Descrizione"
  },
  "objectProperties":{
    "header":{
      "node":{
        "decision":"Nodo decisione",
        "chance":"Nodo opportunità",
        "terminal":"Nodo terminale"
      },
      "edge": "Ramo",
      "text": "Testo mobile"
    },
    "childrenProperties":{
      "node":{
        "header": "Connessioni",
        "child": {
          "header": "Ramo #{{number}}"
        }
      }
    }
  },
  "validation":{
    "incompletePath": "Percorso senza nodo terminale",
    "probabilityDoNotSumUpTo1": "La somma delle probabilità è diversa da 1",
    "invalidProbability": "Probabilità non valida - bordo #{{number}}",
    "invalidPayoff": "Saldo non valido - bordo #{{number}}"
  },
  "growl":{
    "brushDisabled": "Selezione pennello disabilitata",
    "brushEnabled": "Selezione pennello abilitata"
  },
  "tooltip":{
    "node":{
      "payoff": "Saldo",
      "aggregatedPayoff": "Saldo aggregato",
      "probabilityToEnter": "Probabilità da inserire"
    },
    "edge":{
      "payoff": "Saldo: {{value}}",
      "probability": "Probabilità: {{value}}"
    }
  },
  "confirm":{
    "newDiagram": "Vuoi davvero cancellare ildiagramma corrente ? Tutti i dati non salvati saranno persi.",
    "openDiagram": "Sei sicuro? Tutti i dati non salvati saranno persi.",
    "beforeunload": "Sei sicuro di voler uscire da SilverDecisions ?Tutti i dati non salvati saranno persi."
  },
  "error":{
    "jsonParse": "Errore analizzando il file !",
    "fileApiNotSupported":"l'API di questo file non è ancora supportata in questo browser.  ",
    "inputFilesProperty":"Il tuo browser non sembra supportare la proprieta del file di input.",
    "notSilverDecisionsFile":"Non è un file SilverDecisions !",
    "incorrectVersionFormat": "Formato non corretto della serie di versione!",
    "fileVersionNewerThanApplicationVersion": "La versione in file è più recente rispetto alla versione dell'applicazione. Alcune funzionalità possono essere indisponibili.",
    "objectiveComputationFailure": "Errore durante il calcolo obiettivo!",
    "diagramDrawingFailure": "Errore durante il disegno della diagramma!",
    "malformedData":"Errore durante la lettura dei dati dell'albero !",
    "pngExportNotSupported": "L'esport in formato PNG non è supportata nel tuo browser.",
    "pngExportNotSupportedIE": "L'esport in formato PNG non è supportata in Internet Explorer.",
    "svgExportNotSupported": "L'esport in formato SVG non è supportata nel tuo browser.",
    "pdfExportNotSupported": "L'esport in formato PDF non è supportata nel tuo browser.",
    "incorrectPayoffNumberFormatOptions": "Opzioni per il formato dei saldi non corrette.",
    "incorrectProbabilityNumberFormatOptions": "Opzioni per il formato delle probabilità non corrette.",
    "incorrectNumberFormatOptions": "Opzioni per il formato dei numeri non corrette, utilizzo del default.",
    "jsPDFisNotIncluded": "jsPDF non incluso !",
    "serverSideExportRequestFailure": "Richiesta di export fallita lato server !"
  }
}


},{}],84:[function(require,module,exports){
module.exports={
  "toolbar": {
    "newDiagram": "Nowy diagram",
    "openDiagram": "Otwórz diagram",
    "saveDiagram": "Zapisz diagram",
    "export":{
      "label": "Eksport",
      "png": "Png",
      "svg": "Svg",
      "pdf": "Pdf"
    },
    "layout":{
      "label": "Układ",
      "manual": "Ręczny",
      "tree": "Drzewo",
      "cluster": "Zgrupowany"
    },
    "objectiveRule":{
      "label": "Reguła",
      "options": {
        "expected-value-maximization":"maksimum",
        "expected-value-minimization":"minimum",
        "maxi-min":"maxi-min",
        "maxi-max":"maxi-max",
        "mini-min":"mini-min",
        "mini-max":"mini-max"
      }
    },
    "undo": "Cofnij",
    "redo": "Ponów",
    "settings": "Ustawienia",
    "about": "Informacje",
    "sensitivityAnalysis": "Analiza wrażliwości",
    "recompute": "Przelicz"
  },
  "node":{
    "name": "Etykieta"
  },
  "edge":{
    "name": "Etykieta",
    "payoff": "Wypłata",
    "probability": "Prawdopodobieństwo"

  },
  "text":{
    "value": "Tekst"
  },
  "contextMenu":{
    "main":{
      "addDecisionNode": "Dodaj Węzeł Decyzyjny",
      "addChanceNode": "Dodaj Węzeł Losowy",
      "addText": "Dodaj Tekst",
      "paste": "Wklej",
      "selectAllNodes": "Zaznacz wszystkie węzły"
    },
    "node":{
      "copy": "Kopiuj",
      "cut": "Wytnij",
      "paste": "Wklej",
      "delete": "Usuń",
      "addDecisionNode": "Dodaj Węzeł Decyzyjny",
      "addChanceNode": "Dodaj Węzeł Losowy",
      "addTerminalNode": "Dodaj Węzeł Końcowy",
      "convert":{
        "decision": "Jako Węzeł Decyzyjny",
        "chance": "Jako Węzeł Losowy",
        "terminal": "Jako Węzeł Końcowy"
      },
      "selectSubtree": "Zaznacz poddrzewo",
      "flipSubtree": "Przewróć poddrzewo"
    },
    "edge":{
      "injectDecisionNode": "Wstrzyknij Węzeł Decyzyjny",
      "injectChanceNode": "Wstrzyknij Węzeł Losowy"
    },
    "text":{
      "delete": "Usuń"
    }
  },
  "sensitivityAnalysisDialog":{
    "title": "Analiza wrażliwości",
    "buttons": {
      "runJob": "Uruchom",
      "stopJob": "Zatrzymaj",
      "terminateJob": "Zakończ",
      "resumeJob": "Wznów",
      "downloadCsv": "Pobierz CSV",
      "back": "Wstecz",
      "clear": "Wyczyść"
    }
  },
  "jobParametersBuilder": {
    "buttons": {
      "removeParameterValue": "Usuń",
      "addParameterValue": "Dodaj"
    }
  },
  "jobResultTable":{
    "tooltip": {
      "multiplePoliciesInCell": "{{number}} polityk"
    },
    "pivot": {
      "aggregators":{
        "maximum": "Maksimum",
        "minimum": "Minimum"
      },
      "renderers":{
        "heatmap": "Mapa cieplna"
      }
    },
    "policyPreview": "podgląd polityki"
  },
  "job":{
    "sensitivity-analysis":{
      "name": "Analiza wrażliwości N-czynnikowa",
      "param":{
        "ruleName": "Nazwa reguły",
        "extendedPolicyDescription": {
          "label": "Rozszerzony opis polityki"
        },
        "variables": {
          "label": "Zmienne",
          "name": {
            "label": "Nazwa"
          },
          "min": {
            "label": "Minimum"
          },
          "max": {
            "label": "Maksimum"
          },
          "length": {
            "label": "Długość"
          },
          "step": {
            "label": "Krok"
          }
        }
      },
      "errors":{
        "computations": "Błąd w obliczeniach analizy wrażliwości dla następujących parametrów:"
      },
      "warnings": {
        "largeScenariosNumber": "Liczba zdefiniowanych scenariuszy większa niż {{numberFormatted}}. Wyliczenie analizy wrażliwości może się nie powieść lub być bardzo powolne.",
        "largeParametersNumber": "Liczba parametrów większa niż {{number}}. Wyświetlenie analizy wrażliwości może się nie powieść lub być bardzo powolne."
      }
    },
    "probabilistic-sensitivity-analysis":{
      "name": "Probabilistyczna analiza wrażliwości",
      "param":{
        "ruleName": "Nazwa reguły",
        "numberOfRuns": {
          "label": "Liczba powtórzeń"
        },
        "extendedPolicyDescription": {
          "label": "Rozszerzony opis reguły"
        },
        "variables": {
          "label": "Zmienne",
          "name": {
            "label": "Nazwa"
          },
          "formula": {
            "label": "Formuła",
            "help": "Wybierz wzór formuły z menu lub wpisz własny kod"
          }
        }
      },
      "errors":{
        "computations": "Błąd w obliczeniu analizy wrażliwości dla następujących parametrów:",
        "param-computation": "Błąd w wyliczaniu wartości parametrów:"
      },
      "warnings": {
        "largeScenariosNumber": "Liczba zdefiniowanych scenariuszy większa niż {{numberFormatted}}. Wyliczenie analizy wrażliwości może się nie powieść lub być bardzo powolne."
      }
    },
    "errors":{
      "generic": "Błąd w obliczeniach analizy wrażliwości: {{message}}"
    }
  },
  "settingsDialog":{
    "title": "Ustawienia",
    "general":{
      "title": "Ogólne",
      "fontSize": "Rozmiar czcionki",
      "fontFamily": "Rodzina czcionek",
      "fontWeight": "Waga czcionki",
      "fontStyle": "Styl czcionki",
      "numberFormatLocale": "Kod lokalizacji językowej liczb"
    },
    "payoff":{
      "title": "Format wypłaty",
      "currency": "Waluta",
      "currencyDisplay": "Wyświetlanie waluty",
      "style": "Styl",
      "minimumFractionDigits": "Minimalna liczba miejsc po przecinku",
      "maximumFractionDigits": "Maksymalna liczba miejsc po przecinku",
      "useGrouping": "Separatory grupowania"
    },
    "probability":{
      "title": "Format prawdopodobieństwa",
      "style": "Styl",
      "minimumFractionDigits": "Minimalna liczba miejsc po przecinku",
      "maximumFractionDigits": "Maksymalna liczba miejsc po przecinku",
      "fontSize": "Rozmiar czcionki",
      "color": "Kolor"
    },
    "node":{
      "title": "Węzeł",
      "strokeWidth": "Szerokość krawędzi",
      "optimal":{
        "title": "Optymalny",
        "stroke": "Kolor",
        "strokeWidth": "Szerokość krawędzi"
      },
      "label": {
        "title": "Etykieta",
        "fontSize": "Rozmiar czcionki etykiety",
        "color": "Kolor etykiety"
      },
      "payoff": {
        "title": "Wypłata",
        "fontSize": "Rozmiar czcionki",
        "color": "Kolor",
        "negativeColor": "Kolor wartości ujemnej"
      },
      "decision": {
        "title": "Węzeł Decyzyjny",
        "fill": "Kolor wypełnienia",
        "stroke": "Kolor krawędzi",
        "selected": {
          "fill": "Kolor wypełnienia po zaznaczeniu"
        }
      },
      "chance": {
        "title": "Węzeł Losowy",
        "fill": "Kolor wypełnienia",
        "stroke": "Kolor krawędzi",
        "selected": {
          "fill": "Kolor wypełnienia po zaznaczeniu"
        }
      },
      "terminal":{
        "title": "Węzeł Końcowy",
        "fill": "Kolor wypełnienia",
        "stroke": "Kolor krawędzi",
        "selected": {
          "fill": "Kolor wypełnienia po zaznaczeniu"
        },
        "payoff": {
          "title": "Wypłata",
          "fontSize": "Rozmiar czcionki",
          "color": "Kolor",
          "negativeColor": "Kolor wartości ujemnej"
        }
      }
    },
    "edge":{
      "title": "Krawędź",
      "stroke": "Kolor",
      "strokeWidth": "Szerokość krawędzi",
      "optimal":{
        "title": "Optymalna",
        "stroke": "Kolor",
        "strokeWidth": "Szerokość krawędzi"
      },
      "selected":{
        "title": "Zaznaczona",
        "stroke": "Kolor",
        "strokeWidth": "Szerokość krawędzi"
      },
      "label": {
        "title": "Etykieta",
        "fontSize": "Rozmiar czcionki",
        "color": "Kolor"
      },
      "payoff":{
        "title": "Wypłata",
        "fontSize": "Rozmiar czcionki",
        "color": "Kolor",
        "negativeColor": "Kolor wartości ujemnej"
      }
    },
    "diagramTitle":{
      "title": "Tytuł diagramu",
      "fontSize": "Rozmiar czcionki",
      "fontWeight": "Waga czcionki",
      "fontStyle": "Styl czcionki",
      "color": "Kolor",
      "margin":{
        "title": "Margines",
        "top": "Górny",
        "bottom": "Dolny"
      },
      "description":{
        "title": "Podtytuł (opis diagramu)",
        "show": "Wyświetl",
        "fontSize": "Rozmiar czcionki",
        "fontWeight": "Waga czcionki",
        "fontStyle": "Styl czcionki",
        "color": "Kolor",
        "marginTop": "Margines górny"
      }
    },
    "other":{
      "title": "Inne",
      "disableAnimations": "Wyłącz animacje",
      "forceFullEdgeRedraw": "Wymuś pełne przerysowywanie krawędzi",
      "hideLabels": "Ukryj etykiety",
      "hidePayoffs": "Ukryj wypłaty",
      "hideProbabilities": "Ukryj prawdopodobieństwa",
      "raw": "Surowy"
    }
  },
  "aboutDialog":{
    "title": "Informacje"
  },
  "help":{
    "header": "Pomoc",
    "mouse": {
      "header":"Akcje myszy:",
      "list":{
        "1": "lewy klawisz myszy: wybór węzła/krawędzi",
        "2": "prawy klawisz myszy: menu kontekstowe (dodawanie/manipulowanie węzłami)",
        "3": "podwójne kliknięcie lewym przyciskiem myszy: menu kontekstowe"
      }
    },
    "keyboard": {
      "header":"Skróty klawiszowe:",
      "list":{
        "1": "Del: usuwanie wybranych węzłów",
        "2": "Ctrl-C/X: kopiowanie/wycinanie wybranych węzłów",
        "3": "Ctrl-V: wklej skopiowane węzły jako poddrzewo wybranego węzła",
        "4": "Ctrl-Y/Z: cofnij/ponów",
        "5": "Ctrl-Alt-D/C/T: dodaj nowy węzeł Decyzyjny/Losowy/Końcowy jako dziecko <strong>wybranego węzła</strong>",
        "6": "Ctrl-Alt-D/C: Wstrzyknij nowy węzeł Decyzyjny/Losowy do <strong>wybranej krawędzi</strong>"
      }
    },
    "docs": "Dokumentacja SilverDecisions jest dostępna <a href=\"https://github.com/SilverDecisions/SilverDecisions/wiki/Documentation\" target=\"_blank\">tutaj</a>"
  },
  "definitionsDialog":{
    "title": "Definicje zmiennych",
    "buttons":{
      "recalculate": "Przelicz"
    },
    "evaluatedVariables": "Wartości zmiennych"
  },
  "sidebarDefinitions":{
    "header": "Zmienne",
    "code": "Kod",
    "buttons":{
      "openDialog" : "Otwórz okno dialogowe",
      "recalculate": "Przelicz"
    },
    "evaluatedVariables": "Wartości zmiennych"
  },
  "layoutOptions":{
    "header": "Układ",
    "marginHorizontal": "Margines w poziomie",
    "marginVertical": "Margines w pionie",
    "nodeSize": "Rozmiar węzła",
    "edgeSlantWidthMax": "Skos krawędzi (maksymalny)",
    "gridWidth": "Szerokość",
    "gridHeight": "Wysokość"
  },
  "diagramDetails":{
    "header": "Szczegóły",
    "title" : "Tytuł",
    "description" : "Opis"
  },
  "objectProperties":{
    "header":{
      "node":{
        "decision":"Węzeł Decyzyjny",
        "chance":"Węzeł Losowy",
        "terminal":"Węzeł Końcowy"
      },
      "edge": "Krawędź",
      "text": "Pływający tekst"
    },
    "childrenProperties":{
      "node":{
        "header": "Połączenia",
        "child": {
          "header": "Krawędź #{{number}}"
        }
      }
    }
  },
  "validation":{
    "incompletePath": "Ostatnim węzłem w ścieżce powinien być Węzeł Końcowy",
    "probabilityDoNotSumUpTo1": "Prawdopodobieństwa nie sumują sie do 1",
    "invalidProbability": "Niepoprawne prawdopodobieństwo na krawędzi #{{number}}",
    "invalidPayoff": "Niepoprawna wypłata na krawędzi #{{number}}"
  },
  "growl":{
    "brushDisabled": "Zaznaczanie wyłączone",
    "brushEnabled": "Zaznaczanie włączone"
  },
  "tooltip":{
    "node":{
      "payoff": "Wypłata",
      "aggregatedPayoff": "Zagregowana Wypłata",
      "probabilityToEnter": "Prawdopodobieństwo wejścia"
    },
    "edge":{
      "payoff": "Wypłata: {{value}}",
      "probability": "Prawdopodobieństwo: {{value}}"
    }
  },
  "confirm":{
    "newDiagram": "Czy jesteś pewien, że chcesz porzucić obecny diagram? Wszystkie niezapisane zmiany zostaną utracone.",
    "openDiagram": "Czy jesteś pewien? Wszystkie niezapisane zmiany zostaną utracone.",
    "beforeunload": "Czy jesteś pewien, że chcesz zamknąć SilverDecisions? Wszystkie niezapisane zmiany zostaną utracone."
  },
  "error":{
    "jsonParse": "Błąd przetwarzania danych z pliku!",
    "fileApiNotSupported":"Funckja 'file API' nie jest wspierana w tej przeglądarce internetowej.",
    "inputFilesProperty":"Twoje przeglądarka nie wspiera opcji `pliki` przy otwieraniu pliku.",
    "notSilverDecisionsFile":"Plik niezgodny z formatem SilverDecisions!",
    "incorrectVersionFormat": "Niepoprawny format ciągu z numerem wersji!",
    "fileVersionNewerThanApplicationVersion": "Wersja pliku jest nowasza niż wersja aplikacji. Niektóre funkcjonalności mogą być niedostępne.",
    "objectiveComputationFailure": "Błąd podczas wyliczania celu!",
    "diagramDrawingFailure": "Błąd podczas rysowania diagramu!",
    "malformedData":"Błąd odczytu danych drzewa!",
    "pngExportNotSupported": "Eksport do obrazu PNG nie jest wspierany w Twojej przeglądarce.",
    "pngExportNotSupportedIE": "Eksport do obrazu PNG nie jest wspierany w przeglądarce Internet Explorer.",
    "svgExportNotSupported": "Eksport do obrazu SVG nie jest wspierany w Twojej przeglądarce.",
    "pdfExportNotSupported": "Eksport do PDF nie jest wspierany w Twojej przeglądarce.",
    "incorrectPayoffNumberFormatOptions": "Niewłaściwe ustawienia dla formatu wypłaty.",
    "incorrectProbabilityNumberFormatOptions": "Niewłaściwe ustawienia dla formatu prawdopodobieństw.",
    "incorrectNumberFormatOptions": "Niewłaściwe ustawiono formatowanie liczb. Przyjęto ustawienia domyślne.",
    "jsPDFisNotIncluded": "Nie włączono jsPDF!",
    "serverSideExportRequestFailure": "Nieudane zapytanie do serwera exportu!"
  }
}

},{}],85:[function(require,module,exports){
'use strict';

var _d3Extensions = require('./d3-extensions');

var _app = require('./app');

var _package = require('../package.json');

require('es6-set/implement');

_d3Extensions.D3Extensions.extend();

_app.App.version = _package.version;
module.exports = _app.App;

},{"../package.json":68,"./app":71,"./d3-extensions":73,"es6-set/implement":42}],86:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.JobParametersBuilder = undefined;

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _templates = require("../templates");

var _jobParameterDefinition = require("sd-computations/src/jobs/engine/job-parameter-definition");

var _sdUtils = require("sd-utils");

var _d = require("../d3");

var d3 = _interopRequireWildcard(_d);

var _i18n = require("../i18n/i18n");

var _appUtils = require("../app-utils");

var _tooltip = require("../tooltip");

var _autocomplete = require("../autocomplete");

function _interopRequireWildcard(obj) {
    if (obj && obj.__esModule) {
        return obj;
    } else {
        var newObj = {};if (obj != null) {
            for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
            }
        }newObj.default = obj;return newObj;
    }
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

var JobParametersBuilder = function () {
    function JobParametersBuilder(container) {
        var i18nPrefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
        var onChange = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};

        _classCallCheck(this, JobParametersBuilder);

        this.container = container;
        this.i18nPrefix = i18nPrefix;
        this.paramTypeToInputType = {};
        this.paramTypeToInputType[_jobParameterDefinition.PARAMETER_TYPE.BOOLEAN] = 'checkbox';
        this.paramTypeToInputType[_jobParameterDefinition.PARAMETER_TYPE.DATE] = 'date';
        this.paramTypeToInputType[_jobParameterDefinition.PARAMETER_TYPE.INTEGER] = 'number';
        this.paramTypeToInputType[_jobParameterDefinition.PARAMETER_TYPE.NUMBER] = 'number';
        this.paramTypeToInputType[_jobParameterDefinition.PARAMETER_TYPE.STRING] = 'text';
        this.onChange = onChange;
    }

    _createClass(JobParametersBuilder, [{
        key: "setJobParameters",
        value: function setJobParameters(jobName, jobParameters) {
            var customParamsConfig = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

            this.jobName = jobName;
            this.jobParameters = jobParameters;
            this.customParamsConfig = customParamsConfig;
            this.clean();
            this.build(this.container, this.jobParameters.definitions, this.jobParameters.values, '', this.onChange);
        }
    }, {
        key: "clean",
        value: function clean() {
            this.container.html('');
            this.pristine = {};
            this.customValidators = {};
            this.strictValidation(false);
        }
    }, {
        key: "validate",
        value: function validate() {
            var strictValidation = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;

            this.strictValidation(strictValidation);
            this.pristine = {};
            this.container.selectAll('.sd-pristine').classed('sd-pristine', false);
            this.checkCustomValidators();
            return this.jobParameters.validate();
        }
    }, {
        key: "checkCustomValidators",
        value: function checkCustomValidators() {
            _sdUtils.Utils.forOwn(this.customValidators, function (val, key) {
                val();
            });
        }
    }, {
        key: "strictValidation",
        value: function strictValidation() {
            var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;

            this.container.classed('sd-strict-validation', enabled);
        }
    }, {
        key: "build",
        value: function build(container, jobParameterDefinitions, parentValueObject) {
            var parentPath = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';
            var onChange = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : function () {};
            var onInput = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : function () {};

            container.html('');
            var self = this;
            var params = container.selectAll(".sd-job-parameter").data(jobParameterDefinitions);
            var paramsEnter = params.enter().appendSelector('div.sd-job-parameter');

            paramsEnter.html(function (d) {
                return _templates.Templates.get('jobParameter', d);
            });

            var paramsMerge = paramsEnter.merge(params);
            paramsMerge.each(function (d, i) {
                var paramSelection = d3.select(this);
                var path = parentPath;

                if (path) {
                    path += '.';
                }
                path += d.name;
                paramSelection.classed('sd-hidden', _sdUtils.Utils.get(self.customParamsConfig, path + '.hidden'));

                var value = parentValueObject[d.name];
                var repeating = d.maxOccurs > 1;
                if (value == undefined) {
                    if (repeating) {
                        value = [];
                        for (var vi = 0; vi < d.minOccurs; vi++) {
                            value.push(self.getEmptyValue(d.type));
                        }
                    } else {
                        value = _sdUtils.Utils.get(self.customParamsConfig, path + '.value', self.getEmptyValue(d.type));
                    }

                    parentValueObject[d.name] = value;
                }

                if (!repeating) {
                    self.buildParameterSingleValue(paramSelection, d, {
                        get: function get() {
                            return parentValueObject[d.name];
                        },
                        set: function set(v) {
                            return parentValueObject[d.name] = v;
                        }
                    }, path, onChange, onInput);
                } else {
                    paramSelection.appendSelector("div.sd-job-parameter-name").html(self.getParamNameI18n(path));

                    var valuesContainer = paramSelection.appendSelector("div.sd-job-parameter-values");
                    var actionButtons = paramSelection.appendSelector("div.sd-action-buttons");
                    var addButton = actionButtons.appendSelector('button.sd-add-job-parameter-value-button.icon-button');
                    addButton.appendSelector("i.material-icons").html('add');

                    paramSelection.classed('invalid', !d.validate(value));
                    var callbacks = {};
                    callbacks.onValueRemoved = function (v, i) {
                        value.splice(i, 1);
                        self.buildParameterValues(valuesContainer, d, value, path, callbacks);
                        addButton.classed('sd-hidden', value.length >= d.maxOccurs);
                        callbacks.onChange();
                    };
                    callbacks.onChange = function () {
                        paramSelection.classed('invalid', !d.validate(value));
                        onChange();
                    };
                    callbacks.onInput = function () {
                        paramSelection.classed('invalid', !d.validate(value));
                        onInput();
                    };

                    addButton.attr('title', _i18n.i18n.t('jobParametersBuilder.buttons.addParameterValue')).classed('sd-hidden', value.length >= d.maxOccurs).on('click', function () {
                        value.push(self.getEmptyValue(d.type));
                        _sdUtils.Utils.set(self.pristine, path + "[" + (value.length - 1) + "]", true);
                        self.buildParameterValues(valuesContainer, d, value, path, callbacks);
                        addButton.classed('sd-hidden', value.length >= d.maxOccurs);
                        callbacks.onChange();
                    });

                    self.buildParameterValues(valuesContainer, d, value, path, callbacks);
                }
            });
        }
    }, {
        key: "buildParameterValues",
        value: function buildParameterValues(container, paramDefinition, values, path, callbacks) {
            var self = this;
            container.html("");

            var paramValues = container.selectAll(".sd-job-parameter-value").data(values);

            paramValues.exit().remove();
            var paramValuesEnter = paramValues.enter().appendSelector('div.sd-job-parameter-value');

            var paramValuesMerge = paramValuesEnter.merge(paramValues);

            var indexToSelection = {};

            var customValidator = _sdUtils.Utils.get(self.customParamsConfig, path + '.customValidator');

            function checkCustomValidator() {
                if (customValidator) {
                    customValidator(values).forEach(function (isValid, i) {
                        var selection = indexToSelection[i];
                        selection.classed('invalid', !paramDefinition.validateSingleValue(values[i]));
                        if (!isValid) {
                            selection.classed('invalid', true);
                        }
                    });
                }
            }

            self.customValidators[path] = checkCustomValidator;

            paramValuesEnter.each(function (value, i) {
                var derivedValueUpdaters = [];

                function updateDerivedValues() {
                    derivedValueUpdaters.forEach(function (updater) {
                        return updater(values[i]);
                    });
                }

                var selection = d3.select(this);
                indexToSelection[i] = selection;

                if (_jobParameterDefinition.PARAMETER_TYPE.COMPOSITE == paramDefinition.type) {
                    var nestedParameters = selection.selectOrAppend("div.sd-nested-parameters");
                    var onChange = function onChange() {
                        selection.classed('invalid', !paramDefinition.validateSingleValue(value));
                        checkCustomValidator();
                        updateDerivedValues();
                        if (callbacks.onChange) {
                            callbacks.onChange();
                        }
                    };
                    var onInput = function onInput() {
                        updateDerivedValues();
                        selection.classed('invalid', !paramDefinition.validateSingleValue(value));
                        checkCustomValidator();
                        if (callbacks.onInput) {
                            callbacks.onInput();
                        }
                    };

                    self.build(nestedParameters, paramDefinition.nestedParameters, value, path, onChange, onInput);
                    selection.classed('invalid', !paramDefinition.validateSingleValue(value));
                    selection.classed('sd-pristine', _sdUtils.Utils.get(self.pristine, path + "[" + i + "]", false));
                } else {
                    self.buildParameterSingleValue(selection, paramDefinition, {
                        get: function get() {
                            return values[i];
                        },
                        set: function set(v) {
                            return values[i] = v;
                        }
                    }, path, function () {
                        updateDerivedValues();
                        checkCustomValidator();
                        if (callbacks.onChange) {
                            callbacks.onChange();
                        }
                    }, function () {
                        updateDerivedValues();
                        checkCustomValidator();
                        if (callbacks.onInput) {
                            callbacks.onInput();
                        }
                    });
                }

                var derivedValuesConfigs = _sdUtils.Utils.get(self.customParamsConfig, path + '._derivedValues');
                if (derivedValuesConfigs) {
                    derivedValuesConfigs.forEach(function (derivedValueConfig) {
                        var updater = self.buildDerivedValue(selection, derivedValueConfig, path);
                        updater(value);
                        derivedValueUpdaters.push(updater);
                    });
                }

                var actionButtons = selection.appendSelector("div.sd-action-buttons");
                var removeButton = actionButtons.appendSelector('button.sd-remove-job-parameter-value-button.icon-button');
                removeButton.appendSelector("i.material-icons").html('remove');
                removeButton.attr('title', _i18n.i18n.t('jobParametersBuilder.buttons.removeParameterValue')).classed('sd-hidden', values.length <= paramDefinition.minOccurs).on('click', function (d) {
                    return callbacks.onValueRemoved(d, i);
                });
            });

            checkCustomValidator();

            paramValuesMerge.each(function (value, i) {});
        }
    }, {
        key: "buildDerivedValue",
        value: function buildDerivedValue(container, derivedValueConfig, path) {
            var self = this;

            var inputId = _sdUtils.Utils.guid();
            var selection = container.appendSelector('div.input-group.sd-derived-value');
            var name = this.getParamNameI18n(path + '.' + derivedValueConfig.name);
            var input = selection.append('input').attr('type', 'text').attr("disabled", "disabled");

            selection.appendSelector('span.bar');
            var label = selection.append('label').attr('for', inputId).html(name);

            return function (paramValue) {
                input.node().value = derivedValueConfig.value(paramValue);
                _appUtils.AppUtils.updateInputClass(input);
            };
        }
    }, {
        key: "buildParameterSingleValue",
        value: function buildParameterSingleValue(container, paramDefinition, valueAccessor, path, onChange, onInput) {
            var _this = this;

            var self = this;
            var temp = {};

            var inputId = _sdUtils.Utils.guid();
            var selection = container.appendSelector('div.input-group');
            selection.classed('sd-parameter-' + paramDefinition.name, true);
            var help = this.getParamHelpI18n(path);
            if (help) {
                var helpContainer = container.appendSelector('div.sd-help-icon');
                helpContainer.html('<i class="material-icons">info_outline</i>');
                _tooltip.Tooltip.attach(helpContainer, function (d) {
                    return help;
                }, 5, 15);
            }

            var options = _sdUtils.Utils.get(self.customParamsConfig, path + '.options', null);

            var inputType = this.paramTypeToInputType[paramDefinition.type];
            var input;
            if (options && options.length) {
                inputType = 'select';
                input = selection.append('select');
                var optionsSel = input.selectAll("option").data([null].concat(options));
                optionsSel.enter().append("option").attr("value", function (d) {
                    return d;
                }).text(function (d) {
                    return d;
                });

                if (_sdUtils.Utils.get(self.customParamsConfig, path + '.optionsAutocomplete', null)) {
                    var autocomplete = new _autocomplete.Autocomplete(input);
                    input = autocomplete.getInput();
                }
            } else {
                input = selection.append('input').attr('type', inputType);
            }

            input.attr('id', inputId);

            input.classed('sd-input', true);
            input.on('input change', function (d, i) {
                var value = self.parseInput(this.value, paramDefinition.type);
                if (inputType == 'checkbox') {
                    value = this.checked;
                }
                if (!paramDefinition.validateSingleValue(value)) {
                    d3.select(this).classed('invalid', true);
                } else {
                    d3.select(this).classed('invalid', false);
                }

                valueAccessor.set(value);
                if (d3.event.type == 'change') {
                    if (onChange) {
                        onChange();
                    }
                }

                if (d3.event.type == 'input') {
                    if (onInput) {
                        onInput();
                    }
                }

                _appUtils.AppUtils.updateInputClass(d3.select(this));
            }).each(function (d, i) {
                var value = valueAccessor.get();
                if (inputType == 'checkbox') {
                    this.checked = value;
                } else {
                    this.value = value;
                }
                temp[i] = {};
                temp[i].pristineVal = value;
                d3.select(this).classed('invalid', !paramDefinition.validateSingleValue(value));
                _appUtils.AppUtils.updateInputClass(d3.select(this));
            });

            selection.appendSelector('span.bar');
            var label = selection.append('label').attr('for', inputId).html(function (d) {
                var label = _this.getParamNameI18n(path);
                return label;
            });
            input.node().value = valueAccessor.get();
        }
    }, {
        key: "value",
        value: function value(path, _value) {
            return this.jobParameters.value(path, _value);
        }
    }, {
        key: "parseInput",
        value: function parseInput(value, parameterType) {
            if (parameterType === _jobParameterDefinition.PARAMETER_TYPE.DATE) {
                return new Date(value);
            }
            if (parameterType === _jobParameterDefinition.PARAMETER_TYPE.NUMBER || parameterType === _jobParameterDefinition.PARAMETER_TYPE.INTEGER) {
                return parseFloat(value);
            }
            return value;
        }
    }, {
        key: "getEmptyValue",
        value: function getEmptyValue(parameterType) {
            if (parameterType === _jobParameterDefinition.PARAMETER_TYPE.COMPOSITE) {
                return {};
            }

            return null;
        }
    }, {
        key: "getParamNameI18n",
        value: function getParamNameI18n(path) {
            return _i18n.i18n.t(this.i18nPrefix + '.' + this.jobName + '.param.' + path + '.label');
        }
    }, {
        key: "getParamHelpI18n",
        value: function getParamHelpI18n(path) {
            var key = this.i18nPrefix + '.' + this.jobName + '.param.' + path + '.help';
            var help = _i18n.i18n.t(key);
            return help === key ? null : help;
        }
    }]);

    return JobParametersBuilder;
}();

exports.JobParametersBuilder = JobParametersBuilder;

},{"../app-utils":70,"../autocomplete":72,"../d3":74,"../i18n/i18n":82,"../templates":95,"../tooltip":124,"sd-computations/src/jobs/engine/job-parameter-definition":139,"sd-utils":"sd-utils"}],87:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.JobResultTable = exports.JobResultTableConfig = undefined;

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _sdUtils = require("sd-utils");

var _i18n = require("../i18n/i18n");

var _d = require("../d3");

var d3 = _interopRequireWildcard(_d);

var _pivotTable = require("../pivot-table");

function _interopRequireWildcard(obj) {
    if (obj && obj.__esModule) {
        return obj;
    } else {
        var newObj = {};if (obj != null) {
            for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
            }
        }newObj.default = obj;return newObj;
    }
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

var jQuery = require('jquery');

var JobResultTableConfig = exports.JobResultTableConfig = function JobResultTableConfig(custom) {
    _classCallCheck(this, JobResultTableConfig);

    this.onRowSelected = function (rows, indexes, event) {};

    this.className = '';

    if (custom) {
        _sdUtils.Utils.deepExtend(this, custom);
    }
};

var JobResultTable = function () {
    function JobResultTable(container, config) {
        _classCallCheck(this, JobResultTable);

        this.container = container;
        this.config = new JobResultTableConfig(config);
        this.init();
    }

    _createClass(JobResultTable, [{
        key: "init",
        value: function init() {
            this.pivotTable = new _pivotTable.PivotTable(this.container.selectOrAppend("div.sd-job-result-table").classed(this.config.className, true));
        }
    }, {
        key: "clickCallback",
        value: function clickCallback(e, value, filters, pivotData) {
            var self = this;
            var selectedIndexes = [];
            var selectedRows = [];
            pivotData.forEachMatchingRecord(filters, function (record) {
                selectedIndexes.push(record['$rowIndex']);
                selectedRows.push(data.data[record['$rowIndex']]);
            });
            self.config.onRowSelected(selectedRows, selectedIndexes, e);
        }
    }, {
        key: "setClassName",
        value: function setClassName(className) {
            if (this.config.className) {
                this.container.selectOrAppend("div.sd-job-result-table").classed(this.config.className, false);
                this.config.className = className;
            }
            this.container.selectOrAppend("div.sd-job-result-table").classed(this.config.className, true);
        }
    }, {
        key: "setData",
        value: function setData(data, jobParameters, job, config) {
            var self = this;
            var derivers = jQuery.pivotUtilities.derivers;
            var pivotOptions = {
                rows: data.rows,
                vals: data.vals,
                cols: data.cols,
                hiddenAttributes: ['$rowIndex'],
                aggregatorName: this.pivotTable.getAggregatorName("maximum"),
                rendererOptions: {
                    table: {
                        clickCallback: function clickCallback(e, value, filters, pivotData) {
                            self.clickCallback(e, value, filters, pivotData);
                        }
                    },
                    heatmap: {
                        colorScaleGenerator: function colorScaleGenerator(values) {
                            var extent = d3.extent(values);
                            var domain = [];
                            var min = Math.min(0, extent[0] || 0);
                            var max = Math.max(0, extent[1] || 0);

                            return d3.scaleLinear().domain([min, 0, max]).range(["#4b53ff", "#FFF", "#FF0000"]);
                        }
                    }
                },
                rendererName: this.pivotTable.getRendererName("heatmap")
                /*
                 rendererName: 'custom',
                 renderers: {
                 'custom': function(pivotData, options){
                 console.log(pivotData)
                 }
                 }*/

            };

            if (config) {
                if (config.aggregatorName) {
                    pivotOptions.aggregatorName = config.aggregatorName;
                }
                if (config.aggregators) {
                    pivotOptions.aggregators = config.aggregators;
                }
            }

            this.pivotTable.update(data.data.map(function (r, i) {
                return r.concat(i ? i - 1 : '$rowIndex');
            }), pivotOptions);

            // this.drawHeaders(data.headers);
            // this.drawRows(data.rows)
        }
    }, {
        key: "clear",
        value: function clear() {
            this.clearSelection();
            this.pivotTable.clear();
        }
    }, {
        key: "show",
        value: function show() {
            var _show = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;

            this.container.classed('sd-hidden', !_show);
        }
    }, {
        key: "hide",
        value: function hide() {
            this.show(false);
        }
    }, {
        key: "clearSelection",
        value: function clearSelection() {
            // this.resultTable.selectAll('.sd-selected').classed('sd-selected', false);
        }
    }]);

    return JobResultTable;
}();

exports.JobResultTable = JobResultTable;

},{"../d3":74,"../i18n/i18n":82,"../pivot-table":91,"jquery":"jquery","sd-utils":"sd-utils"}],88:[function(require,module,exports){
"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ProbabilisticSensitivityAnalysisJobResultTable = undefined;

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _get = function get(object, property, receiver) {
    if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
        var parent = Object.getPrototypeOf(object);if (parent === null) {
            return undefined;
        } else {
            return get(parent, property, receiver);
        }
    } else if ("value" in desc) {
        return desc.value;
    } else {
        var getter = desc.get;if (getter === undefined) {
            return undefined;
        }return getter.call(receiver);
    }
};

var _jobResultTable = require("./job-result-table");

var _policy = require("sd-computations/src/policies/policy");

var _sdUtils = require("sd-utils");

var _i18n = require("../i18n/i18n");

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

function _possibleConstructorReturn(self, call) {
    if (!self) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }return call && ((typeof call === "undefined" ? "undefined" : _typeof(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === "undefined" ? "undefined" : _typeof(superClass)));
    }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var jQuery = require('jquery');

var ProbabilisticSensitivityAnalysisJobResultTable = exports.ProbabilisticSensitivityAnalysisJobResultTable = function (_JobResultTable) {
    _inherits(ProbabilisticSensitivityAnalysisJobResultTable, _JobResultTable);

    function ProbabilisticSensitivityAnalysisJobResultTable(container, config, payoffNumberFormatter, probabilityNumberFormatter) {
        _classCallCheck(this, ProbabilisticSensitivityAnalysisJobResultTable);

        var _this = _possibleConstructorReturn(this, (ProbabilisticSensitivityAnalysisJobResultTable.__proto__ || Object.getPrototypeOf(ProbabilisticSensitivityAnalysisJobResultTable)).call(this, container, config));

        _this.payoffNumberFormatter = payoffNumberFormatter;
        _this.probabilityNumberFormatter = probabilityNumberFormatter;
        return _this;
    }

    _createClass(ProbabilisticSensitivityAnalysisJobResultTable, [{
        key: "setData",
        value: function setData(jobResult, jobParameters, job) {
            var _this2 = this;

            this.jobResult = jobResult;
            var data = { rows: ['policy', 'expected value', 'median', 'standard deviation', 'best probability'], cols: [], vals: ['expected value'], data: [] };

            data.data.push(['policy', 'expected value', 'median', 'standard deviation', 'best probability']);
            jobResult.policies.forEach(function (policy, i) {
                var row = [_policy.Policy.toPolicyString(policy, jobParameters.values.extendedPolicyDescription), _this2.payoffNumberFormatter(jobResult.expectedValues[i]), _this2.payoffNumberFormatter(jobResult.medians[i]), _this2.payoffNumberFormatter(jobResult.standardDeviations[i]), _this2.probabilityNumberFormatter(jobResult.policyIsBestProbabilities[i])];
                data.data.push(row);
            });

            _sdUtils.log.trace(data);
            _get(ProbabilisticSensitivityAnalysisJobResultTable.prototype.__proto__ || Object.getPrototypeOf(ProbabilisticSensitivityAnalysisJobResultTable.prototype), "setData", this).call(this, data, jobParameters, job, {
                aggregatorName: "empty",
                aggregators: {
                    empty: function empty(attributeArray) {
                        return function (data, rowKey, colKey) {
                            return {
                                push: function push(record) {},
                                value: function value() {
                                    return 0;
                                },
                                format: function format(x) {
                                    return _i18n.i18n.t('jobResultTable.policyPreview');
                                },
                                numInputs: 1
                            };
                        };
                    }
                }
            });
        }
    }, {
        key: "clickCallback",
        value: function clickCallback(e, value, filters, pivotData) {
            var self = this;
            var selectedIndexes = [];
            var selectedRows = [];
            pivotData.forEachMatchingRecord(filters, function (record) {
                selectedIndexes.push(record['$rowIndex']);
                selectedRows.push({ policyIndex: record['$rowIndex'] });
            });
            self.config.onRowSelected(selectedRows, selectedIndexes, e);
        }
    }]);

    return ProbabilisticSensitivityAnalysisJobResultTable;
}(_jobResultTable.JobResultTable);

},{"../i18n/i18n":82,"./job-result-table":87,"jquery":"jquery","sd-computations/src/policies/policy":141,"sd-utils":"sd-utils"}],89:[function(require,module,exports){
"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.SensitivityAnalysisJobResultTable = undefined;

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _get = function get(object, property, receiver) {
    if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {
        var parent = Object.getPrototypeOf(object);if (parent === null) {
            return undefined;
        } else {
            return get(parent, property, receiver);
        }
    } else if ("value" in desc) {
        return desc.value;
    } else {
        var getter = desc.get;if (getter === undefined) {
            return undefined;
        }return getter.call(receiver);
    }
};

var _jobResultTable = require("./job-result-table");

var _sdUtils = require("sd-utils");

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

function _possibleConstructorReturn(self, call) {
    if (!self) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }return call && ((typeof call === "undefined" ? "undefined" : _typeof(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === "undefined" ? "undefined" : _typeof(superClass)));
    }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var SensitivityAnalysisJobResultTable = exports.SensitivityAnalysisJobResultTable = function (_JobResultTable) {
    _inherits(SensitivityAnalysisJobResultTable, _JobResultTable);

    function SensitivityAnalysisJobResultTable() {
        _classCallCheck(this, SensitivityAnalysisJobResultTable);

        return _possibleConstructorReturn(this, (SensitivityAnalysisJobResultTable.__proto__ || Object.getPrototypeOf(SensitivityAnalysisJobResultTable)).apply(this, arguments));
    }

    _createClass(SensitivityAnalysisJobResultTable, [{
        key: "setData",
        value: function setData(jobResult, jobParameters, job) {
            this.jobResult = jobResult;

            jobParameters = job.createJobParameters(_sdUtils.Utils.cloneDeep(jobParameters.values));
            jobParameters.values.roundVariables = true;
            var csvDAta = job.jobResultToCsvRows(jobResult, jobParameters);

            if (csvDAta.length) {
                csvDAta[0][0] = 'policy\nnumber';
            }

            var cols = [];
            var totalInColNum = 1;

            jobParameters.values.variables.forEach(function (v) {
                var _totalInColNum = v.length * totalInColNum;
                if (_totalInColNum > 1000) {
                    return;
                }
                totalInColNum = _totalInColNum;
                cols.push(v.name);
            });

            var data = { rows: ['policy'], cols: cols, vals: ['payoff'], data: csvDAta };
            _get(SensitivityAnalysisJobResultTable.prototype.__proto__ || Object.getPrototypeOf(SensitivityAnalysisJobResultTable.prototype), "setData", this).call(this, data);
        }
    }, {
        key: "clickCallback",
        value: function clickCallback(e, value, filters, pivotData) {
            var self = this;
            var selectedIndexes = [];
            var selectedRows = [];
            pivotData.forEachMatchingRecord(filters, function (record) {
                selectedIndexes.push(record['$rowIndex']);
                selectedRows.push(self.jobResult.rows[record['$rowIndex']]);
            });
            self.config.onRowSelected(selectedRows, selectedIndexes, e);
        }
    }]);

    return SensitivityAnalysisJobResultTable;
}(_jobResultTable.JobResultTable);

},{"./job-result-table":87,"sd-utils":"sd-utils"}],90:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.LoadingIndicator = undefined;

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _d = require('./d3');

var d3 = _interopRequireWildcard(_d);

var _i18n = require('./i18n/i18n');

var _sdUtils = require('sd-utils');

var _templates = require('./templates');

function _interopRequireWildcard(obj) {
    if (obj && obj.__esModule) {
        return obj;
    } else {
        var newObj = {};if (obj != null) {
            for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
            }
        }newObj.default = obj;return newObj;
    }
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

var LoadingIndicator = exports.LoadingIndicator = function () {
    function LoadingIndicator() {
        _classCallCheck(this, LoadingIndicator);
    }

    _createClass(LoadingIndicator, null, [{
        key: 'show',
        value: function show() {
            var message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';

            var html = _templates.Templates.get('loadingIndicator');

            var g = d3.select('body').selectOrAppend('div.sd-loading-indicator-container').html(html).select('.sd-loading-indicator').classed('visible', true).style('display', 'block');
        }
    }, {
        key: 'hide',
        value: function hide() {
            var select = d3.select('.sd-loading-indicator');
            select.classed('visible', false);
            setTimeout(function () {
                select.style('display', 'none');
            }, 500);
        }
    }]);

    return LoadingIndicator;
}();

},{"./d3":74,"./i18n/i18n":82,"./templates":95,"sd-utils":"sd-utils"}],91:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.PivotTable = undefined;

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _sdUtils = require('sd-utils');

var _i18n = require('./i18n/i18n');

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

function _toConsumableArray(arr) {
    if (Array.isArray(arr)) {
        for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
            arr2[i] = arr[i];
        }return arr2;
    } else {
        return Array.from(arr);
    }
}

var jQuery = require('jquery');
_sdUtils.Utils.getGlobalObject().jQuery = jQuery; //FIXME
require('jquery-ui/ui/data');
require('jquery-ui/ui/scroll-parent');
require('jquery-ui/ui/widget');
require('jquery-ui/ui/widgets/mouse');
require('jquery-ui/ui/widgets/sortable');
require('pivottable');

// pivot show zero hack start
var numberFormat = jQuery.pivotUtilities.numberFormat;
try {
    jQuery.pivotUtilities.numberFormat = function (opts) {
        if (!opts) {
            opts = {};
        }
        opts.showZero = true;
        return numberFormat(opts);
    };
} catch (e) {
    _sdUtils.log.error('Error when performing pivottable "show zero" hack, reverting');

    try {
        jQuery.pivotUtilities.numberFormat = numberFormat;
    } catch (e) {}
}

require('pivottable/dist/pivot.it');
require('pivottable/dist/pivot.de');
require('pivottable/dist/pivot.fr');

// pivot show zero hack continuation
try {
    var origAggregators = {};
    _sdUtils.Utils.forOwn(jQuery.pivotUtilities.locales.en.aggregators, function (value, key, object) {
        origAggregators[key] = value;
        object[key] = function () {
            var args1 = arguments;
            try {
                var res1 = value.apply(this, args1);
                return function () {
                    var res = res1.apply(undefined, arguments);
                    var format_ = res.format;
                    res.format = function (x) {
                        var origX = x;
                        if (x === 0) {
                            x = "0";
                        }
                        try {
                            return format_(x);
                        } catch (e) {
                            _sdUtils.log.error('Error when performing pivottable "show zero" hack (format func call), reverting', e);
                            if (format_) {
                                return format_(origX);
                            }
                            revertAggregators();
                        }
                    };
                    return res;
                };
            } catch (e) {
                _sdUtils.log.error('Error when performing pivottable "show zero" hack, reverting', e);
                revertAggregators();
                return origAggregators[key].apply(origAggregators, _toConsumableArray(args1));
            }
        };
    });
} catch (e) {
    _sdUtils.log.error('Error when performing pivottable "show zero" hack, reverting', e);
    revertAggregators();
}

function revertAggregators() {
    try {
        _sdUtils.Utils.forOwn(jQuery.pivotUtilities.locales.en.aggregators, function (value, key, object) {
            var origAggregator = origAggregators[key];
            if (origAggregator) {
                object[key] = origAggregator;
            }
        });
    } catch (e) {
        _sdUtils.log.error('Error when reverting aggregators', e);
    }
}

///////////////////// hack end

var PivotTable = exports.PivotTable = function () {
    function PivotTable(container, options, data) {
        _classCallCheck(this, PivotTable);

        this.container = container;
        this.options = options;
        this.data = data;
        if (data) {
            this.update(data, options);
        }
    }

    _createClass(PivotTable, [{
        key: 'update',
        value: function update(data, options) {
            this.data = data;
            this.options = options;
            jQuery(this.container.node()).pivotUI(data, options, true, _i18n.i18n.language);
        }
    }, {
        key: 'clear',
        value: function clear() {
            jQuery(this.container.node()).pivotUI([], null, true);
        }
    }, {
        key: 'getAggregatorName',
        value: function getAggregatorName(name) {
            return _i18n.i18n.t("jobResultTable.pivot.aggregators." + name.toLowerCase());
        }
    }, {
        key: 'getRendererName',
        value: function getRendererName(name) {
            return _i18n.i18n.t("jobResultTable.pivot.renderers." + name.toLowerCase());
        }
    }]);

    return PivotTable;
}();

},{"./i18n/i18n":82,"jquery":"jquery","jquery-ui/ui/data":53,"jquery-ui/ui/scroll-parent":57,"jquery-ui/ui/widget":59,"jquery-ui/ui/widgets/mouse":63,"jquery-ui/ui/widgets/sortable":64,"pivottable":"pivottable","pivottable/dist/pivot.de":65,"pivottable/dist/pivot.fr":66,"pivottable/dist/pivot.it":67,"sd-utils":"sd-utils"}],92:[function(require,module,exports){
"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.SensitivityAnalysisDialog = undefined;

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _dialog = require("./dialog");

var _jobParametersBuilder = require("./jobs/job-parameters-builder");

var _sdUtils = require("sd-utils");

var _templates = require("./templates");

var _i18n = require("./i18n/i18n");

var _appUtils = require("./app-utils");

var _tooltip = require("./tooltip");

var _loadingIndicator = require("./loading-indicator");

var _exporter = require("./exporter");

var _sensitivityAnalysisResultTable = require("./jobs/sensitivity-analysis-result-table");

var _probabilisticSensitivityAnalysisResultTable = require("./jobs/probabilistic-sensitivity-analysis-result-table");

var _policy = require("sd-computations/src/policies/policy");

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

function _possibleConstructorReturn(self, call) {
    if (!self) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }return call && ((typeof call === "undefined" ? "undefined" : _typeof(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === "undefined" ? "undefined" : _typeof(superClass)));
    }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var SensitivityAnalysisDialog = exports.SensitivityAnalysisDialog = function (_Dialog) {
    _inherits(SensitivityAnalysisDialog, _Dialog);

    function SensitivityAnalysisDialog(app) {
        _classCallCheck(this, SensitivityAnalysisDialog);

        var _this = _possibleConstructorReturn(this, (SensitivityAnalysisDialog.__proto__ || Object.getPrototypeOf(SensitivityAnalysisDialog)).call(this, app.container.select('.sd-sensitivity-analysis-dialog'), app));

        _this.jobConfigurations = [];
        _this.jobNameToParamValues = {};

        _this.computationsManager = _this.app.computationsManager;
        // this.initJobConfigurations();

        _this.jobConfigurationContainer = _this.container.select(".sd-sensitivity-analysis-job-configuration");
        _this.parameterBuilderContainer = _this.jobConfigurationContainer.select(".sd-job-parameters-builder");
        _this.jobParametersBuilder = new _jobParametersBuilder.JobParametersBuilder(_this.parameterBuilderContainer, 'job', function () {
            return _this.onJobParametersChanged();
        });
        _this.progressBarContainer = _this.container.select(".sd-job-progress-bar-container");
        _this.progressBar = _this.progressBarContainer.select(".sd-progress-bar");
        _this.jobResultsContainer = _this.container.select(".sd-sensitivity-analysis-job-results");

        _this.debouncedCheckWarnings = _sdUtils.Utils.debounce(function () {
            return _this.checkWarnings();
        }, 200);

        _this.initButtons();
        return _this;
    }

    _createClass(SensitivityAnalysisDialog, [{
        key: "onOpen",
        value: function onOpen() {

            this.initJobConfigurations();
            if (!this.jobSelect) {
                this.initJobSelect();
            }

            var payoffConf = _sdUtils.Utils.cloneDeep(this.app.config.format.payoff);
            payoffConf.style = 'decimal';
            payoffConf.useGrouping = false;
            this.payoffNumberFormat = new Intl.NumberFormat('en', payoffConf);
            // this.payoffNumberFormat = {
            //     format: v => this.app.computationsManager.expressionEngine.constructor.toFloat(v, payoffConf.maximumFractionDigits)
            // }

            this.clear();
        }
    }, {
        key: "onClosed",
        value: function onClosed() {
            this.clear();
            if (!this.jobInstanceManager) {
                return;
            }
            this.jobInstanceManager.terminate();
        }
    }, {
        key: "onJobSelected",
        value: function onJobSelected(jobConfig) {

            this.clearWarnings();
            this.selectedJobConfig = jobConfig;
            if (!jobConfig) {
                return;
            }
            this.jobSelect.node().value = jobConfig.jobName;
            var jobName = this.selectedJobConfig.jobName;
            this.job = this.computationsManager.getJobByName(jobName);

            var jobParamsValues = this.jobNameToParamValues[jobName] || {};

            this.setJobParamsValues(jobParamsValues);
        }
    }, {
        key: "refreshSelectedJobConfig",
        value: function refreshSelectedJobConfig() {
            var _this2 = this;

            if (this.selectedJobConfig) {
                this.selectedJobConfig = _sdUtils.Utils.find(this.jobConfigurations, function (c) {
                    return c.jobName === _this2.selectedJobConfig.jobName;
                });
            }
        }
    }, {
        key: "setJobParamsValues",
        value: function setJobParamsValues(jobParamsValues) {
            var deleteId = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

            if (!this.job) {
                return;
            }
            this.refreshSelectedJobConfig();

            if (deleteId) {
                delete jobParamsValues.id;
            }
            this.jobParameters = this.job.createJobParameters(jobParamsValues);

            this.jobNameToParamValues[this.job.name] = this.jobParameters.values;

            this.jobParametersBuilder.setJobParameters(this.job.name, this.jobParameters, this.selectedJobConfig.customParamsConfig);
        }
    }, {
        key: "onJobParametersChanged",
        value: function onJobParametersChanged() {
            this.debouncedCheckWarnings();
        }
    }, {
        key: "getGlobalVariableNames",
        value: function getGlobalVariableNames() {
            return this.app.dataModel.getGlobalVariableNames(true);
        }
    }, {
        key: "initJobConfigurations",
        value: function initJobConfigurations() {
            this.jobConfigurations.length = 0;
            var ExpressionEngine = this.app.expressionEngine.constructor;
            var customVariablesValidator = function customVariablesValidator(values) {
                var isValidArray = [];

                var names = [];
                values.forEach(function (v, i) {
                    var valid = names.indexOf(v.name) < 0;
                    names.push(v.name);
                    isValidArray.push(valid);
                });

                return isValidArray;
            };

            this.jobConfigurations.push({
                jobName: 'sensitivity-analysis',
                customParamsConfig: {
                    'id': {
                        // value: undefined, //leave default,
                        hidden: true
                    },
                    'failOnInvalidTree': {
                        value: true,
                        hidden: true
                    },
                    'ruleName': {
                        value: this.computationsManager.getCurrentRule().name,
                        hidden: true
                    },
                    variables: {
                        name: {
                            options: this.getGlobalVariableNames()
                        },
                        _derivedValues: [{
                            name: "step",
                            value: function value(variable) {
                                if (variable.max == undefined || variable.max == null) {
                                    return "";
                                }
                                if (variable.min == undefined || variable.min == null) {
                                    return "";
                                }
                                if (variable.length == undefined || variable.length == null || variable.length < 2) {
                                    return "";
                                }
                                if (variable.min > variable.max) {
                                    return "";
                                }

                                try {
                                    return ExpressionEngine.toFloat(ExpressionEngine.divide(ExpressionEngine.subtract(variable.max, variable.min), variable.length - 1));
                                } catch (e) {
                                    return "";
                                }
                            }
                        }],
                        customValidator: customVariablesValidator

                    }
                },
                warnings: [{
                    name: 'largeScenariosNumber',
                    data: {
                        number: 10000,
                        numberFormatted: "10,000"
                    },
                    check: function check(jobParameters) {
                        // called with this set to warning config object
                        var combinations = jobParameters.values.variables.map(function (v) {
                            return v.length;
                        }).reduce(function (a, b) {
                            return a * (b || 1);
                        }, 1);
                        return combinations > this.data.number;
                    }
                }, {
                    name: 'largeParametersNumber',
                    data: {
                        number: 2
                    },
                    check: function check(jobParameters) {
                        // called with this set to warning config object
                        return jobParameters.values.variables.length > this.data.number;
                    }
                }]
            });
            /*this.jobConfigurations.push({
             jobName: 'tornado-diagram',
             customParamsConfig: {
             'id': {
             hidden: true
             },
             'ruleName': {
             value: this.computationsManager.getCurrentRule().name,
             hidden: true
             }
             }
             });*/

            this.jobConfigurations.push({
                jobName: 'probabilistic-sensitivity-analysis',
                customParamsConfig: {
                    'id': {
                        hidden: true
                    },
                    'failOnInvalidTree': {
                        value: true,
                        hidden: true
                    },
                    'ruleName': {
                        value: this.computationsManager.getCurrentRule().name,
                        hidden: true
                    },
                    variables: {
                        name: {
                            options: this.getGlobalVariableNames()
                        },
                        formula: {
                            options: ExpressionEngine.randomMenuList,
                            optionsAutocomplete: true
                        },
                        customValidator: customVariablesValidator
                    }
                },
                warnings: [{
                    name: 'largeScenariosNumber',
                    data: {
                        number: 10000,
                        numberFormatted: "10,000"
                    },
                    check: function check(jobParameters) {
                        // called with this set to warning config object
                        return jobParameters.values.numberOfRuns > this.data.number;
                    }
                }]
            });
        }
    }, {
        key: "checkWarnings",
        value: function checkWarnings() {
            var _this3 = this;

            this.clearWarnings();
            if (!this.selectedJobConfig.warnings) {
                return;
            }

            this.selectedJobConfig.warnings.forEach(function (warnConf) {
                if (warnConf.check.call(warnConf, _this3.jobParameters)) {
                    _this3.addWarning(warnConf);
                }
            });
        }
    }, {
        key: "clearWarnings",
        value: function clearWarnings() {
            this.container.select(".sd-sensitivity-analysis-warnings").selectAll("*").remove();
        }
    }, {
        key: "addWarning",
        value: function addWarning(warnConf) {
            var msg = _i18n.i18n.t("job." + this.job.name + ".warnings." + warnConf.name, warnConf.data);

            var msgHTML = _templates.Templates.get("warningMessage", {
                message: msg
            });
            this.container.select(".sd-sensitivity-analysis-warnings").appendSelector("div.sd-sensitivity-analysis-warning").html(msgHTML);
        }
    }, {
        key: "initJobSelect",
        value: function initJobSelect() {
            var self = this;
            this.jobSelect = this.container.select(".sd-job-select-input-group").html(_templates.Templates.get("selectInputGroup", {
                id: _sdUtils.Utils.guid(),
                label: null,
                name: "sd-job-select",
                options: this.jobConfigurations.map(function (c) {
                    return {
                        label: _i18n.i18n.t("job." + c.jobName + ".name"),
                        value: c.jobName
                    };
                })
            })).select("select").on('change input', function (d) {
                var _this4 = this;

                self.onJobSelected(_sdUtils.Utils.find(self.jobConfigurations, function (c) {
                    return c.jobName === _this4.value;
                }));
            });
        }
    }, {
        key: "initResultTable",
        value: function initResultTable(result) {
            var _this5 = this;

            var config = {
                onRowSelected: function onRowSelected(rows, indexes, e) {
                    return _this5.onResultRowSelected(rows, indexes, e);
                },
                className: "sd-" + this.job.name
            };
            if (this.resultTable) {
                this.resultTable.clear();
                this.resultTable.setClassName("sd-" + this.job.name);
                this.resultTable.hide();
            }

            if (this.job.name == "sensitivity-analysis") {
                this.resultTable = new _sensitivityAnalysisResultTable.SensitivityAnalysisJobResultTable(this.jobResultsContainer.select(".sd-job-result-table-container"), config);
                this.resultTable.setData(result, this.jobParameters, this.job);
                this.resultTable.show();
            } else if (this.job.name == "probabilistic-sensitivity-analysis") {
                this.resultTable = new _probabilisticSensitivityAnalysisResultTable.ProbabilisticSensitivityAnalysisJobResultTable(this.jobResultsContainer.select(".sd-job-result-table-container"), config, function (v) {
                    return _this5.payoffNumberFormat.format(v);
                }, function (v) {
                    return _this5.app.probabilityNumberFormat.format(v);
                });
                this.resultTable.setData(result, this.jobParameters, this.job);
                this.resultTable.show();
            }
        }
    }, {
        key: "disableActionButtonsAndShowLoadingIndicator",
        value: function disableActionButtonsAndShowLoadingIndicator() {
            var disable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;

            if (disable) {
                _loadingIndicator.LoadingIndicator.show();
            } else {
                _loadingIndicator.LoadingIndicator.hide();
            }
            this.container.select('.sd-sensitivity-analysis-action-buttons').selectAll('button').attr('disabled', disable ? 'disabled' : undefined);
        }
    }, {
        key: "initButtons",
        value: function initButtons() {
            var _this6 = this;

            this.runJobButton = this.container.select(".sd-run-job-button").on('click', function () {
                if (!_this6.jobParametersBuilder.validate()) {
                    return;
                }
                _this6.disableActionButtonsAndShowLoadingIndicator();
                _this6.checkWarnings();

                _this6.computationsManager.runJobWithInstanceManager(_this6.job.name, _this6.jobParameters.values, {
                    onJobStarted: _this6.onJobStarted,
                    onJobCompleted: _this6.onJobCompleted,
                    onJobFailed: _this6.onJobFailed,
                    onJobStopped: _this6.onJobStopped,
                    onJobTerminated: _this6.onJobTerminated,
                    onProgress: _this6.onProgress,
                    callbacksThisArg: _this6
                }).then(function (jobInstanceManager) {
                    _this6.jobInstanceManager = jobInstanceManager;
                }).catch(function (e) {
                    _sdUtils.log.error(e);
                }).then(function () {
                    _this6.disableActionButtonsAndShowLoadingIndicator(false);
                });
            });

            this.resumeJobButton = this.container.select(".sd-resume-job-button").on('click', function () {
                if (!_this6.jobInstanceManager) {
                    return;
                }
                _this6.disableActionButtonsAndShowLoadingIndicator();
                _this6.jobInstanceManager.resume();
            });

            this.stopJobButton = this.container.select(".sd-stop-job-button").on('click', function () {
                if (!_this6.jobInstanceManager) {
                    return;
                }
                _this6.disableActionButtonsAndShowLoadingIndicator();
                _this6.jobInstanceManager.stop();
            });

            this.terminateJobButton = this.container.select(".sd-terminate-job-button").on('click', function () {
                if (!_this6.jobInstanceManager) {
                    return;
                }
                _this6.terminateJob();
            });

            this.backButton = this.container.select(".sd-back-button ").on('click', function () {
                if (_this6.jobInstanceManager) {
                    _this6.jobInstanceManager.terminate();
                }
            });

            this.downloadCsvButtons = this.container.select(".sd-download-csv-button ").on('click', function () {
                _this6.downloadCSV();
            });

            this.clearButton = this.container.select(".sd-clear-button ").on('click', function () {
                _this6.clear(true);
            });
        }
    }, {
        key: "loadSavedParamValues",
        value: function loadSavedParamValues(jobNameToParamValues) {
            this.jobNameToParamValues = jobNameToParamValues;
            this.selectedJobConfig = null;
            this.jobParameters = null;
        }
    }, {
        key: "clear",
        value: function clear() {
            var clearParams = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

            this.clearResults();
            this.clearWarnings();
            this.setProgress(0);
            this.markAsError(false);

            if (!this.selectedJobConfig) {
                this.onJobSelected(this.jobConfigurations[0]);
            }

            if (this.job) {
                if (clearParams) {
                    this.jobNameToParamValues[this.job.name] = {};
                    this.setJobParamsValues({});
                } else {
                    this.jobParameters.values.ruleName = this.computationsManager.getCurrentRule().name;
                    this.setJobParamsValues(this.jobParameters.values);
                }
            }

            _appUtils.AppUtils.show(this.jobConfigurationContainer);
            _appUtils.AppUtils.show(this.runJobButton);
            _appUtils.AppUtils.show(this.clearButton);

            _appUtils.AppUtils.hide(this.resumeJobButton);
            _appUtils.AppUtils.hide(this.progressBarContainer);
            _appUtils.AppUtils.hide(this.stopJobButton);
            _appUtils.AppUtils.hide(this.downloadCsvButtons);
            _appUtils.AppUtils.hide(this.terminateJobButton);
            _appUtils.AppUtils.hide(this.jobResultsContainer);
            _appUtils.AppUtils.hide(this.backButton);
            this.disableActionButtonsAndShowLoadingIndicator(false);
        }
    }, {
        key: "clearResults",
        value: function clearResults() {
            if (this.resultTable) {
                this.resultTable.clear();
                this.resultTable.hide();
            }
        }
    }, {
        key: "onJobStarted",
        value: function onJobStarted() {
            _appUtils.AppUtils.hide(this.jobConfigurationContainer);
            _appUtils.AppUtils.hide(this.runJobButton);
            _appUtils.AppUtils.hide(this.resumeJobButton);
            _appUtils.AppUtils.hide(this.backButton);
            _appUtils.AppUtils.hide(this.clearButton);
            _appUtils.AppUtils.hide(this.downloadCsvButtons);

            _appUtils.AppUtils.show(this.progressBarContainer);
            _appUtils.AppUtils.show(this.stopJobButton);
            _appUtils.AppUtils.show(this.terminateJobButton);

            this.disableActionButtonsAndShowLoadingIndicator(false);
            this.onProgress(this.jobInstanceManager ? this.jobInstanceManager.progress : null);
        }
    }, {
        key: "onJobCompleted",
        value: function onJobCompleted(result) {
            _appUtils.AppUtils.show(this.jobResultsContainer);
            _appUtils.AppUtils.show(this.backButton);
            _appUtils.AppUtils.show(this.downloadCsvButtons);

            _appUtils.AppUtils.hide(this.progressBarContainer);
            _appUtils.AppUtils.hide(this.stopJobButton);
            _appUtils.AppUtils.hide(this.terminateJobButton);
            _appUtils.AppUtils.hide(this.clearButton);

            this.disableActionButtonsAndShowLoadingIndicator(false);
            this.displayResult(result);
        }
    }, {
        key: "displayResult",
        value: function displayResult(result) {
            _sdUtils.log.debug(result);
            this.result = result;
            this.initResultTable(result);
        }
    }, {
        key: "terminateJob",
        value: function terminateJob() {
            this.disableActionButtonsAndShowLoadingIndicator();
            this.jobInstanceManager.terminate();
        }
    }, {
        key: "onJobFailed",
        value: function onJobFailed(errors) {
            _appUtils.AppUtils.hide(this.stopJobButton);
            _appUtils.AppUtils.hide(this.backButton);
            _appUtils.AppUtils.hide(this.downloadCsvButtons);
            _appUtils.AppUtils.hide(this.clearButton);
            this.disableActionButtonsAndShowLoadingIndicator(false);
            this.markAsError();
            var self = this;
            setTimeout(function () {
                var errorMessage = "";
                errors.forEach(function (e, i) {
                    if (i) {
                        errorMessage += "\n\n";
                    }

                    var msgKeyBase = "job." + self.job.name + ".errors.";
                    var msgKey = msgKeyBase + e.message;
                    var msg = _i18n.i18n.t(msgKey, e.data);
                    if (msg === msgKey) {
                        msg = _i18n.i18n.t("job.errors.generic", e);
                    }

                    errorMessage += msg;
                    if (e.data && e.data.variables) {
                        _sdUtils.Utils.forOwn(e.data.variables, function (value, key) {
                            errorMessage += "\n";
                            errorMessage += key + " = " + value;
                        });
                    }
                });

                alert(errorMessage);
                self.terminateJob();
            }, 10);
        }
    }, {
        key: "markAsError",
        value: function markAsError() {
            var error = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;

            this.container.classed('sd-job-error', error);
        }
    }, {
        key: "onJobStopped",
        value: function onJobStopped() {
            _appUtils.AppUtils.hide(this.stopJobButton);
            _appUtils.AppUtils.show(this.resumeJobButton);
            this.disableActionButtonsAndShowLoadingIndicator(false);
        }
    }, {
        key: "onJobTerminated",
        value: function onJobTerminated() {
            this.clear();
        }
    }, {
        key: "onProgress",
        value: function onProgress(progress) {
            this.setProgress(progress);
        }
    }, {
        key: "setProgress",
        value: function setProgress(progress) {
            var percents = 0;
            var value = "0%";
            if (progress) {
                value = progress.current + " / " + progress.total;
                percents = progress.current * 100 / progress.total;
            }

            this.progressBar.style("width", percents + "%");
            this.progressBar.html(value);
        }
    }, {
        key: "onResultRowSelected",
        value: function onResultRowSelected(rows, indexes, event) {
            var _this7 = this;

            if (!rows.length) {
                return;
            }

            var policyIndexes = rows.map(function (r) {
                return r.policyIndex;
            }).filter(function (value, index, self) {
                return self.indexOf(value) === index;
            });

            if (policyIndexes.length > 1) {
                _tooltip.Tooltip.show(_i18n.i18n.t('jobResultTable.tooltip.multiplePoliciesInCell', { number: policyIndexes.length }), 5, 28, event, 2000);
                return;
            }

            var policy = this.result.policies[policyIndexes[0]];
            var title = _policy.Policy.toPolicyString(policy, false);

            if (rows.length == 1) {

                var row = rows[0];
                if (row.variables) {
                    title = '';
                    this.result.variableNames.forEach(function (v, i) {
                        if (i) {
                            title += "; ";
                        }
                        title += v + " = " + row.variables[i];
                    });
                }
            }

            this.app.showPolicyPreview(title, policy, function () {
                _this7.resultTable.clearSelection();
            });
        }
    }, {
        key: "downloadCSV",
        value: function downloadCSV() {
            _exporter.Exporter.saveAsCSV(this.getRows());
        }
    }, {
        key: "getRows",
        value: function getRows() {
            var params = _sdUtils.Utils.cloneDeep(this.jobParameters.values);
            params.extendedPolicyDescription = false;
            return this.job.jobResultToCsvRows(this.result, this.job.createJobParameters(params));
        }
    }]);

    return SensitivityAnalysisDialog;
}(_dialog.Dialog);

},{"./app-utils":70,"./dialog":76,"./exporter":77,"./i18n/i18n":82,"./jobs/job-parameters-builder":86,"./jobs/probabilistic-sensitivity-analysis-result-table":88,"./jobs/sensitivity-analysis-result-table":89,"./loading-indicator":90,"./templates":95,"./tooltip":124,"sd-computations/src/policies/policy":141,"sd-utils":"sd-utils"}],93:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.FormGroup = exports.SettingsDialog = undefined;

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _d = require('./d3');

var d3 = _interopRequireWildcard(_d);

var _dialog = require('./dialog');

var _i18n = require('./i18n/i18n');

var _templates = require('./templates');

var _sdUtils = require('sd-utils');

var _appUtils = require('./app-utils');

function _interopRequireWildcard(obj) {
    if (obj && obj.__esModule) {
        return obj;
    } else {
        var newObj = {};if (obj != null) {
            for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
            }
        }newObj.default = obj;return newObj;
    }
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

function _possibleConstructorReturn(self, call) {
    if (!self) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }return call && ((typeof call === "undefined" ? "undefined" : _typeof(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === "undefined" ? "undefined" : _typeof(superClass)));
    }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var SettingsDialog = exports.SettingsDialog = function (_Dialog) {
    _inherits(SettingsDialog, _Dialog);

    function SettingsDialog(app) {
        _classCallCheck(this, SettingsDialog);

        var _this = _possibleConstructorReturn(this, (SettingsDialog.__proto__ || Object.getPrototypeOf(SettingsDialog)).call(this, app.container.select('#sd-settings-dialog'), app));

        _this.formGroups = [];

        var group = new FormGroup('general', function () {
            app.treeDesigner.updateCustomStyles();
            app.updateNumberFormats();
        });
        group.addField('fontFamily', 'text', app.treeDesigner, 'config.fontFamily').addField('fontSize', 'text', app.treeDesigner, 'config.fontSize').addSelectField('fontWeight', app.treeDesigner, 'config.fontWeight', SettingsDialog.fontWeightOptions).addSelectField('fontStyle', app.treeDesigner, 'config.fontStyle', SettingsDialog.fontStyleOptions).addField('numberFormatLocale', 'text', app, 'config.format.locales', { validate: function validate(v) {
                try {
                    new Intl.NumberFormat(v);return true;
                } catch (e) {
                    return false;
                }
            } });
        _this.formGroups.push(group);

        var payoffGroup = new FormGroup('payoff', function () {
            return app.updatePayoffNumberFormat();
        });
        payoffGroup.addSelectField('style', app, 'config.format.payoff.style', ['currency', 'decimal']).addSelectField('currencyDisplay', app, 'config.format.payoff.currencyDisplay', ['symbol', 'code', 'name']).addField('currency', 'text', app, 'config.format.payoff.currency', { validate: function validate(v) {
                try {
                    new Intl.NumberFormat([], { currency: v });return true;
                } catch (e) {
                    return false;
                }
            } }).addField('minimumFractionDigits', 'number', app, 'config.format.payoff.minimumFractionDigits', { validate: function validate(v) {
                try {
                    new Intl.NumberFormat([], { minimumFractionDigits: v, maximumFractionDigits: app.config.format.payoff.maximumFractionDigits });return true;
                } catch (e) {
                    return false;
                }
            } }).addField('maximumFractionDigits', 'number', app, 'config.format.payoff.maximumFractionDigits', { validate: function validate(v) {
                try {
                    new Intl.NumberFormat([], { minimumFractionDigits: app.config.format.payoff.minimumFractionDigits, maximumFractionDigits: v });return true;
                } catch (e) {
                    return false;
                }
            } }).addField('useGrouping', 'checkbox', app, 'config.format.payoff.useGrouping');

        _this.formGroups.push(payoffGroup);

        group = new FormGroup('probability', function () {
            app.updateProbabilityNumberFormat();
            app.treeDesigner.updateCustomStyles().redraw();
        });
        group.addSelectField('style', app, 'config.format.probability.style', ['decimal', 'percent']).addField('minimumFractionDigits', 'number', app, 'config.format.probability.minimumFractionDigits', { validate: function validate(v) {
                try {
                    new Intl.NumberFormat([], { minimumFractionDigits: v, maximumFractionDigits: app.config.format.probability.maximumFractionDigits });return true;
                } catch (e) {
                    return false;
                }
            } }).addField('maximumFractionDigits', 'number', app, 'config.format.probability.maximumFractionDigits', { validate: function validate(v) {
                try {
                    new Intl.NumberFormat([], { minimumFractionDigits: app.config.format.probability.minimumFractionDigits, maximumFractionDigits: v });return true;
                } catch (e) {
                    return false;
                }
            } }).addField('fontSize', 'text', app.treeDesigner, 'config.probability.fontSize').addField('color', 'color', app.treeDesigner, 'config.probability.color');
        _this.formGroups.push(group);

        var nodeGroup = new FormGroup('node', function () {
            return app.treeDesigner.updateCustomStyles().redraw();
        });
        nodeGroup.addField('strokeWidth', 'text', app.treeDesigner, 'config.node.strokeWidth');

        nodeGroup.addGroup('optimal').addField('strokeWidth', 'text', app.treeDesigner, 'config.node.optimal.strokeWidth').addField('stroke', 'color', app.treeDesigner, 'config.node.optimal.stroke');

        nodeGroup.addGroup('label').addField('fontSize', 'text', app.treeDesigner, 'config.node.label.fontSize').addField('color', 'color', app.treeDesigner, 'config.node.label.color');

        nodeGroup.addGroup('payoff').addField('fontSize', 'text', app.treeDesigner, 'config.node.payoff.fontSize').addField('color', 'color', app.treeDesigner, 'config.node.payoff.color').addField('negativeColor', 'color', app.treeDesigner, 'config.node.payoff.negativeColor');

        _this.formGroups.push(nodeGroup);

        nodeGroup.addGroup('decision').addField('fill', 'color', app.treeDesigner, 'config.node.decision.fill').addField('stroke', 'color', app.treeDesigner, 'config.node.decision.stroke').addField('selected.fill', 'color', app.treeDesigner, 'config.node.decision.selected.fill');

        nodeGroup.addGroup('chance').addField('fill', 'color', app.treeDesigner, 'config.node.chance.fill').addField('stroke', 'color', app.treeDesigner, 'config.node.chance.stroke').addField('selected.fill', 'color', app.treeDesigner, 'config.node.chance.selected.fill');

        nodeGroup.addGroup('terminal').addField('fill', 'color', app.treeDesigner, 'config.node.terminal.fill').addField('stroke', 'color', app.treeDesigner, 'config.node.terminal.stroke').addField('selected.fill', 'color', app.treeDesigner, 'config.node.terminal.selected.fill').addGroup('payoff').addField('fontSize', 'text', app.treeDesigner, 'config.node.terminal.payoff.fontSize').addField('color', 'color', app.treeDesigner, 'config.node.terminal.payoff.color').addField('negativeColor', 'color', app.treeDesigner, 'config.node.terminal.payoff.negativeColor');

        var edgeGroup = new FormGroup('edge', function () {
            return app.treeDesigner.updateCustomStyles().redraw();
        }).addField('stroke', 'color', app.treeDesigner, 'config.edge.stroke').addField('strokeWidth', 'text', app.treeDesigner, 'config.edge.strokeWidth');

        edgeGroup.addGroup('optimal').addField('strokeWidth', 'text', app.treeDesigner, 'config.edge.optimal.strokeWidth').addField('stroke', 'color', app.treeDesigner, 'config.edge.optimal.stroke');

        edgeGroup.addGroup('selected').addField('strokeWidth', 'text', app.treeDesigner, 'config.edge.selected.strokeWidth').addField('stroke', 'color', app.treeDesigner, 'config.edge.selected.stroke');

        edgeGroup.addGroup('label').addField('fontSize', 'text', app.treeDesigner, 'config.edge.label.fontSize').addField('color', 'color', app.treeDesigner, 'config.edge.label.color');

        edgeGroup.addGroup('payoff').addField('fontSize', 'text', app.treeDesigner, 'config.edge.payoff.fontSize').addField('color', 'color', app.treeDesigner, 'config.edge.payoff.color').addField('negativeColor', 'color', app.treeDesigner, 'config.edge.payoff.negativeColor');
        _this.formGroups.push(edgeGroup);

        var titleGroup = new FormGroup('diagramTitle', function () {
            return app.treeDesigner.updateCustomStyles().redraw();
        });
        titleGroup.addField('fontSize', 'text', app.treeDesigner, 'config.title.fontSize').addSelectField('fontWeight', app.treeDesigner, 'config.title.fontWeight', SettingsDialog.fontWeightOptions).addSelectField('fontStyle', app.treeDesigner, 'config.title.fontStyle', SettingsDialog.fontStyleOptions).addField('color', 'color', app.treeDesigner, 'config.title.color').addGroup('margin').addField('top', 'number', app.treeDesigner, 'config.title.margin.top').addField('bottom', 'number', app.treeDesigner, 'config.title.margin.bottom');

        titleGroup.addGroup('description').addField('show', 'checkbox', app.treeDesigner, 'config.description.show').addField('fontSize', 'text', app.treeDesigner, 'config.description.fontSize').addSelectField('fontWeight', app.treeDesigner, 'config.description.fontWeight', SettingsDialog.fontWeightOptions).addSelectField('fontStyle', app.treeDesigner, 'config.description.fontStyle', SettingsDialog.fontStyleOptions).addField('color', 'color', app.treeDesigner, 'config.description.color').addField('marginTop', 'number', app.treeDesigner, 'config.description.margin.top');

        _this.formGroups.push(titleGroup);

        var otherGroup = new FormGroup('other', function () {
            return app.treeDesigner.redraw();
        });
        otherGroup.addField('disableAnimations', 'checkbox', app.treeDesigner, 'config.disableAnimations').addField('forceFullEdgeRedraw', 'checkbox', app.treeDesigner, 'config.forceFullEdgeRedraw').addField('hideLabels', 'checkbox', app.treeDesigner, 'config.hideLabels').addField('hidePayoffs', 'checkbox', app.treeDesigner, 'config.hidePayoffs').addField('hideProbabilities', 'checkbox', app.treeDesigner, 'config.hideProbabilities').addField('raw', 'checkbox', app.treeDesigner, 'config.raw');

        _this.formGroups.push(otherGroup);

        _this.initView();

        return _this;
    }

    _createClass(SettingsDialog, [{
        key: 'initFormGroups',
        value: function initFormGroups(container, data) {
            var self = this;
            var temp = {};
            var formGroups = container.selectAll('div.sd-form-group').filter(function (d) {
                return this.parentNode == container.node();
            }).data(data);
            var formGroupsEnter = formGroups.enter().appendSelector('div.sd-form-group').attr('id', function (d) {
                return d.id;
            }).html(function (d) {
                return _templates.Templates.get('settingsDialogFormGroup', d);
            });
            formGroupsEnter.select('.toggle-button').on('click', function (d) {
                var g = container.select('#' + d.id);
                g.classed('sd-extended', !g.classed('sd-extended'));
            });

            var formGroupsMerge = formGroupsEnter.merge(formGroups);
            var inputGroups = formGroupsMerge.select('  .sd-form-group-content > .sd-form-group-inputs').selectAll('div.input-group').data(function (d) {
                return d.fields;
            });

            var inputGroupsEnter = inputGroups.enter().appendSelector('div.input-group').html(function (d) {
                return d.type == 'select' ? _templates.Templates.get('selectInputGroup', d) : _templates.Templates.get('inputGroup', d);
            });

            inputGroupsEnter.merge(inputGroups).select('input, select').on('change input', function (d, i) {
                var value = this.value;
                if (d.type == 'checkbox') {
                    value = this.checked;
                }
                if (d.validator && !d.validator.validate(value)) {
                    d3.select(this).classed('invalid', true);
                    if (d3.event.type == 'change') {
                        this.value = d.valueAccessor.get();
                    }
                    return;
                }
                d3.select(this).classed('invalid', false);

                d.valueAccessor.set(value);
                if (d.valueUpdateCallback) {
                    d.valueUpdateCallback();
                }
                _appUtils.AppUtils.updateInputClass(d3.select(this));
            }).each(function (d, i) {
                var value = d.valueAccessor.get();
                if (d.type == 'checkbox') {
                    this.checked = value;
                } else {
                    this.value = value;
                }
                temp[i] = {};
                temp[i].pristineVal = value;
                if (d.validator && !d.validator.validate(value)) {
                    d3.select(this).classed('invalid', true);
                } else {
                    d3.select(this).classed('invalid', false);
                }
                _appUtils.AppUtils.updateInputClass(d3.select(this));
            });

            formGroupsMerge.each(function (d) {
                self.initFormGroups(d3.select(this).select('.sd-form-group-content > .sd-form-group-child-groups'), d.groups);
            });
        }
    }, {
        key: 'initView',
        value: function initView() {
            var temp = {};
            this.initFormGroups(this.container.select('form#sd-settings-form'), this.formGroups);
        }
    }, {
        key: 'onOpen',
        value: function onOpen() {
            this.initView();
        }
    }]);

    return SettingsDialog;
}(_dialog.Dialog);

SettingsDialog.fontWeightOptions = ['normal', 'bold', 'lighter', 'bolder'];
SettingsDialog.fontStyleOptions = ['normal', 'italic', 'oblique'];

var FormGroup = exports.FormGroup = function () {
    function FormGroup(name, valueUpdateCallback) {
        _classCallCheck(this, FormGroup);

        this.fields = [];
        this.groups = [];

        this.id = 'sd-form-group-' + name.replace(/\./g, '-');
        this.name = name;
        this.valueUpdateCallback = valueUpdateCallback;
    }

    _createClass(FormGroup, [{
        key: 'addSelectField',
        value: function addSelectField(name, config, path, options) {
            this.addField(name, 'select', config, path, null, options);
            return this;
        }
    }, {
        key: 'addField',
        value: function addField(name, type, config, path, validator, options) {
            var fieldId = this.name + "-" + name;
            var label = _i18n.i18n.t("settingsDialog." + this.name + "." + name);
            var configInputField = new ConfigInputField(fieldId, fieldId, type, label, config, path, validator, options);
            configInputField.valueUpdateCallback = this.valueUpdateCallback;
            this.fields.push(configInputField);
            return this;
        }
    }, {
        key: 'addGroup',
        value: function addGroup(name) {
            var groupName = this.name + '.' + name;
            var group = new FormGroup(groupName, this.valueUpdateCallback);
            this.groups.push(group);
            return group;
        }
    }]);

    return FormGroup;
}();

var PathValueAccessor = function () {
    function PathValueAccessor(sourceObject, path) {
        _classCallCheck(this, PathValueAccessor);

        this.sourceObject = sourceObject;
        this.path = path;
    }

    _createClass(PathValueAccessor, [{
        key: 'get',
        value: function get() {
            return _sdUtils.Utils.get(this.sourceObject, this.path);
        }
    }, {
        key: 'set',
        value: function set(v) {
            return _sdUtils.Utils.set(this.sourceObject, this.path, v);
        }
    }]);

    return PathValueAccessor;
}();

var InputField = function InputField(id, name, type, label, valueAccessor, validator, options) {
    _classCallCheck(this, InputField);

    this.name = name;
    this.type = type;
    this.valueAccessor = valueAccessor;
    this.validator = validator;
    this.id = id;
    this.label = label;
    this.options = options;
};

var ConfigInputField = function (_InputField) {
    _inherits(ConfigInputField, _InputField);

    function ConfigInputField(id, name, type, label, sourceObject, path, validator, options) {
        _classCallCheck(this, ConfigInputField);

        return _possibleConstructorReturn(this, (ConfigInputField.__proto__ || Object.getPrototypeOf(ConfigInputField)).call(this, id, name, type, label, new PathValueAccessor(sourceObject, path), validator, options));
    }

    return ConfigInputField;
}(InputField);

},{"./app-utils":70,"./d3":74,"./dialog":76,"./i18n/i18n":82,"./templates":95,"sd-utils":"sd-utils"}],94:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Sidebar = undefined;

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _d = require('./d3');

var d3 = _interopRequireWildcard(_d);

var _i18n = require('./i18n/i18n');

var _sdUtils = require('sd-utils');

var _appUtils = require('./app-utils');

var _sdModel = require('sd-model');

var _payoffInputValidator = require('./validation/payoff-input-validator');

var _probabilityInputValidator = require('./validation/probability-input-validator');

var _templates = require('./templates');

var _tooltip = require('./tooltip');

function _interopRequireWildcard(obj) {
    if (obj && obj.__esModule) {
        return obj;
    } else {
        var newObj = {};if (obj != null) {
            for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
            }
        }newObj.default = obj;return newObj;
    }
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

var Sidebar = exports.Sidebar = function () {
    function Sidebar(container, app) {
        _classCallCheck(this, Sidebar);

        this.dispatch = d3.dispatch("recomputed", "object-updated");

        this.app = app;
        this.container = container;

        this.initLayoutOptions();
        this.initDiagramDetails();
        this.initDefinitions();
        var self = this;

        document.addEventListener('SilverDecisionsRecomputedEvent', function (data) {
            if (data.detail === app) {
                self.dispatch.call("recomputed");
            }
        });

        self.dispatch.on("object-updated", _sdUtils.Utils.debounce(function (object, fieldName) {
            return self.app.onObjectUpdated(object, fieldName);
        }, 350));
    }

    _createClass(Sidebar, [{
        key: 'initLayoutOptions',
        value: function initLayoutOptions() {
            var _this2 = this;

            var self = this;
            this.layoutOptionsContainer = this.container.select('#layout-options');
            this.autoLayoutOptionsGroup = this.layoutOptionsContainer.select('#auto-layout-options');
            this.gridWidth = this.layoutOptionsContainer.select('input#grid-width').on('change', function () {
                self.app.treeDesigner.layout.setGridWidth(parseInt(this.value));
            });

            this.gridHeight = this.layoutOptionsContainer.select('input#grid-height').on('change', function () {
                self.app.treeDesigner.layout.setGridHeight(parseInt(this.value));
            });

            this.nodeSize = this.layoutOptionsContainer.select('input#node-size').on('change', function () {
                self.app.treeDesigner.layout.setNodeSize(parseInt(this.value));
            });

            this.edgeSlantWidthMax = this.layoutOptionsContainer.select('input#edge-slant-width-max').on('change', function () {
                self.app.treeDesigner.layout.setEdgeSlantWidthMax(parseInt(this.value));
            });

            this.marginHorizontal = this.layoutOptionsContainer.select('input#margin-horizontal').on('change', function () {
                var m = {};
                m.left = m.right = parseInt(this.value);
                self.app.treeDesigner.setMargin(m);
            });
            this.marginVertical = this.layoutOptionsContainer.select('input#margin-vertical').on('change', function () {
                var m = {};
                m.top = m.bottom = parseInt(this.value);
                self.app.treeDesigner.setMargin(m);
            });

            self.app.treeDesigner.layout.onAutoLayoutChanged.push(function (layout) {
                return self.updateLayoutOptions();
            });

            this.layoutOptionsContainer.select('.toggle-button').on('click', function () {
                _this2.layoutOptionsContainer.classed('sd-extended', !_this2.layoutOptionsContainer.classed('sd-extended'));
            });

            this.updateLayoutOptions();
        }
    }, {
        key: 'updateLayoutOptions',
        value: function updateLayoutOptions() {
            this.nodeSize.node().value = this.app.treeDesigner.config.layout.nodeSize;
            this.edgeSlantWidthMax.node().value = this.app.treeDesigner.config.layout.edgeSlantWidthMax;
            this.marginHorizontal.node().value = this.app.treeDesigner.config.margin.left;
            this.marginVertical.node().value = this.app.treeDesigner.config.margin.top;
            this.gridWidth.node().value = this.app.treeDesigner.config.layout.gridWidth;
            this.gridHeight.node().value = this.app.treeDesigner.config.layout.gridHeight;
            this.autoLayoutOptionsGroup.classed('visible', !this.app.treeDesigner.layout.isManualLayout());
        }
    }, {
        key: 'initDiagramDetails',
        value: function initDiagramDetails() {
            var _this3 = this;

            var self = this;
            this.diagramDetailsContainer = this.container.select('#diagram-details-box');
            this.diagramDetailsContainer.classed('sd-hidden', !this.app.config.showDetails);

            this.diagramDetailsContainer.select('.toggle-button').on('click', function () {
                _this3.diagramDetailsContainer.classed('sd-extended', !_this3.diagramDetailsContainer.classed('sd-extended'));
                _this3.updateDiagramDetails();
            });

            this.diagramTitle = this.diagramDetailsContainer.select('input#diagram-title').on('change', function () {
                self.app.setDiagramTitle(this.value);
                _appUtils.AppUtils.updateInputClass(d3.select(this));
            });

            this.diagramDescription = this.diagramDetailsContainer.select('textarea#diagram-description').on('change', function () {
                self.app.setDiagramDescription(this.value);
                _appUtils.AppUtils.updateInputClass(d3.select(this));
            });
            _appUtils.AppUtils.elasticTextarea(this.diagramDescription);

            this.updateDiagramDetails();
        }
    }, {
        key: 'initDefinitions',
        value: function initDefinitions() {
            var _this4 = this;

            var self = this;
            this.definitionsContainer = this.container.select('#sd-sidebar-definitions');
            this.definitionsContainer.classed('sd-hidden', !this.app.config.showDefinitions);
            this.onDefinitionsCodeChanged = null;
            this.definitionsContainer.select('.toggle-button').on('click', function () {
                _this4.definitionsContainer.classed('sd-extended', !_this4.definitionsContainer.classed('sd-extended'));
                _appUtils.AppUtils.updateInputClass(_this4.definitionsCode);
                _appUtils.AppUtils.autoResizeTextarea(_this4.definitionsCode.node());
            });

            this.definitionsCode = this.definitionsContainer.select('textarea#sd-sidebar-definitions-code').on('change', function () {
                if (self.onDefinitionsCodeChanged) {
                    self.onDefinitionsCodeChanged(this.value);
                }
                _appUtils.AppUtils.updateInputClass(d3.select(this));
            });
            _tooltip.Tooltip.attach(this.definitionsCode, function (d) {
                return self.definitionsCode.attr('data-error-msg');
            }, 15, 50);

            this.definitionsEvaluatedValuesContainer = this.container.select("#sd-sidebar-definitions-evaluated-values");

            this.definitionsContainer.select('#sd-sidebar-definitions-open-dialog-button').on('click', function () {
                _this4.app.openDefinitionsDialog();
            });

            this.definitionsContainer.select('#sd-sidebar-definitions-recalculate-button').on('click', function () {
                _this4.app.recompute();
            });

            _appUtils.AppUtils.elasticTextarea(this.definitionsCode);
        }
    }, {
        key: 'updateDefinitions',
        value: function updateDefinitions(definitionsSourceObject, readOnly, changeCallback) {
            this.definitionsContainer.classed('sd-read-only', readOnly);
            this.onDefinitionsCodeChanged = changeCallback;
            this.definitionsCode.node().value = definitionsSourceObject.code;
            this.definitionsCode.classed('invalid', !!definitionsSourceObject.$codeError);
            this.definitionsCode.attr('data-error-msg', definitionsSourceObject.$codeError);
            var html = _templates.Templates.get('evaluatedVariables', { scopeVariables: _sdUtils.Utils.getVariablesAsList(definitionsSourceObject.expressionScope) });
            this.definitionsEvaluatedValuesContainer.html(html);
            _appUtils.AppUtils.updateInputClass(this.definitionsCode);
            _appUtils.AppUtils.autoResizeTextarea(this.definitionsCode.node());
        }
    }, {
        key: 'updateDiagramDetails',
        value: function updateDiagramDetails() {
            this.diagramTitle.node().value = this.app.config.title;
            _appUtils.AppUtils.updateInputClass(this.diagramTitle);
            this.diagramDescription.node().value = this.app.config.description;
            _appUtils.AppUtils.updateInputClass(this.diagramDescription);
            _appUtils.AppUtils.autoResizeTextarea(this.diagramDescription.node());
        }
    }, {
        key: 'displayObjectProperties',
        value: function displayObjectProperties(object) {
            this.updateObjectPropertiesView(object);
        }
    }, {
        key: 'hideObjectProperties',
        value: function hideObjectProperties() {

            this.container.select('#object-properties').classed('visible', false);
            this.container.selectAll('div.child-object').remove();
        }
    }, {
        key: 'updateObjectPropertiesView',
        value: function updateObjectPropertiesView(object) {
            this.dispatch.on(".recomputed", null); //remove all callbacks for recomputed event
            if (!object) {
                this.hideObjectProperties();
                return;
            }

            var objectProps = this.objectProps = this.container.select('#object-properties').classed('visible', true);
            var headerText = Sidebar.getHeaderTextForObject(object);
            objectProps.select('.header').html(headerText);

            var fieldList = this.getFieldListForObject(object);
            this.updateObjectFields(object, fieldList, objectProps.select('.content .main-properties'));

            this.updateObjectChildrenProperties(object);
        }
    }, {
        key: 'updateObjectChildrenProperties',
        value: function updateObjectChildrenProperties(object) {
            var self = this;
            var childObjects = this.getChildObjectList(object);
            var objectType = Sidebar.getObjectType(object);

            var childPropsSelector = this.objectProps.select('.content .children-properties');

            childPropsSelector.classed('visible', childObjects.length);

            childPropsSelector.select('.children-properties-header').text(_i18n.i18n.t('objectProperties.childrenProperties.' + objectType + '.header'));
            var childrenContent = childPropsSelector.select('.children-properties-content');
            var children = childrenContent.selectAll('div.child-object').data(childObjects, function (d, i) {
                return d.$id || i;
            });
            var childrenEnter = children.enter().appendSelector('div.child-object');
            var childrenMerge = childrenEnter.merge(children);

            childrenMerge.each(updateChildObjectProperties);

            children.exit().remove();

            function updateChildObjectProperties(child, i) {
                var container = d3.select(this);
                container.selectOrAppend('div.child-header').text(_i18n.i18n.t('objectProperties.childrenProperties.' + objectType + '.child.header', { number: i + 1 }));

                var fieldList = self.getFieldListForObject(child);
                self.updateObjectFields(child, fieldList, container.selectOrAppend('div.field-list'));
            }
        }
    }, {
        key: 'getChildObjectList',
        value: function getChildObjectList(object) {
            if (object instanceof _sdModel.domain.Node) {
                return object.childEdges.sort(function (a, b) {
                    return a.childNode.location.y - b.childNode.location.y;
                });
            }
            if (object instanceof _sdModel.domain.Edge) {
                return [];
            }
            return [];
        }
    }, {
        key: 'getFieldListForObject',
        value: function getFieldListForObject(object) {
            var self = this;
            if (object instanceof _sdModel.domain.Node) {
                return [{
                    name: 'name',
                    type: 'textarea'
                }];
            }
            if (object instanceof _sdModel.domain.Edge) {
                var list = [{
                    name: 'name',
                    type: 'textarea'
                }, {
                    name: 'payoff',
                    type: 'text',
                    validator: new _payoffInputValidator.PayoffInputValidator(self.app.expressionEngine)
                }];
                if (object.parentNode instanceof _sdModel.domain.ChanceNode) {
                    list.push({
                        name: 'probability',
                        type: 'text',
                        validator: new _probabilityInputValidator.ProbabilityInputValidator(self.app.expressionEngine)
                    });
                }
                return list;
            }
            if (object instanceof _sdModel.domain.Text) {
                return [{
                    name: 'value',
                    type: 'textarea'
                }];
            }

            return [];
        }
    }, {
        key: 'updateObjectFields',
        value: function updateObjectFields(object, fieldList, container) {
            var self = this;

            var objectType = object instanceof _sdModel.domain.Node ? 'node' : object instanceof _sdModel.domain.Edge ? 'edge' : 'text';
            var getFieldId = function getFieldId(d) {
                return 'object-' + object.$id + '-field-' + d.name;
            };

            var fields = container.selectAll('div.object-field').data(fieldList);
            var temp = {};
            var fieldsEnter = fields.enter().appendSelector('div.object-field');
            var fieldsMerge = fieldsEnter.merge(fields);

            fieldsMerge.each(function (d, i) {
                var fieldSelection = d3.select(this);
                fieldSelection.html("");

                var input;
                if (d.type == 'textarea') {
                    input = fieldSelection.append('textarea').attr('rows', 1);
                } else {
                    input = fieldSelection.append('input');
                }
                input.classed('sd-input', true);

                fieldSelection.appendSelector('span.bar');
                fieldSelection.append('label');
                fieldSelection.classed('input-group', true);
            });

            fieldsMerge.select('label').attr('for', getFieldId).html(function (d) {
                return _i18n.i18n.t(objectType + '.' + d.name);
            });
            fieldsMerge.select('.sd-input').attr('type', function (d) {
                return d.type == 'textarea' ? undefined : d.type;
            }).attr('name', function (d) {
                return d.name;
            }).attr('id', getFieldId).on('change keyup', function (d, i) {
                var prevValue = object[d.name];
                var isValid = !d.validator || d.validator.validate(this.value, object, d.name);
                // console.log(d.name, this.value, isValid);
                object.setSyntaxValidity(d.name, isValid);

                d3.select(this).classed('invalid', !object.isFieldValid(d.name));

                if (d3.event.type == 'change' && temp[i].pristineVal != this.value) {
                    // object[d.name] = temp[i].pristineVal;
                    self.app.dataModel.saveStateFromSnapshot(temp[i].pristineStateSnapshot);
                    if (d.onChange) {
                        d.onChange(object, this.value, temp[i].pristineVal);
                    }
                }

                if (prevValue + "" == this.value) {
                    return;
                }

                _appUtils.AppUtils.updateInputClass(d3.select(this));
                if (d.customOnInput) {
                    d.customOnInput(object, this.value, temp[i].pristineVal);
                } else {
                    object[d.name] = this.value;
                    self.dispatch.call("object-updated", self, object, d.name);
                }
            }).on('focus', function (d, i) {
                temp[i].pristineVal = this.value;
                temp[i].pristineStateSnapshot = self.app.dataModel.createStateSnapshot();
            }).each(function (d, i) {
                this.value = object[d.name];
                temp[i] = {};
                if (d.validator && !d.validator.validate(this.value, object, d.name)) {
                    d3.select(this).classed('invalid', true);
                    object.setSyntaxValidity(d.name, false);
                } else {
                    object.setSyntaxValidity(d.name, true);
                }

                var _this = this;
                var checkFieldStatus = function checkFieldStatus() {
                    d3.select(_this).classed('invalid', !object.isFieldValid(d.name));
                };
                checkFieldStatus();

                self.dispatch.on("recomputed." + object.$id + "." + d.name, checkFieldStatus);

                _appUtils.AppUtils.updateInputClass(d3.select(this));
                if (d.type == 'textarea') {
                    _appUtils.AppUtils.elasticTextarea(d3.select(this));
                    _appUtils.AppUtils.autoResizeTextarea(d3.select(this).node());
                }
            });

            fields.exit().remove();
        }
    }], [{
        key: 'getObjectType',
        value: function getObjectType(object) {
            if (object instanceof _sdModel.domain.Node) {
                return 'node';
            }
            if (object instanceof _sdModel.domain.Edge) {
                return 'edge';
            }
            if (object instanceof _sdModel.domain.Text) {
                return 'text';
            }
            return '';
        }
    }, {
        key: 'getHeaderTextForObject',
        value: function getHeaderTextForObject(object) {
            if (object instanceof _sdModel.domain.Node) {
                return _i18n.i18n.t('objectProperties.header.node.' + object.type);
            }
            if (object instanceof _sdModel.domain.Edge) {
                return _i18n.i18n.t('objectProperties.header.edge');
            }
            if (object instanceof _sdModel.domain.Text) {
                return _i18n.i18n.t('objectProperties.header.text');
            }
            return '';
        }
    }]);

    return Sidebar;
}();

},{"./app-utils":70,"./d3":74,"./i18n/i18n":82,"./templates":95,"./tooltip":124,"./validation/payoff-input-validator":136,"./validation/probability-input-validator":137,"sd-model":"sd-model","sd-utils":"sd-utils"}],95:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Templates = undefined;

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _sdUtils = require('sd-utils');

var _i18n = require('./i18n/i18n');

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

var Templates = exports.Templates = function () {
    function Templates() {
        _classCallCheck(this, Templates);
    }

    _createClass(Templates, null, [{
        key: 'get',
        value: function get(templateName, variables) {
            var compiled = _sdUtils.Utils.template(Templates[templateName], { 'imports': { 'i18n': _i18n.i18n, 'Templates': Templates, 'include': function include(n, v) {
                        return Templates.get(n, v);
                    } } });
            if (variables) {
                variables.variables = variables;
            } else {
                variables = { variables: {} };
            }
            return compiled(variables);
        }

        //TODO automate

    }, {
        key: 'styleRule',
        value: function styleRule(selector, props) {
            var s = selector + '{';
            props.forEach(function (p) {
                return s += Templates.styleProp(p[0], p[1]);
            });
            s += '} ';
            return s;
        }
    }, {
        key: 'styleProp',
        value: function styleProp(styleName, variableName) {
            return styleName + ': <%= ' + variableName + ' %>; ';
        }
    }, {
        key: 'nodeSelector',
        value: function nodeSelector(type, clazz) {
            var s = Templates.treeDesignerSelector + ' .node';
            if (type) {
                s += '.' + type + '-node';
            }
            if (clazz) {
                s += '.' + clazz;
            }
            return s;
        }
    }, {
        key: 'edgeSelector',
        value: function edgeSelector(clazz) {
            var s = Templates.treeDesignerSelector + ' .edge';
            if (clazz) {
                s += '.' + clazz;
            }
            return s;
        }
    }]);

    return Templates;
}();

Templates.about_de = require('./templates/about/de.html');
Templates.about_en = require('./templates/about/en.html');
Templates.about_fr = require('./templates/about/fr.html');
Templates.about_it = require('./templates/about/it.html');
Templates.about_pl = require('./templates/about/pl.html');
Templates.toolbar = require('./templates/toolbar.html');
Templates.layoutOptions = require('./templates/sidebar/layout_options.html');
Templates.objectProperties = require('./templates/sidebar/object_properties.html');
Templates.diagramDetailsBox = require('./templates/sidebar/diagram_details_box.html');
Templates.evaluatedVariables = require('./templates/evaluated_variables.html');
Templates.definitions = require('./templates/sidebar/definitions.html');
Templates.sidebar = require('./templates/sidebar/sidebar.html');
Templates.settingsDialog = require('./templates/settings_dialog.html');
Templates.settingsDialogFormGroup = require('./templates/settings_dialog_form_group.html');
Templates.inputGroup = require('./templates/input_group.html');
Templates.selectInputGroup = require('./templates/select_input_group.html');
Templates.help = require('./templates/help.html');
Templates.aboutDialog = require('./templates/about_dialog.html');
Templates.growl = require('./templates/growl_message.html');
Templates.definitionsDialog = require('./templates/definitions_dialog.html');
Templates.sensitivityAnalysisDialog = require('./templates/sensitivity_analysis_dialog.html');
Templates.jobParametersBuilder = require('./templates/jobs/job_parameters_builder.html');
Templates.jobParameter = require('./templates/jobs/job_parameter.html');
Templates.loadingIndicator = require('./templates/loading_indicator.html');
Templates.fullscreenPopup = require('./templates/fullscreen_popup.html');
Templates.warningMessage = require('./templates/warning_message.html');
Templates.main = require('./templates/main.html');
Templates.treeDesignerSelector = '#silver-decisions svg.tree-designer';
Templates.treeDesignerStyles = Templates.styleRule(Templates.treeDesignerSelector, [['font-size', 'fontSize'], ['font-family', 'fontFamily'], ['font-weight', 'fontWeight'], ['font-style', 'fontStyle']]) +
//   node
Templates.styleRule(Templates.nodeSelector() + ' path', [['fill', 'node.fill'], ['stroke-width', 'node.strokeWidth']]) + Templates.styleRule(Templates.nodeSelector('decision', 'optimal') + ' path, ' + Templates.nodeSelector('chance', 'optimal') + ' path,' + Templates.nodeSelector('terminal', 'optimal') + ' path', [['stroke', 'node.optimal.stroke'], ['stroke-width', 'node.optimal.strokeWidth']]) + Templates.styleRule(Templates.nodeSelector() + ' .label', [['font-size', 'node.label.fontSize'], ['fill', 'node.label.color']]) + Templates.styleRule(Templates.nodeSelector() + ' .payoff', [['font-size', 'node.payoff.fontSize'], ['fill', 'node.payoff.color']]) + Templates.styleRule(Templates.nodeSelector() + ' .payoff.negative', [['fill', 'node.payoff.negativeColor']]) +

//    decision node
Templates.styleRule(Templates.nodeSelector('decision') + ' path', [['fill', 'node.decision.fill'], ['stroke', 'node.decision.stroke']]) + Templates.styleRule(Templates.nodeSelector('decision', 'selected') + ' path', [['fill', 'node.decision.selected.fill']]) +

//    chance node
Templates.styleRule(Templates.nodeSelector('chance') + ' path', [['fill', 'node.chance.fill'], ['stroke', 'node.chance.stroke']]) + Templates.styleRule(Templates.nodeSelector('chance', 'selected') + ' path', [['fill', 'node.chance.selected.fill']]) +

//    terminal node
Templates.styleRule(Templates.nodeSelector('terminal') + ' path', [['fill', 'node.terminal.fill'], ['stroke', 'node.terminal.stroke']]) + Templates.styleRule(Templates.nodeSelector('terminal', 'selected') + ' path', [['fill', 'node.terminal.selected.fill']]) + Templates.styleRule(Templates.nodeSelector('terminal') + ' .aggregated-payoff', [['font-size', 'node.terminal.payoff.fontSize'], ['fill', 'node.terminal.payoff.color']]) + Templates.styleRule(Templates.nodeSelector('terminal') + ' .aggregated-payoff.negative', [['fill', 'node.terminal.payoff.negativeColor']]) +

//probability
Templates.styleRule(Templates.treeDesignerSelector + ' .node .probability-to-enter, ' + Templates.treeDesignerSelector + ' .edge .probability', [['font-size', 'probability.fontSize'], ['fill', 'probability.color']]) +

//edge
Templates.styleRule(Templates.edgeSelector() + ' path', [['stroke', 'edge.stroke'], ['stroke-width', 'edge.strokeWidth']]) + Templates.styleRule(Templates.treeDesignerSelector + ' marker#arrow path', [['fill', 'edge.stroke']]) + Templates.styleRule(Templates.edgeSelector('optimal') + ' path', [['stroke', 'edge.optimal.stroke'], ['stroke-width', 'edge.optimal.strokeWidth']]) + Templates.styleRule(Templates.treeDesignerSelector + ' marker#arrow-optimal path', [['fill', 'edge.optimal.stroke']]) + Templates.styleRule(Templates.edgeSelector('selected') + ' path', [['stroke', 'edge.selected.stroke'], ['stroke-width', 'edge.selected.strokeWidth']]) + Templates.styleRule(Templates.treeDesignerSelector + ' marker#arrow-selected path', [['fill', 'edge.selected.stroke']]) + Templates.styleRule(Templates.edgeSelector() + ' .label', [['font-size', 'edge.label.fontSize'], ['fill', 'edge.label.color']]) + Templates.styleRule(Templates.edgeSelector() + ' .payoff', [['font-size', 'edge.payoff.fontSize'], ['fill', 'edge.payoff.color']]) + Templates.styleRule(Templates.edgeSelector() + ' .payoff.negative', [['fill', 'edge.payoff.negativeColor']]) + Templates.styleRule(Templates.treeDesignerSelector + ' .sd-title-container text.sd-title', [['font-size', 'title.fontSize'], ['font-weight', 'title.fontWeight'], ['font-style', 'title.fontStyle'], ['fill', 'title.color']]) + Templates.styleRule(Templates.treeDesignerSelector + ' .sd-title-container text.sd-description', [['font-size', 'description.fontSize'], ['font-weight', 'description.fontWeight'], ['font-style', 'description.fontStyle'], ['fill', 'description.color']]);

},{"./i18n/i18n":82,"./templates/about/de.html":96,"./templates/about/en.html":97,"./templates/about/fr.html":98,"./templates/about/it.html":99,"./templates/about/pl.html":100,"./templates/about_dialog.html":101,"./templates/definitions_dialog.html":102,"./templates/evaluated_variables.html":103,"./templates/fullscreen_popup.html":104,"./templates/growl_message.html":105,"./templates/help.html":106,"./templates/input_group.html":107,"./templates/jobs/job_parameter.html":108,"./templates/jobs/job_parameters_builder.html":109,"./templates/loading_indicator.html":110,"./templates/main.html":111,"./templates/select_input_group.html":112,"./templates/sensitivity_analysis_dialog.html":113,"./templates/settings_dialog.html":114,"./templates/settings_dialog_form_group.html":115,"./templates/sidebar/definitions.html":116,"./templates/sidebar/diagram_details_box.html":117,"./templates/sidebar/layout_options.html":118,"./templates/sidebar/object_properties.html":119,"./templates/sidebar/sidebar.html":120,"./templates/toolbar.html":121,"./templates/warning_message.html":122,"sd-utils":"sd-utils"}],96:[function(require,module,exports){
module.exports = "<p>\n    <strong>SilverDecisions <%= version %> (gebaut <%= buildTimestamp%>)</strong><br/>Open Source Entscheidungsbaum Software.\n</p>\n<p class=\"sd-project-team\">\n    Projektteam:\n    <ul>\n        <li><a href=\"http://bogumilkaminski.pl/\" target=\"_blank\">Bogumił Kamiński</a> (Projektleiter)</li>\n        <li><a href=\"https://szufel.pl/\" target=\"_blank\">Przemysław Szufel</a> (Stellvertretender Projektleiter)</li>\n        <li><a href=\"https://github.com/mwasiluk\" target=\"_blank\">Michał Wasiluk</a> (Designer)</li>\n        <li><a href=\"http://www.michaljakubczyk.pl/\" target=\"_blank\">Michał Jakubczyk</a> (Entwickler)</li>\n        <li>Anna Wiertlewska (Projekt Unterstützung)</li>\n        <li>Marcin Czupryna (Tester)</li>\n    </ul>\n</p>\n<p>\n    Das Projekt wird von Decision Support and Analysis Division, Warsaw School of Economics entwickelt.<br/>\n    Kontakt: silverdecisions@sgh.waw.pl\n</p>\n<p>\n    SilverDecisions ist ein gemeinschaftsgetriebenes Projekt. Sollten Sie es für Ihre Untericht, Forschung oder jede andere Aktivität, die Sie mit uns teilen möchten verwenden, wir würden uns freuen, einen Link zu Ihren Aktivitäten zu der <a href=\"https://github.com/SilverDecisions/SilverDecisions/wiki/SilverDecisions-Community\" target=\"_blank\">SilverDecisions Gemeinschaft</a> Seite hinzufügen zu können.\n</p>\n<p>\n    Software wird als Teil von <a href=\"http://routetopa.eu/\" target=\"_blank\">ROUTE-TO-PA</a> Projekt entwickelt. Dieses Projekt hat      Mittel aus dem Horizon 2020 (Forschungs- und Innovationsprogramm der Europäischen Union) im Rahmen der Finanzhilfevereinbarung Nr 645860 erhalten. Ziel dieses Projektes ist es, eine transparente Kommunikation zwischen der öffentlichen Verwaltung und den Bürgern über das Thema, öffentliche Daten und Entscheidungsprozesse zu unterstützen. \n</p>\n<p>\n    Alle Quelldateien werden unter den Bedingungen der GNU Lesser General Public License Version 3 lizenziert.\n</p>\n<p>\n    Für weitere Informationen besuchen Sie bitte, unsere Website unter <a href=\"http://silverdecisions.pl/\" target=\"_blank\">http://silverdecisions.pl/</a>.\n</p>\n";

},{}],97:[function(require,module,exports){
module.exports = "<p>\n    <strong>SilverDecisions <%= version %> (build <%= buildTimestamp%>)</strong><br/>A free and open source decision tree software.\n</p>\n<p class=\"sd-project-team\">\n    Project team:\n    <ul>\n        <li><a href=\"http://bogumilkaminski.pl/\" target=\"_blank\">Bogumił Kamiński</a> (project manager)</li>\n        <li><a href=\"https://szufel.pl/\" target=\"_blank\">Przemysław Szufel</a> (deputy project manager)</li>\n        <li><a href=\"https://github.com/mwasiluk\" target=\"_blank\">Michał Wasiluk</a> (developer)</li>\n        <li><a href=\"http://www.michaljakubczyk.pl/\" target=\"_blank\">Michał Jakubczyk</a> (designer)</li>\n        <li>Anna Wiertlewska (documentalist)</li>\n        <li>Marcin Czupryna (tester)</li>\n    </ul>\n</p>\n<p>\n    The project is developed at Decision Support and Analysis Division, Warsaw School of Economics.<br/>\n    Contact: silverdecisions@sgh.waw.pl\n</p>\n<p>\n    SilverDecisions is a community-driven project, so if you use it for teaching, research or any other activity that you would be willing to share please let us know. We would be glad to add a link to your activities on <a href=\"https://github.com/SilverDecisions/SilverDecisions/wiki/SilverDecisions-Community\" target=\"_blank\">SilverDecisions Community</a> page.\n</p>\n<p>\n    Software is developed as a part of <a href=\"http://routetopa.eu/\" target=\"_blank\">ROUTE-TO-PA</a> Project that has\n    received funding from the European Union’s Horizon 2020 research and innovation programme under grant agreement No\n    645860. Its aim is to allow a transparent communication between public administration and citizens regarding public\n    data about decision making processes performed by public administration.\n</p>\n<p>\n    All the source files are licensed under the terms of the GNU Lesser General Public License version 3.\n</p>\n<p>\n    For more information visit our website at <a href=\"http://silverdecisions.pl/\" target=\"_blank\">http://silverdecisions.pl/</a>.\n</p>\n";

},{}],98:[function(require,module,exports){
module.exports = "<p>\n    <strong>SilverDecisions <%= version %> (build <%= buildTimestamp%>)</strong><br/>Un logiciel libre et open source pour faire son propre arbre de décision.\n</p>\n\n<p class=\"sd-project-team\">\n    Equipe du projet:\n    <ul>\n        <li><a href=\"http://bogumilkaminski.pl/\" target=\"_blank\">Bogumił Kamiński</a> (chef de projet)</li>\n        <li><a href=\"https://szufel.pl/\" target=\"_blank\">Przemysław Szufel</a> (chef de projet adjoint)</li>\n        <li><a href=\"https://github.com/mwasiluk\" target=\"_blank\">Michał Wasiluk</a> (développeur)</li>\n        <li><a href=\"http://www.michaljakubczyk.pl/\" target=\"_blank\">Michał Jakubczyk</a> (designer)</li>\n        <li>Anna Wiertlewska (documentaliste)</li>\n\t<li>Marcin Czupryna (testeur)</li>\n    </ul>\n</p>\n<p>\n    Le projet est conçu et développé par la Division de l'aide à la décision et de l'analyse, à l'École d'économie de Varsovie. <br/>Contact: silverdecisions@sgh.waw.pl\n</p>\n<p>\n    SilverDecisions est un projet communautaire, donc si vous l'utilisez pour l'enseignement, la recherche ou toute autre activité que vous aimeriez partager, \n    faites-le nous savoir. Nous serions heureux d'ajouter un lien vers vos activités sur le site web de \n    <a href=\"https://github.com/SilverDecisions/SilverDecisions/wiki/SilverDecisions-Community\" target=\"_blank\">SilverDecisions Community</a>.\n</p>\n<p>  \n    Le logiciel est développé dans le cadre du projet <a href=\"http://routetopa.eu/\" target=\"_blank\">ROUTE-TO-PA</a>, \n    financé par le programme de recherche et d'innovation Horizon 2020 de l'Union Européenne dans le cadre de l'accord de subvention n° 645860. \n    Son objectif est permettre une communication transparente entre l'administration publique et les citoyens \n    concernant les données publiques (Open Data) et la prise de décision des administrations.  \n</p>\n<p>\n    Tous les fichiers source sont sous licence GNU Lesser General Public License version 3.\n</p>\n<p>\n    Pour plus d'informations, visitez notre site web à <a href=\"http://silverdecisions.pl/\" target=\"_blank\">http://silverdecisions.pl/</a>.\n</p>\n\n";

},{}],99:[function(require,module,exports){
module.exports = "<p>\n    <strong>SilverDecisions <%= version %> (construzione <%= buildTimestamp%>)</strong><br/>\n    Un Software Open Source Free per gestire alberi di decisione.\n</p>\n<p class=\"sd-project-team\">\n    Team di progetto:\n    <ul>\n        <li><a href=\"http://bogumilkaminski.pl/\" target=\"_blank\">Bogumił Kamiński</a> (project manager)</li>\n        <li><a href=\"https://szufel.pl/\" target=\"_blank\">Przemysław Szufel</a> (vice project manager)</li>\n        <li><a href=\"https://github.com/mwasiluk\" target=\"_blank\">Michał Wasiluk</a> (sviluppo)</li>\n        <li>Marcin Czupryna (test)</li>\n        <li><a href=\"http://www.michaljakubczyk.pl/\" target=\"_blank\">Michał Jakubczyk</a> (tester)</li>\n        <li>Anna Wiertlewska (documentazione)</li>\n    </ul>\n</p>\n<p>\n    Il progetto è sviluppato presso la Divisione “Supporto alla decisione ed Analisi” della Scuola di Economia dell’Università di Varsavia. <br/>Contatto:\n    silverdecisions@sgh.waw.pl\n</p>\n<p>\nSilverDecision è un Progetto basato su di una Comunità di sviluppo, se lo utilizzi a scopo di insegnamento, ricerca o altra attività che vorresti rendere nota tienici informati. Saremmo lieti di aggiungere un <a href=\"https://github.com/SilverDecisions/SilverDecisions/wiki/SilverDecisions-Community\" target=\"_blank\">link</a> alla tua attività.\n</p>\n<p>\n    Il software è sviluppato nell’ambito del progetto <a href=\"http://routetopa.eu/\" target=\"_blank\">ROUTE-TO-PA</a> \n    finanziato dal programma di ricerca ed innovazione H2020 dell’ Unione Europea (contratto n. 645860). \n    Scopo del progetto è quello di permettere una comunicazione trasparente tra Pubblica Amministrazione e cittadini \n    riguardo ai dati pubblici ed ai processi di decisione portati avanti dalla stessa Pubblica Amministrazione.    \n</p>\n<p>\n    Tutti i codici sorgente sono rilasciati secondo i termini della licenza “GNU Lesser General Public License version 3\".\n</p>\n<p>\n    Per maggiori informazioni visita il sito <a href=\"http://silverdecisions.pl/\" target=\"_blank\">http://silverdecisions.pl/</a>.\n</p>\n\n";

},{}],100:[function(require,module,exports){
module.exports = "<p>\n    <strong>SilverDecisions <%= version %> (build <%= buildTimestamp%>)</strong><br/>\n    Oprogramowanie do analizy drzew decyzyjnych typu Free Open Source.\n</p>\n<p class=\"sd-project-team\">\n    Zespół projektowy:\n    <ul>\n        <li><a href=\"http://bogumilkaminski.pl/\" target=\"_blank\">Bogumił Kamiński</a> (manager projektu)</li>\n        <li><a href=\"https://szufel.pl/\" target=\"_blank\">Przemysław Szufel</a> (zastępca managera projektu)</li>\n        <li><a href=\"https://github.com/mwasiluk\" target=\"_blank\">Michał Wasiluk</a> (developer)</li>\n        <li><a href=\"http://www.michaljakubczyk.pl/\" target=\"_blank\">Michał Jakubczyk</a> (projektant)</li>\n        <li>Anna Wiertlewska (dokumentalistka)</li>\n        <li>Marcin Czupryna (tester)</li>\n    </ul>\n</p>\n<p>\n    Projekt jest realizowany w Zakładzie Wspomagania i Analizy Decyzji w Szkole Głównej Handlowej w Warszawie.<br/>\n    Kontakt: silverdecisions@sgh.waw.pl\n</p>\n<p>\n    Rozwój SilverDecisions zależy od potrzeb użytkowników. W związku z tym jeśli wykorzystujesz je do nauczania, badań lub innych aktywności, o których zechcesz na powiedzieć prosimy o kontakt. Byłoby nam bardzo miło, jeśli moglibyśmy dodać informację o Twoich aktywnościach na stronie <a href=\"https://github.com/SilverDecisions/SilverDecisions/wiki/SilverDecisions-Community\" target=\"_blank\">SilverDecisions Community</a>.\n</p>\n<p>\n<p>\n    Oprogramowanie jest rozwijane w ramach projektu <a href=\"http://routetopa.eu/\" target=\"_blank\">ROUTE-TO-PA</a> (<em>Raising\n    Open and User-friendly Transparency-Enabling Technologies for Public Administrations</em>),\n    który jest finansowany ze środków Europejskiego Programu w Zakresie Badań Naukowych i Innowacji Horizon 2020 na\n    podstawie umowy o dotację nr 645860. Celem projektu ROUTE-TO-PA jest umożliwienie przejrzystej komunikacji pomiędzy\n    administracją publiczną a mieszkańcami w zakresie publicznych danych dotyczących procesu podejmowania przez\n    administracje publiczne decyzji.\n</p>\n<p>\n    Wszystkie pliki źródłowe są licencjonowane zgodnie ze słabszą powszechną licencją publiczną GNU (GNU Lesser General Public License version 3).\n</p>\n<p>\n    Więcej informacji można znaleźć na stronie internetowej: <a href=\"http://silverdecisions.pl/\" target=\"_blank\">http://silverdecisions.pl/</a>.\n</p>\n";

},{}],101:[function(require,module,exports){
module.exports = "<div id=\"sd-about-dialog\" class=\"sd-modal\">\n    <div class=\"sd-modal-content\">\n        <div class=\"sd-modal-header\">\n            <span class=\"sd-modal-button sd-close-modal\"><i class=\"material-icons\">close</i></span>\n            <span class=\"sd-modal-button sd-extend-modal\"><i class=\"material-icons\">fullscreen</i></span>\n            <span class=\"sd-modal-button sd-shrink-modal\"><i class=\"material-icons\">fullscreen_exit</i></span>\n            <h2><%= i18n.t(\"aboutDialog.title\")%></h2>\n        </div>\n        <div class=\"sd-modal-body\">\n            <% if ( [\"de\", \"en\", \"fr\", \"it\", \"pl\"].indexOf(lng) !== -1) { %>\n                <%= include('about_'+lng, variables) %>\n            <% } else { %>\n                <%= include('about_en', variables) %>\n            <% } %>\n\n            <%= include('help', variables) %>\n        </div>\n    </div>\n</div>\n";

},{}],102:[function(require,module,exports){
module.exports = "<div id=\"sd-definitions-dialog\" class=\"sd-modal\">\n    <div class=\"sd-modal-content\">\n        <div class=\"sd-modal-header\">\n            <span class=\"sd-modal-button sd-close-modal\"><i class=\"material-icons\">close</i></span>\n            <span class=\"sd-modal-button sd-extend-modal\"><i class=\"material-icons\">fullscreen</i></span>\n            <span class=\"sd-modal-button sd-shrink-modal\"><i class=\"material-icons\">fullscreen_exit</i></span>\n            <h2><%= i18n.t(\"definitionsDialog.title\")%></h2>\n        </div>\n        <div class=\"sd-modal-body\">\n            <div class=\"definitions-form\">\n                <div class=\"input-group\">\n                    <textarea id=\"sd-definitions-dialog-definitions-code\" name=\"sd-definitions-code\"></textarea>\n                    <span class=\"bar\"></span>\n                </div>\n            </div>\n\n            <div class=\"evaluated-variables-preview\">\n                <h3><%= i18n.t('definitionsDialog.evaluatedVariables')%>:</h3>\n                <div id=\"sd-definitions-dialog-variable-values\"></div>\n            </div>\n            <div class=\"action-buttons\">\n                <button id=\"sd-definitions-dialog-recalculate-button\" class=\"icon-button\"  title=\"<%= i18n.t('definitionsDialog.buttons.recalculate')%>\"><i class=\"material-icons\">refresh</i></button>\n            </div>\n        </div>\n    </div>\n</div>\n";

},{}],103:[function(require,module,exports){
module.exports = "<table class=\"sd-evaluated-variables\">\r\n    <% for(i=0; i<scopeVariables.length; ++i) { %>\r\n    <tr>\r\n        <td><%= scopeVariables[i].key %></td>\r\n        <td>=</td>\r\n        <td><%= scopeVariables[i].value %></td>\r\n    </tr>\r\n    <% } %>\r\n</table>\r\n";

},{}],104:[function(require,module,exports){
module.exports = "<div class=\"sd-fullscreen-popup\">\n    <div class=\"sd-popup-header\">\n        <span class=\"sd-close-popup\"><i class=\"material-icons\">close</i></span>\n        <h2><%= title %></h2>\n    </div>\n\n    <div class=\"sd-popup-body\">\n        <%= body %>\n    </div>\n</div>\n";

},{}],105:[function(require,module,exports){
module.exports = "<div class=\"sd-growl-message <%=type%>\">\r\n    <div class=\"sd-growl-message-text\">\r\n        <%= message %>\r\n    </div>\r\n</div>\r\n";

},{}],106:[function(require,module,exports){
module.exports = "<div>\r\n    <h3><%= i18n.t(\"help.header\")%></h3>\r\n    <p>\r\n        <%= i18n.t(\"help.mouse.header\")%>\r\n        <ul>\r\n            <li><%= i18n.t(\"help.mouse.list.1\")%></li>\r\n            <li><%= i18n.t(\"help.mouse.list.2\")%></li>\r\n            <li><%= i18n.t(\"help.mouse.list.3\")%></li>\r\n        </ul>\r\n    </p>\r\n    <p>\r\n        <%= i18n.t(\"help.keyboard.header\")%>\r\n        <ul>\r\n            <li><%= i18n.t(\"help.keyboard.list.1\")%></li>\r\n            <li><%= i18n.t(\"help.keyboard.list.2\")%></li>\r\n            <li><%= i18n.t(\"help.keyboard.list.3\")%></li>\r\n            <li><%= i18n.t(\"help.keyboard.list.4\")%></li>\r\n            <li><%= i18n.t(\"help.keyboard.list.5\")%></li>\r\n            <li><%= i18n.t(\"help.keyboard.list.6\")%></li>\r\n        </ul>\r\n    </p>\r\n    <p><%= i18n.t(\"help.docs\")%></p>\r\n</div>\r\n";

},{}],107:[function(require,module,exports){
module.exports = "<input id=\"<%= id %>\" type=\"<%= type %>\" name=\"<%= name %>\">\r\n<span class=\"bar\"></span>\r\n<label for=\"<%= id %>\"><%= label %></label>\r\n";

},{}],108:[function(require,module,exports){
module.exports = "\n";

},{}],109:[function(require,module,exports){
module.exports = "<div class=\"sd-job-parameters-builder\">\n\n</div>\n";

},{}],110:[function(require,module,exports){
module.exports = "<div class=\"sd-loading-indicator\">\r\n    <div></div>\r\n    <div class=\"sd-spinner\" title=\"loading...\"></div>\r\n</div>\r\n";

},{}],111:[function(require,module,exports){
module.exports = "<div id=\"silver-decisions\" tabindex=\"0\">\n    <%= include('toolbar', variables) %>\n    <div id=\"main-region\">\n        <%= include('sidebar', variables) %>\n        <div id=\"tree-designer-container\"></div>\n    </div>\n    <input type=\"file\" style=\"display:none\" id=\"sd-file-input\" accept=\".json\"/>\n    <%= include('settingsDialog', variables) %>\n    <%= include('aboutDialog', variables) %>\n    <%= include('definitionsDialog', variables) %>\n    <%= include('sensitivityAnalysisDialog', variables) %>\n</div>\n";

},{}],112:[function(require,module,exports){
module.exports = "<select id=\"<%= id %>\" name=\"<%= name %>\">\n    <% for(i=0; i<options.length; ++i) { %>\n    <option value=\"<% if (options[i].value !== undefined){ %><%= options[i].value %><%} else { %><%= options[i] %><%}%>\"><% if (options[i].label !== undefined){ %><%= options[i].label %><%} else { %><%= options[i] %><%}%></option>\n    <% } %>\n</select>\n<span class=\"bar\"></span>\n<label for=\"<%= id %>\"><%= label %></label>\n";

},{}],113:[function(require,module,exports){
module.exports = "<div class=\"sd-modal sd-sensitivity-analysis-dialog\">\n    <div class=\"sd-modal-content\">\n        <div class=\"sd-modal-header\">\n            <span class=\"sd-modal-button sd-close-modal\"><i class=\"material-icons\">close</i></span>\n            <span class=\"sd-modal-button sd-extend-modal\"><i class=\"material-icons\">fullscreen</i></span>\n            <span class=\"sd-modal-button sd-shrink-modal\"><i class=\"material-icons\">fullscreen_exit</i></span>\n\n            <h2><%= i18n.t(\"sensitivityAnalysisDialog.title\")%></h2>\n        </div>\n        <div class=\"sd-modal-body\">\n            <div class=\"sd-sensitivity-analysis-job-configuration\">\n                <div class=\"sd-job-select-input-group input-group\"></div>\n                <%= include('jobParametersBuilder', variables) %>\n            </div>\n            <div class=\"sd-sensitivity-analysis-warnings\">\n\n            </div>\n            <div class=\"sd-job-progress-bar-container sd-progress-bar-container sd-hidden\"><div class=\"sd-progress-bar\"></div></div>\n            <div class=\"sd-sensitivity-analysis-job-results sd-hidden\">\n                <div class=\"sd-job-result-table-container\"></div>\n            </div>\n            <div class=\"sd-sensitivity-analysis-action-buttons\">\n                <button class=\"sd-terminate-job-button sd-hidden\"><%= i18n.t('sensitivityAnalysisDialog.buttons.terminateJob')%></button>\n                <button class=\"sd-stop-job-button sd-hidden\"><%= i18n.t('sensitivityAnalysisDialog.buttons.stopJob')%></button>\n                <button class=\"sd-resume-job-button sd-hidden\"><%= i18n.t('sensitivityAnalysisDialog.buttons.resumeJob')%></button>\n                <button class=\"sd-back-button  sd-hidden\"><%= i18n.t('sensitivityAnalysisDialog.buttons.back')%></button>\n                <button class=\"sd-download-csv-button sd-hidden\"><%= i18n.t('sensitivityAnalysisDialog.buttons.downloadCsv')%></button>\n                <button class=\"sd-clear-button \"><%= i18n.t('sensitivityAnalysisDialog.buttons.clear')%></button>\n                <button class=\"sd-run-job-button\"><%= i18n.t('sensitivityAnalysisDialog.buttons.runJob')%></button>\n\n            </div>\n        </div>\n    </div>\n</div>\n";

},{}],114:[function(require,module,exports){
module.exports = "<div id=\"sd-settings-dialog\" class=\"sd-modal\">\n    <div class=\"sd-modal-content\">\n        <div class=\"sd-modal-header\">\n            <span class=\"sd-modal-button sd-close-modal\"><i class=\"material-icons\">close</i></span>\n            <span class=\"sd-modal-button sd-extend-modal\"><i class=\"material-icons\">fullscreen</i></span>\n            <span class=\"sd-modal-button sd-shrink-modal\"><i class=\"material-icons\">fullscreen_exit</i></span>\n            <h2><%= i18n.t(\"settingsDialog.title\")%></h2>\n        </div>\n        <div class=\"sd-modal-body\">\n            <form id=\"sd-settings-form\">\n            </form>\n        </div>\n    </div>\n</div>\n";

},{}],115:[function(require,module,exports){
module.exports = "<div class=\"header\">\r\n    <h4><%= i18n.t(\"settingsDialog.\"+name+\".title\")%>\r\n        <span class=\"toggle-button\">\r\n            <i class=\"material-icons icon-arrow-up\">keyboard_arrow_up</i>\r\n            <i class=\"material-icons icon-arrow-down\">keyboard_arrow_down</i>\r\n        </span>\r\n    </h4>\r\n</div>\r\n<div class=\"sd-form-group-content\">\r\n    <div class=\"sd-form-group-inputs\"></div>\r\n    <div class=\"sd-form-group-child-groups\"></div>\r\n</div>\r\n";

},{}],116:[function(require,module,exports){
module.exports = "<div id=\"sd-sidebar-definitions\">\r\n    <div class=\"header\">\r\n        <%= i18n.t(\"sidebarDefinitions.header\")%>\r\n        <span class=\"toggle-button\">\r\n            <i class=\"material-icons icon-arrow-up\">keyboard_arrow_up</i>\r\n            <i class=\"material-icons icon-arrow-down\">keyboard_arrow_down</i>\r\n        </span>\r\n    </div>\r\n    <div class=\"content\">\r\n        <div class=\"input-group\">\r\n            <textarea rows=\"1\" id=\"sd-sidebar-definitions-code\" type=\"text\" name=\"sidebar-definitions-code\"></textarea>\r\n            <span class=\"bar\"></span>\r\n            <label for=\"sd-sidebar-definitions-code\"><%= i18n.t(\"sidebarDefinitions.code\") %></label>\r\n        </div>\r\n        <div class=\"evaluated-variables-preview\">\r\n            <div class=\"evaluated-variables-preview-header\">\r\n                <%= i18n.t('sidebarDefinitions.evaluatedVariables')%>\r\n            </div>\r\n            <div id=\"sd-sidebar-definitions-evaluated-values\"></div>\r\n        </div>\r\n        <div class=\"sd-action-buttons\">\r\n            <button id=\"sd-sidebar-definitions-open-dialog-button\" class=\"icon-button\"  title=\"<%= i18n.t('sidebarDefinitions.buttons.openDialog')%>\"><i class=\"material-icons\">open_in_new</i></button>\r\n            <button id=\"sd-sidebar-definitions-recalculate-button\" class=\"icon-button\"  title=\"<%= i18n.t('sidebarDefinitions.buttons.recalculate')%>\"><i class=\"material-icons\">refresh</i></button>\r\n        </div>\r\n    </div>\r\n</div>\r\n";

},{}],117:[function(require,module,exports){
module.exports = "<div id=\"diagram-details-box\">\r\n    <div class=\"header\">\r\n        <%= i18n.t(\"diagramDetails.header\")%>\r\n        <span class=\"toggle-button\">\r\n            <i class=\"material-icons icon-arrow-up\">keyboard_arrow_up</i>\r\n            <i class=\"material-icons icon-arrow-down\">keyboard_arrow_down</i>\r\n        </span>\r\n    </div>\r\n    <div class=\"content\">\r\n        <div class=\"input-group\">\r\n            <input id=\"diagram-title\" type=\"text\" name=\"diagram-title\">\r\n            <span class=\"bar\"></span>\r\n            <label for=\"diagram-title\"><%= i18n.t(\"diagramDetails.title\") %></label>\r\n        </div>\r\n        <div class=\"input-group\">\r\n            <textarea id=\"diagram-description\" name=\"diagram-description\"></textarea>\r\n            <span class=\"bar\"></span>\r\n            <label for=\"diagram-description\"><%= i18n.t(\"diagramDetails.description\") %></label>\r\n        </div>\r\n    </div>\r\n</div>\r\n";

},{}],118:[function(require,module,exports){
module.exports = "<div id=\"layout-options\">\r\n    <div class=\"header\">\r\n        <%= i18n.t(\"layoutOptions.header\")%>\r\n        <span class=\"toggle-button\">\r\n            <i class=\"material-icons icon-arrow-up\">keyboard_arrow_up</i>\r\n            <i class=\"material-icons icon-arrow-down\">keyboard_arrow_down</i>\r\n        </span>\r\n    </div>\r\n    <div class=\"content\">\r\n        <div class=\"input-group\">\r\n            <input id=\"margin-horizontal\" name=\"margin-horizontal\" type=\"range\" min=\"5\" max=\"150\" step=\"5\"/>\r\n            <label for=\"margin-horizontal\"><%= i18n.t(\"layoutOptions.marginHorizontal\")%></label>\r\n        </div>\r\n        <div class=\"input-group\">\r\n            <input id=\"margin-vertical\" name=\"margin-vertical\" type=\"range\" min=\"5\" max=\"150\" step=\"5\"/>\r\n            <label for=\"margin-vertical\"><%= i18n.t(\"layoutOptions.marginVertical\")%></label>\r\n        </div>\r\n        <div class=\"input-group\">\r\n            <input id=\"node-size\" name=\"node-size\" type=\"range\" min=\"20\" max=\"60\" step=\"5\"/>\r\n            <label for=\"node-size\"><%= i18n.t(\"layoutOptions.nodeSize\")%></label>\r\n        </div>\r\n        <div class=\"input-group\">\r\n            <input id=\"edge-slant-width-max\" name=\"edge-slant-width-max\" type=\"range\" min=\"0\" max=\"150\" step=\"5\"/>\r\n            <label for=\"edge-slant-width-max\"><%= i18n.t(\"layoutOptions.edgeSlantWidthMax\")%></label>\r\n        </div>\r\n        <div id=\"auto-layout-options\">\r\n            <div class=\"input-group\">\r\n                <input id=\"grid-width\" name=\"grid-width\" type=\"range\" min=\"105\" max=\"300\" step=\"5\"/>\r\n                <label for=\"grid-width\"><%= i18n.t(\"layoutOptions.gridWidth\")%></label>\r\n            </div>\r\n            <div class=\"input-group\">\r\n                <input id=\"grid-height\" name=\"grid-height\" type=\"range\" min=\"55\" max=\"150\" step=\"5\"/>\r\n                <label for=\"grid-height\"><%= i18n.t(\"layoutOptions.gridHeight\")%></label>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n";

},{}],119:[function(require,module,exports){
module.exports = "<div id=\"object-properties\">\r\n    <div class=\"header\"></div>\r\n    <div class=\"content\">\r\n        <div class=\"main-properties\"></div>\r\n        <div class=\"children-properties\">\r\n            <div class=\"children-properties-header\"></div>\r\n            <div class=\"children-properties-content\"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n";

},{}],120:[function(require,module,exports){
module.exports = "<div id=\"sd-sidebar\">\r\n    <div id=\"sd-sidebar-inner\">\r\n        <%= include('layoutOptions', variables) %>\r\n        <%= include('diagramDetailsBox', variables) %>\r\n        <%= include('definitions', variables) %>\r\n        <%= include('objectProperties', variables) %>\r\n    </div>\r\n</div>\r\n";

},{}],121:[function(require,module,exports){
module.exports = "<div id=\"sd-toolbar\">\n    <div class=\"toolbar-group\">\n        <button id=\"new-diagram-button\" class=\"icon-button\" title=\"<%= i18n.t('toolbar.newDiagram')%>\"><i class=\"material-icons\">insert_drive_file</i></button>\n        <button id=\"open-diagram-button\" class=\"icon-button\" title=\"<%= i18n.t('toolbar.openDiagram')%>\"><i class=\"material-icons\">folder_open</i></button>\n        <button id=\"save-diagram-button\" class=\"icon-button\" title=\"<%= i18n.t('toolbar.saveDiagram')%>\"><i class=\"material-icons\">save</i></button>\n    </div>\n    <div id=\"export-toolbar-group\" class=\"toolbar-group\">\n        <label><%= i18n.t(\"toolbar.export.label\")%></label>\n        <button id=\"saveButton\"><%= i18n.t(\"toolbar.export.png\")%></button>\n        <button id=\"saveButtonSvg\"><%= i18n.t(\"toolbar.export.svg\")%></button>\n        <button id=\"saveButtonPdf\"><%= i18n.t(\"toolbar.export.pdf\")%></button>\n    </div>\n    <div class=\"toolbar-group\">\n        <label><%= i18n.t(\"toolbar.layout.label\")%></label>\n        <button id=\"manualLayoutButton\"><%= i18n.t(\"toolbar.layout.manual\")%></button>\n        <button id=\"treeAutoLayoutButton\"><%= i18n.t(\"toolbar.layout.tree\")%></button>\n        <button id=\"clusterAutoLayoutButton\"><%= i18n.t(\"toolbar.layout.cluster\")%></button>\n    </div>\n    <div id=\"objective-rule-toolbar-group\" class=\"toolbar-group\">\n        <label for=\"objective-rule-select\"><%= i18n.t(\"toolbar.objectiveRule.label\")%></label>\n        <div class=\"input-group no-floating-label\" style=\"display: inline-block\">\n            <select id=\"objective-rule-select\"></select>\n            <span class=\"bar\"></span>\n        </div>\n    </div>\n    <div class=\"toolbar-group\">\n        <button id=\"undoButton\" class=\"icon-button\" disabled=\"disabled\" title=\"<%= i18n.t('toolbar.undo')%>\"><i class=\"material-icons\">undo</i></button>\n        <button id=\"redoButton\" class=\"icon-button\" disabled=\"disabled\" title=\"<%= i18n.t('toolbar.redo')%>\"><i class=\"material-icons\">redo</i></button>\n    </div>\n    <div class=\"toolbar-group\">\n        <button id=\"sensitivity-analysis-button\" class=\"icon-button\" title=\"<%= i18n.t('toolbar.sensitivityAnalysis')%>\"><i class=\"material-icons\">assessment</i></button>\n        <button id=\"recompute-button\" class=\"icon-button\" title=\"<%= i18n.t('toolbar.recompute')%>\"><i class=\"material-icons\">refresh</i></button>\n        <button id=\"settings-button\" class=\"icon-button\" title=\"<%= i18n.t('toolbar.settings')%>\"><i class=\"material-icons\">settings</i></button>\n        <button id=\"about-button\" class=\"icon-button\" title=\"<%= i18n.t('toolbar.about')%>\"><i class=\"material-icons\">info_outline</i></button>\n    </div>\n</div>\n";

},{}],122:[function(require,module,exports){
module.exports = "<div class=\"sd-warning-message\">\n    <i class=\"material-icons sd-icon\">warning</i>\n    <div class=\"sd-warning-message-text\">\n       <%= message %>\n    </div>\n</div>\n";

},{}],123:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Toolbar = undefined;

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _d = require('./d3');

var d3 = _interopRequireWildcard(_d);

var _i18n = require('./i18n/i18n');

var _appUtils = require('./app-utils');

var _exporter = require('./exporter');

var _fileLoader = require('./file-loader');

function _interopRequireWildcard(obj) {
    if (obj && obj.__esModule) {
        return obj;
    } else {
        var newObj = {};if (obj != null) {
            for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
            }
        }newObj.default = obj;return newObj;
    }
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

var Toolbar = exports.Toolbar = function () {
    function Toolbar(container, app) {
        _classCallCheck(this, Toolbar);

        this.hiddenClass = 'sd-hidden';

        this.app = app;
        this.container = container;
        this.initDiagramButtons();
        this.initExportToolbarGroup();
        this.initLayoutButtons();
        this.initUndoRedoButtons();
        this.initSettingsButton();
        this.initAboutButton();
        this.initSensitivityAnalysisButton();
        this.initRecomputeButton();
        this.initObjectiveRuleToolbarGroup();
    }

    _createClass(Toolbar, [{
        key: 'initDiagramButtons',
        value: function initDiagramButtons() {
            var _this = this;

            this.newDiagramButton = this.container.select('#new-diagram-button').on('click', function () {
                if (!confirm(_i18n.i18n.t('confirm.newDiagram'))) {
                    return;
                }
                _this.app.newDiagram();
            });
            this.newDiagramButton.classed(this.hiddenClass, !this.app.config.buttons.new);
            this.openDiagramButton = this.container.select('#open-diagram-button').on('click', function () {
                if (!confirm(_i18n.i18n.t('confirm.openDiagram'))) {
                    return;
                }
                _fileLoader.FileLoader.openFile(function (model) {
                    _this.app.openDiagram(model);
                });
            });
            this.openDiagramButton.classed(this.hiddenClass, !this.app.config.buttons.open);
            this.saveDiagramButton = this.container.select('#save-diagram-button').on('click', function () {
                _this.app.serialize().then(function (json) {
                    _appUtils.AppUtils.dispatchEvent('SilverDecisionsSaveEvent', json);
                    if (_this.app.config.jsonFileDownload) {
                        var blob = new Blob([json], { type: "application/json" });
                        _exporter.Exporter.saveAs(blob, _exporter.Exporter.getExportFileName('json'));
                    }
                });
            });
            this.saveDiagramButton.classed(this.hiddenClass, !this.app.config.buttons.save);
        }
    }, {
        key: 'initLayoutButtons',
        value: function initLayoutButtons() {
            var self = this;
            self.app.treeDesigner.layout.onAutoLayoutChanged.push(function (layout) {
                return self.onLayoutChanged(layout);
            });
            this.layoutButtons = {};
            this.layoutButtons['manual'] = this.container.select('#manualLayoutButton').on('click', function () {
                if (self.app.treeDesigner.config.layout.type == 'manual') {
                    return;
                }
                self.app.treeDesigner.layout.disableAutoLayout();
            });
            this.layoutButtons['tree'] = this.container.select('#treeAutoLayoutButton').on('click', function () {
                if (self.app.treeDesigner.config.layout.type == 'tree') {
                    return;
                }
                self.app.treeDesigner.autoLayout('tree');
            });
            this.layoutButtons['cluster'] = this.container.select('#clusterAutoLayoutButton').on('click', function () {
                if (self.app.treeDesigner.config.layout.type == 'cluster') {
                    return;
                }
                self.app.treeDesigner.autoLayout('cluster');
            });

            this.updateLayoutButtons();
        }
    }, {
        key: 'updateLayoutButtons',
        value: function updateLayoutButtons() {
            this.onLayoutChanged(this.app.treeDesigner.config.layout.type);
        }
    }, {
        key: 'initSettingsButton',
        value: function initSettingsButton() {
            var _this2 = this;

            this.settingsButton = this.container.select('#settings-button').on('click', function () {
                _this2.app.settingsDialog.open();
            });
        }
    }, {
        key: 'initAboutButton',
        value: function initAboutButton() {
            var _this3 = this;

            this.aboutButton = this.container.select('#about-button').on('click', function () {
                _this3.app.aboutDialog.open();
            });
        }
    }, {
        key: 'initRecomputeButton',
        value: function initRecomputeButton() {
            var _this4 = this;

            this.recomputeButton = this.container.select('#recompute-button').on('click', function () {
                _this4.app.recompute();
            });
        }
    }, {
        key: 'initSensitivityAnalysisButton',
        value: function initSensitivityAnalysisButton() {
            var _this5 = this;

            this.sensitivityAnalysisButton = this.container.select('#sensitivity-analysis-button').on('click', function () {
                _this5.app.openSensitivityAnalysis();
            });
        }
    }, {
        key: 'updateSensitivityAnalysisButton',
        value: function updateSensitivityAnalysisButton() {
            this.sensitivityAnalysisButton.attr("disabled", this.app.isSensitivityAnalysisAvailable() ? null : 'disabled');
        }
    }, {
        key: 'onLayoutChanged',
        value: function onLayoutChanged(layout) {
            var _this6 = this;

            Object.getOwnPropertyNames(this.layoutButtons).forEach(function (l) {
                _this6.layoutButtons[l].classed('active', false);
            });
            var button = this.layoutButtons[layout];
            if (button) {
                button.classed('active', true);
            }
        }
    }, {
        key: 'initUndoRedoButtons',
        value: function initUndoRedoButtons() {
            var _this7 = this;

            var self = this;
            self.app.dataModel.undoRedoStateChangedCallback = function () {
                return _this7.onUndoRedoChanged();
            };
            this.undoButton = this.container.select('#undoButton').on('click', function () {
                self.app.undo();
            });
            this.redoButton = this.container.select('#redoButton').on('click', function () {
                self.app.redo();
            });
        }
    }, {
        key: 'onUndoRedoChanged',
        value: function onUndoRedoChanged() {
            this.updateUndoRedoButtons();
            this.updateSensitivityAnalysisButton();
        }
    }, {
        key: 'updateUndoRedoButtons',
        value: function updateUndoRedoButtons() {
            this.undoButton.attr("disabled", this.app.dataModel.isUndoAvailable() ? null : 'disabled');
            this.redoButton.attr("disabled", this.app.dataModel.isRedoAvailable() ? null : 'disabled');
        }
    }, {
        key: 'update',
        value: function update() {
            this.updateUndoRedoButtons();
            this.updateSensitivityAnalysisButton();
            this.updateLayoutButtons();
            this.updateObjectiveRuleValue();
        }
    }, {
        key: 'initExportToolbarGroup',
        value: function initExportToolbarGroup() {
            this.container.select('#export-toolbar-group').classed(this.hiddenClass, !this.app.config.exports.show);
            if (!this.app.config.exports.show) {
                return;
            }
            this.initExportToPngButton();
            this.initExportSvgButton();
            this.initExportPdfButton();
        }
    }, {
        key: 'initExportToPngButton',
        value: function initExportToPngButton() {
            var _this8 = this;

            var svg = this.app.treeDesigner.svg;
            this.container.select('#saveButton').on('click', function () {
                return _exporter.Exporter.saveAsPng(svg, _this8.app.config.exports);
            }).classed(this.hiddenClass, !this.app.config.buttons.exportToPng);
        }
    }, {
        key: 'initExportSvgButton',
        value: function initExportSvgButton() {
            var svg = this.app.treeDesigner.svg;
            this.container.select('#saveButtonSvg').on('click', function () {
                return _exporter.Exporter.saveAsSvg(svg);
            }).classed(this.hiddenClass, !this.app.config.buttons.exportToSvg);
        }
    }, {
        key: 'initExportPdfButton',
        value: function initExportPdfButton() {
            var _this9 = this;

            var svg = this.app.treeDesigner.svg;
            this.container.select('#saveButtonPdf').on('click', function () {
                return _exporter.Exporter.saveAsPdf(svg, _this9.app.config.exports);
            }).classed(this.hiddenClass, !this.app.config.buttons.exportToPdf);
        }
    }, {
        key: 'initObjectiveRuleToolbarGroup',
        value: function initObjectiveRuleToolbarGroup() {
            var self = this;
            this.objectiveRuleSelect = this.container.select('#objective-rule-select');
            var rules = this.app.getObjectiveRules();
            var options = this.objectiveRuleSelect.selectAll('option').data(rules);
            options.enter().append('option').merge(options).attr('value', function (d) {
                return d.name;
            }).text(function (d) {
                return _i18n.i18n.t('toolbar.objectiveRule.options.' + d.name);
            });

            this.updateObjectiveRuleValue();

            this.objectiveRuleSelect.on('change', function () {
                self.app.setObjectiveRule(this.value);
            });
        }
    }, {
        key: 'updateObjectiveRuleValue',
        value: function updateObjectiveRuleValue() {
            this.objectiveRuleSelect.node().value = this.app.getCurrentObjectiveRule().name;
        }
    }]);

    return Toolbar;
}();

},{"./app-utils":70,"./d3":74,"./exporter":77,"./file-loader":78,"./i18n/i18n":82}],124:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Tooltip = undefined;

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _d = require('./d3');

var d3 = _interopRequireWildcard(_d);

var _i18n = require('./i18n/i18n');

var _sdUtils = require('sd-utils');

function _interopRequireWildcard(obj) {
    if (obj && obj.__esModule) {
        return obj;
    } else {
        var newObj = {};if (obj != null) {
            for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
            }
        }newObj.default = obj;return newObj;
    }
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

var Tooltip = exports.Tooltip = function () {
    function Tooltip() {
        _classCallCheck(this, Tooltip);
    }

    _createClass(Tooltip, null, [{
        key: 'getContainer',
        value: function getContainer() {
            return d3.select("body").selectOrAppend('div.sd-tooltip');
        }
    }, {
        key: 'show',
        value: function show(html) {
            var xOffset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5;
            var yOffset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 28;
            var event = arguments[3];
            var duration = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;

            var container = Tooltip.getContainer().style("opacity", 0);
            container.transition().duration(200).style("opacity", .98);
            container.html(html);
            Tooltip.updatePosition(xOffset, yOffset, event);
            if (duration) {
                setTimeout(function () {
                    Tooltip.hide();
                }, duration);
            }
        }
    }, {
        key: 'updatePosition',
        value: function updatePosition() {
            var xOffset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 5;
            var yOffset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 28;
            var event = arguments[2];

            event = event || d3.event;
            Tooltip.getContainer().style("left", event.pageX + xOffset + "px").style("top", event.pageY - yOffset + "px");
        }
    }, {
        key: 'hide',
        value: function hide() {
            var duration = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 500;

            var t = Tooltip.getContainer();
            if (duration) {
                t = t.transition().duration(duration);
            }
            t.style("opacity", 0);
        }
    }, {
        key: 'attach',
        value: function attach(target, htmlOrFn, xOffset, yOffset) {
            target.on('mouseover', function (d) {
                var html = null;
                if (_sdUtils.Utils.isFunction(htmlOrFn)) {
                    html = htmlOrFn(d);
                } else {
                    html = htmlOrFn;
                }

                if (html !== null && html !== undefined && html !== '') {
                    Tooltip.show(html, xOffset, yOffset);
                } else {
                    Tooltip.hide(0);
                }
            }).on('mousemove', function (d) {
                Tooltip.updatePosition(xOffset, yOffset);
            }).on("mouseout", function (d) {
                Tooltip.hide();
            });
        }
    }]);

    return Tooltip;
}();

},{"./d3":74,"./i18n/i18n":82,"sd-utils":"sd-utils"}],125:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ContextMenu = undefined;

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _d = require('../d3');

var d3 = _interopRequireWildcard(_d);

function _interopRequireWildcard(obj) {
    if (obj && obj.__esModule) {
        return obj;
    } else {
        var newObj = {};if (obj != null) {
            for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
            }
        }newObj.default = obj;return newObj;
    }
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

/*based on:
 * github.com/patorjk/d3-context-menu */

var ContextMenu = exports.ContextMenu = function () {
    function ContextMenu(menu, opts) {
        _classCallCheck(this, ContextMenu);

        var self = this;

        if (typeof opts === 'function') {
            self.openCallback = opts;
        } else {
            opts = opts || {};
            self.openCallback = opts.onOpen;
            self.closeCallback = opts.onClose;
        }

        // create the div element that will hold the context menu
        d3.selectAll('.d3-context-menu').data([1]).enter().append('div').attr('class', 'd3-context-menu');

        // close menu
        d3.select('body').on('click.d3-context-menu', function () {
            d3.select('.d3-context-menu').style('display', 'none');
            if (self.closeCallback) {
                self.closeCallback();
            }
        });

        // this gets executed when a contextmenu event occurs
        return function (data, index) {
            var elm = this;

            d3.selectAll('.d3-context-menu').html('');
            var list = d3.selectAll('.d3-context-menu').on('contextmenu', function (d) {
                d3.select('.d3-context-menu').style('display', 'none');
                d3.event.preventDefault();
                d3.event.stopPropagation();
            }).append('ul');
            list.selectAll('li').data(typeof menu === 'function' ? menu(data) : menu).enter().append('li').attr('class', function (d) {
                var ret = '';
                if (d.divider) {
                    ret += ' is-divider';
                }
                if (d.disabled) {
                    ret += ' is-disabled';
                }
                if (!d.action) {
                    ret += ' is-header';
                }
                return ret;
            }).html(function (d) {
                if (d.divider) {
                    return '<hr>';
                }
                if (!d.title) {
                    console.error('No title attribute set. Check the spelling of your options.');
                }
                return typeof d.title === 'string' ? d.title : d.title(data);
            }).on('click', function (d, i) {
                if (d.disabled) return; // do nothing if disabled
                if (!d.action) return; // headers have no "action"
                d.action(elm, data, index);
                d3.select('.d3-context-menu').style('display', 'none');

                if (self.closeCallback) {
                    self.closeCallback();
                }
            });

            // the openCallback allows an action to fire before the menu is displayed
            // an example usage would be closing a tooltip
            if (self.openCallback) {
                if (self.openCallback(data, index) === false) {
                    return;
                }
            }

            // display context menu
            d3.select('.d3-context-menu').style('left', d3.event.pageX - 2 + 'px').style('top', d3.event.pageY - 2 + 'px').style('display', 'block');

            d3.event.preventDefault();
            d3.event.stopPropagation();
        };
    }

    _createClass(ContextMenu, null, [{
        key: 'hide',
        value: function hide() {
            d3.select('.d3-context-menu').style('display', 'none');
        }
    }]);

    return ContextMenu;
}();

},{"../d3":74}],126:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.EdgeContextMenu = undefined;

var _contextMenu = require('./context-menu');

var _sdUtils = require('sd-utils');

var _d = require('../d3');

var d3 = _interopRequireWildcard(_d);

var _i18n = require('../i18n/i18n');

function _interopRequireWildcard(obj) {
    if (obj && obj.__esModule) {
        return obj;
    } else {
        var newObj = {};if (obj != null) {
            for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
            }
        }newObj.default = obj;return newObj;
    }
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

function _possibleConstructorReturn(self, call) {
    if (!self) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }return call && ((typeof call === 'undefined' ? 'undefined' : _typeof(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === 'undefined' ? 'undefined' : _typeof(superClass)));
    }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var EdgeContextMenu = exports.EdgeContextMenu = function (_ContextMenu) {
    _inherits(EdgeContextMenu, _ContextMenu);

    function EdgeContextMenu(treeDesigner) {
        _classCallCheck(this, EdgeContextMenu);

        var menu = function menu(d) {

            var menu = [];

            menu.push({
                title: _i18n.i18n.t('contextMenu.edge.injectDecisionNode'),
                action: function action(elm, d, i) {
                    treeDesigner.injectDecisionNode(d);
                }
            });
            menu.push({
                title: _i18n.i18n.t('contextMenu.edge.injectChanceNode'),
                action: function action(elm, d, i) {
                    treeDesigner.injectChanceNode(d);
                }
            });

            return menu;
        };

        var _this = _possibleConstructorReturn(this, (EdgeContextMenu.__proto__ || Object.getPrototypeOf(EdgeContextMenu)).call(this, menu));

        _this.treeDesigner = treeDesigner;
        return _this;
    }

    return EdgeContextMenu;
}(_contextMenu.ContextMenu);

},{"../d3":74,"../i18n/i18n":82,"./context-menu":125,"sd-utils":"sd-utils"}],127:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Layout = undefined;

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _sdUtils = require('sd-utils');

var _sdModel = require('sd-model');

var _d = require('../d3');

var d3 = _interopRequireWildcard(_d);

var _circle = require('./symbols/circle');

var _circle2 = _interopRequireDefault(_circle);

var _triangle = require('./symbols/triangle');

var _triangle2 = _interopRequireDefault(_triangle);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

function _interopRequireWildcard(obj) {
    if (obj && obj.__esModule) {
        return obj;
    } else {
        var newObj = {};if (obj != null) {
            for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
            }
        }newObj.default = obj;return newObj;
    }
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

/*Tree layout manager*/
var Layout = exports.Layout = function () {
    function Layout(treeDesigner, data, config) {
        _classCallCheck(this, Layout);

        this.nodeTypeToSymbol = {
            'decision': d3.symbolSquare,
            'chance': _circle2.default,
            "terminal": _triangle2.default
        };
        this.onAutoLayoutChanged = [];
        this.nodeTypeOrder = {
            'decision': 0,
            'chance': 0,
            'terminal': 1
        };
        this.treeMargin = 50;
        this.targetSymbolSize = {};

        this.nodeSeparation = function (a, b) {
            return a.parent == b.parent ? 1 : 1.2;
        };

        this.nodeSymbolSize = {};

        this.treeDesigner = treeDesigner;
        this.data = data;
        this.config = config;
    }

    _createClass(Layout, [{
        key: 'update',
        value: function update(node) {
            if (node && node.$parent) {
                node.$parent.childEdges.sort(function (a, b) {
                    return a.childNode.location.y - b.childNode.location.y;
                });
            }
            if (!this.isManualLayout()) {
                return this.autoLayout(this.config.type, true);
            }
            if (node) {
                this.moveNodeToEmptyPlace(node);
            }
        }
    }, {
        key: 'isManualLayout',
        value: function isManualLayout() {
            return this.config.type == Layout.MANUAL_LAYOUT_NAME;
        }
    }, {
        key: 'getNewChildLocation',
        value: function getNewChildLocation(parent) {
            var x = parent.location.x + this.config.gridWidth;
            var y = parent.location.y;
            if (parent.childEdges.length) {
                y = parent.childEdges[parent.childEdges.length - 1].childNode.location.y + 1;
            }

            return new _sdModel.domain.Point(x, y);
        }
    }, {
        key: 'getInjectedNodeLocation',
        value: function getInjectedNodeLocation(edge) {

            var p = edge.$linePoints[2];

            return new _sdModel.domain.Point(p[0], p[1]);
        }
    }, {
        key: 'moveNodeToEmptyPlace',
        value: function moveNodeToEmptyPlace(node) {
            var redrawIfChanged = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

            var positionMap = {};
            var self = this;
            node.location.x = Math.max(this.getNodeMinX(node), node.location.x);
            node.location.y = Math.max(this.getNodeMinY(node), node.location.y);

            this.nodesSortedByX = this.data.nodes.slice();
            this.nodesSortedByX.sort(function (a, b) {
                return a.location.x - b.location.x;
            });

            function findCollidingNode(node, location) {
                return _sdUtils.Utils.find(self.nodesSortedByX, function (n) {
                    if (node == n) {
                        return false;
                    }

                    var margin = self.config.nodeSize / 3;
                    var x = n.location.x;
                    var y = n.location.y;

                    return location.x - margin <= x && location.x + margin >= x && location.y - margin <= y && location.y + margin >= y;
                });
            }

            var stepX = this.config.nodeSize / 2;
            var stepY = this.config.nodeSize + 10;
            var stepXsameParent = 0;
            var stepYsameParent = 75;
            var changed = false;
            var colidingNode;
            var newLocation = new _sdModel.domain.Point(node.location);
            while (colidingNode = findCollidingNode(node, newLocation)) {
                changed = true;
                var sameParent = node.$parent && colidingNode.$parent && node.$parent == colidingNode.$parent;
                if (sameParent) {
                    newLocation.move(stepXsameParent, stepYsameParent);
                } else {
                    newLocation.move(stepX, stepY);
                }
            }
            if (changed) {
                node.moveTo(newLocation.x, newLocation.y, true);
                if (redrawIfChanged) {
                    this.treeDesigner.redraw(true);
                }
            }
        }
    }, {
        key: 'disableAutoLayout',
        value: function disableAutoLayout() {
            this.config.type = Layout.MANUAL_LAYOUT_NAME;
            this._fireOnAutoLayoutChangedCallbacks();
        }
    }, {
        key: 'drawNodeSymbol',
        value: function drawNodeSymbol(path, transition) {

            var self = this;
            var nodeSize = this.config.nodeSize;
            this.nodeSymbol = d3.symbol().type(function (d) {
                return self.nodeTypeToSymbol[d.type];
            }).size(function (d) {
                return self.nodeSymbolSize[d.$id] ? _sdUtils.Utils.get(self.targetSymbolSize, d.type + "['" + self.config.nodeSize + "']", 64) : 64;
            });

            path.each(function (d) {
                var path = d3.select(this);
                var prev = path.attr("d");
                if (!prev) {
                    path.attr("d", self.nodeSymbol);
                }
                var size = _sdUtils.Utils.get(self.targetSymbolSize, d.type + "['" + self.config.nodeSize + "']");
                if (!size) {
                    var box = path.node().getBBox();
                    var error = Math.min(nodeSize / box.width, nodeSize / box.height);
                    size = error * error * (self.nodeSymbolSize[d.$id] || 64);
                    _sdUtils.Utils.set(self.targetSymbolSize, d.type + "['" + self.config.nodeSize + "']", size);
                }
                if (transition) {
                    path = path.transition();
                } else {
                    self.nodeSymbolSize[d.$id] = size;
                }
                path.attr("d", self.nodeSymbol);
                if (transition) {
                    self.nodeSymbolSize[d.$id] = size;
                }
            });
        }
    }, {
        key: 'nodeLabelPosition',
        value: function nodeLabelPosition(selection) {
            return selection.attr('x', 0).attr('y', -this.config.nodeSize / 2 - 7);
        }
    }, {
        key: 'nodePayoffPosition',
        value: function nodePayoffPosition(selection) {
            return Layout.setHangingPosition(selection).attr('x', 0).attr('y', this.config.nodeSize / 2 + 7).attr('text-anchor', 'middle');
        }
    }, {
        key: 'nodeAggregatedPayoffPosition',
        value: function nodeAggregatedPayoffPosition(selection) {
            var fontSize = 12;
            return Layout.setHangingPosition(selection).attr('x', this.config.nodeSize / 2 + 7).attr('y', -Math.max(fontSize + 5, this.config.nodeSize / 2) + 5);

            // .attr('text-anchor', 'middle')
            // .attr('dominant-baseline', 'hanging')
        }
    }, {
        key: 'nodeProbabilityToEnterPosition',
        value: function nodeProbabilityToEnterPosition(selection) {
            var fontSize = 12;
            return selection.attr('x', this.config.nodeSize / 2 + 7).attr('y', Math.max(fontSize + 5, this.config.nodeSize / 2) - 5);
            // .attr('text-anchor', 'middle')
            // .attr('dominant-baseline', 'central')
        }
    }, {
        key: 'nodeIndicatorPosition',
        value: function nodeIndicatorPosition(selection) {
            return selection.attr('x', this.config.nodeSize / 2 + 8).attr('y', -this.config.nodeSize / 2).attr('dominant-baseline', 'central').attr('text-anchor', 'middle');
        }
    }, {
        key: 'edgeLineD',
        value: function edgeLineD(edge) {
            var line = d3.line().x(function (d) {
                return d[0];
            }).y(function (d) {
                return d[1];
            });
            // .curve(d3.curveCatmullRom.alpha(0.5));


            var parentNode = edge.parentNode;
            var childNode = edge.childNode;

            var dX = childNode.location.x - parentNode.location.x;
            var dY = childNode.location.y - parentNode.location.y;

            var sign = dX >= 0 ? 1 : -1;

            var slantStartXOffset = Math.min(dX / 2, this.config.nodeSize / 2 + 10);
            var slantWidth = Math.min(this.config.edgeSlantWidthMax, Math.max(dX / 2 - slantStartXOffset, 0));

            var point1 = [parentNode.location.x + this.config.nodeSize / 2 + 1, parentNode.location.y];
            var point2 = [Math.max(parentNode.location.x + slantStartXOffset, point1[0]), parentNode.location.y];
            var point3 = [parentNode.location.x + slantStartXOffset + slantWidth, childNode.location.y];
            var point4 = [childNode.location.x - sign * Math.max(0, Math.min(this.config.nodeSize / 2 + 8, dX / 2)), childNode.location.y];
            // var point2 = [parentNode.location.x+dX/2-slantWidth/2, parentNode.location.y];
            // var point3 = [childNode.location.x-(dX/2-slantWidth/2), childNode.location.y];

            edge.$linePoints = [point1, point2, point3, point4];
            return line(edge.$linePoints);
        }
    }, {
        key: 'edgePayoffPosition',
        value: function edgePayoffPosition(selection) {
            return Layout.setHangingPosition(selection).attr('x', function (d) {
                return d.$linePoints[2][0] + 2;
            }).attr('y', function (d) {
                return d.$linePoints[2][1] + 7;
            });
        }
    }, {
        key: 'edgeLabelPosition',
        value: function edgeLabelPosition(selection) {
            return selection.attr('transform', function (d) {
                return 'translate(' + (d.$linePoints[2][0] + 2) + ',' + (d.$linePoints[2][1] - 7) + ')';
            });
            // .attr('x', d=>d.$linePoints[2][0] + 2)
            // .attr('y', d=>d.$linePoints[2][1] - 7)
        }
    }, {
        key: 'edgeProbabilityPosition',
        value: function edgeProbabilityPosition(selection) {
            return Layout.setHangingPosition(selection).attr('x', function (d) {
                var len = d3.select(this).node().getComputedTextLength();
                var min = d.$linePoints[2][0] + 2 + d3.select(this.previousSibling).node().getBBox().width + 7 + len;
                return Math.max(min, d.$linePoints[3][0] - 8);
            }).attr('y', function (d) {
                return d.$linePoints[2][1] + 7;
            });
        }
    }, {
        key: 'getMinMarginBetweenNodes',
        value: function getMinMarginBetweenNodes() {
            return this.config.nodeSize + 30;
        }
    }, {
        key: 'getNodeMinX',
        value: function getNodeMinX(d) {
            var self = this;
            if (d && d.$parent) {
                // && !self.isNodeSelected(d.$parent)
                return d.$parent.location.x + self.getMinMarginBetweenNodes();
            }
            return self.config.nodeSize / 2;
        }
    }, {
        key: 'getNodeMinY',
        value: function getNodeMinY(d) {
            return this.config.nodeSize / 2;
        }
    }, {
        key: 'getNodeMaxX',
        value: function getNodeMaxX(d) {
            var self = this;
            if (d && d.childEdges.length) {
                return d3.min(d.childEdges, function (e) {
                    return e.childNode.location.x;
                }) - self.getMinMarginBetweenNodes();
            }
            return 9999999;
        }
    }, {
        key: 'setGridWidth',
        value: function setGridWidth(width, withoutStateSaving) {
            var self = this;
            if (this.config.gridWidth == width) {
                return;
            }
            if (!withoutStateSaving) {
                this.data.saveState({
                    data: {
                        gridWidth: self.config.gridWidth
                    },
                    onUndo: function onUndo(data) {
                        self.setGridWidth(data.gridWidth, true);
                    },
                    onRedo: function onRedo(data) {
                        self.setGridWidth(width, true);
                    }
                });
            }

            this.config.gridWidth = width;
            this.update();
        }
    }, {
        key: 'setGridHeight',
        value: function setGridHeight(gridHeight, withoutStateSaving) {
            var self = this;
            if (this.config.gridHeight == gridHeight) {
                return;
            }
            if (!withoutStateSaving) {
                this.data.saveState({
                    data: {
                        gridHeight: self.config.gridHeight
                    },
                    onUndo: function onUndo(data) {
                        self.setGridHeight(data.gridHeight, true);
                    },
                    onRedo: function onRedo(data) {
                        self.setGridHeight(gridHeight, true);
                    }
                });
            }

            this.config.gridHeight = gridHeight;
            this.update();
        }
    }, {
        key: 'setNodeSize',
        value: function setNodeSize(nodeSize, withoutStateSaving) {
            var self = this;
            if (this.config.nodeSize == nodeSize) {
                return;
            }
            if (!withoutStateSaving) {
                this.data.saveState({
                    data: {
                        nodeSize: self.config.nodeSize
                    },
                    onUndo: function onUndo(data) {
                        self.setNodeSize(data.nodeSize, true);
                    },
                    onRedo: function onRedo(data) {
                        self.setNodeSize(nodeSize, true);
                    }
                });
            }

            this.config.nodeSize = nodeSize;
            this.update();
            if (this.isManualLayout()) {
                this.fitNodesInPlottingRegion(self.data.getRoots());
                this.treeDesigner.redraw(true);
            }
        }
    }, {
        key: 'setEdgeSlantWidthMax',
        value: function setEdgeSlantWidthMax(width, withoutStateSaving) {
            var self = this;
            if (this.config.edgeSlantWidthMax == width) {
                return;
            }
            if (!withoutStateSaving) {
                this.data.saveState({
                    data: {
                        edgeSlantWidthMax: self.config.edgeSlantWidthMax
                    },
                    onUndo: function onUndo(data) {
                        self.setEdgeSlantWidthMax(data.edgeSlantWidthMax, true);
                    },
                    onRedo: function onRedo(data) {
                        self.setEdgeSlantWidthMax(width, true);
                    }
                });
            }

            this.config.edgeSlantWidthMax = width;
            this.treeDesigner.redraw(true);
        }
    }, {
        key: 'autoLayout',
        value: function autoLayout(type, withoutStateSaving) {
            var self = this;

            if (!withoutStateSaving) {
                this.data.saveState({
                    data: {
                        newLayout: type,
                        currentLayout: self.config.type
                    },
                    onUndo: function onUndo(data) {
                        self.config.type = data.currentLayout;
                        self._fireOnAutoLayoutChangedCallbacks();
                    },
                    onRedo: function onRedo(data) {
                        self.autoLayout(data.newLayout, true);
                    }
                });
            }
            this.config.type = type;
            if (!this.data.nodes.length) {
                this._fireOnAutoLayoutChangedCallbacks();
                return;
            }

            var prevTreeMaxY = self.getNodeMinY();
            this.data.getRoots().forEach(function (r) {
                var root = d3.hierarchy(r, function (d) {
                    return d.childEdges.map(function (e) {
                        return e.childNode;
                    });
                });

                // root.sort((a,b)=>self.nodeTypeOrder[a.data.type]-self.nodeTypeOrder[b.data.type]);
                root.sort(function (a, b) {
                    return a.data.location.y - b.data.location.y;
                });

                var layout;
                if (type == 'cluster') {
                    layout = d3.cluster();
                } else {
                    layout = d3.tree();
                }
                layout.nodeSize([self.config.gridHeight, self.config.gridWidth]);
                layout.separation(self.nodeSeparation);

                layout(root);
                var minY = 999999999;
                root.each(function (d) {
                    minY = Math.min(minY, d.x);
                });

                var dy = root.x - minY + prevTreeMaxY;
                var dx = self.getNodeMinX();
                var maxY = 0;
                root.each(function (d) {
                    d.data.location.x = d.y + dx;
                    d.data.location.y = d.x + dy;

                    maxY = Math.max(maxY, d.data.location.y);
                });

                prevTreeMaxY = maxY + self.config.nodeSize + self.treeMargin;
            });

            // this.transition = true;
            this.treeDesigner.redraw(true);
            // this.transition = false;

            this._fireOnAutoLayoutChangedCallbacks();
            return this;
        }
    }, {
        key: 'fitNodesInPlottingRegion',
        value: function fitNodesInPlottingRegion(nodes) {
            var self = this;
            var topY = d3.min(nodes, function (n) {
                return n.location.y;
            });
            var minY = self.getNodeMinY();
            var dy = topY - minY;

            var minX = d3.min(nodes, function (n) {
                return n.location.x;
            });
            var dx = minX - self.getNodeMinX();

            if (dy < 0 || dx < 0) {
                nodes.forEach(function (n) {
                    return n.move(-dx, -dy);
                });
            }
        }
    }, {
        key: 'moveNodes',
        value: function moveNodes(nodes, dx, dy, pivot) {
            var self = this;
            var limit = self.config.limitNodePositioning;
            if (limit) {
                if (dx < 0) {
                    nodes.sort(function (a, b) {
                        return a.location.x - b.location.x;
                    });
                } else {
                    nodes.sort(function (a, b) {
                        return b.location.x - a.location.x;
                    });
                }
            }

            var minY = d3.min(nodes, function (d) {
                return d.location.y;
            });
            if (minY + dy < self.getNodeMinY()) {
                dy = self.getNodeMinY() - minY;
            }

            nodes.forEach(function (d) {
                if (limit) {
                    Layout.backupNodeLocation(d);
                    var minX = self.getNodeMinX(d);
                    var maxX = self.getNodeMaxX(d);

                    d.location.x = Math.min(Math.max(d.location.x + dx, minX), maxX);
                    d.location.y += dy;
                } else {
                    d.location.x += dx;
                    d.location.y += dy;
                }
            });

            var revertX = pivot && self.config.limitNodePositioning && pivot.location.x == pivot.$location.x;

            nodes.forEach(function (d) {
                if (revertX) {
                    d.location.x = d.$location.x;
                }
                self.treeDesigner.updateNodePosition(d);
            });
        }
    }, {
        key: '_fireOnAutoLayoutChangedCallbacks',
        value: function _fireOnAutoLayoutChangedCallbacks() {
            var _this = this;

            this.onAutoLayoutChanged.forEach(function (c) {
                return c(_this.config.type);
            });
        }
    }], [{
        key: 'backupNodeLocation',
        value: function backupNodeLocation(node) {
            node.$location = new _sdModel.domain.Point(node.location);
        }
    }, {
        key: 'setHangingPosition',
        value: function setHangingPosition(selection) {
            // window.setTimeout(function(){
            //     selection.each(function(){
            //         var h =  this.getBBox().height;
            //         d3.select(this).attr('dy', h);
            //     });
            // },0);
            selection.each(function () {
                var h = this.getBBox().height;
                d3.select(this).attr('dy', '0.75em');
            });

            return selection;
        }
    }]);

    return Layout;
}();

Layout.MANUAL_LAYOUT_NAME = 'manual';

},{"../d3":74,"./symbols/circle":131,"./symbols/triangle":132,"sd-model":"sd-model","sd-utils":"sd-utils"}],128:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.MainContextMenu = undefined;

var _contextMenu = require('./context-menu');

var _sdUtils = require('sd-utils');

var _sdModel = require('sd-model');

var _d = require('../d3');

var d3 = _interopRequireWildcard(_d);

var _i18n = require('../i18n/i18n');

function _interopRequireWildcard(obj) {
    if (obj && obj.__esModule) {
        return obj;
    } else {
        var newObj = {};if (obj != null) {
            for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
            }
        }newObj.default = obj;return newObj;
    }
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

function _possibleConstructorReturn(self, call) {
    if (!self) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }return call && ((typeof call === 'undefined' ? 'undefined' : _typeof(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === 'undefined' ? 'undefined' : _typeof(superClass)));
    }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var MainContextMenu = exports.MainContextMenu = function (_ContextMenu) {
    _inherits(MainContextMenu, _ContextMenu);

    function MainContextMenu(treeDesigner) {
        _classCallCheck(this, MainContextMenu);

        var mousePosition = null;
        var menu = function menu(d) {

            var menu = [];
            menu.push({
                title: _i18n.i18n.t('contextMenu.main.addDecisionNode'),
                action: function action(elm, d, i) {
                    var newNode = new _sdModel.domain.DecisionNode(mousePosition);
                    treeDesigner.addNode(newNode);
                }
            });
            menu.push({
                title: _i18n.i18n.t('contextMenu.main.addChanceNode'),
                action: function action(elm, d, i) {
                    var newNode = new _sdModel.domain.ChanceNode(mousePosition);
                    treeDesigner.addNode(newNode);
                }
            });
            menu.push({ divider: true });
            menu.push({
                title: _i18n.i18n.t('contextMenu.main.addText'),
                action: function action(elm, d, i) {
                    var newText = new _sdModel.domain.Text(mousePosition);
                    treeDesigner.addText(newText);
                }

            });
            menu.push({ divider: true });
            menu.push({
                title: _i18n.i18n.t('contextMenu.main.paste'),
                action: function action(elm, d, i) {
                    treeDesigner.pasteToNewLocation(mousePosition);
                },
                disabled: !treeDesigner.copiedNodes || !treeDesigner.copiedNodes.length

            });
            menu.push({ divider: true });

            menu.push({
                title: _i18n.i18n.t('contextMenu.main.selectAllNodes'),
                action: function action(elm, d, i) {
                    treeDesigner.selectAllNodes();
                }
            });
            return menu;
        };

        var _this = _possibleConstructorReturn(this, (MainContextMenu.__proto__ || Object.getPrototypeOf(MainContextMenu)).call(this, menu, { onOpen: function onOpen() {
                treeDesigner.clearSelection();
                mousePosition = new _sdModel.domain.Point(d3.mouse(treeDesigner.svg.node())).move(treeDesigner.getMainGroupTranslation(true));
            } }));

        _this.treeDesigner = treeDesigner;
        return _this;
    }

    return MainContextMenu;
}(_contextMenu.ContextMenu);

},{"../d3":74,"../i18n/i18n":82,"./context-menu":125,"sd-model":"sd-model","sd-utils":"sd-utils"}],129:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.NodeContextMenu = undefined;

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _contextMenu = require('./context-menu');

var _sdUtils = require('sd-utils');

var _sdModel = require('sd-model');

var _d = require('../d3');

var d3 = _interopRequireWildcard(_d);

var _i18n = require('../i18n/i18n');

function _interopRequireWildcard(obj) {
    if (obj && obj.__esModule) {
        return obj;
    } else {
        var newObj = {};if (obj != null) {
            for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
            }
        }newObj.default = obj;return newObj;
    }
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

function _possibleConstructorReturn(self, call) {
    if (!self) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }return call && ((typeof call === "undefined" ? "undefined" : _typeof(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === "undefined" ? "undefined" : _typeof(superClass)));
    }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var NodeContextMenu = exports.NodeContextMenu = function (_ContextMenu) {
    _inherits(NodeContextMenu, _ContextMenu);

    function NodeContextMenu(treeDesigner, operationsForObject) {
        _classCallCheck(this, NodeContextMenu);

        var menu = function menu(d) {

            var copyMenuItem = {
                title: _i18n.i18n.t('contextMenu.node.copy'),
                action: function action(elm, d, i) {
                    treeDesigner.selectNode(d, !treeDesigner.isNodeSelected(d));
                    treeDesigner.copySelectedNodes();
                }
            };
            var cutMenuItem = {
                title: _i18n.i18n.t('contextMenu.node.cut'),
                action: function action(elm, d, i) {
                    treeDesigner.selectNode(d, !treeDesigner.isNodeSelected(d));
                    treeDesigner.cutSelectedNodes();
                }
            };
            var pasteMenuItem = {
                title: _i18n.i18n.t('contextMenu.node.paste'),
                action: function action(elm, d, i) {
                    treeDesigner.pasteToNode(d);
                },
                disabled: !treeDesigner.copiedNodes || !treeDesigner.copiedNodes.length

            };
            var deleteMenuItem = {
                title: _i18n.i18n.t('contextMenu.node.delete'),
                action: function action(elm, d, i) {

                    treeDesigner.selectNode(d, !treeDesigner.isNodeSelected(d));
                    treeDesigner.removeSelectedNodes();
                }
            };
            var menu = [];
            if (d.type == _sdModel.domain.TerminalNode.$TYPE) {
                menu = [copyMenuItem, cutMenuItem, deleteMenuItem];
                NodeContextMenu.addNodeConversionOptions(d, menu, treeDesigner);
                return menu;
            }
            menu.push({
                title: _i18n.i18n.t('contextMenu.node.addDecisionNode'),
                action: function action(elm, d, i) {
                    treeDesigner.addDecisionNode(d);
                }
            });
            menu.push({
                title: _i18n.i18n.t('contextMenu.node.addChanceNode'),
                action: function action(elm, d, i) {
                    treeDesigner.addChanceNode(d);
                }
            });
            menu.push({
                title: _i18n.i18n.t('contextMenu.node.addTerminalNode'),
                action: function action(elm, d, i) {
                    treeDesigner.addTerminalNode(d);
                }
            });
            menu.push({ divider: true });
            menu.push(copyMenuItem);
            menu.push(cutMenuItem);
            menu.push(pasteMenuItem);
            menu.push(deleteMenuItem);

            NodeContextMenu.addNodeConversionOptions(d, menu, treeDesigner);
            menu.push({ divider: true });
            menu.push({
                title: _i18n.i18n.t('contextMenu.node.selectSubtree'),
                action: function action(elm, d, i) {
                    treeDesigner.selectSubTree(d, true);
                }
            });

            if (operationsForObject) {
                var operations = operationsForObject(d);
                if (operations.length) {
                    menu.push({ divider: true });
                    operations.forEach(function (op) {
                        menu.push({
                            title: _i18n.i18n.t('contextMenu.node.' + op.name),
                            action: function action(elm, d, i) {
                                treeDesigner.performOperation(d, op);
                            },
                            disabled: !op.canPerform(d)
                        });
                    });
                }
            }

            return menu;
        };

        var _this = _possibleConstructorReturn(this, (NodeContextMenu.__proto__ || Object.getPrototypeOf(NodeContextMenu)).call(this, menu));

        _this.treeDesigner = treeDesigner;
        return _this;
    }

    _createClass(NodeContextMenu, null, [{
        key: 'addNodeConversionOptions',
        value: function addNodeConversionOptions(d, menu, treeDesigner) {
            var conversionOptions = NodeContextMenu.getNodeConversionOptions(d, treeDesigner);
            if (conversionOptions.length) {
                menu.push({ divider: true });
                conversionOptions.forEach(function (o) {
                    return menu.push(o);
                });
            }
        }
    }, {
        key: 'getNodeConversionOptions',
        value: function getNodeConversionOptions(d, treeDesigner) {
            var options = [];
            var allAllowedTypes = [_sdModel.domain.DecisionNode.$TYPE, _sdModel.domain.ChanceNode.$TYPE, _sdModel.domain.TerminalNode.$TYPE];

            if (!d.childEdges.length && d.$parent) {
                allAllowedTypes.filter(function (t) {
                    return t !== d.type;
                }).forEach(function (type) {
                    options.push(NodeContextMenu.getNodeConversionOption(type, treeDesigner));
                });
            } else {
                if (d instanceof _sdModel.domain.DecisionNode) {
                    options.push(NodeContextMenu.getNodeConversionOption(_sdModel.domain.ChanceNode.$TYPE, treeDesigner));
                } else {
                    options.push(NodeContextMenu.getNodeConversionOption(_sdModel.domain.DecisionNode.$TYPE, treeDesigner));
                }
            }
            return options;
        }
    }, {
        key: 'getNodeConversionOption',
        value: function getNodeConversionOption(typeToConvertTo, treeDesigner) {
            return {
                title: _i18n.i18n.t('contextMenu.node.convert.' + typeToConvertTo),
                action: function action(elm, d, i) {
                    treeDesigner.convertNode(d, typeToConvertTo);
                }
            };
        }
    }]);

    return NodeContextMenu;
}(_contextMenu.ContextMenu);

},{"../d3":74,"../i18n/i18n":82,"./context-menu":125,"sd-model":"sd-model","sd-utils":"sd-utils"}],130:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.NodeDragHandler = undefined;

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _appUtils = require('../app-utils');

var _d = require('../d3');

var d3 = _interopRequireWildcard(_d);

var _contextMenu = require('./context-menu');

function _interopRequireWildcard(obj) {
    if (obj && obj.__esModule) {
        return obj;
    } else {
        var newObj = {};if (obj != null) {
            for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
            }
        }newObj.default = obj;return newObj;
    }
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

var NodeDragHandler = exports.NodeDragHandler = function () {
    function NodeDragHandler(treeDesigner, data) {
        _classCallCheck(this, NodeDragHandler);

        this.treeDesigner = treeDesigner;
        this.data = data;

        var self = this;
        this.drag = d3.drag().subject(function (d) {
            if (d == null) {
                return {
                    x: event.x,
                    y: event.y
                };
            }
            var t = d3.select(this);
            return {
                x: t.attr("x") + _appUtils.AppUtils.getTranslation(t.attr("transform"))[0],
                y: t.attr("y") + _appUtils.AppUtils.getTranslation(t.attr("transform"))[1]
            };
        }).on("start", function (d) {
            self.dragStarted.call(this, d, self);
        }).on("drag", function (d) {
            self.onDrag.call(this, d, self);
        }).on("end", function (d) {
            self.dragEnded.call(this, d, self);
        });
    }

    _createClass(NodeDragHandler, [{
        key: 'dragStarted',
        value: function dragStarted(d, self) {
            if (self.ignoreDrag) {
                self.ignoreDrag = false;
                self.ignoredDrag = true;
                return;
            }
            self.ignoredDrag = false;

            // self.treeDesigner.layout.disableAutoLayout();
            _contextMenu.ContextMenu.hide();
            var node = d3.select(this);
            if (!node.classed("selected")) {
                self.treeDesigner.clearSelection();
            }

            self.treeDesigner.selectNode(d);
            node.classed("selected dragging", true);
            self.selectedNodes = self.treeDesigner.getSelectedNodes();
            self.prevDragEvent = d3.event;
            self.dragEventCount = 0;
        }
    }, {
        key: 'onDrag',
        value: function onDrag(draggedNode, self) {
            if (self.ignoredDrag) {
                return;
            }

            if (self.dragEventCount == 2) {
                self.data.saveState();
            }
            self.dragEventCount++;
            if (self.selectedNodes.length > 5 && self.dragEventCount % 2 != 1) {
                return;
            }

            var dx = d3.event.x - self.prevDragEvent.x;
            var dy = d3.event.y - self.prevDragEvent.y;
            self.treeDesigner.layout.moveNodes(self.selectedNodes, dx, dy, draggedNode);

            self.prevDragEvent = d3.event;
            self.treeDesigner.redrawEdges();
            self.treeDesigner.updatePlottingRegionSize();
        }
    }, {
        key: 'dragEnded',
        value: function dragEnded(draggedNode, self) {
            var node = d3.select(this).classed("dragging", false);
            if (self.ignoredDrag) {
                return;
            }
            self.treeDesigner.layout.update(draggedNode);
        }
    }, {
        key: 'cancelDrag',
        value: function cancelDrag() {
            this.ignoreDrag = true;
        }
    }]);

    return NodeDragHandler;
}();

},{"../app-utils":70,"../d3":74,"./context-menu":125}],131:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
        value: true
});
var epsilon = 1e-12;
var pi = Math.PI;
var halfPi = pi / 2;
var tau = 2 * pi;

exports.default = {
        /*draw: function(context, size) {
            var r = Math.sqrt(size / pi);
            context.moveTo(r, 0);
            context.arc(0, 0, r, 0, tau);
        }*/
        draw: function draw(context, size) {

                var r = Math.sqrt(size / pi);
                var dist = 0.552284749831 * r;

                context.moveTo(-r, 0);
                // context.lineTo(2*r, 2*r)
                // context.bezierCurveTo(-r, -dist, -dist, -r, 0,-r);
                context.bezierCurveTo(-r, -dist, -dist, -r, 0, -r);

                context.bezierCurveTo(dist, -r, r, -dist, r, 0);

                context.bezierCurveTo(r, dist, dist, r, 0, r);

                context.bezierCurveTo(-dist, r, -r, dist, -r, 0);
        }
};

},{}],132:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
var sqrt3 = Math.sqrt(3);

exports.default = {
    draw: function draw(context, size) {
        var r = Math.sqrt(size / Math.PI);
        context.moveTo(-r, 0);
        context.lineTo(0.9 * r, -r);
        context.lineTo(0.9 * r, r);
        context.closePath();
    }
};

},{}],133:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.TextContextMenu = undefined;

var _contextMenu = require('./context-menu');

var _sdUtils = require('sd-utils');

var _d = require('../d3');

var d3 = _interopRequireWildcard(_d);

var _i18n = require('../i18n/i18n');

function _interopRequireWildcard(obj) {
    if (obj && obj.__esModule) {
        return obj;
    } else {
        var newObj = {};if (obj != null) {
            for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
            }
        }newObj.default = obj;return newObj;
    }
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

function _possibleConstructorReturn(self, call) {
    if (!self) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }return call && ((typeof call === 'undefined' ? 'undefined' : _typeof(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === 'undefined' ? 'undefined' : _typeof(superClass)));
    }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var TextContextMenu = exports.TextContextMenu = function (_ContextMenu) {
    _inherits(TextContextMenu, _ContextMenu);

    function TextContextMenu(treeDesigner) {
        _classCallCheck(this, TextContextMenu);

        var menu = function menu(d) {

            var deleteMenuItem = {
                title: _i18n.i18n.t('contextMenu.text.delete'),
                action: function action(elm, d, i) {

                    treeDesigner.selectText(d, true, true);
                    treeDesigner.removeSelectedTexts();
                }
            };
            var menu = [];
            menu.push(deleteMenuItem);
            return menu;
        };

        var _this = _possibleConstructorReturn(this, (TextContextMenu.__proto__ || Object.getPrototypeOf(TextContextMenu)).call(this, menu));

        _this.treeDesigner = treeDesigner;
        return _this;
    }

    return TextContextMenu;
}(_contextMenu.ContextMenu);

},{"../d3":74,"../i18n/i18n":82,"./context-menu":125,"sd-utils":"sd-utils"}],134:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.TextDragHandler = undefined;

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _appUtils = require('../app-utils');

var _d = require('../d3');

var d3 = _interopRequireWildcard(_d);

var _contextMenu = require('./context-menu');

function _interopRequireWildcard(obj) {
    if (obj && obj.__esModule) {
        return obj;
    } else {
        var newObj = {};if (obj != null) {
            for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
            }
        }newObj.default = obj;return newObj;
    }
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

var TextDragHandler = exports.TextDragHandler = function () {
    function TextDragHandler(treeDesigner, data) {
        _classCallCheck(this, TextDragHandler);

        this.treeDesigner = treeDesigner;
        this.data = data;

        var self = this;
        this.drag = d3.drag().subject(function (d) {
            if (d == null) {
                return {
                    x: event.x,
                    y: event.y
                };
            }
            var t = d3.select(this);
            return {
                x: t.attr("x") + _appUtils.AppUtils.getTranslation(t.attr("transform"))[0],
                y: t.attr("y") + _appUtils.AppUtils.getTranslation(t.attr("transform"))[1]
            };
        }).on("start", function (d) {
            self.dragStarted.call(this, d, self);
        }).on("drag", function (d) {
            self.onDrag.call(this, d, self);
        }).on("end", function (d) {
            self.dragEnded.call(this, d, self);
        });
    }

    _createClass(TextDragHandler, [{
        key: 'dragStarted',
        value: function dragStarted(d, self) {
            // self.treeDesigner.layout.disableAutoLayout();
            _contextMenu.ContextMenu.hide();
            var text = d3.select(this);
            if (!text.classed("selected")) {
                self.treeDesigner.clearSelection();
            }

            self.treeDesigner.selectText(d);
            text.classed("selected dragging", true);
            self.selectedNodes = self.treeDesigner.getSelectedNodes();
            self.prevDragEvent = d3.event;
            self.dragEventCount = 0;
        }
    }, {
        key: 'onDrag',
        value: function onDrag(draggedText, self) {
            if (self.dragEventCount == 2) {
                self.data.saveState();
            }
            self.dragEventCount++;

            var dx = d3.event.x - self.prevDragEvent.x;
            var dy = d3.event.y - self.prevDragEvent.y;

            draggedText.location.move(dx, dy);
            self.treeDesigner.updateTextPosition(draggedText);

            self.prevDragEvent = d3.event;
            self.treeDesigner.updatePlottingRegionSize();
        }
    }, {
        key: 'dragEnded',
        value: function dragEnded(draggedNode, self) {
            d3.select(this).classed("dragging", false);
        }
    }]);

    return TextDragHandler;
}();

},{"../app-utils":70,"../d3":74,"./context-menu":125}],135:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.TreeDesigner = exports.TreeDesignerConfig = undefined;

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _d = require('../d3');

var d3 = _interopRequireWildcard(_d);

var _sdUtils = require('sd-utils');

var _appUtils = require('../app-utils');

var _sdModel = require('sd-model');

var _contextMenu = require('./context-menu');

var _mainContextMenu = require('./main-context-menu');

var _nodeContextMenu = require('./node-context-menu');

var _layout = require('./layout');

var _nodeDragHandler = require('./node-drag-handler');

var _tooltip = require('../tooltip');

var _templates = require('../templates');

var _textDragHandler = require('./text-drag-handler');

var _textContextMenu = require('./text-context-menu');

var _edgeContextMenu = require('./edge-context-menu');

var _hammerjs = require('hammerjs');

var Hammer = _interopRequireWildcard(_hammerjs);

var _i18n = require('../i18n/i18n');

function _interopRequireWildcard(obj) {
    if (obj && obj.__esModule) {
        return obj;
    } else {
        var newObj = {};if (obj != null) {
            for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
            }
        }newObj.default = obj;return newObj;
    }
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

var TreeDesignerConfig = exports.TreeDesignerConfig = function TreeDesignerConfig(custom) {
    _classCallCheck(this, TreeDesignerConfig);

    this.width = undefined;
    this.height = undefined;
    this.margin = {
        left: 25,
        right: 25,
        top: 25,
        bottom: 25
    };
    this.layout = {
        type: 'tree',
        nodeSize: 40,
        limitNodePositioning: true,
        gridHeight: 75,
        gridWidth: 150,
        edgeSlantWidthMax: 20
    };
    this.fontFamily = 'sans-serif';
    this.fontSize = '12px';
    this.fontWeight = 'normal';
    this.fontStyle = 'normal';
    this.node = {
        strokeWidth: '1px',
        optimal: {
            stroke: '#006f00',
            strokeWidth: '1.5px'
        },
        label: {
            fontSize: '1em',
            color: 'black'
        },
        payoff: {
            fontSize: '1em',
            color: 'black',
            negativeColor: '#b60000'
        },
        decision: {
            fill: '#ff7777',
            stroke: '#660000',

            selected: {
                fill: '#aa3333'
            }
        },
        chance: {
            fill: '#ffff44',
            stroke: '#666600',

            selected: {
                fill: '#aaaa00'
            }
        },
        terminal: {
            fill: '#44ff44',
            stroke: 'black',
            selected: {
                fill: '#00aa00'
            },
            payoff: {
                fontSize: '1em',
                color: 'black',
                negativeColor: '#b60000'
            }
        }
    };
    this.edge = {
        stroke: '#424242',
        strokeWidth: '1.5',
        optimal: {
            stroke: '#006f00',
            strokeWidth: '2.4'
        },
        selected: {
            stroke: '#045ad1',
            strokeWidth: '3.5'
        },
        label: {
            fontSize: '1em',
            color: 'back'
        },
        payoff: {
            fontSize: '1em',
            color: 'black',
            negativeColor: '#b60000'
        }

    };
    this.probability = {
        fontSize: '1em',
        color: '#0000d7'
    };
    this.title = {
        fontSize: '16px',
        fontWeight: 'bold',
        fontStyle: 'normal',
        color: '#000000',
        margin: {
            top: 15,
            bottom: 10
        }
    };
    this.description = {
        show: true,
        fontSize: '12px',
        fontWeight: 'bold',
        fontStyle: 'normal',
        color: '#000000',
        margin: {
            top: 5,
            bottom: 10
        }
    };
    this.$readOnly = false;
    this.disableAnimations = false;
    this.forceFullEdgeRedraw = false;
    this.hideLabels = false;
    this.hidePayoffs = false;
    this.hideProbabilities = false;
    this.raw = false;

    this.payoffNumberFormatter = function (v) {
        return v;
    };

    this.probabilityNumberFormatter = function (v) {
        return v;
    };

    this.onNodeSelected = function (node) {};

    this.onEdgeSelected = function (edge) {};

    this.onTextSelected = function (text) {};

    this.onSelectionCleared = function () {};

    this.operationsForObject = function (o) {
        return [];
    };

    if (custom) {
        _sdUtils.Utils.deepExtend(this, custom);
    }
};

var TreeDesigner = exports.TreeDesigner = function () {
    function TreeDesigner(container, dataModel, config) {
        _classCallCheck(this, TreeDesigner);

        this.setConfig(config);
        this.data = dataModel;
        this.initContainer(container);
        this.init();
    } //data model manager


    _createClass(TreeDesigner, [{
        key: 'setConfig',
        value: function setConfig(config) {
            this.config = new TreeDesignerConfig(config);
            if (this.layout) {
                this.layout.config = this.config.layout;
            }
            this.updateCustomStyles();
            return this;
        }
    }, {
        key: 'init',
        value: function init() {

            this.initSvg();
            this.initLayout();

            this.initBrush();
            this.initEdgeMarkers();

            this.updateCustomStyles();
            if (!this.config.$readOnly) {
                this.initMainContextMenu();
                this.initNodeContextMenu();
                this.initEdgeContextMenu();
                this.initNodeDragHandler();
                this.initTextDragHandler();
                this.initTextContextMenu();
            }
            this.redraw();
        }
    }, {
        key: 'updateCustomStyles',
        value: function updateCustomStyles() {
            d3.select('head').selectOrAppend('style#sd-tree-designer-style').html(_templates.Templates.get('treeDesignerStyles', this.config));
            return this;
        }
    }, {
        key: 'initLayout',
        value: function initLayout() {
            this.layout = new _layout.Layout(this, this.data, this.config.layout);
        }
    }, {
        key: 'initNodeDragHandler',
        value: function initNodeDragHandler() {
            this.nodeDragHandler = new _nodeDragHandler.NodeDragHandler(this, this.data);
        }
    }, {
        key: 'initTextDragHandler',
        value: function initTextDragHandler() {
            this.textDragHandler = new _textDragHandler.TextDragHandler(this, this.data);
        }
    }, {
        key: 'redraw',
        value: function redraw() {
            var withTransitions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

            var self = this;
            withTransitions = !self.config.disableAnimations && withTransitions;
            this.redrawDiagramTitle();
            this.redrawDiagramDescription();
            this.updateMargin(withTransitions);
            if (withTransitions) {
                self.transitionPrev = self.transition;
                self.transition = true;
            }
            this.redrawNodes();
            this.redrawEdges();
            this.redrawFloatingTexts();
            this.updateValidationMessages();
            if (withTransitions) {
                self.transition = self.transitionPrev;
            }
            setTimeout(function () {
                self.updatePlottingRegionSize();
            }, 10);

            return this;
        }
    }, {
        key: 'computeAvailableSpace',
        value: function computeAvailableSpace() {
            this.availableHeight = _appUtils.AppUtils.sanitizeHeight(this.config.height, this.container, this.config.margin);
            this.availableWidth = _appUtils.AppUtils.sanitizeWidth(this.config.width, this.container, this.config.margin);
        }
    }, {
        key: 'initSvg',
        value: function initSvg() {
            var c = this;
            var self = this;
            this.computeAvailableSpace();
            this.svg = this.container.selectOrAppend('svg.tree-designer');
            this.svg.attr('width', this.availableWidth).attr('height', this.availableHeight);

            this.mainGroup = this.svg.selectOrAppend('g.main-group');
            this.updateMargin();

            if (!this.config.width) {
                d3.select(window).on("resize.tree-designer", function () {
                    self.updatePlottingRegionSize();
                    self.redrawDiagramTitle();
                });
            }

            var mc = new Hammer.Manager(this.svg.node(), { touchAction: 'auto' });
            mc.add(new Hammer.Press({
                pointerType: 'touch'
            }));

            mc.add(new Hammer.Pinch({
                pointerType: 'touch'
            }));

            var cancel;
            mc.on('pinchstart', function () {
                self.disableBrush();
            });
            mc.on('pinch', function () {
                cancel = _sdUtils.Utils.waitForFinalEvent(function () {
                    return self.enableBrush();
                }, 'pinchend', 5000);
            });
        }
    }, {
        key: 'updateMargin',
        value: function updateMargin(withTransitions) {
            var self = this;
            var margin = this.config.margin;
            var group = this.mainGroup;
            if (withTransitions) {
                group = group.transition();
            }

            this.topMargin = margin.top;
            if (this.diagramTitle || this.diagramDescription) {
                this.topMargin = parseInt(this.diagramTitle ? this.config.title.margin.top : 0) + this.getTitleGroupHeight() + Math.max(this.topMargin, parseInt(this.config.title.margin.bottom));
            }

            group.attr("transform", "translate(" + margin.left + "," + this.topMargin + ")").on("end", function () {
                return self.updatePlottingRegionSize();
            });
        }
    }, {
        key: 'setMargin',
        value: function setMargin(margin, withoutStateSaving) {
            var self = this;
            if (!withoutStateSaving) {
                this.data.saveState({
                    data: {
                        margin: _sdUtils.Utils.clone(self.config.margin)
                    },
                    onUndo: function onUndo(data) {
                        self.setMargin(data.margin, true);
                    },
                    onRedo: function onRedo(data) {
                        self.setMargin(margin, true);
                    }
                });
            }
            _sdUtils.Utils.deepExtend(this.config.margin, margin);
            this.redrawDiagramTitle();
            this.updateMargin(true);
        }
    }, {
        key: 'initContainer',
        value: function initContainer(container) {
            this.container = container;
        }
    }, {
        key: 'updatePlottingRegionSize',
        value: function updatePlottingRegionSize() {
            var changed = false;
            this.computeAvailableSpace();
            var margin = this.config.margin;
            var svgWidth = this.svg.attr('width');
            var svgHeight = this.svg.attr('height');
            var mainGroupBox = this.mainGroup.node().getBBox();
            var newSvgWidth = mainGroupBox.width + mainGroupBox.x + margin.left + margin.right;
            this.container.classed('with-overflow-x', newSvgWidth >= this.availableWidth);
            newSvgWidth = Math.max(newSvgWidth, this.availableWidth);
            if (svgWidth != newSvgWidth) {
                changed = true;
                this.svg.attr('width', newSvgWidth);
            }
            var newSvgHeight = mainGroupBox.height + mainGroupBox.y + this.topMargin + margin.bottom;

            this.container.classed('with-overflow-y', newSvgHeight >= this.availableHeight);
            newSvgHeight = Math.max(newSvgHeight, this.availableHeight);
            if (svgHeight != newSvgHeight) {
                changed = true;
                this.svg.attr('height', newSvgHeight);
            }
            if (changed) {
                this.updateBrushExtent();
            }
        }
    }, {
        key: 'redrawNodes',
        value: function redrawNodes() {
            var self = this;

            var nodesContainer = this.mainGroup.selectOrAppend('g.nodes');
            var nodes = nodesContainer.selectAll('.node').data(this.data.nodes, function (d, i) {
                return d.$id;
            });
            nodes.exit().remove();
            var nodesEnter = nodes.enter().append('g').attr('id', function (d) {
                return 'node-' + d.$id;
            }).attr('class', function (d) {
                return d.type + '-node node';
            }).attr('transform', function (d) {
                return 'translate(' + d.location.x + '  ' + d.location.y + ')';
            });
            nodesEnter.append('path');

            var labelEnter = nodesEnter.append('text').attr('class', 'label');
            var payoffEnter = nodesEnter.append('text').attr('class', 'payoff computed');
            var indicatorEnter = nodesEnter.append('text').attr('class', 'error-indicator').text('!!');
            var aggregatedPayoffEnter = nodesEnter.append('text').attr('class', 'aggregated-payoff');
            var probabilityToEnterEnter = nodesEnter.append('text').attr('class', 'probability-to-enter');

            var nodesMerge = nodesEnter.merge(nodes);
            nodesMerge.classed('optimal', function (d) {
                return self.isOptimal(d);
            });

            var nodesMergeT = nodesMerge;
            if (this.transition) {
                nodesMergeT = nodesMerge.transition();
                nodesMergeT.on('end', function () {
                    return self.updatePlottingRegionSize();
                });
            }
            nodesMergeT.attr('transform', function (d) {
                return 'translate(' + d.location.x + '  ' + d.location.y + ')';
            });

            var path = nodesMerge.select('path');
            this.layout.drawNodeSymbol(path, this.transition);

            /*path
                .style('fill', d=> {
                    // if(self.isNodeSelected(d)){
                    //     return self.config.node[d.type].selected.fill
                    // }
                    return self.config.node[d.type].fill
                })
                .style('stroke', d=> self.config.node[d.type].stroke)
                .style('stroke-width', d=> {
                    if(self.config.node[d.type].strokeWidth!==undefined){
                        return self.config.node[d.type].strokeWidth;
                    }
                    return self.config.node.strokeWidth;
                });
            */
            this.layout.nodeLabelPosition(labelEnter);
            var labelMerge = nodesMerge.select('text.label');
            labelMerge.classed('sd-hidden', this.config.hideLabels);
            var labelMergeT = nodesMergeT.select('text.label');
            labelMergeT.each(this.updateTextLines);
            this.layout.nodeLabelPosition(labelMergeT).attr('text-anchor', 'middle');

            var payoff = nodesMerge.select('text.payoff')
            // .attr('dominant-baseline', 'hanging')
            .classed('negative', function (d) {
                var val = d.displayValue('childrenPayoff');
                return val !== null && val < 0;
            }).classed('sd-hidden', this.config.hidePayoffs || this.config.raw).text(function (d) {
                var val = d.displayValue('childrenPayoff');
                return val !== null ? isNaN(val) ? val : self.config.payoffNumberFormatter(val) : '';
            });

            _tooltip.Tooltip.attach(payoff, function (d) {
                return _i18n.i18n.t('tooltip.node.payoff', { value: d.payoff });
            });

            var payoffT = payoff;
            if (this.transition) {
                payoffT = payoff.transition();
            }

            this.layout.nodePayoffPosition(payoffEnter);
            this.layout.nodePayoffPosition(payoffT);

            var aggregatedPayoff = nodesMerge.select('text.aggregated-payoff').classed('negative', function (d) {
                var val = d.displayValue('aggregatedPayoff');
                return val !== null && val < 0;
            }).classed('sd-hidden', this.config.hidePayoffs || this.config.raw).text(function (d) {
                var val = d.displayValue('aggregatedPayoff');
                return val !== null ? isNaN(val) ? val : self.config.payoffNumberFormatter(val) : '';
            });
            _tooltip.Tooltip.attach(aggregatedPayoff, _i18n.i18n.t('tooltip.node.aggregatedPayoff'));

            var aggregatedPayoffT = aggregatedPayoff;
            if (this.transition) {
                aggregatedPayoffT = aggregatedPayoff.transition();
            }

            this.layout.nodeAggregatedPayoffPosition(aggregatedPayoffEnter);
            this.layout.nodeAggregatedPayoffPosition(aggregatedPayoffT);

            var probabilityToEnter = nodesMerge.select('text.probability-to-enter').text(function (d) {
                var val = d.displayValue('probabilityToEnter');
                return val !== null ? isNaN(val) ? val : self.config.probabilityNumberFormatter(val) : '';
            }).classed('sd-hidden', this.config.hideProbabilities || this.config.raw);
            _tooltip.Tooltip.attach(probabilityToEnter, _i18n.i18n.t('tooltip.node.probabilityToEnter'));

            var probabilityToEnterT = probabilityToEnter;
            if (this.transition) {
                probabilityToEnterT = probabilityToEnter.transition();
            }
            this.layout.nodeProbabilityToEnterPosition(probabilityToEnterEnter);
            this.layout.nodeProbabilityToEnterPosition(probabilityToEnterT);

            var indicator = nodesMerge.select('text.error-indicator');
            indicator.classed('sd-hidden', this.config.raw);
            this.layout.nodeIndicatorPosition(indicatorEnter);
            this.layout.nodeIndicatorPosition(indicator);

            if (this.nodeDragHandler) {
                nodesMerge.call(this.nodeDragHandler.drag);
            }

            nodesMerge.on('contextmenu', this.nodeContextMenu);
            nodesMerge.on('dblclick', this.nodeContextMenu);
            nodesMerge.each(function (d, i) {
                var nodeElem = this;
                var mc = new Hammer.Manager(nodeElem);
                mc.add(new Hammer.Press({
                    pointerType: 'touch'
                }));
                mc.on('press', function (e) {
                    if (e.pointerType == 'touch') {
                        self.nodeDragHandler.cancelDrag();
                    }
                });
            });
        }
    }, {
        key: 'updateTextLines',
        value: function updateTextLines(d) {
            //helper method for splitting text to tspans
            var lines = d.name ? d.name.split('\n') : [];
            lines.reverse();
            var tspans = d3.select(this).selectAll('tspan').data(lines);
            tspans.enter().append('tspan').merge(tspans).text(function (l) {
                return l;
            }).attr('dy', function (d, i) {
                return i > 0 ? '-1.1em' : undefined;
            }).attr('x', '0');

            tspans.exit().remove();
        }
    }, {
        key: 'isOptimal',
        value: function isOptimal(d) {
            return d.displayValue('optimal');
        }
    }, {
        key: 'redrawEdges',
        value: function redrawEdges() {
            var _this = this;

            var self = this;
            var edgesContainer = this.mainGroup.selectOrAppend('g.edges');
            if (self.config.forceFullEdgeRedraw) {
                edgesContainer.selectAll("*").remove();
            }

            var edges = edgesContainer.selectAll('.edge').data(this.data.edges, function (d, i) {
                return d.$id;
            });
            edges.exit().remove();
            var edgesEnter = edges.enter().append('g').attr('id', function (d) {
                return 'edge-' + d.$id;
            }).attr('class', 'edge');

            edgesEnter.append('path');
            var labelEnter = edgesEnter.appendSelector('g.label-group');
            labelEnter.append('text').attr('class', 'label');
            var payoffEnter = edgesEnter.append('text').attr('class', 'payoff');
            var probabilityEnter = edgesEnter.append('text').attr('class', 'probability');

            var edgesMerge = edgesEnter.merge(edges);

            var optimalClassName = 'optimal';
            edgesMerge.classed(optimalClassName, function (d) {
                return self.isOptimal(d);
            });

            var edgesMergeT = edgesMerge;
            if (this.transition) {
                edgesMergeT = edgesMerge.transition();
            }

            edgesMergeT.select('path').attr('d', function (d) {
                return _this.layout.edgeLineD(d);
            })
            // .attr("stroke", "black")
            // .attr("stroke-width", 2)
            .attr("fill", "none").attr("marker-end", function (d) {
                var suffix = d3.select(this.parentNode).classed('selected') ? '-selected' : self.isOptimal(d) ? '-optimal' : '';
                return "url(#arrow" + suffix + ")";
            });
            // .attr("shape-rendering", "optimizeQuality")


            edgesMerge.on('click', function (d) {
                self.selectEdge(d, true);
            });

            this.layout.edgeLabelPosition(labelEnter);
            edgesMergeT.select('text.label').each(this.updateTextLines);
            var labelMerge = edgesMerge.select('g.label-group');
            labelMerge.classed('sd-hidden', this.config.hideLabels);
            var labelMergeT = edgesMergeT.select('g.label-group');
            this.layout.edgeLabelPosition(labelMergeT);
            // .text(d=>d.name);

            var payoffText = edgesMerge.select('text.payoff')
            // .attr('dominant-baseline', 'hanging')
            .classed('negative', function (d) {
                var val = d.displayPayoff();
                return val !== null && val < 0;
            }).classed('sd-hidden', this.config.hidePayoffs)
            // .text(d=> isNaN(d.payoff) ? d.payoff : self.config.payoffNumberFormatter(d.payoff))
            .text(function (d) {
                if (_this.config.raw) {
                    return d.payoff;
                }

                var val = d.displayPayoff();
                if (val !== null) {
                    if (!isNaN(val)) {
                        return self.config.payoffNumberFormatter(val);
                    }
                    if (_sdUtils.Utils.isString(val)) {
                        return val;
                    }
                }

                if (d.payoff !== null && !isNaN(d.payoff)) return self.config.payoffNumberFormatter(d.payoff);

                return d.payoff;
            });
            _tooltip.Tooltip.attach(payoffText, function (d) {
                return _i18n.i18n.t('tooltip.edge.payoff', { value: d.payoff });
            });

            var payoffTextT = payoffText;
            if (this.transition) {
                payoffTextT = payoffText.transition();
            }
            this.layout.edgePayoffPosition(payoffEnter);
            this.layout.edgePayoffPosition(payoffTextT);

            _tooltip.Tooltip.attach(edgesMerge.select('text.probability'), function (d) {
                return _i18n.i18n.t('tooltip.edge.probability', { value: d.probability === undefined ? d.displayProbability() : d.probability });
            });

            edgesMerge.select('text.probability').classed('sd-hidden', this.config.hideProbabilities);
            var probabilityMerge = edgesMerge.select('text.probability');
            probabilityMerge.attr('text-anchor', 'end').text(function (d) {
                if (_this.config.raw) {
                    return d.probability;
                }
                var val = d.displayProbability();

                if (val !== null) {
                    if (!isNaN(val)) {
                        return self.config.probabilityNumberFormatter(val);
                    }
                    if (_sdUtils.Utils.isString(val)) {
                        return val;
                    }
                }

                if (d.probability !== null && !isNaN(d.probability)) return self.config.probabilityNumberFormatter(d.probability);

                return d.probability;
            });
            var probabilityMergeT = probabilityMerge;
            if (this.transition) {
                probabilityMergeT = probabilityMerge.transition();
            }

            this.layout.edgeProbabilityPosition(probabilityEnter);
            this.layout.edgeProbabilityPosition(probabilityMergeT);

            edgesMerge.on('contextmenu', this.edgeContextMenu);
            edgesMerge.on('dblclick', this.edgeContextMenu);
            edgesMerge.each(function (d, i) {
                var elem = this;
                var mc = new Hammer.Manager(elem);
                mc.add(new Hammer.Press({
                    pointerType: Hammer.POINTER_TOUCH
                }));
            });
        }
    }, {
        key: 'redrawFloatingTexts',
        value: function redrawFloatingTexts() {
            var self = this;

            var textsContainer = this.mainGroup.selectOrAppend('g.floating-texts');
            var texts = textsContainer.selectAll('.floating-text').data(this.data.texts, function (d, i) {
                return d.$id;
            });
            texts.exit().remove();
            var textsEnter = texts.enter().appendSelector('g.floating-text').attr('id', function (d) {
                return 'text-' + d.$id;
            });

            var rectWidth = 40;
            var rectHeight = 20;

            textsEnter.append('rect').attr('x', -5).attr('y', -16).attr('fill-opacity', 0);
            textsEnter.append('text');

            var textsMerge = textsEnter.merge(texts);
            var textsMergeT = textsMerge;
            if (this.transition) {
                textsMergeT = textsMerge.transition();
            }

            textsMergeT.attr('transform', function (d) {
                return 'translate(' + d.location.x + '  ' + d.location.y + ')';
            });

            var tspans = textsMerge.select('text').selectAll('tspan').data(function (d) {
                return d.value ? d.value.split('\n') : [];
            });

            tspans.enter().append('tspan').merge(tspans).html(function (l) {
                return _appUtils.AppUtils.replaceUrls(_appUtils.AppUtils.escapeHtml(l));
            }).attr('dy', function (d, i) {
                return i > 0 ? '1.1em' : undefined;
            }).attr('x', '0');

            tspans.exit().remove();
            textsMerge.classed('sd-empty', function (d) {
                return !d.value || !d.value.trim();
            });
            textsMerge.select('rect').attr('width', rectWidth).attr('height', rectHeight);

            textsMerge.each(function (d) {
                if (!d.value) {
                    return;
                }
                var bb = d3.select(this).select('text').node().getBBox();
                d3.select(this).select('rect').attr('y', bb.y - 5).attr('width', Math.max(bb.width + 10, rectWidth)).attr('height', Math.max(bb.height + 10, rectHeight));
            });

            if (this.textDragHandler) {
                textsMerge.call(this.textDragHandler.drag);
            }
            textsMerge.on('contextmenu', this.textContextMenu);
            textsMerge.on('dblclick', this.textContextMenu);
            textsMerge.each(function (d, i) {
                var elem = this;
                var mc = new Hammer.Manager(elem);
                mc.add(new Hammer.Press({
                    pointerType: 'touch'
                }));
            });
        }
    }, {
        key: 'updateValidationMessages',
        value: function updateValidationMessages() {
            var _this2 = this;

            var nodes = this.mainGroup.selectAll('.node');
            nodes.classed('error', false);

            this.data.validationResults.forEach(function (validationResult) {
                if (validationResult.isValid()) {
                    return;
                }

                Object.getOwnPropertyNames(validationResult.objectIdToError).forEach(function (id) {
                    var errors = validationResult.objectIdToError[id];
                    var nodeSelection = _this2.getNodeD3SelectionById(id);
                    nodeSelection.classed('error', true);
                    var tooltipHtml = '';
                    errors.forEach(function (e) {
                        if (tooltipHtml) {
                            tooltipHtml += '<br/>';
                        }
                        tooltipHtml += _appUtils.AppUtils.getValidationMessage(e);
                    });

                    _tooltip.Tooltip.attach(nodeSelection.select('.error-indicator'), tooltipHtml);
                });
            });
        }
    }, {
        key: 'initEdgeMarkers',
        value: function initEdgeMarkers() {
            var defs = this.svg.append("svg:defs");

            this.initArrowMarker("arrow");
            this.initArrowMarker("arrow-optimal");
            this.initArrowMarker("arrow-selected");
        }
    }, {
        key: 'initArrowMarker',
        value: function initArrowMarker(id) {

            var defs = this.svg.select("defs");
            defs.append("marker").attr("id", id).attr("viewBox", "0 -5 10 10").attr("refX", 5).attr("refY", 0).attr("markerWidth", 4).attr("markerHeight", 4).attr("orient", "auto").append("path").attr("d", "M0,-5L10,0L0,5").attr("class", "arrowHead");
        }
    }, {
        key: 'updateBrushExtent',
        value: function updateBrushExtent() {
            var self = this;
            this.brush.extent([[0, 0], [self.svg.attr('width'), self.svg.attr('height')]]);
            this.brushContainer.call(this.brush);
        }
    }, {
        key: 'initBrush',
        value: function initBrush() {
            var self = this;

            var brushContainer = self.brushContainer = this.brushContainer = this.svg.selectOrInsert("g.brush", ":first-child").attr("class", "brush");

            var brush = this.brush = d3.brush().on("start", brushstart).on("brush", brushmove).on("end", brushend);

            this.updateBrushExtent();

            brushContainer.select('.overlay').on("mousemove.edgeSelection", mousemoved);
            function mousemoved() {
                var m = d3.mouse(this);
                var mgt = self.getMainGroupTranslation();
                var margin = 10;

                var closest = [null, 999999999];
                var closeEdges = [];
                self.mainGroup.selectAll('.edge').each(function (d) {
                    var selection = d3.select(this);
                    selection.classed('sd-hover', false);
                    var pathNode = selection.select('path').node();
                    var b = pathNode.getBBox();
                    if (b.x + mgt[0] <= m[0] && b.x + b.width + mgt[0] >= m[0] && b.y + mgt[1] - margin <= m[1] && b.y + b.height + mgt[1] + margin >= m[1]) {

                        var cp = _appUtils.AppUtils.closestPoint(pathNode, [m[0] - mgt[0], m[1] - mgt[1]]);
                        if (cp.distance < margin && cp.distance < closest[1]) {
                            closest = [selection, cp.distance];
                        }
                    }
                });

                self.hoveredEdge = null;
                if (closest[0]) {
                    closest[0].classed('sd-hover', true);
                    self.hoveredEdge = closest[0];
                }
            }

            function brushstart() {
                if (!d3.event.selection) return;
                if (self.hoveredEdge) {
                    self.selectEdge(self.hoveredEdge.datum(), true);
                } else {
                    self.clearSelection();
                }
                _contextMenu.ContextMenu.hide();
            }

            // Highlight the selected nodes.
            function brushmove() {
                var s = d3.event.selection;
                if (!s) return;

                self.mainGroup.selectAll(".node").classed('selected', function (d) {
                    var mainGroupTranslation = self.getMainGroupTranslation();
                    var x = d.location.x + mainGroupTranslation[0];
                    var y = d.location.y + mainGroupTranslation[1];
                    var nodeSize = self.config.layout.nodeSize;
                    var offset = nodeSize * 0.25;
                    return s[0][0] <= x + offset && x - offset <= s[1][0] && s[0][1] <= y + offset && y - offset <= s[1][1];
                });
            }
            // If the brush is empty, select all circles.
            function brushend() {
                if (!d3.event.selection) return;
                brush.move(brushContainer, null);

                var selectedNodes = self.getSelectedNodes();
                if (selectedNodes && selectedNodes.length === 1) {
                    self.selectNode(selectedNodes[0]);
                }
                // if (!d3.event.selection) self.mainGroup.selectAll(".selected").classed('selected', false);
            }
        }
    }, {
        key: 'disableBrush',
        value: function disableBrush() {
            if (!this.brushDisabled) {
                _sdUtils.Utils.growl(_i18n.i18n.t('growl.brushDisabled'), 'info', 'left');
            }
            this.brushDisabled = true;
            this.brushContainer.remove();
        }
    }, {
        key: 'enableBrush',
        value: function enableBrush() {
            if (this.brushDisabled) {
                _sdUtils.Utils.growl(_i18n.i18n.t('growl.brushEnabled'), 'info', 'left');
                this.initBrush();
                this.brushDisabled = false;
            }
        }
    }, {
        key: 'getMainGroupTranslation',
        value: function getMainGroupTranslation(invert) {
            var translation = _appUtils.AppUtils.getTranslation(this.mainGroup.attr("transform"));
            if (invert) {
                translation[0] = -translation[0];
                translation[1] = -translation[1];
            }
            return translation;
        }
    }, {
        key: 'initNodeContextMenu',
        value: function initNodeContextMenu() {
            this.nodeContextMenu = new _nodeContextMenu.NodeContextMenu(this, this.config.operationsForObject);
        }
    }, {
        key: 'initEdgeContextMenu',
        value: function initEdgeContextMenu() {
            this.edgeContextMenu = new _edgeContextMenu.EdgeContextMenu(this);
        }
    }, {
        key: 'initTextContextMenu',
        value: function initTextContextMenu() {
            this.textContextMenu = new _textContextMenu.TextContextMenu(this);
        }
    }, {
        key: 'initMainContextMenu',
        value: function initMainContextMenu() {
            this.mainContextMenu = new _mainContextMenu.MainContextMenu(this);
            this.svg.on('contextmenu', this.mainContextMenu);
            this.svg.on('dblclick', this.mainContextMenu);
        }
    }, {
        key: 'addText',
        value: function addText(text) {
            this.data.saveState();
            this.data.addText(text);
            this.redraw();
            this.selectText(text);
        }
    }, {
        key: 'addNode',
        value: function addNode(node, parent) {
            var redraw = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

            this.data.saveState();
            this.data.addNode(node, parent);
            this.redraw(true);
            this.layout.update(node);
            return node;
        }
    }, {
        key: 'addDecisionNode',
        value: function addDecisionNode(parent) {
            var newNode = new _sdModel.domain.DecisionNode(this.layout.getNewChildLocation(parent));
            this.addNode(newNode, parent);
        }
    }, {
        key: 'addChanceNode',
        value: function addChanceNode(parent) {
            var newNode = new _sdModel.domain.ChanceNode(this.layout.getNewChildLocation(parent));
            this.addNode(newNode, parent);
        }
    }, {
        key: 'addTerminalNode',
        value: function addTerminalNode(parent) {
            var newNode = new _sdModel.domain.TerminalNode(this.layout.getNewChildLocation(parent));
            this.addNode(newNode, parent);
        }
    }, {
        key: 'injectNode',
        value: function injectNode(node, edge) {
            this.data.saveState();
            this.data.injectNode(node, edge);
            this.redraw();
            this.layout.update(node);
            return node;
        }
    }, {
        key: 'injectDecisionNode',
        value: function injectDecisionNode(edge) {
            var newNode = new _sdModel.domain.DecisionNode(this.layout.getInjectedNodeLocation(edge));
            this.injectNode(newNode, edge);
        }
    }, {
        key: 'injectChanceNode',
        value: function injectChanceNode(edge) {
            var newNode = new _sdModel.domain.ChanceNode(this.layout.getInjectedNodeLocation(edge));
            this.injectNode(newNode, edge);
        }
    }, {
        key: 'removeNode',
        value: function removeNode(node) {
            this.data.saveState();
            this.data.removeNode(node);

            if (!this.layout.isManualLayout()) {
                this.layout.update();
            } else {
                this.redraw();
            }
        }
    }, {
        key: 'removeSelectedNodes',
        value: function removeSelectedNodes() {
            var selectedNodes = this.getSelectedNodes();
            if (!selectedNodes.length) {
                return;
            }
            this.data.saveState();
            this.data.removeNodes(selectedNodes);
            this.clearSelection();
            this.redraw();
            this.layout.update();
        }
    }, {
        key: 'removeSelectedTexts',
        value: function removeSelectedTexts() {
            var selectedTexts = this.getSelectedTexts();

            if (!selectedTexts.length) {
                return;
            }
            this.data.saveState();
            this.data.removeTexts(selectedTexts);
            this.clearSelection();
            this.redraw();
        }
    }, {
        key: 'copyNode',
        value: function copyNode(d, notClearPrevSelection) {
            var clone = this.data.cloneSubtree(d);
            if (notClearPrevSelection) {
                if (!this.copiedNodes) {
                    this.copiedNodes = [];
                }
                this.copiedNodes.push(clone);
            } else {
                this.copiedNodes = [clone];
            }
        }
    }, {
        key: 'cutNode',
        value: function cutNode(d) {
            this.copyNode(d);
            this.removeNode(d);
        }
    }, {
        key: 'cutSelectedNodes',
        value: function cutSelectedNodes() {
            var selectedNodes = this.getSelectedNodes();
            var selectedRoots = this.data.findSubtreeRoots(selectedNodes);
            this.copyNodes(selectedRoots);
            this.removeSelectedNodes();
        }
    }, {
        key: 'copySelectedNodes',
        value: function copySelectedNodes() {
            var self;
            var selectedNodes = this.getSelectedNodes();

            var selectedRoots = this.data.findSubtreeRoots(selectedNodes);
            this.copyNodes(selectedRoots);
        }
    }, {
        key: 'copyNodes',
        value: function copyNodes(nodes) {
            var _this3 = this;

            this.copiedNodes = nodes.map(function (d) {
                return _this3.data.cloneSubtree(d);
            });
        }
    }, {
        key: 'pasteToNode',
        value: function pasteToNode(node) {
            var _this4 = this;

            if (!this.copiedNodes || !this.copiedNodes.length) {
                return;
            }
            this.data.saveState();
            var self = this;
            self.clearSelection();
            var nodesToAttach = this.copiedNodes;
            self.copyNodes(this.copiedNodes);
            nodesToAttach.forEach(function (toAttach) {
                var attached = _this4.data.attachSubtree(toAttach, node).childNode;
                var location = self.layout.getNewChildLocation(node);
                attached.moveTo(location.x, location.y, true);
                self.layout.moveNodeToEmptyPlace(attached, false);
                self.layout.fitNodesInPlottingRegion(_this4.data.getAllDescendantNodes(attached));

                self.selectSubTree(attached, false, nodesToAttach.length > 1);
            });
            setTimeout(function () {
                self.redraw();
                self.layout.update();
            }, 10);
        }
    }, {
        key: 'pasteToNewLocation',
        value: function pasteToNewLocation(point) {
            var _this5 = this;

            this.data.saveState();
            var self = this;
            self.clearSelection();
            var nodesToAttach = this.copiedNodes;
            self.copyNodes(this.copiedNodes);
            nodesToAttach.forEach(function (toAttach) {
                var attached = _this5.data.attachSubtree(toAttach);

                attached.moveTo(point.x, point.y, true);
                self.layout.moveNodeToEmptyPlace(attached, false);
                self.layout.fitNodesInPlottingRegion(_this5.data.getAllDescendantNodes(attached));

                self.selectSubTree(attached, false, nodesToAttach.length > 1);
            });

            setTimeout(function () {
                self.redraw();
                self.layout.update();
            }, 10);
        }
    }, {
        key: 'convertNode',
        value: function convertNode(node, typeToConvertTo) {
            var self = this;
            this.data.saveState();
            this.data.convertNode(node, typeToConvertTo);
            setTimeout(function () {
                self.redraw(true);
            }, 10);
        }
    }, {
        key: 'performOperation',
        value: function performOperation(object, operation) {
            var self = this;
            this.data.saveState();
            operation.perform(object);
            setTimeout(function () {
                self.redraw();
                self.layout.update();
            }, 10);
        }
    }, {
        key: 'moveNodeTo',
        value: function moveNodeTo(x, y) {}
    }, {
        key: 'updateNodePosition',
        value: function updateNodePosition(node) {
            this.getNodeD3Selection(node).raise().attr('transform', 'translate(' + node.location.x + ' ' + node.location.y + ')');
        }
    }, {
        key: 'updateTextPosition',
        value: function updateTextPosition(text) {
            this.getTextD3Selection(text).raise().attr('transform', 'translate(' + text.location.x + ' ' + text.location.y + ')');
        }
    }, {
        key: 'getNodeD3Selection',
        value: function getNodeD3Selection(node) {
            return this.getNodeD3SelectionById(node.$id);
        }
    }, {
        key: 'getNodeD3SelectionById',
        value: function getNodeD3SelectionById(id) {
            return this.mainGroup.select('#node-' + id);
        }
    }, {
        key: 'getTextD3Selection',
        value: function getTextD3Selection(text) {
            return this.getTextD3SelectionById(text.$id);
        }
    }, {
        key: 'getTextD3SelectionById',
        value: function getTextD3SelectionById(id) {
            return this.mainGroup.select('#text-' + id);
        }
    }, {
        key: 'getSelectedNodes',
        value: function getSelectedNodes() {
            return this.mainGroup.selectAll(".node.selected").data();
        }
    }, {
        key: 'getSelectedTexts',
        value: function getSelectedTexts() {
            return this.mainGroup.selectAll(".floating-text.selected").data();
        }
    }, {
        key: 'clearSelection',
        value: function clearSelection() {
            var _this6 = this;

            this.mainGroup.selectAll(".edge.selected").select('path').attr("marker-end", function (d) {
                return "url(#arrow" + (_this6.isOptimal(d) ? '-optimal' : '') + ")";
            });
            this.mainGroup.selectAll(".selected").classed('selected', false);
            this.config.onSelectionCleared();
        }
    }, {
        key: 'selectEdge',
        value: function selectEdge(edge, clearSelectionBeforeSelect) {
            if (clearSelectionBeforeSelect) {
                this.clearSelection();
            }
            this.config.onEdgeSelected(edge);
            this.mainGroup.select('#edge-' + edge.$id).classed('selected', true).select('path').attr("marker-end", function (d) {
                return "url(#arrow-selected)";
            });
        }
    }, {
        key: 'isNodeSelected',
        value: function isNodeSelected(node) {
            return this.getNodeD3Selection(node).classed('selected');
        }
    }, {
        key: 'selectNode',
        value: function selectNode(node, clearSelectionBeforeSelect, skipCallback) {
            if (clearSelectionBeforeSelect) {
                this.clearSelection();
            }

            if (!skipCallback) {
                this.config.onNodeSelected(node);
            }

            this.getNodeD3SelectionById(node.$id).classed('selected', true);
        }
    }, {
        key: 'selectText',
        value: function selectText(text, clearSelectionBeforeSelect, skipCallback) {
            if (clearSelectionBeforeSelect) {
                this.clearSelection();
            }

            if (!skipCallback) {
                this.config.onTextSelected(text);
            }

            this.getTextD3SelectionById(text.$id).classed('selected', true);
        }
    }, {
        key: 'selectSubTree',
        value: function selectSubTree(node, clearSelectionBeforeSelect, skipCallback) {
            var _this7 = this;

            if (clearSelectionBeforeSelect) {
                this.clearSelection();
            }
            this.selectNode(node, false, skipCallback);
            node.childEdges.forEach(function (e) {
                return _this7.selectSubTree(e.childNode, false, true);
            });
        }
    }, {
        key: 'selectAllNodes',
        value: function selectAllNodes() {
            this.mainGroup.selectAll(".node").classed('selected', true);
        }
    }, {
        key: 'autoLayout',
        value: function autoLayout(type, withoutStateSaving) {
            this.layout.autoLayout(type, withoutStateSaving);
        }
    }, {
        key: 'updateDiagramTitle',
        value: function updateDiagramTitle(titleValue) {
            if (!titleValue) {
                titleValue = '';
            }
            this.diagramTitle = titleValue;
            this.redrawDiagramTitle();
            this.redrawDiagramDescription();
            this.updateMargin(true);
        }
    }, {
        key: 'redrawDiagramTitle',
        value: function redrawDiagramTitle() {
            var svgWidth = this.svg.attr('width');
            var svgHeight = this.svg.attr('height');
            this.titleContainer = this.svg.selectOrAppend('g.sd-title-container');

            var title = this.titleContainer.selectOrAppend('text.sd-title');
            title.text(this.diagramTitle);
            _layout.Layout.setHangingPosition(title);

            var marginTop = parseInt(this.config.title.margin.top);
            this.titleContainer.attr('transform', 'translate(' + svgWidth / 2 + ',' + marginTop + ')');
        }
    }, {
        key: 'redrawDiagramDescription',
        value: function redrawDiagramDescription() {
            var svgWidth = this.svg.attr('width');
            var svgHeight = this.svg.attr('height');
            this.titleContainer = this.svg.selectOrAppend('g.sd-title-container');

            var desc = this.titleContainer.selectOrAppend('text.sd-description');

            if (!this.config.description.show) {
                desc.remove();
                return;
            }

            var lines = this.diagramDescription ? this.diagramDescription.split('\n') : [];
            var tspans = desc.selectAll('tspan').data(lines);
            tspans.enter().append('tspan').merge(tspans).html(function (l) {
                return _appUtils.AppUtils.replaceUrls(_appUtils.AppUtils.escapeHtml(l));
            }).attr('dy', function (d, i) {
                return i > 0 ? '1.1em' : undefined;
            }).attr('x', '0');

            tspans.exit().remove();
            _layout.Layout.setHangingPosition(desc);

            var title = this.titleContainer.selectOrAppend('text.sd-title');

            var marginTop = 0;
            if (this.diagramTitle) {
                marginTop += title.node().getBBox().height;
                marginTop += Math.max(parseInt(this.config.description.margin.top), 0);
            }

            desc.attr('transform', 'translate(0,' + marginTop + ')');
        }
    }, {
        key: 'updateDiagramDescription',
        value: function updateDiagramDescription(descriptionValue) {
            if (!descriptionValue) {
                descriptionValue = '';
            }
            this.diagramDescription = descriptionValue;
            this.redrawDiagramTitle();
            this.redrawDiagramDescription();
            this.updateMargin(true);
        }
    }, {
        key: 'getTitleGroupHeight',
        value: function getTitleGroupHeight(withMargins) {
            if (!this.titleContainer) {
                return 0;
            }
            var h = this.titleContainer.node().getBBox().height;
            if (withMargins) {
                h += parseInt(this.config.title.margin.bottom);
                h += parseInt(this.config.title.margin.top);
            }
            return h;
        }
    }]);

    return TreeDesigner;
}();

},{"../app-utils":70,"../d3":74,"../i18n/i18n":82,"../templates":95,"../tooltip":124,"./context-menu":125,"./edge-context-menu":126,"./layout":127,"./main-context-menu":128,"./node-context-menu":129,"./node-drag-handler":130,"./text-context-menu":133,"./text-drag-handler":134,"hammerjs":"hammerjs","sd-model":"sd-model","sd-utils":"sd-utils"}],136:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.PayoffInputValidator = undefined;

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _sdUtils = require("sd-utils");

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

var PayoffInputValidator = exports.PayoffInputValidator = function () {
    function PayoffInputValidator(expressionEngine) {
        _classCallCheck(this, PayoffInputValidator);

        this.expressionEngine = expressionEngine;
    }

    _createClass(PayoffInputValidator, [{
        key: "validate",
        value: function validate(value, edge) {
            if (value === null || value === undefined) {
                return false;
            }
            value += "";
            if (!value.trim()) {
                return false;
            }
            if (this.expressionEngine.constructor.hasAssignmentExpression(value)) {
                return false;
            }
            return this.expressionEngine.validate(value);
        }
    }]);

    return PayoffInputValidator;
}();

},{"sd-utils":"sd-utils"}],137:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

var ProbabilityInputValidator = exports.ProbabilityInputValidator = function () {
    function ProbabilityInputValidator(expressionEngine) {
        _classCallCheck(this, ProbabilityInputValidator);

        this.expressionEngine = expressionEngine;
    }

    _createClass(ProbabilityInputValidator, [{
        key: "validate",
        value: function validate(value, edge) {
            if (value === null || value === undefined) {
                return false;
            }

            value += "";
            if (!value.trim()) {
                return false;
            }

            if (this.expressionEngine.constructor.isHash(value)) {
                return true;
            }

            if (this.expressionEngine.constructor.hasAssignmentExpression(value)) {
                return false;
            }
            var scope = edge.parentNode.expressionScope;
            return this.expressionEngine.validate(value, scope);
        }
    }]);

    return ProbabilityInputValidator;
}();

},{}],138:[function(require,module,exports){
"use strict";

module.exports = { "buildTimestamp": 1492611797443 };

},{}],139:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.JobParameterDefinition = exports.PARAMETER_TYPE = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _sdUtils = require('sd-utils');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var PARAMETER_TYPE = exports.PARAMETER_TYPE = {
    STRING: 'STRING',
    DATE: 'DATE',
    INTEGER: 'INTEGER',
    NUMBER: 'FLOAT',
    BOOLEAN: 'BOOLEAN',
    NUMBER_EXPRESSION: 'NUMBER_EXPRESSION',
    COMPOSITE: 'COMPOSITE' //composite parameter with nested subparameters
};

var JobParameterDefinition = exports.JobParameterDefinition = function () {
    function JobParameterDefinition(name, typeOrNestedParametersDefinitions) {
        var minOccurs = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;
        var maxOccurs = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;
        var identifying = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;
        var singleValueValidator = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;
        var validator = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : null;

        _classCallCheck(this, JobParameterDefinition);

        this.nestedParameters = [];
        this.required = true;

        this.name = name;
        if (_sdUtils.Utils.isArray(typeOrNestedParametersDefinitions)) {
            this.type = PARAMETER_TYPE.COMPOSITE;
            this.nestedParameters = typeOrNestedParametersDefinitions;
        } else {
            this.type = typeOrNestedParametersDefinitions;
        }
        this.validator = validator;
        this.singleValueValidator = singleValueValidator;
        this.identifying = identifying;
        this.minOccurs = minOccurs;
        this.maxOccurs = maxOccurs;
    }

    _createClass(JobParameterDefinition, [{
        key: 'set',
        value: function set(key, val) {
            this[key] = val;
            return this;
        }
    }, {
        key: 'validate',
        value: function validate(value) {
            var isArray = _sdUtils.Utils.isArray(value);

            if (this.maxOccurs > 1 && !isArray) {
                return false;
            }

            if (!isArray) {
                return this.validateSingleValue(value);
            }

            if (value.length < this.minOccurs || value.length > this.maxOccurs) {
                return false;
            }

            if (!value.every(this.validateSingleValue, this)) {
                return false;
            }

            if (this.validator) {
                return this.validator(value);
            }

            return true;
        }
    }, {
        key: 'validateSingleValue',
        value: function validateSingleValue(value) {
            if ((value === null || value === undefined) && this.minOccurs > 0) {
                return false;
            }

            if (this.required && !value && value !== 0 && value !== false) {
                return false;
            }

            if (PARAMETER_TYPE.STRING === this.type && !_sdUtils.Utils.isString(value)) {
                return false;
            }
            if (PARAMETER_TYPE.DATE === this.type && !_sdUtils.Utils.isDate(value)) {
                return false;
            }
            if (PARAMETER_TYPE.INTEGER === this.type && !_sdUtils.Utils.isInt(value)) {
                return false;
            }
            if (PARAMETER_TYPE.NUMBER === this.type && !_sdUtils.Utils.isNumber(value)) {
                return false;
            }

            if (PARAMETER_TYPE.COMPOSITE === this.type) {
                if (!_sdUtils.Utils.isObject(value)) {
                    return false;
                }
                if (!this.nestedParameters.every(function (nestedDef, i) {
                    return nestedDef.validate(value[nestedDef.name]);
                })) {
                    return false;
                }
            }

            if (this.singleValueValidator) {
                return this.singleValueValidator(value);
            }

            return true;
        }
    }]);

    return JobParameterDefinition;
}();

},{"sd-utils":"sd-utils"}],140:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Decision = exports.Decision = function () {
    //index of  selected edge
    function Decision(node, decisionValue) {
        _classCallCheck(this, Decision);

        this.children = [];

        this.node = node;
        this.decisionValue = decisionValue;
        this.key = Decision.generateKey(this);
    }

    _createClass(Decision, [{
        key: 'addDecision',
        value: function addDecision(node, decisionValue) {
            var decision = new Decision(node, decisionValue);
            this.children.push(decision);
            this.key = Decision.generateKey(this);
            return decision;
        }
    }, {
        key: 'getDecision',
        value: function getDecision(decisionNode) {
            return Decision.getDecision(this, decisionNode);
        }
    }, {
        key: 'toDecisionString',
        value: function toDecisionString() {
            var indent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

            return Decision.toDecisionString(this, indent);
        }
    }], [{
        key: 'generateKey',
        value: function generateKey(decision) {
            var keyProperty = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '$id';

            var e = decision.node.childEdges[decision.decisionValue];
            var key = decision.node[keyProperty] + ":" + (e[keyProperty] ? e[keyProperty] : decision.decisionValue + 1);
            return key.replace(/\n/g, ' ');
        }
    }, {
        key: 'getDecision',
        value: function getDecision(decision, decisionNode) {
            if (decision.node === decisionNode || decision.node.$id === decisionNode.$id) {
                return decision;
            }
            for (var i = 0; i < decision.children.length; i++) {
                var d = Decision.getDecision(decision.children[i], decisionNode);
                if (d) {
                    return d;
                }
            }
        }
    }, {
        key: 'toDecisionString',
        value: function toDecisionString(decision) {
            var extended = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
            var keyProperty = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'name';
            var indent = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';


            var res = Decision.generateKey(decision, keyProperty);
            var childrenRes = "";

            decision.children.forEach(function (d) {
                if (childrenRes) {
                    if (extended) {
                        childrenRes += '\n' + indent;
                    } else {
                        childrenRes += ", ";
                    }
                }
                childrenRes += Decision.toDecisionString(d, extended, keyProperty, indent + '\t');
            });
            if (decision.children.length) {
                if (extended) {
                    childrenRes = '\n' + indent + childrenRes;
                } else {
                    childrenRes = " - (" + childrenRes + ")";
                }
            }

            return res + childrenRes;
        }
    }]);

    return Decision;
}();

},{}],141:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Policy = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _decision = require("./decision");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Policy = exports.Policy = function () {
    function Policy(id, decisions) {
        _classCallCheck(this, Policy);

        this.decisions = [];

        this.id = id;
        this.decisions = decisions || [];
        this.key = Policy.generateKey(this);
    }

    _createClass(Policy, [{
        key: "addDecision",
        value: function addDecision(node, decisionValue) {
            var decision = new _decision.Decision(node, decisionValue);
            this.decisions.push(decision);
            this.key = Policy.generateKey(this);
            return decision;
        }
    }, {
        key: "equals",
        value: function equals(policy) {
            var ignoreId = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

            if (this.key != policy.key) {
                return false;
            }

            return ignoreId || this.id === policy.id;
        }
    }, {
        key: "getDecision",
        value: function getDecision(decisionNode) {
            return Policy.getDecision(this, decisionNode);
        }
    }, {
        key: "toPolicyString",
        value: function toPolicyString() {
            var indent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

            return Policy.toPolicyString(this, indent);
        }
    }], [{
        key: "generateKey",
        value: function generateKey(policy) {
            var key = "";
            policy.decisions.forEach(function (d) {
                return key += (key ? "&" : "") + d.key;
            });
            return key;
        }
    }, {
        key: "getDecision",
        value: function getDecision(policy, decisionNode) {
            for (var i = 0; i < policy.decisions.length; i++) {
                var decision = _decision.Decision.getDecision(policy.decisions[i], decisionNode);
                if (decision) {
                    return decision;
                }
            }
            return null;
        }
    }, {
        key: "toPolicyString",
        value: function toPolicyString(policy) {
            var extended = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
            var prependId = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;


            var res = "";
            policy.decisions.forEach(function (d) {
                if (res) {
                    if (extended) {
                        res += "\n";
                    } else {
                        res += ", ";
                    }
                }
                res += _decision.Decision.toDecisionString(d, extended, 'name', '\t');
            });
            if (prependId && policy.id !== undefined) {
                return policy.id + " " + res;
            }
            return res;
        }
    }]);

    return Policy;
}();

},{"./decision":140}]},{},[85])(85)
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvZC9hdXRvLWJpbmQuanMiLCJub2RlX21vZHVsZXMvZC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9lczUtZXh0L2FycmF5LyMvY2xlYXIuanMiLCJub2RlX21vZHVsZXMvZXM1LWV4dC9hcnJheS8jL2UtaW5kZXgtb2YuanMiLCJub2RlX21vZHVsZXMvZXM1LWV4dC9mdW5jdGlvbi9pcy1hcmd1bWVudHMuanMiLCJub2RlX21vZHVsZXMvZXM1LWV4dC9nbG9iYWwuanMiLCJub2RlX21vZHVsZXMvZXM1LWV4dC9tYXRoL3NpZ24vaW5kZXguanMiLCJub2RlX21vZHVsZXMvZXM1LWV4dC9tYXRoL3NpZ24vaXMtaW1wbGVtZW50ZWQuanMiLCJub2RlX21vZHVsZXMvZXM1LWV4dC9tYXRoL3NpZ24vc2hpbS5qcyIsIm5vZGVfbW9kdWxlcy9lczUtZXh0L251bWJlci90by1pbnRlZ2VyLmpzIiwibm9kZV9tb2R1bGVzL2VzNS1leHQvbnVtYmVyL3RvLXBvcy1pbnRlZ2VyLmpzIiwibm9kZV9tb2R1bGVzL2VzNS1leHQvb2JqZWN0L19pdGVyYXRlLmpzIiwibm9kZV9tb2R1bGVzL2VzNS1leHQvb2JqZWN0L2Fzc2lnbi9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9lczUtZXh0L29iamVjdC9hc3NpZ24vaXMtaW1wbGVtZW50ZWQuanMiLCJub2RlX21vZHVsZXMvZXM1LWV4dC9vYmplY3QvYXNzaWduL3NoaW0uanMiLCJub2RlX21vZHVsZXMvZXM1LWV4dC9vYmplY3QvY29weS5qcyIsIm5vZGVfbW9kdWxlcy9lczUtZXh0L29iamVjdC9jcmVhdGUuanMiLCJub2RlX21vZHVsZXMvZXM1LWV4dC9vYmplY3QvZm9yLWVhY2guanMiLCJub2RlX21vZHVsZXMvZXM1LWV4dC9vYmplY3QvaXMtY2FsbGFibGUuanMiLCJub2RlX21vZHVsZXMvZXM1LWV4dC9vYmplY3QvaXMtb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2VzNS1leHQvb2JqZWN0L2tleXMvaW5kZXguanMiLCJub2RlX21vZHVsZXMvZXM1LWV4dC9vYmplY3Qva2V5cy9pcy1pbXBsZW1lbnRlZC5qcyIsIm5vZGVfbW9kdWxlcy9lczUtZXh0L29iamVjdC9rZXlzL3NoaW0uanMiLCJub2RlX21vZHVsZXMvZXM1LWV4dC9vYmplY3QvbWFwLmpzIiwibm9kZV9tb2R1bGVzL2VzNS1leHQvb2JqZWN0L25vcm1hbGl6ZS1vcHRpb25zLmpzIiwibm9kZV9tb2R1bGVzL2VzNS1leHQvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YvaW5kZXguanMiLCJub2RlX21vZHVsZXMvZXM1LWV4dC9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi9pcy1pbXBsZW1lbnRlZC5qcyIsIm5vZGVfbW9kdWxlcy9lczUtZXh0L29iamVjdC9zZXQtcHJvdG90eXBlLW9mL3NoaW0uanMiLCJub2RlX21vZHVsZXMvZXM1LWV4dC9vYmplY3QvdmFsaWQtY2FsbGFibGUuanMiLCJub2RlX21vZHVsZXMvZXM1LWV4dC9vYmplY3QvdmFsaWQtdmFsdWUuanMiLCJub2RlX21vZHVsZXMvZXM1LWV4dC9zdHJpbmcvIy9jb250YWlucy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9lczUtZXh0L3N0cmluZy8jL2NvbnRhaW5zL2lzLWltcGxlbWVudGVkLmpzIiwibm9kZV9tb2R1bGVzL2VzNS1leHQvc3RyaW5nLyMvY29udGFpbnMvc2hpbS5qcyIsIm5vZGVfbW9kdWxlcy9lczUtZXh0L3N0cmluZy9pcy1zdHJpbmcuanMiLCJub2RlX21vZHVsZXMvZXM2LWl0ZXJhdG9yL2FycmF5LmpzIiwibm9kZV9tb2R1bGVzL2VzNi1pdGVyYXRvci9mb3Itb2YuanMiLCJub2RlX21vZHVsZXMvZXM2LWl0ZXJhdG9yL2dldC5qcyIsIm5vZGVfbW9kdWxlcy9lczYtaXRlcmF0b3IvaW5kZXguanMiLCJub2RlX21vZHVsZXMvZXM2LWl0ZXJhdG9yL2lzLWl0ZXJhYmxlLmpzIiwibm9kZV9tb2R1bGVzL2VzNi1pdGVyYXRvci9zdHJpbmcuanMiLCJub2RlX21vZHVsZXMvZXM2LWl0ZXJhdG9yL3ZhbGlkLWl0ZXJhYmxlLmpzIiwibm9kZV9tb2R1bGVzL2VzNi1zZXQvaW1wbGVtZW50LmpzIiwibm9kZV9tb2R1bGVzL2VzNi1zZXQvaXMtaW1wbGVtZW50ZWQuanMiLCJub2RlX21vZHVsZXMvZXM2LXNldC9pcy1uYXRpdmUtaW1wbGVtZW50ZWQuanMiLCJub2RlX21vZHVsZXMvZXM2LXNldC9saWIvaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvZXM2LXNldC9wb2x5ZmlsbC5qcyIsIm5vZGVfbW9kdWxlcy9lczYtc3ltYm9sL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2VzNi1zeW1ib2wvaXMtaW1wbGVtZW50ZWQuanMiLCJub2RlX21vZHVsZXMvZXM2LXN5bWJvbC9pcy1zeW1ib2wuanMiLCJub2RlX21vZHVsZXMvZXM2LXN5bWJvbC9wb2x5ZmlsbC5qcyIsIm5vZGVfbW9kdWxlcy9lczYtc3ltYm9sL3ZhbGlkYXRlLXN5bWJvbC5qcyIsIm5vZGVfbW9kdWxlcy9ldmVudC1lbWl0dGVyL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9kYXRhLmpzIiwibm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9rZXljb2RlLmpzIiwibm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9wb3NpdGlvbi5qcyIsIm5vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvc2FmZS1hY3RpdmUtZWxlbWVudC5qcyIsIm5vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvc2Nyb2xsLXBhcmVudC5qcyIsIm5vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvdW5pcXVlLWlkLmpzIiwibm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS93aWRnZXQuanMiLCJub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL3dpZGdldHMvYXV0b2NvbXBsZXRlLmpzIiwibm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS93aWRnZXRzL2J1dHRvbi5qcyIsIm5vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvd2lkZ2V0cy9tZW51LmpzIiwibm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS93aWRnZXRzL21vdXNlLmpzIiwibm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS93aWRnZXRzL3NvcnRhYmxlLmpzIiwibm9kZV9tb2R1bGVzL3Bpdm90dGFibGUvZGlzdC9waXZvdC5kZS5qcyIsIm5vZGVfbW9kdWxlcy9waXZvdHRhYmxlL2Rpc3QvcGl2b3QuZnIuanMiLCJub2RlX21vZHVsZXMvcGl2b3R0YWJsZS9kaXN0L3Bpdm90Lml0LmpzIiwicGFja2FnZS5qc29uIiwic3JjXFxhYm91dC1kaWFsb2cuanMiLCJzcmNcXGFwcC11dGlscy5qcyIsInNyY1xcYXBwLmpzIiwic3JjXFxhdXRvY29tcGxldGUuanMiLCJzcmNcXGQzLWV4dGVuc2lvbnMuanMiLCJzcmNcXGQzLmpzIiwic3JjXFxkZWZpbml0aW9ucy1kaWFsb2cuanMiLCJzcmNcXGRpYWxvZy5qcyIsInNyY1xcZXhwb3J0ZXIuanMiLCJzcmNcXGZpbGUtbG9hZGVyLmpzIiwic3JjL2kxOG4vZGUuanNvbiIsInNyYy9pMThuL2VuLmpzb24iLCJzcmMvaTE4bi9mci5qc29uIiwic3JjXFxpMThuXFxpMThuLmpzIiwic3JjL2kxOG4vaXQuanNvbiIsInNyYy9pMThuL3BsLmpzb24iLCJzcmNcXGluZGV4LmpzIiwic3JjXFxqb2JzXFxqb2ItcGFyYW1ldGVycy1idWlsZGVyLmpzIiwic3JjXFxqb2JzXFxqb2ItcmVzdWx0LXRhYmxlLmpzIiwic3JjXFxqb2JzXFxwcm9iYWJpbGlzdGljLXNlbnNpdGl2aXR5LWFuYWx5c2lzLXJlc3VsdC10YWJsZS5qcyIsInNyY1xcam9ic1xcc2Vuc2l0aXZpdHktYW5hbHlzaXMtcmVzdWx0LXRhYmxlLmpzIiwic3JjXFxsb2FkaW5nLWluZGljYXRvci5qcyIsInNyY1xccGl2b3QtdGFibGUuanMiLCJzcmNcXHNlbnNpdGl2aXR5LWFuYWx5c2lzLWRpYWxvZy5qcyIsInNyY1xcc2V0dGluZ3MtZGlhbG9nLmpzIiwic3JjXFxzaWRlYmFyLmpzIiwic3JjXFx0ZW1wbGF0ZXMuanMiLCJzcmMvdGVtcGxhdGVzL2Fib3V0L2RlLmh0bWwiLCJzcmMvdGVtcGxhdGVzL2Fib3V0L2VuLmh0bWwiLCJzcmMvdGVtcGxhdGVzL2Fib3V0L2ZyLmh0bWwiLCJzcmMvdGVtcGxhdGVzL2Fib3V0L2l0Lmh0bWwiLCJzcmMvdGVtcGxhdGVzL2Fib3V0L3BsLmh0bWwiLCJzcmMvdGVtcGxhdGVzL2Fib3V0X2RpYWxvZy5odG1sIiwic3JjL3RlbXBsYXRlcy9kZWZpbml0aW9uc19kaWFsb2cuaHRtbCIsInNyYy90ZW1wbGF0ZXMvZXZhbHVhdGVkX3ZhcmlhYmxlcy5odG1sIiwic3JjL3RlbXBsYXRlcy9mdWxsc2NyZWVuX3BvcHVwLmh0bWwiLCJzcmMvdGVtcGxhdGVzL2dyb3dsX21lc3NhZ2UuaHRtbCIsInNyYy90ZW1wbGF0ZXMvaGVscC5odG1sIiwic3JjL3RlbXBsYXRlcy9pbnB1dF9ncm91cC5odG1sIiwic3JjL3RlbXBsYXRlcy9qb2JzL2pvYl9wYXJhbWV0ZXIuaHRtbCIsInNyYy90ZW1wbGF0ZXMvam9icy9qb2JfcGFyYW1ldGVyc19idWlsZGVyLmh0bWwiLCJzcmMvdGVtcGxhdGVzL2xvYWRpbmdfaW5kaWNhdG9yLmh0bWwiLCJzcmMvdGVtcGxhdGVzL21haW4uaHRtbCIsInNyYy90ZW1wbGF0ZXMvc2VsZWN0X2lucHV0X2dyb3VwLmh0bWwiLCJzcmMvdGVtcGxhdGVzL3NlbnNpdGl2aXR5X2FuYWx5c2lzX2RpYWxvZy5odG1sIiwic3JjL3RlbXBsYXRlcy9zZXR0aW5nc19kaWFsb2cuaHRtbCIsInNyYy90ZW1wbGF0ZXMvc2V0dGluZ3NfZGlhbG9nX2Zvcm1fZ3JvdXAuaHRtbCIsInNyYy90ZW1wbGF0ZXMvc2lkZWJhci9kZWZpbml0aW9ucy5odG1sIiwic3JjL3RlbXBsYXRlcy9zaWRlYmFyL2RpYWdyYW1fZGV0YWlsc19ib3guaHRtbCIsInNyYy90ZW1wbGF0ZXMvc2lkZWJhci9sYXlvdXRfb3B0aW9ucy5odG1sIiwic3JjL3RlbXBsYXRlcy9zaWRlYmFyL29iamVjdF9wcm9wZXJ0aWVzLmh0bWwiLCJzcmMvdGVtcGxhdGVzL3NpZGViYXIvc2lkZWJhci5odG1sIiwic3JjL3RlbXBsYXRlcy90b29sYmFyLmh0bWwiLCJzcmMvdGVtcGxhdGVzL3dhcm5pbmdfbWVzc2FnZS5odG1sIiwic3JjXFx0b29sYmFyLmpzIiwic3JjXFx0b29sdGlwLmpzIiwic3JjXFx0cmVlLWRlc2lnbmVyXFxjb250ZXh0LW1lbnUuanMiLCJzcmNcXHRyZWUtZGVzaWduZXJcXGVkZ2UtY29udGV4dC1tZW51LmpzIiwic3JjXFx0cmVlLWRlc2lnbmVyXFxsYXlvdXQuanMiLCJzcmNcXHRyZWUtZGVzaWduZXJcXG1haW4tY29udGV4dC1tZW51LmpzIiwic3JjXFx0cmVlLWRlc2lnbmVyXFxub2RlLWNvbnRleHQtbWVudS5qcyIsInNyY1xcdHJlZS1kZXNpZ25lclxcbm9kZS1kcmFnLWhhbmRsZXIuanMiLCJzcmNcXHRyZWUtZGVzaWduZXJcXHN5bWJvbHNcXGNpcmNsZS5qcyIsInNyY1xcdHJlZS1kZXNpZ25lclxcc3ltYm9sc1xcdHJpYW5nbGUuanMiLCJzcmNcXHRyZWUtZGVzaWduZXJcXHRleHQtY29udGV4dC1tZW51LmpzIiwic3JjXFx0cmVlLWRlc2lnbmVyXFx0ZXh0LWRyYWctaGFuZGxlci5qcyIsInNyY1xcdHJlZS1kZXNpZ25lclxcdHJlZS1kZXNpZ25lci5qcyIsInNyY1xcdmFsaWRhdGlvblxccGF5b2ZmLWlucHV0LXZhbGlkYXRvci5qcyIsInNyY1xcdmFsaWRhdGlvblxccHJvYmFiaWxpdHktaW5wdXQtdmFsaWRhdG9yLmpzIiwidG1wXFxidWlsZC1jb25maWcuanMiLCIuLlxcc2lsdmVyLWRlY2lzaW9uc1xcc2QtY29tcHV0YXRpb25zXFxzcmNcXGpvYnNcXGVuZ2luZVxcam9iLXBhcmFtZXRlci1kZWZpbml0aW9uLmpzIiwiLi5cXHNpbHZlci1kZWNpc2lvbnNcXHNkLWNvbXB1dGF0aW9uc1xcc3JjXFxwb2xpY2llc1xcZGVjaXNpb24uanMiLCIuLlxcc2lsdmVyLWRlY2lzaW9uc1xcc2QtY29tcHV0YXRpb25zXFxzcmNcXHBvbGljaWVzXFxwb2xpY3kuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9EQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcENBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoRkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcElBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbGZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzd0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxcUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqcUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbE9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xoREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9VQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcmJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM3VkE7Ozs7QUFDQTs7SSxBQUFZOztBQUNaOztJLEFBQVk7O0FBQ1o7O0ksQUFBWTs7QUFDWjs7SSxBQUFZOztBQUNaOztJLEFBQVk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJLEFBRUMsZSxBQUFBOzs7Ozs7OzZCLEFBSUcsS0FBSSxBQUNaO2dCQUFJLE9BQUosQUFBVyxBQUNYO2lCQUFBLEFBQUssV0FBTCxBQUFnQixBQUNoQjs4QkFBQSxBQUFRO3FCQUFLLEFBQ0osQUFDTDs2QkFGUyxBQUVJLEFBQ2I7OztxQ0FBVyxBQUNILEFBQ2EsQUFFakI7QUFISSxBQUNBOztxQ0FGRyxBQUlILEFBQ2EsQUFFakI7QUFISSxBQUNBOztxQ0FMRyxBQU9ILEFBQ2EsQUFFakI7QUFISSxBQUNBOztxQ0FSRyxBQVVILEFBQ2EsQUFFakI7QUFISSxBQUNBOztxQ0FkWixBQUFhLEFBR0UsQUFhSCxBQUNhO0FBRGIsQUFDQTtBQWRHLEFBQ1A7QUFKSyxBQUNULGVBbUJELFVBQUEsQUFBQyxLQUFELEFBQU0sR0FBTSxBQUNkLENBckJELEFBc0JIOzs7OzBCLEFBRVEsSyxBQUFLLEtBQUksQUFDZDttQkFBTyxrQkFBQSxBQUFRLEVBQVIsQUFBVSxLQUFqQixBQUFPLEFBQWUsQUFDekI7Ozs7Ozs7O0FDeENMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9WQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QVA7QUFDSDtBQUNKO0FBQ0QsbUJBQU8sSUFBUDtBQUNIOzs7dUNBRXFCLE0sRUFBd0M7QUFBQSxnQkFBaEMsUUFBZ0MsdUVBQXZCLEtBQXVCO0FBQUEsZ0JBQWhCLFNBQWdCLHVFQUFOLEtBQU07OztBQUUxRCxnQkFBSSxNQUFNLEVBQVY7QUFDQSxtQkFBTyxTQUFQLENBQWlCLE9BQWpCLENBQXlCLGFBQUc7QUFDeEIsb0JBQUcsR0FBSCxFQUFPO0FBQ0gsd0JBQUcsUUFBSCxFQUFZO0FBQ1IsK0JBQU8sSUFBUDtBQUNILHFCQUZELE1BRUs7QUFDRCwrQkFBTyxJQUFQO0FBQ0g7QUFHSjtBQUNELHVCQUFPLG1CQUFTLGdCQUFULENBQTBCLENBQTFCLEVBQTZCLFFBQTdCLEVBQXVDLE1BQXZDLEVBQStDLElBQS9DLENBQVA7QUFDSCxhQVhEO0FBWUEsZ0JBQUcsYUFBYSxPQUFPLEVBQVAsS0FBWSxTQUE1QixFQUFzQztBQUNsQyx1QkFBTyxPQUFPLEVBQVAsR0FBVSxHQUFWLEdBQWMsR0FBckI7QUFDSDtBQUNELG1CQUFPLEdBQVA7QUFDSCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIndXNlIHN0cmljdCc7XG5cbnZhciBjb3B5ICAgICAgICAgICAgID0gcmVxdWlyZSgnZXM1LWV4dC9vYmplY3QvY29weScpXG4gICwgbm9ybWFsaXplT3B0aW9ucyA9IHJlcXVpcmUoJ2VzNS1leHQvb2JqZWN0L25vcm1hbGl6ZS1vcHRpb25zJylcbiAgLCBlbnN1cmVDYWxsYWJsZSAgID0gcmVxdWlyZSgnZXM1LWV4dC9vYmplY3QvdmFsaWQtY2FsbGFibGUnKVxuICAsIG1hcCAgICAgICAgICAgICAgPSByZXF1aXJlKCdlczUtZXh0L29iamVjdC9tYXAnKVxuICAsIGNhbGxhYmxlICAgICAgICAgPSByZXF1aXJlKCdlczUtZXh0L29iamVjdC92YWxpZC1jYWxsYWJsZScpXG4gICwgdmFsaWRWYWx1ZSAgICAgICA9IHJlcXVpcmUoJ2VzNS1leHQvb2JqZWN0L3ZhbGlkLXZhbHVlJylcblxuICAsIGJpbmQgPSBGdW5jdGlvbi5wcm90b3R5cGUuYmluZCwgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHlcbiAgLCBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbiAgLCBkZWZpbmU7XG5cbmRlZmluZSA9IGZ1bmN0aW9uIChuYW1lLCBkZXNjLCBvcHRpb25zKSB7XG5cdHZhciB2YWx1ZSA9IHZhbGlkVmFsdWUoZGVzYykgJiYgY2FsbGFibGUoZGVzYy52YWx1ZSksIGRncztcblx0ZGdzID0gY29weShkZXNjKTtcblx0ZGVsZXRlIGRncy53cml0YWJsZTtcblx0ZGVsZXRlIGRncy52YWx1ZTtcblx0ZGdzLmdldCA9IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAoIW9wdGlvbnMub3ZlcndyaXRlRGVmaW5pdGlvbiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMsIG5hbWUpKSByZXR1cm4gdmFsdWU7XG5cdFx0ZGVzYy52YWx1ZSA9IGJpbmQuY2FsbCh2YWx1ZSwgb3B0aW9ucy5yZXNvbHZlQ29udGV4dCA/IG9wdGlvbnMucmVzb2x2ZUNvbnRleHQodGhpcykgOiB0aGlzKTtcblx0XHRkZWZpbmVQcm9wZXJ0eSh0aGlzLCBuYW1lLCBkZXNjKTtcblx0XHRyZXR1cm4gdGhpc1tuYW1lXTtcblx0fTtcblx0cmV0dXJuIGRncztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHByb3BzLyosIG9wdGlvbnMqLykge1xuXHR2YXIgb3B0aW9ucyA9IG5vcm1hbGl6ZU9wdGlvbnMoYXJndW1lbnRzWzFdKTtcblx0aWYgKG9wdGlvbnMucmVzb2x2ZUNvbnRleHQgIT0gbnVsbCkgZW5zdXJlQ2FsbGFibGUob3B0aW9ucy5yZXNvbHZlQ29udGV4dCk7XG5cdHJldHVybiBtYXAocHJvcHMsIGZ1bmN0aW9uIChkZXNjLCBuYW1lKSB7IHJldHVybiBkZWZpbmUobmFtZSwgZGVzYywgb3B0aW9ucyk7IH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGFzc2lnbiAgICAgICAgPSByZXF1aXJlKCdlczUtZXh0L29iamVjdC9hc3NpZ24nKVxuICAsIG5vcm1hbGl6ZU9wdHMgPSByZXF1aXJlKCdlczUtZXh0L29iamVjdC9ub3JtYWxpemUtb3B0aW9ucycpXG4gICwgaXNDYWxsYWJsZSAgICA9IHJlcXVpcmUoJ2VzNS1leHQvb2JqZWN0L2lzLWNhbGxhYmxlJylcbiAgLCBjb250YWlucyAgICAgID0gcmVxdWlyZSgnZXM1LWV4dC9zdHJpbmcvIy9jb250YWlucycpXG5cbiAgLCBkO1xuXG5kID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZHNjciwgdmFsdWUvKiwgb3B0aW9ucyovKSB7XG5cdHZhciBjLCBlLCB3LCBvcHRpb25zLCBkZXNjO1xuXHRpZiAoKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB8fCAodHlwZW9mIGRzY3IgIT09ICdzdHJpbmcnKSkge1xuXHRcdG9wdGlvbnMgPSB2YWx1ZTtcblx0XHR2YWx1ZSA9IGRzY3I7XG5cdFx0ZHNjciA9IG51bGw7XG5cdH0gZWxzZSB7XG5cdFx0b3B0aW9ucyA9IGFyZ3VtZW50c1syXTtcblx0fVxuXHRpZiAoZHNjciA9PSBudWxsKSB7XG5cdFx0YyA9IHcgPSB0cnVlO1xuXHRcdGUgPSBmYWxzZTtcblx0fSBlbHNlIHtcblx0XHRjID0gY29udGFpbnMuY2FsbChkc2NyLCAnYycpO1xuXHRcdGUgPSBjb250YWlucy5jYWxsKGRzY3IsICdlJyk7XG5cdFx0dyA9IGNvbnRhaW5zLmNhbGwoZHNjciwgJ3cnKTtcblx0fVxuXG5cdGRlc2MgPSB7IHZhbHVlOiB2YWx1ZSwgY29uZmlndXJhYmxlOiBjLCBlbnVtZXJhYmxlOiBlLCB3cml0YWJsZTogdyB9O1xuXHRyZXR1cm4gIW9wdGlvbnMgPyBkZXNjIDogYXNzaWduKG5vcm1hbGl6ZU9wdHMob3B0aW9ucyksIGRlc2MpO1xufTtcblxuZC5ncyA9IGZ1bmN0aW9uIChkc2NyLCBnZXQsIHNldC8qLCBvcHRpb25zKi8pIHtcblx0dmFyIGMsIGUsIG9wdGlvbnMsIGRlc2M7XG5cdGlmICh0eXBlb2YgZHNjciAhPT0gJ3N0cmluZycpIHtcblx0XHRvcHRpb25zID0gc2V0O1xuXHRcdHNldCA9IGdldDtcblx0XHRnZXQgPSBkc2NyO1xuXHRcdGRzY3IgPSBudWxsO1xuXHR9IGVsc2Uge1xuXHRcdG9wdGlvbnMgPSBhcmd1bWVudHNbM107XG5cdH1cblx0aWYgKGdldCA9PSBudWxsKSB7XG5cdFx0Z2V0ID0gdW5kZWZpbmVkO1xuXHR9IGVsc2UgaWYgKCFpc0NhbGxhYmxlKGdldCkpIHtcblx0XHRvcHRpb25zID0gZ2V0O1xuXHRcdGdldCA9IHNldCA9IHVuZGVmaW5lZDtcblx0fSBlbHNlIGlmIChzZXQgPT0gbnVsbCkge1xuXHRcdHNldCA9IHVuZGVmaW5lZDtcblx0fSBlbHNlIGlmICghaXNDYWxsYWJsZShzZXQpKSB7XG5cdFx0b3B0aW9ucyA9IHNldDtcblx0XHRzZXQgPSB1bmRlZmluZWQ7XG5cdH1cblx0aWYgKGRzY3IgPT0gbnVsbCkge1xuXHRcdGMgPSB0cnVlO1xuXHRcdGUgPSBmYWxzZTtcblx0fSBlbHNlIHtcblx0XHRjID0gY29udGFpbnMuY2FsbChkc2NyLCAnYycpO1xuXHRcdGUgPSBjb250YWlucy5jYWxsKGRzY3IsICdlJyk7XG5cdH1cblxuXHRkZXNjID0geyBnZXQ6IGdldCwgc2V0OiBzZXQsIGNvbmZpZ3VyYWJsZTogYywgZW51bWVyYWJsZTogZSB9O1xuXHRyZXR1cm4gIW9wdGlvbnMgPyBkZXNjIDogYXNzaWduKG5vcm1hbGl6ZU9wdHMob3B0aW9ucyksIGRlc2MpO1xufTtcbiIsIi8vIEluc3BpcmVkIGJ5IEdvb2dsZSBDbG9zdXJlOlxuLy8gaHR0cDovL2Nsb3N1cmUtbGlicmFyeS5nb29nbGVjb2RlLmNvbS9zdm4vZG9jcy9cbi8vIGNsb3N1cmVfZ29vZ19hcnJheV9hcnJheS5qcy5odG1sI2dvb2cuYXJyYXkuY2xlYXJcblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgdmFsdWUgPSByZXF1aXJlKCcuLi8uLi9vYmplY3QvdmFsaWQtdmFsdWUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG5cdHZhbHVlKHRoaXMpLmxlbmd0aCA9IDA7XG5cdHJldHVybiB0aGlzO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHRvUG9zSW50ID0gcmVxdWlyZSgnLi4vLi4vbnVtYmVyL3RvLXBvcy1pbnRlZ2VyJylcbiAgLCB2YWx1ZSAgICA9IHJlcXVpcmUoJy4uLy4uL29iamVjdC92YWxpZC12YWx1ZScpXG5cbiAgLCBpbmRleE9mID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2ZcbiAgLCBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbiAgLCBhYnMgPSBNYXRoLmFicywgZmxvb3IgPSBNYXRoLmZsb29yO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzZWFyY2hFbGVtZW50LyosIGZyb21JbmRleCovKSB7XG5cdHZhciBpLCBsLCBmcm9tSW5kZXgsIHZhbDtcblx0aWYgKHNlYXJjaEVsZW1lbnQgPT09IHNlYXJjaEVsZW1lbnQpIHsgLy9qc2xpbnQ6IGlnbm9yZVxuXHRcdHJldHVybiBpbmRleE9mLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdH1cblxuXHRsID0gdG9Qb3NJbnQodmFsdWUodGhpcykubGVuZ3RoKTtcblx0ZnJvbUluZGV4ID0gYXJndW1lbnRzWzFdO1xuXHRpZiAoaXNOYU4oZnJvbUluZGV4KSkgZnJvbUluZGV4ID0gMDtcblx0ZWxzZSBpZiAoZnJvbUluZGV4ID49IDApIGZyb21JbmRleCA9IGZsb29yKGZyb21JbmRleCk7XG5cdGVsc2UgZnJvbUluZGV4ID0gdG9Qb3NJbnQodGhpcy5sZW5ndGgpIC0gZmxvb3IoYWJzKGZyb21JbmRleCkpO1xuXG5cdGZvciAoaSA9IGZyb21JbmRleDsgaSA8IGw7ICsraSkge1xuXHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMsIGkpKSB7XG5cdFx0XHR2YWwgPSB0aGlzW2ldO1xuXHRcdFx0aWYgKHZhbCAhPT0gdmFsKSByZXR1cm4gaTsgLy9qc2xpbnQ6IGlnbm9yZVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gLTE7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nXG5cbiAgLCBpZCA9IHRvU3RyaW5nLmNhbGwoKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHgpIHsgcmV0dXJuICh0b1N0cmluZy5jYWxsKHgpID09PSBpZCk7IH07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2lzLWltcGxlbWVudGVkJykoKVxuXHQ/IE1hdGguc2lnblxuXHQ6IHJlcXVpcmUoJy4vc2hpbScpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcblx0dmFyIHNpZ24gPSBNYXRoLnNpZ247XG5cdGlmICh0eXBlb2Ygc2lnbiAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGZhbHNlO1xuXHRyZXR1cm4gKChzaWduKDEwKSA9PT0gMSkgJiYgKHNpZ24oLTIwKSA9PT0gLTEpKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdHZhbHVlID0gTnVtYmVyKHZhbHVlKTtcblx0aWYgKGlzTmFOKHZhbHVlKSB8fCAodmFsdWUgPT09IDApKSByZXR1cm4gdmFsdWU7XG5cdHJldHVybiAodmFsdWUgPiAwKSA/IDEgOiAtMTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBzaWduID0gcmVxdWlyZSgnLi4vbWF0aC9zaWduJylcblxuICAsIGFicyA9IE1hdGguYWJzLCBmbG9vciA9IE1hdGguZmxvb3I7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdGlmIChpc05hTih2YWx1ZSkpIHJldHVybiAwO1xuXHR2YWx1ZSA9IE51bWJlcih2YWx1ZSk7XG5cdGlmICgodmFsdWUgPT09IDApIHx8ICFpc0Zpbml0ZSh2YWx1ZSkpIHJldHVybiB2YWx1ZTtcblx0cmV0dXJuIHNpZ24odmFsdWUpICogZmxvb3IoYWJzKHZhbHVlKSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi90by1pbnRlZ2VyJylcblxuICAsIG1heCA9IE1hdGgubWF4O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gbWF4KDAsIHRvSW50ZWdlcih2YWx1ZSkpOyB9O1xuIiwiLy8gSW50ZXJuYWwgbWV0aG9kLCB1c2VkIGJ5IGl0ZXJhdGlvbiBmdW5jdGlvbnMuXG4vLyBDYWxscyBhIGZ1bmN0aW9uIGZvciBlYWNoIGtleS12YWx1ZSBwYWlyIGZvdW5kIGluIG9iamVjdFxuLy8gT3B0aW9uYWxseSB0YWtlcyBjb21wYXJlRm4gdG8gaXRlcmF0ZSBvYmplY3QgaW4gc3BlY2lmaWMgb3JkZXJcblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgY2FsbGFibGUgPSByZXF1aXJlKCcuL3ZhbGlkLWNhbGxhYmxlJylcbiAgLCB2YWx1ZSAgICA9IHJlcXVpcmUoJy4vdmFsaWQtdmFsdWUnKVxuXG4gICwgYmluZCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLCBjYWxsID0gRnVuY3Rpb24ucHJvdG90eXBlLmNhbGwsIGtleXMgPSBPYmplY3Qua2V5c1xuICAsIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobWV0aG9kLCBkZWZWYWwpIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChvYmosIGNiLyosIHRoaXNBcmcsIGNvbXBhcmVGbiovKSB7XG5cdFx0dmFyIGxpc3QsIHRoaXNBcmcgPSBhcmd1bWVudHNbMl0sIGNvbXBhcmVGbiA9IGFyZ3VtZW50c1szXTtcblx0XHRvYmogPSBPYmplY3QodmFsdWUob2JqKSk7XG5cdFx0Y2FsbGFibGUoY2IpO1xuXG5cdFx0bGlzdCA9IGtleXMob2JqKTtcblx0XHRpZiAoY29tcGFyZUZuKSB7XG5cdFx0XHRsaXN0LnNvcnQoKHR5cGVvZiBjb21wYXJlRm4gPT09ICdmdW5jdGlvbicpID8gYmluZC5jYWxsKGNvbXBhcmVGbiwgb2JqKSA6IHVuZGVmaW5lZCk7XG5cdFx0fVxuXHRcdGlmICh0eXBlb2YgbWV0aG9kICE9PSAnZnVuY3Rpb24nKSBtZXRob2QgPSBsaXN0W21ldGhvZF07XG5cdFx0cmV0dXJuIGNhbGwuY2FsbChtZXRob2QsIGxpc3QsIGZ1bmN0aW9uIChrZXksIGluZGV4KSB7XG5cdFx0XHRpZiAoIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwob2JqLCBrZXkpKSByZXR1cm4gZGVmVmFsO1xuXHRcdFx0cmV0dXJuIGNhbGwuY2FsbChjYiwgdGhpc0FyZywgb2JqW2tleV0sIGtleSwgb2JqLCBpbmRleCk7XG5cdFx0fSk7XG5cdH07XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vaXMtaW1wbGVtZW50ZWQnKSgpXG5cdD8gT2JqZWN0LmFzc2lnblxuXHQ6IHJlcXVpcmUoJy4vc2hpbScpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcblx0dmFyIGFzc2lnbiA9IE9iamVjdC5hc3NpZ24sIG9iajtcblx0aWYgKHR5cGVvZiBhc3NpZ24gIT09ICdmdW5jdGlvbicpIHJldHVybiBmYWxzZTtcblx0b2JqID0geyBmb286ICdyYXonIH07XG5cdGFzc2lnbihvYmosIHsgYmFyOiAnZHdhJyB9LCB7IHRyenk6ICd0cnp5JyB9KTtcblx0cmV0dXJuIChvYmouZm9vICsgb2JqLmJhciArIG9iai50cnp5KSA9PT0gJ3JhemR3YXRyenknO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGtleXMgID0gcmVxdWlyZSgnLi4va2V5cycpXG4gICwgdmFsdWUgPSByZXF1aXJlKCcuLi92YWxpZC12YWx1ZScpXG5cbiAgLCBtYXggPSBNYXRoLm1heDtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZGVzdCwgc3JjLyosIOKApnNyY24qLykge1xuXHR2YXIgZXJyb3IsIGksIGwgPSBtYXgoYXJndW1lbnRzLmxlbmd0aCwgMiksIGFzc2lnbjtcblx0ZGVzdCA9IE9iamVjdCh2YWx1ZShkZXN0KSk7XG5cdGFzc2lnbiA9IGZ1bmN0aW9uIChrZXkpIHtcblx0XHR0cnkgeyBkZXN0W2tleV0gPSBzcmNba2V5XTsgfSBjYXRjaCAoZSkge1xuXHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlO1xuXHRcdH1cblx0fTtcblx0Zm9yIChpID0gMTsgaSA8IGw7ICsraSkge1xuXHRcdHNyYyA9IGFyZ3VtZW50c1tpXTtcblx0XHRrZXlzKHNyYykuZm9yRWFjaChhc3NpZ24pO1xuXHR9XG5cdGlmIChlcnJvciAhPT0gdW5kZWZpbmVkKSB0aHJvdyBlcnJvcjtcblx0cmV0dXJuIGRlc3Q7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYXNzaWduID0gcmVxdWlyZSgnLi9hc3NpZ24nKVxuICAsIHZhbHVlICA9IHJlcXVpcmUoJy4vdmFsaWQtdmFsdWUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqKSB7XG5cdHZhciBjb3B5ID0gT2JqZWN0KHZhbHVlKG9iaikpO1xuXHRpZiAoY29weSAhPT0gb2JqKSByZXR1cm4gY29weTtcblx0cmV0dXJuIGFzc2lnbih7fSwgb2JqKTtcbn07XG4iLCIvLyBXb3JrYXJvdW5kIGZvciBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0yODA0XG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGNyZWF0ZSA9IE9iamVjdC5jcmVhdGUsIHNoaW07XG5cbmlmICghcmVxdWlyZSgnLi9zZXQtcHJvdG90eXBlLW9mL2lzLWltcGxlbWVudGVkJykoKSkge1xuXHRzaGltID0gcmVxdWlyZSgnLi9zZXQtcHJvdG90eXBlLW9mL3NoaW0nKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgbnVsbE9iamVjdCwgcHJvcHMsIGRlc2M7XG5cdGlmICghc2hpbSkgcmV0dXJuIGNyZWF0ZTtcblx0aWYgKHNoaW0ubGV2ZWwgIT09IDEpIHJldHVybiBjcmVhdGU7XG5cblx0bnVsbE9iamVjdCA9IHt9O1xuXHRwcm9wcyA9IHt9O1xuXHRkZXNjID0geyBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsXG5cdFx0dmFsdWU6IHVuZGVmaW5lZCB9O1xuXHRPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPYmplY3QucHJvdG90eXBlKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0aWYgKG5hbWUgPT09ICdfX3Byb3RvX18nKSB7XG5cdFx0XHRwcm9wc1tuYW1lXSA9IHsgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsXG5cdFx0XHRcdHZhbHVlOiB1bmRlZmluZWQgfTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0cHJvcHNbbmFtZV0gPSBkZXNjO1xuXHR9KTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobnVsbE9iamVjdCwgcHJvcHMpO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzaGltLCAnbnVsbFBvbHlmaWxsJywgeyBjb25maWd1cmFibGU6IGZhbHNlLFxuXHRcdGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UsIHZhbHVlOiBudWxsT2JqZWN0IH0pO1xuXG5cdHJldHVybiBmdW5jdGlvbiAocHJvdG90eXBlLCBwcm9wcykge1xuXHRcdHJldHVybiBjcmVhdGUoKHByb3RvdHlwZSA9PT0gbnVsbCkgPyBudWxsT2JqZWN0IDogcHJvdG90eXBlLCBwcm9wcyk7XG5cdH07XG59KCkpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2l0ZXJhdGUnKSgnZm9yRWFjaCcpO1xuIiwiLy8gRGVwcmVjYXRlZFxuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJzsgfTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIG1hcCA9IHsgJ2Z1bmN0aW9uJzogdHJ1ZSwgb2JqZWN0OiB0cnVlIH07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHgpIHtcblx0cmV0dXJuICgoeCAhPSBudWxsKSAmJiBtYXBbdHlwZW9mIHhdKSB8fCBmYWxzZTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9pcy1pbXBsZW1lbnRlZCcpKClcblx0PyBPYmplY3Qua2V5c1xuXHQ6IHJlcXVpcmUoJy4vc2hpbScpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcblx0dHJ5IHtcblx0XHRPYmplY3Qua2V5cygncHJpbWl0aXZlJyk7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIga2V5cyA9IE9iamVjdC5rZXlzO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QpIHtcblx0cmV0dXJuIGtleXMob2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBPYmplY3Qob2JqZWN0KSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY2FsbGFibGUgPSByZXF1aXJlKCcuL3ZhbGlkLWNhbGxhYmxlJylcbiAgLCBmb3JFYWNoICA9IHJlcXVpcmUoJy4vZm9yLWVhY2gnKVxuXG4gICwgY2FsbCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmosIGNiLyosIHRoaXNBcmcqLykge1xuXHR2YXIgbyA9IHt9LCB0aGlzQXJnID0gYXJndW1lbnRzWzJdO1xuXHRjYWxsYWJsZShjYik7XG5cdGZvckVhY2gob2JqLCBmdW5jdGlvbiAodmFsdWUsIGtleSwgb2JqLCBpbmRleCkge1xuXHRcdG9ba2V5XSA9IGNhbGwuY2FsbChjYiwgdGhpc0FyZywgdmFsdWUsIGtleSwgb2JqLCBpbmRleCk7XG5cdH0pO1xuXHRyZXR1cm4gbztcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBmb3JFYWNoID0gQXJyYXkucHJvdG90eXBlLmZvckVhY2gsIGNyZWF0ZSA9IE9iamVjdC5jcmVhdGU7XG5cbnZhciBwcm9jZXNzID0gZnVuY3Rpb24gKHNyYywgb2JqKSB7XG5cdHZhciBrZXk7XG5cdGZvciAoa2V5IGluIHNyYykgb2JqW2tleV0gPSBzcmNba2V5XTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9wdGlvbnMvKiwg4oCmb3B0aW9ucyovKSB7XG5cdHZhciByZXN1bHQgPSBjcmVhdGUobnVsbCk7XG5cdGZvckVhY2guY2FsbChhcmd1bWVudHMsIGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cdFx0aWYgKG9wdGlvbnMgPT0gbnVsbCkgcmV0dXJuO1xuXHRcdHByb2Nlc3MoT2JqZWN0KG9wdGlvbnMpLCByZXN1bHQpO1xuXHR9KTtcblx0cmV0dXJuIHJlc3VsdDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9pcy1pbXBsZW1lbnRlZCcpKClcblx0PyBPYmplY3Quc2V0UHJvdG90eXBlT2Zcblx0OiByZXF1aXJlKCcuL3NoaW0nKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGNyZWF0ZSA9IE9iamVjdC5jcmVhdGUsIGdldFByb3RvdHlwZU9mID0gT2JqZWN0LmdldFByb3RvdHlwZU9mXG4gICwgeCA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgvKmN1c3RvbUNyZWF0ZSovKSB7XG5cdHZhciBzZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZlxuXHQgICwgY3VzdG9tQ3JlYXRlID0gYXJndW1lbnRzWzBdIHx8IGNyZWF0ZTtcblx0aWYgKHR5cGVvZiBzZXRQcm90b3R5cGVPZiAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGZhbHNlO1xuXHRyZXR1cm4gZ2V0UHJvdG90eXBlT2Yoc2V0UHJvdG90eXBlT2YoY3VzdG9tQ3JlYXRlKG51bGwpLCB4KSkgPT09IHg7XG59O1xuIiwiLy8gQmlnIHRoYW5rcyB0byBAV2ViUmVmbGVjdGlvbiBmb3Igc29ydGluZyB0aGlzIG91dFxuLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vV2ViUmVmbGVjdGlvbi81NTkzNTU0XG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGlzT2JqZWN0ICAgICAgPSByZXF1aXJlKCcuLi9pcy1vYmplY3QnKVxuICAsIHZhbHVlICAgICAgICAgPSByZXF1aXJlKCcuLi92YWxpZC12YWx1ZScpXG5cbiAgLCBpc1Byb3RvdHlwZU9mID0gT2JqZWN0LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mXG4gICwgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHlcbiAgLCBudWxsRGVzYyA9IHsgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsXG5cdFx0dmFsdWU6IHVuZGVmaW5lZCB9XG4gICwgdmFsaWRhdGU7XG5cbnZhbGlkYXRlID0gZnVuY3Rpb24gKG9iaiwgcHJvdG90eXBlKSB7XG5cdHZhbHVlKG9iaik7XG5cdGlmICgocHJvdG90eXBlID09PSBudWxsKSB8fCBpc09iamVjdChwcm90b3R5cGUpKSByZXR1cm4gb2JqO1xuXHR0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm90b3R5cGUgbXVzdCBiZSBudWxsIG9yIGFuIG9iamVjdCcpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24gKHN0YXR1cykge1xuXHR2YXIgZm4sIHNldDtcblx0aWYgKCFzdGF0dXMpIHJldHVybiBudWxsO1xuXHRpZiAoc3RhdHVzLmxldmVsID09PSAyKSB7XG5cdFx0aWYgKHN0YXR1cy5zZXQpIHtcblx0XHRcdHNldCA9IHN0YXR1cy5zZXQ7XG5cdFx0XHRmbiA9IGZ1bmN0aW9uIChvYmosIHByb3RvdHlwZSkge1xuXHRcdFx0XHRzZXQuY2FsbCh2YWxpZGF0ZShvYmosIHByb3RvdHlwZSksIHByb3RvdHlwZSk7XG5cdFx0XHRcdHJldHVybiBvYmo7XG5cdFx0XHR9O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRmbiA9IGZ1bmN0aW9uIChvYmosIHByb3RvdHlwZSkge1xuXHRcdFx0XHR2YWxpZGF0ZShvYmosIHByb3RvdHlwZSkuX19wcm90b19fID0gcHJvdG90eXBlO1xuXHRcdFx0XHRyZXR1cm4gb2JqO1xuXHRcdFx0fTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0Zm4gPSBmdW5jdGlvbiBzZWxmKG9iaiwgcHJvdG90eXBlKSB7XG5cdFx0XHR2YXIgaXNOdWxsQmFzZTtcblx0XHRcdHZhbGlkYXRlKG9iaiwgcHJvdG90eXBlKTtcblx0XHRcdGlzTnVsbEJhc2UgPSBpc1Byb3RvdHlwZU9mLmNhbGwoc2VsZi5udWxsUG9seWZpbGwsIG9iaik7XG5cdFx0XHRpZiAoaXNOdWxsQmFzZSkgZGVsZXRlIHNlbGYubnVsbFBvbHlmaWxsLl9fcHJvdG9fXztcblx0XHRcdGlmIChwcm90b3R5cGUgPT09IG51bGwpIHByb3RvdHlwZSA9IHNlbGYubnVsbFBvbHlmaWxsO1xuXHRcdFx0b2JqLl9fcHJvdG9fXyA9IHByb3RvdHlwZTtcblx0XHRcdGlmIChpc051bGxCYXNlKSBkZWZpbmVQcm9wZXJ0eShzZWxmLm51bGxQb2x5ZmlsbCwgJ19fcHJvdG9fXycsIG51bGxEZXNjKTtcblx0XHRcdHJldHVybiBvYmo7XG5cdFx0fTtcblx0fVxuXHRyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCAnbGV2ZWwnLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsXG5cdFx0ZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSwgdmFsdWU6IHN0YXR1cy5sZXZlbCB9KTtcbn0oKGZ1bmN0aW9uICgpIHtcblx0dmFyIHggPSBPYmplY3QuY3JlYXRlKG51bGwpLCB5ID0ge30sIHNldFxuXHQgICwgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoT2JqZWN0LnByb3RvdHlwZSwgJ19fcHJvdG9fXycpO1xuXG5cdGlmIChkZXNjKSB7XG5cdFx0dHJ5IHtcblx0XHRcdHNldCA9IGRlc2Muc2V0OyAvLyBPcGVyYSBjcmFzaGVzIGF0IHRoaXMgcG9pbnRcblx0XHRcdHNldC5jYWxsKHgsIHkpO1xuXHRcdH0gY2F0Y2ggKGlnbm9yZSkgeyB9XG5cdFx0aWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZih4KSA9PT0geSkgcmV0dXJuIHsgc2V0OiBzZXQsIGxldmVsOiAyIH07XG5cdH1cblxuXHR4Ll9fcHJvdG9fXyA9IHk7XG5cdGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoeCkgPT09IHkpIHJldHVybiB7IGxldmVsOiAyIH07XG5cblx0eCA9IHt9O1xuXHR4Ll9fcHJvdG9fXyA9IHk7XG5cdGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoeCkgPT09IHkpIHJldHVybiB7IGxldmVsOiAxIH07XG5cblx0cmV0dXJuIGZhbHNlO1xufSgpKSkpO1xuXG5yZXF1aXJlKCcuLi9jcmVhdGUnKTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZm4pIHtcblx0aWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykgdGhyb3cgbmV3IFR5cGVFcnJvcihmbiArIFwiIGlzIG5vdCBhIGZ1bmN0aW9uXCIpO1xuXHRyZXR1cm4gZm47XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRpZiAodmFsdWUgPT0gbnVsbCkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB1c2UgbnVsbCBvciB1bmRlZmluZWRcIik7XG5cdHJldHVybiB2YWx1ZTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9pcy1pbXBsZW1lbnRlZCcpKClcblx0PyBTdHJpbmcucHJvdG90eXBlLmNvbnRhaW5zXG5cdDogcmVxdWlyZSgnLi9zaGltJyk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBzdHIgPSAncmF6ZHdhdHJ6eSc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuXHRpZiAodHlwZW9mIHN0ci5jb250YWlucyAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGZhbHNlO1xuXHRyZXR1cm4gKChzdHIuY29udGFpbnMoJ2R3YScpID09PSB0cnVlKSAmJiAoc3RyLmNvbnRhaW5zKCdmb28nKSA9PT0gZmFsc2UpKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBpbmRleE9mID0gU3RyaW5nLnByb3RvdHlwZS5pbmRleE9mO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzZWFyY2hTdHJpbmcvKiwgcG9zaXRpb24qLykge1xuXHRyZXR1cm4gaW5kZXhPZi5jYWxsKHRoaXMsIHNlYXJjaFN0cmluZywgYXJndW1lbnRzWzFdKSA+IC0xO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ1xuXG4gICwgaWQgPSB0b1N0cmluZy5jYWxsKCcnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoeCkge1xuXHRyZXR1cm4gKHR5cGVvZiB4ID09PSAnc3RyaW5nJykgfHwgKHggJiYgKHR5cGVvZiB4ID09PSAnb2JqZWN0JykgJiZcblx0XHQoKHggaW5zdGFuY2VvZiBTdHJpbmcpIHx8ICh0b1N0cmluZy5jYWxsKHgpID09PSBpZCkpKSB8fCBmYWxzZTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBzZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJ2VzNS1leHQvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YnKVxuICAsIGNvbnRhaW5zICAgICAgID0gcmVxdWlyZSgnZXM1LWV4dC9zdHJpbmcvIy9jb250YWlucycpXG4gICwgZCAgICAgICAgICAgICAgPSByZXF1aXJlKCdkJylcbiAgLCBJdGVyYXRvciAgICAgICA9IHJlcXVpcmUoJy4vJylcblxuICAsIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5XG4gICwgQXJyYXlJdGVyYXRvcjtcblxuQXJyYXlJdGVyYXRvciA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyciwga2luZCkge1xuXHRpZiAoISh0aGlzIGluc3RhbmNlb2YgQXJyYXlJdGVyYXRvcikpIHJldHVybiBuZXcgQXJyYXlJdGVyYXRvcihhcnIsIGtpbmQpO1xuXHRJdGVyYXRvci5jYWxsKHRoaXMsIGFycik7XG5cdGlmICgha2luZCkga2luZCA9ICd2YWx1ZSc7XG5cdGVsc2UgaWYgKGNvbnRhaW5zLmNhbGwoa2luZCwgJ2tleSt2YWx1ZScpKSBraW5kID0gJ2tleSt2YWx1ZSc7XG5cdGVsc2UgaWYgKGNvbnRhaW5zLmNhbGwoa2luZCwgJ2tleScpKSBraW5kID0gJ2tleSc7XG5cdGVsc2Uga2luZCA9ICd2YWx1ZSc7XG5cdGRlZmluZVByb3BlcnR5KHRoaXMsICdfX2tpbmRfXycsIGQoJycsIGtpbmQpKTtcbn07XG5pZiAoc2V0UHJvdG90eXBlT2YpIHNldFByb3RvdHlwZU9mKEFycmF5SXRlcmF0b3IsIEl0ZXJhdG9yKTtcblxuQXJyYXlJdGVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yLnByb3RvdHlwZSwge1xuXHRjb25zdHJ1Y3RvcjogZChBcnJheUl0ZXJhdG9yKSxcblx0X3Jlc29sdmU6IGQoZnVuY3Rpb24gKGkpIHtcblx0XHRpZiAodGhpcy5fX2tpbmRfXyA9PT0gJ3ZhbHVlJykgcmV0dXJuIHRoaXMuX19saXN0X19baV07XG5cdFx0aWYgKHRoaXMuX19raW5kX18gPT09ICdrZXkrdmFsdWUnKSByZXR1cm4gW2ksIHRoaXMuX19saXN0X19baV1dO1xuXHRcdHJldHVybiBpO1xuXHR9KSxcblx0dG9TdHJpbmc6IGQoZnVuY3Rpb24gKCkgeyByZXR1cm4gJ1tvYmplY3QgQXJyYXkgSXRlcmF0b3JdJzsgfSlcbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaXNBcmd1bWVudHMgPSByZXF1aXJlKCdlczUtZXh0L2Z1bmN0aW9uL2lzLWFyZ3VtZW50cycpXG4gICwgY2FsbGFibGUgICAgPSByZXF1aXJlKCdlczUtZXh0L29iamVjdC92YWxpZC1jYWxsYWJsZScpXG4gICwgaXNTdHJpbmcgICAgPSByZXF1aXJlKCdlczUtZXh0L3N0cmluZy9pcy1zdHJpbmcnKVxuICAsIGdldCAgICAgICAgID0gcmVxdWlyZSgnLi9nZXQnKVxuXG4gICwgaXNBcnJheSA9IEFycmF5LmlzQXJyYXksIGNhbGwgPSBGdW5jdGlvbi5wcm90b3R5cGUuY2FsbFxuICAsIHNvbWUgPSBBcnJheS5wcm90b3R5cGUuc29tZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlcmFibGUsIGNiLyosIHRoaXNBcmcqLykge1xuXHR2YXIgbW9kZSwgdGhpc0FyZyA9IGFyZ3VtZW50c1syXSwgcmVzdWx0LCBkb0JyZWFrLCBicm9rZW4sIGksIGwsIGNoYXIsIGNvZGU7XG5cdGlmIChpc0FycmF5KGl0ZXJhYmxlKSB8fCBpc0FyZ3VtZW50cyhpdGVyYWJsZSkpIG1vZGUgPSAnYXJyYXknO1xuXHRlbHNlIGlmIChpc1N0cmluZyhpdGVyYWJsZSkpIG1vZGUgPSAnc3RyaW5nJztcblx0ZWxzZSBpdGVyYWJsZSA9IGdldChpdGVyYWJsZSk7XG5cblx0Y2FsbGFibGUoY2IpO1xuXHRkb0JyZWFrID0gZnVuY3Rpb24gKCkgeyBicm9rZW4gPSB0cnVlOyB9O1xuXHRpZiAobW9kZSA9PT0gJ2FycmF5Jykge1xuXHRcdHNvbWUuY2FsbChpdGVyYWJsZSwgZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0XHRjYWxsLmNhbGwoY2IsIHRoaXNBcmcsIHZhbHVlLCBkb0JyZWFrKTtcblx0XHRcdGlmIChicm9rZW4pIHJldHVybiB0cnVlO1xuXHRcdH0pO1xuXHRcdHJldHVybjtcblx0fVxuXHRpZiAobW9kZSA9PT0gJ3N0cmluZycpIHtcblx0XHRsID0gaXRlcmFibGUubGVuZ3RoO1xuXHRcdGZvciAoaSA9IDA7IGkgPCBsOyArK2kpIHtcblx0XHRcdGNoYXIgPSBpdGVyYWJsZVtpXTtcblx0XHRcdGlmICgoaSArIDEpIDwgbCkge1xuXHRcdFx0XHRjb2RlID0gY2hhci5jaGFyQ29kZUF0KDApO1xuXHRcdFx0XHRpZiAoKGNvZGUgPj0gMHhEODAwKSAmJiAoY29kZSA8PSAweERCRkYpKSBjaGFyICs9IGl0ZXJhYmxlWysraV07XG5cdFx0XHR9XG5cdFx0XHRjYWxsLmNhbGwoY2IsIHRoaXNBcmcsIGNoYXIsIGRvQnJlYWspO1xuXHRcdFx0aWYgKGJyb2tlbikgYnJlYWs7XG5cdFx0fVxuXHRcdHJldHVybjtcblx0fVxuXHRyZXN1bHQgPSBpdGVyYWJsZS5uZXh0KCk7XG5cblx0d2hpbGUgKCFyZXN1bHQuZG9uZSkge1xuXHRcdGNhbGwuY2FsbChjYiwgdGhpc0FyZywgcmVzdWx0LnZhbHVlLCBkb0JyZWFrKTtcblx0XHRpZiAoYnJva2VuKSByZXR1cm47XG5cdFx0cmVzdWx0ID0gaXRlcmFibGUubmV4dCgpO1xuXHR9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaXNBcmd1bWVudHMgICAgPSByZXF1aXJlKCdlczUtZXh0L2Z1bmN0aW9uL2lzLWFyZ3VtZW50cycpXG4gICwgaXNTdHJpbmcgICAgICAgPSByZXF1aXJlKCdlczUtZXh0L3N0cmluZy9pcy1zdHJpbmcnKVxuICAsIEFycmF5SXRlcmF0b3IgID0gcmVxdWlyZSgnLi9hcnJheScpXG4gICwgU3RyaW5nSXRlcmF0b3IgPSByZXF1aXJlKCcuL3N0cmluZycpXG4gICwgaXRlcmFibGUgICAgICAgPSByZXF1aXJlKCcuL3ZhbGlkLWl0ZXJhYmxlJylcbiAgLCBpdGVyYXRvclN5bWJvbCA9IHJlcXVpcmUoJ2VzNi1zeW1ib2wnKS5pdGVyYXRvcjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqKSB7XG5cdGlmICh0eXBlb2YgaXRlcmFibGUob2JqKVtpdGVyYXRvclN5bWJvbF0gPT09ICdmdW5jdGlvbicpIHJldHVybiBvYmpbaXRlcmF0b3JTeW1ib2xdKCk7XG5cdGlmIChpc0FyZ3VtZW50cyhvYmopKSByZXR1cm4gbmV3IEFycmF5SXRlcmF0b3Iob2JqKTtcblx0aWYgKGlzU3RyaW5nKG9iaikpIHJldHVybiBuZXcgU3RyaW5nSXRlcmF0b3Iob2JqKTtcblx0cmV0dXJuIG5ldyBBcnJheUl0ZXJhdG9yKG9iaik7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY2xlYXIgICAgPSByZXF1aXJlKCdlczUtZXh0L2FycmF5LyMvY2xlYXInKVxuICAsIGFzc2lnbiAgID0gcmVxdWlyZSgnZXM1LWV4dC9vYmplY3QvYXNzaWduJylcbiAgLCBjYWxsYWJsZSA9IHJlcXVpcmUoJ2VzNS1leHQvb2JqZWN0L3ZhbGlkLWNhbGxhYmxlJylcbiAgLCB2YWx1ZSAgICA9IHJlcXVpcmUoJ2VzNS1leHQvb2JqZWN0L3ZhbGlkLXZhbHVlJylcbiAgLCBkICAgICAgICA9IHJlcXVpcmUoJ2QnKVxuICAsIGF1dG9CaW5kID0gcmVxdWlyZSgnZC9hdXRvLWJpbmQnKVxuICAsIFN5bWJvbCAgID0gcmVxdWlyZSgnZXM2LXN5bWJvbCcpXG5cbiAgLCBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eVxuICAsIGRlZmluZVByb3BlcnRpZXMgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllc1xuICAsIEl0ZXJhdG9yO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEl0ZXJhdG9yID0gZnVuY3Rpb24gKGxpc3QsIGNvbnRleHQpIHtcblx0aWYgKCEodGhpcyBpbnN0YW5jZW9mIEl0ZXJhdG9yKSkgcmV0dXJuIG5ldyBJdGVyYXRvcihsaXN0LCBjb250ZXh0KTtcblx0ZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG5cdFx0X19saXN0X186IGQoJ3cnLCB2YWx1ZShsaXN0KSksXG5cdFx0X19jb250ZXh0X186IGQoJ3cnLCBjb250ZXh0KSxcblx0XHRfX25leHRJbmRleF9fOiBkKCd3JywgMClcblx0fSk7XG5cdGlmICghY29udGV4dCkgcmV0dXJuO1xuXHRjYWxsYWJsZShjb250ZXh0Lm9uKTtcblx0Y29udGV4dC5vbignX2FkZCcsIHRoaXMuX29uQWRkKTtcblx0Y29udGV4dC5vbignX2RlbGV0ZScsIHRoaXMuX29uRGVsZXRlKTtcblx0Y29udGV4dC5vbignX2NsZWFyJywgdGhpcy5fb25DbGVhcik7XG59O1xuXG5kZWZpbmVQcm9wZXJ0aWVzKEl0ZXJhdG9yLnByb3RvdHlwZSwgYXNzaWduKHtcblx0Y29uc3RydWN0b3I6IGQoSXRlcmF0b3IpLFxuXHRfbmV4dDogZChmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGk7XG5cdFx0aWYgKCF0aGlzLl9fbGlzdF9fKSByZXR1cm47XG5cdFx0aWYgKHRoaXMuX19yZWRvX18pIHtcblx0XHRcdGkgPSB0aGlzLl9fcmVkb19fLnNoaWZ0KCk7XG5cdFx0XHRpZiAoaSAhPT0gdW5kZWZpbmVkKSByZXR1cm4gaTtcblx0XHR9XG5cdFx0aWYgKHRoaXMuX19uZXh0SW5kZXhfXyA8IHRoaXMuX19saXN0X18ubGVuZ3RoKSByZXR1cm4gdGhpcy5fX25leHRJbmRleF9fKys7XG5cdFx0dGhpcy5fdW5CaW5kKCk7XG5cdH0pLFxuXHRuZXh0OiBkKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2NyZWF0ZVJlc3VsdCh0aGlzLl9uZXh0KCkpOyB9KSxcblx0X2NyZWF0ZVJlc3VsdDogZChmdW5jdGlvbiAoaSkge1xuXHRcdGlmIChpID09PSB1bmRlZmluZWQpIHJldHVybiB7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfTtcblx0XHRyZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IHRoaXMuX3Jlc29sdmUoaSkgfTtcblx0fSksXG5cdF9yZXNvbHZlOiBkKGZ1bmN0aW9uIChpKSB7IHJldHVybiB0aGlzLl9fbGlzdF9fW2ldOyB9KSxcblx0X3VuQmluZDogZChmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fX2xpc3RfXyA9IG51bGw7XG5cdFx0ZGVsZXRlIHRoaXMuX19yZWRvX187XG5cdFx0aWYgKCF0aGlzLl9fY29udGV4dF9fKSByZXR1cm47XG5cdFx0dGhpcy5fX2NvbnRleHRfXy5vZmYoJ19hZGQnLCB0aGlzLl9vbkFkZCk7XG5cdFx0dGhpcy5fX2NvbnRleHRfXy5vZmYoJ19kZWxldGUnLCB0aGlzLl9vbkRlbGV0ZSk7XG5cdFx0dGhpcy5fX2NvbnRleHRfXy5vZmYoJ19jbGVhcicsIHRoaXMuX29uQ2xlYXIpO1xuXHRcdHRoaXMuX19jb250ZXh0X18gPSBudWxsO1xuXHR9KSxcblx0dG9TdHJpbmc6IGQoZnVuY3Rpb24gKCkgeyByZXR1cm4gJ1tvYmplY3QgSXRlcmF0b3JdJzsgfSlcbn0sIGF1dG9CaW5kKHtcblx0X29uQWRkOiBkKGZ1bmN0aW9uIChpbmRleCkge1xuXHRcdGlmIChpbmRleCA+PSB0aGlzLl9fbmV4dEluZGV4X18pIHJldHVybjtcblx0XHQrK3RoaXMuX19uZXh0SW5kZXhfXztcblx0XHRpZiAoIXRoaXMuX19yZWRvX18pIHtcblx0XHRcdGRlZmluZVByb3BlcnR5KHRoaXMsICdfX3JlZG9fXycsIGQoJ2MnLCBbaW5kZXhdKSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHRoaXMuX19yZWRvX18uZm9yRWFjaChmdW5jdGlvbiAocmVkbywgaSkge1xuXHRcdFx0aWYgKHJlZG8gPj0gaW5kZXgpIHRoaXMuX19yZWRvX19baV0gPSArK3JlZG87XG5cdFx0fSwgdGhpcyk7XG5cdFx0dGhpcy5fX3JlZG9fXy5wdXNoKGluZGV4KTtcblx0fSksXG5cdF9vbkRlbGV0ZTogZChmdW5jdGlvbiAoaW5kZXgpIHtcblx0XHR2YXIgaTtcblx0XHRpZiAoaW5kZXggPj0gdGhpcy5fX25leHRJbmRleF9fKSByZXR1cm47XG5cdFx0LS10aGlzLl9fbmV4dEluZGV4X187XG5cdFx0aWYgKCF0aGlzLl9fcmVkb19fKSByZXR1cm47XG5cdFx0aSA9IHRoaXMuX19yZWRvX18uaW5kZXhPZihpbmRleCk7XG5cdFx0aWYgKGkgIT09IC0xKSB0aGlzLl9fcmVkb19fLnNwbGljZShpLCAxKTtcblx0XHR0aGlzLl9fcmVkb19fLmZvckVhY2goZnVuY3Rpb24gKHJlZG8sIGkpIHtcblx0XHRcdGlmIChyZWRvID4gaW5kZXgpIHRoaXMuX19yZWRvX19baV0gPSAtLXJlZG87XG5cdFx0fSwgdGhpcyk7XG5cdH0pLFxuXHRfb25DbGVhcjogZChmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMuX19yZWRvX18pIGNsZWFyLmNhbGwodGhpcy5fX3JlZG9fXyk7XG5cdFx0dGhpcy5fX25leHRJbmRleF9fID0gMDtcblx0fSlcbn0pKSk7XG5cbmRlZmluZVByb3BlcnR5KEl0ZXJhdG9yLnByb3RvdHlwZSwgU3ltYm9sLml0ZXJhdG9yLCBkKGZ1bmN0aW9uICgpIHtcblx0cmV0dXJuIHRoaXM7XG59KSk7XG5kZWZpbmVQcm9wZXJ0eShJdGVyYXRvci5wcm90b3R5cGUsIFN5bWJvbC50b1N0cmluZ1RhZywgZCgnJywgJ0l0ZXJhdG9yJykpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaXNBcmd1bWVudHMgICAgPSByZXF1aXJlKCdlczUtZXh0L2Z1bmN0aW9uL2lzLWFyZ3VtZW50cycpXG4gICwgaXNTdHJpbmcgICAgICAgPSByZXF1aXJlKCdlczUtZXh0L3N0cmluZy9pcy1zdHJpbmcnKVxuICAsIGl0ZXJhdG9yU3ltYm9sID0gcmVxdWlyZSgnZXM2LXN5bWJvbCcpLml0ZXJhdG9yXG5cbiAgLCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0aWYgKHZhbHVlID09IG51bGwpIHJldHVybiBmYWxzZTtcblx0aWYgKGlzQXJyYXkodmFsdWUpKSByZXR1cm4gdHJ1ZTtcblx0aWYgKGlzU3RyaW5nKHZhbHVlKSkgcmV0dXJuIHRydWU7XG5cdGlmIChpc0FyZ3VtZW50cyh2YWx1ZSkpIHJldHVybiB0cnVlO1xuXHRyZXR1cm4gKHR5cGVvZiB2YWx1ZVtpdGVyYXRvclN5bWJvbF0gPT09ICdmdW5jdGlvbicpO1xufTtcbiIsIi8vIFRoYW5rcyBAbWF0aGlhc2J5bmVuc1xuLy8gaHR0cDovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC11bmljb2RlI2l0ZXJhdGluZy1vdmVyLXN5bWJvbHNcblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgc2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCdlczUtZXh0L29iamVjdC9zZXQtcHJvdG90eXBlLW9mJylcbiAgLCBkICAgICAgICAgICAgICA9IHJlcXVpcmUoJ2QnKVxuICAsIEl0ZXJhdG9yICAgICAgID0gcmVxdWlyZSgnLi8nKVxuXG4gICwgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHlcbiAgLCBTdHJpbmdJdGVyYXRvcjtcblxuU3RyaW5nSXRlcmF0b3IgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzdHIpIHtcblx0aWYgKCEodGhpcyBpbnN0YW5jZW9mIFN0cmluZ0l0ZXJhdG9yKSkgcmV0dXJuIG5ldyBTdHJpbmdJdGVyYXRvcihzdHIpO1xuXHRzdHIgPSBTdHJpbmcoc3RyKTtcblx0SXRlcmF0b3IuY2FsbCh0aGlzLCBzdHIpO1xuXHRkZWZpbmVQcm9wZXJ0eSh0aGlzLCAnX19sZW5ndGhfXycsIGQoJycsIHN0ci5sZW5ndGgpKTtcblxufTtcbmlmIChzZXRQcm90b3R5cGVPZikgc2V0UHJvdG90eXBlT2YoU3RyaW5nSXRlcmF0b3IsIEl0ZXJhdG9yKTtcblxuU3RyaW5nSXRlcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJdGVyYXRvci5wcm90b3R5cGUsIHtcblx0Y29uc3RydWN0b3I6IGQoU3RyaW5nSXRlcmF0b3IpLFxuXHRfbmV4dDogZChmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKCF0aGlzLl9fbGlzdF9fKSByZXR1cm47XG5cdFx0aWYgKHRoaXMuX19uZXh0SW5kZXhfXyA8IHRoaXMuX19sZW5ndGhfXykgcmV0dXJuIHRoaXMuX19uZXh0SW5kZXhfXysrO1xuXHRcdHRoaXMuX3VuQmluZCgpO1xuXHR9KSxcblx0X3Jlc29sdmU6IGQoZnVuY3Rpb24gKGkpIHtcblx0XHR2YXIgY2hhciA9IHRoaXMuX19saXN0X19baV0sIGNvZGU7XG5cdFx0aWYgKHRoaXMuX19uZXh0SW5kZXhfXyA9PT0gdGhpcy5fX2xlbmd0aF9fKSByZXR1cm4gY2hhcjtcblx0XHRjb2RlID0gY2hhci5jaGFyQ29kZUF0KDApO1xuXHRcdGlmICgoY29kZSA+PSAweEQ4MDApICYmIChjb2RlIDw9IDB4REJGRikpIHJldHVybiBjaGFyICsgdGhpcy5fX2xpc3RfX1t0aGlzLl9fbmV4dEluZGV4X18rK107XG5cdFx0cmV0dXJuIGNoYXI7XG5cdH0pLFxuXHR0b1N0cmluZzogZChmdW5jdGlvbiAoKSB7IHJldHVybiAnW29iamVjdCBTdHJpbmcgSXRlcmF0b3JdJzsgfSlcbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaXNJdGVyYWJsZSA9IHJlcXVpcmUoJy4vaXMtaXRlcmFibGUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0aWYgKCFpc0l0ZXJhYmxlKHZhbHVlKSkgdGhyb3cgbmV3IFR5cGVFcnJvcih2YWx1ZSArIFwiIGlzIG5vdCBpdGVyYWJsZVwiKTtcblx0cmV0dXJuIHZhbHVlO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaWYgKCFyZXF1aXJlKCcuL2lzLWltcGxlbWVudGVkJykoKSkge1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkocmVxdWlyZSgnZXM1LWV4dC9nbG9iYWwnKSwgJ1NldCcsXG5cdFx0eyB2YWx1ZTogcmVxdWlyZSgnLi9wb2x5ZmlsbCcpLCBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IGZhbHNlLFxuXHRcdFx0d3JpdGFibGU6IHRydWUgfSk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgc2V0LCBpdGVyYXRvciwgcmVzdWx0O1xuXHRpZiAodHlwZW9mIFNldCAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGZhbHNlO1xuXHRzZXQgPSBuZXcgU2V0KFsncmF6JywgJ2R3YScsICd0cnp5J10pO1xuXHRpZiAoU3RyaW5nKHNldCkgIT09ICdbb2JqZWN0IFNldF0nKSByZXR1cm4gZmFsc2U7XG5cdGlmIChzZXQuc2l6ZSAhPT0gMykgcmV0dXJuIGZhbHNlO1xuXHRpZiAodHlwZW9mIHNldC5hZGQgIT09ICdmdW5jdGlvbicpIHJldHVybiBmYWxzZTtcblx0aWYgKHR5cGVvZiBzZXQuY2xlYXIgIT09ICdmdW5jdGlvbicpIHJldHVybiBmYWxzZTtcblx0aWYgKHR5cGVvZiBzZXQuZGVsZXRlICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gZmFsc2U7XG5cdGlmICh0eXBlb2Ygc2V0LmVudHJpZXMgIT09ICdmdW5jdGlvbicpIHJldHVybiBmYWxzZTtcblx0aWYgKHR5cGVvZiBzZXQuZm9yRWFjaCAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGZhbHNlO1xuXHRpZiAodHlwZW9mIHNldC5oYXMgIT09ICdmdW5jdGlvbicpIHJldHVybiBmYWxzZTtcblx0aWYgKHR5cGVvZiBzZXQua2V5cyAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGZhbHNlO1xuXHRpZiAodHlwZW9mIHNldC52YWx1ZXMgIT09ICdmdW5jdGlvbicpIHJldHVybiBmYWxzZTtcblxuXHRpdGVyYXRvciA9IHNldC52YWx1ZXMoKTtcblx0cmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuXHRpZiAocmVzdWx0LmRvbmUgIT09IGZhbHNlKSByZXR1cm4gZmFsc2U7XG5cdGlmIChyZXN1bHQudmFsdWUgIT09ICdyYXonKSByZXR1cm4gZmFsc2U7XG5cblx0cmV0dXJuIHRydWU7XG59O1xuIiwiLy8gRXhwb3J0cyB0cnVlIGlmIGVudmlyb25tZW50IHByb3ZpZGVzIG5hdGl2ZSBgU2V0YCBpbXBsZW1lbnRhdGlvbixcbi8vIHdoYXRldmVyIHRoYXQgaXMuXG5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24gKCkge1xuXHRpZiAodHlwZW9mIFNldCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBmYWxzZTtcblx0cmV0dXJuIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoU2V0LnByb3RvdHlwZSkgPT09ICdbb2JqZWN0IFNldF0nKTtcbn0oKSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBzZXRQcm90b3R5cGVPZiAgICA9IHJlcXVpcmUoJ2VzNS1leHQvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YnKVxuICAsIGNvbnRhaW5zICAgICAgICAgID0gcmVxdWlyZSgnZXM1LWV4dC9zdHJpbmcvIy9jb250YWlucycpXG4gICwgZCAgICAgICAgICAgICAgICAgPSByZXF1aXJlKCdkJylcbiAgLCBJdGVyYXRvciAgICAgICAgICA9IHJlcXVpcmUoJ2VzNi1pdGVyYXRvcicpXG4gICwgdG9TdHJpbmdUYWdTeW1ib2wgPSByZXF1aXJlKCdlczYtc3ltYm9sJykudG9TdHJpbmdUYWdcblxuICAsIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5XG4gICwgU2V0SXRlcmF0b3I7XG5cblNldEl0ZXJhdG9yID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc2V0LCBraW5kKSB7XG5cdGlmICghKHRoaXMgaW5zdGFuY2VvZiBTZXRJdGVyYXRvcikpIHJldHVybiBuZXcgU2V0SXRlcmF0b3Ioc2V0LCBraW5kKTtcblx0SXRlcmF0b3IuY2FsbCh0aGlzLCBzZXQuX19zZXREYXRhX18sIHNldCk7XG5cdGlmICgha2luZCkga2luZCA9ICd2YWx1ZSc7XG5cdGVsc2UgaWYgKGNvbnRhaW5zLmNhbGwoa2luZCwgJ2tleSt2YWx1ZScpKSBraW5kID0gJ2tleSt2YWx1ZSc7XG5cdGVsc2Uga2luZCA9ICd2YWx1ZSc7XG5cdGRlZmluZVByb3BlcnR5KHRoaXMsICdfX2tpbmRfXycsIGQoJycsIGtpbmQpKTtcbn07XG5pZiAoc2V0UHJvdG90eXBlT2YpIHNldFByb3RvdHlwZU9mKFNldEl0ZXJhdG9yLCBJdGVyYXRvcik7XG5cblNldEl0ZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSXRlcmF0b3IucHJvdG90eXBlLCB7XG5cdGNvbnN0cnVjdG9yOiBkKFNldEl0ZXJhdG9yKSxcblx0X3Jlc29sdmU6IGQoZnVuY3Rpb24gKGkpIHtcblx0XHRpZiAodGhpcy5fX2tpbmRfXyA9PT0gJ3ZhbHVlJykgcmV0dXJuIHRoaXMuX19saXN0X19baV07XG5cdFx0cmV0dXJuIFt0aGlzLl9fbGlzdF9fW2ldLCB0aGlzLl9fbGlzdF9fW2ldXTtcblx0fSksXG5cdHRvU3RyaW5nOiBkKGZ1bmN0aW9uICgpIHsgcmV0dXJuICdbb2JqZWN0IFNldCBJdGVyYXRvcl0nOyB9KVxufSk7XG5kZWZpbmVQcm9wZXJ0eShTZXRJdGVyYXRvci5wcm90b3R5cGUsIHRvU3RyaW5nVGFnU3ltYm9sLCBkKCdjJywgJ1NldCBJdGVyYXRvcicpKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGNsZWFyICAgICAgICAgID0gcmVxdWlyZSgnZXM1LWV4dC9hcnJheS8jL2NsZWFyJylcbiAgLCBlSW5kZXhPZiAgICAgICA9IHJlcXVpcmUoJ2VzNS1leHQvYXJyYXkvIy9lLWluZGV4LW9mJylcbiAgLCBzZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJ2VzNS1leHQvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YnKVxuICAsIGNhbGxhYmxlICAgICAgID0gcmVxdWlyZSgnZXM1LWV4dC9vYmplY3QvdmFsaWQtY2FsbGFibGUnKVxuICAsIGQgICAgICAgICAgICAgID0gcmVxdWlyZSgnZCcpXG4gICwgZWUgICAgICAgICAgICAgPSByZXF1aXJlKCdldmVudC1lbWl0dGVyJylcbiAgLCBTeW1ib2wgICAgICAgICA9IHJlcXVpcmUoJ2VzNi1zeW1ib2wnKVxuICAsIGl0ZXJhdG9yICAgICAgID0gcmVxdWlyZSgnZXM2LWl0ZXJhdG9yL3ZhbGlkLWl0ZXJhYmxlJylcbiAgLCBmb3JPZiAgICAgICAgICA9IHJlcXVpcmUoJ2VzNi1pdGVyYXRvci9mb3Itb2YnKVxuICAsIEl0ZXJhdG9yICAgICAgID0gcmVxdWlyZSgnLi9saWIvaXRlcmF0b3InKVxuICAsIGlzTmF0aXZlICAgICAgID0gcmVxdWlyZSgnLi9pcy1uYXRpdmUtaW1wbGVtZW50ZWQnKVxuXG4gICwgY2FsbCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsXG4gICwgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHksIGdldFByb3RvdHlwZU9mID0gT2JqZWN0LmdldFByb3RvdHlwZU9mXG4gICwgU2V0UG9seSwgZ2V0VmFsdWVzLCBOYXRpdmVTZXQ7XG5cbmlmIChpc05hdGl2ZSkgTmF0aXZlU2V0ID0gU2V0O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNldFBvbHkgPSBmdW5jdGlvbiBTZXQoLyppdGVyYWJsZSovKSB7XG5cdHZhciBpdGVyYWJsZSA9IGFyZ3VtZW50c1swXSwgc2VsZjtcblx0aWYgKCEodGhpcyBpbnN0YW5jZW9mIFNldFBvbHkpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdDb25zdHJ1Y3RvciByZXF1aXJlcyBcXCduZXdcXCcnKTtcblx0aWYgKGlzTmF0aXZlICYmIHNldFByb3RvdHlwZU9mKSBzZWxmID0gc2V0UHJvdG90eXBlT2YobmV3IE5hdGl2ZVNldCgpLCBnZXRQcm90b3R5cGVPZih0aGlzKSk7XG5cdGVsc2Ugc2VsZiA9IHRoaXM7XG5cdGlmIChpdGVyYWJsZSAhPSBudWxsKSBpdGVyYXRvcihpdGVyYWJsZSk7XG5cdGRlZmluZVByb3BlcnR5KHNlbGYsICdfX3NldERhdGFfXycsIGQoJ2MnLCBbXSkpO1xuXHRpZiAoIWl0ZXJhYmxlKSByZXR1cm4gc2VsZjtcblx0Zm9yT2YoaXRlcmFibGUsIGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdGlmIChlSW5kZXhPZi5jYWxsKHRoaXMsIHZhbHVlKSAhPT0gLTEpIHJldHVybjtcblx0XHR0aGlzLnB1c2godmFsdWUpO1xuXHR9LCBzZWxmLl9fc2V0RGF0YV9fKTtcblx0cmV0dXJuIHNlbGY7XG59O1xuXG5pZiAoaXNOYXRpdmUpIHtcblx0aWYgKHNldFByb3RvdHlwZU9mKSBzZXRQcm90b3R5cGVPZihTZXRQb2x5LCBOYXRpdmVTZXQpO1xuXHRTZXRQb2x5LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTmF0aXZlU2V0LnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogZChTZXRQb2x5KSB9KTtcbn1cblxuZWUoT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoU2V0UG9seS5wcm90b3R5cGUsIHtcblx0YWRkOiBkKGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdGlmICh0aGlzLmhhcyh2YWx1ZSkpIHJldHVybiB0aGlzO1xuXHRcdHRoaXMuZW1pdCgnX2FkZCcsIHRoaXMuX19zZXREYXRhX18ucHVzaCh2YWx1ZSkgLSAxLCB2YWx1ZSk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0pLFxuXHRjbGVhcjogZChmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKCF0aGlzLl9fc2V0RGF0YV9fLmxlbmd0aCkgcmV0dXJuO1xuXHRcdGNsZWFyLmNhbGwodGhpcy5fX3NldERhdGFfXyk7XG5cdFx0dGhpcy5lbWl0KCdfY2xlYXInKTtcblx0fSksXG5cdGRlbGV0ZTogZChmdW5jdGlvbiAodmFsdWUpIHtcblx0XHR2YXIgaW5kZXggPSBlSW5kZXhPZi5jYWxsKHRoaXMuX19zZXREYXRhX18sIHZhbHVlKTtcblx0XHRpZiAoaW5kZXggPT09IC0xKSByZXR1cm4gZmFsc2U7XG5cdFx0dGhpcy5fX3NldERhdGFfXy5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdHRoaXMuZW1pdCgnX2RlbGV0ZScsIGluZGV4LCB2YWx1ZSk7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0pLFxuXHRlbnRyaWVzOiBkKGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBJdGVyYXRvcih0aGlzLCAna2V5K3ZhbHVlJyk7IH0pLFxuXHRmb3JFYWNoOiBkKGZ1bmN0aW9uIChjYi8qLCB0aGlzQXJnKi8pIHtcblx0XHR2YXIgdGhpc0FyZyA9IGFyZ3VtZW50c1sxXSwgaXRlcmF0b3IsIHJlc3VsdCwgdmFsdWU7XG5cdFx0Y2FsbGFibGUoY2IpO1xuXHRcdGl0ZXJhdG9yID0gdGhpcy52YWx1ZXMoKTtcblx0XHRyZXN1bHQgPSBpdGVyYXRvci5fbmV4dCgpO1xuXHRcdHdoaWxlIChyZXN1bHQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dmFsdWUgPSBpdGVyYXRvci5fcmVzb2x2ZShyZXN1bHQpO1xuXHRcdFx0Y2FsbC5jYWxsKGNiLCB0aGlzQXJnLCB2YWx1ZSwgdmFsdWUsIHRoaXMpO1xuXHRcdFx0cmVzdWx0ID0gaXRlcmF0b3IuX25leHQoKTtcblx0XHR9XG5cdH0pLFxuXHRoYXM6IGQoZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0cmV0dXJuIChlSW5kZXhPZi5jYWxsKHRoaXMuX19zZXREYXRhX18sIHZhbHVlKSAhPT0gLTEpO1xuXHR9KSxcblx0a2V5czogZChnZXRWYWx1ZXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnZhbHVlcygpOyB9KSxcblx0c2l6ZTogZC5ncyhmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9fc2V0RGF0YV9fLmxlbmd0aDsgfSksXG5cdHZhbHVlczogZChmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgSXRlcmF0b3IodGhpcyk7IH0pLFxuXHR0b1N0cmluZzogZChmdW5jdGlvbiAoKSB7IHJldHVybiAnW29iamVjdCBTZXRdJzsgfSlcbn0pKTtcbmRlZmluZVByb3BlcnR5KFNldFBvbHkucHJvdG90eXBlLCBTeW1ib2wuaXRlcmF0b3IsIGQoZ2V0VmFsdWVzKSk7XG5kZWZpbmVQcm9wZXJ0eShTZXRQb2x5LnByb3RvdHlwZSwgU3ltYm9sLnRvU3RyaW5nVGFnLCBkKCdjJywgJ1NldCcpKTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2lzLWltcGxlbWVudGVkJykoKSA/IFN5bWJvbCA6IHJlcXVpcmUoJy4vcG9seWZpbGwnKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHZhbGlkVHlwZXMgPSB7IG9iamVjdDogdHJ1ZSwgc3ltYm9sOiB0cnVlIH07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgc3ltYm9sO1xuXHRpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGZhbHNlO1xuXHRzeW1ib2wgPSBTeW1ib2woJ3Rlc3Qgc3ltYm9sJyk7XG5cdHRyeSB7IFN0cmluZyhzeW1ib2wpOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdC8vIFJldHVybiAndHJ1ZScgYWxzbyBmb3IgcG9seWZpbGxzXG5cdGlmICghdmFsaWRUeXBlc1t0eXBlb2YgU3ltYm9sLml0ZXJhdG9yXSkgcmV0dXJuIGZhbHNlO1xuXHRpZiAoIXZhbGlkVHlwZXNbdHlwZW9mIFN5bWJvbC50b1ByaW1pdGl2ZV0pIHJldHVybiBmYWxzZTtcblx0aWYgKCF2YWxpZFR5cGVzW3R5cGVvZiBTeW1ib2wudG9TdHJpbmdUYWddKSByZXR1cm4gZmFsc2U7XG5cblx0cmV0dXJuIHRydWU7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh4KSB7XG5cdGlmICgheCkgcmV0dXJuIGZhbHNlO1xuXHRpZiAodHlwZW9mIHggPT09ICdzeW1ib2wnKSByZXR1cm4gdHJ1ZTtcblx0aWYgKCF4LmNvbnN0cnVjdG9yKSByZXR1cm4gZmFsc2U7XG5cdGlmICh4LmNvbnN0cnVjdG9yLm5hbWUgIT09ICdTeW1ib2wnKSByZXR1cm4gZmFsc2U7XG5cdHJldHVybiAoeFt4LmNvbnN0cnVjdG9yLnRvU3RyaW5nVGFnXSA9PT0gJ1N5bWJvbCcpO1xufTtcbiIsIi8vIEVTMjAxNSBTeW1ib2wgcG9seWZpbGwgZm9yIGVudmlyb25tZW50cyB0aGF0IGRvIG5vdCAob3IgcGFydGlhbGx5KSBzdXBwb3J0IGl0XG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGQgICAgICAgICAgICAgID0gcmVxdWlyZSgnZCcpXG4gICwgdmFsaWRhdGVTeW1ib2wgPSByZXF1aXJlKCcuL3ZhbGlkYXRlLXN5bWJvbCcpXG5cbiAgLCBjcmVhdGUgPSBPYmplY3QuY3JlYXRlLCBkZWZpbmVQcm9wZXJ0aWVzID0gT2JqZWN0LmRlZmluZVByb3BlcnRpZXNcbiAgLCBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgb2JqUHJvdG90eXBlID0gT2JqZWN0LnByb3RvdHlwZVxuICAsIE5hdGl2ZVN5bWJvbCwgU3ltYm9sUG9seWZpbGwsIEhpZGRlblN5bWJvbCwgZ2xvYmFsU3ltYm9scyA9IGNyZWF0ZShudWxsKVxuICAsIGlzTmF0aXZlU2FmZTtcblxuaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicpIHtcblx0TmF0aXZlU3ltYm9sID0gU3ltYm9sO1xuXHR0cnkge1xuXHRcdFN0cmluZyhOYXRpdmVTeW1ib2woKSk7XG5cdFx0aXNOYXRpdmVTYWZlID0gdHJ1ZTtcblx0fSBjYXRjaCAoaWdub3JlKSB7fVxufVxuXG52YXIgZ2VuZXJhdGVOYW1lID0gKGZ1bmN0aW9uICgpIHtcblx0dmFyIGNyZWF0ZWQgPSBjcmVhdGUobnVsbCk7XG5cdHJldHVybiBmdW5jdGlvbiAoZGVzYykge1xuXHRcdHZhciBwb3N0Zml4ID0gMCwgbmFtZSwgaWUxMUJ1Z1dvcmthcm91bmQ7XG5cdFx0d2hpbGUgKGNyZWF0ZWRbZGVzYyArIChwb3N0Zml4IHx8ICcnKV0pICsrcG9zdGZpeDtcblx0XHRkZXNjICs9IChwb3N0Zml4IHx8ICcnKTtcblx0XHRjcmVhdGVkW2Rlc2NdID0gdHJ1ZTtcblx0XHRuYW1lID0gJ0BAJyArIGRlc2M7XG5cdFx0ZGVmaW5lUHJvcGVydHkob2JqUHJvdG90eXBlLCBuYW1lLCBkLmdzKG51bGwsIGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdFx0Ly8gRm9yIElFMTEgaXNzdWUgc2VlOlxuXHRcdFx0Ly8gaHR0cHM6Ly9jb25uZWN0Lm1pY3Jvc29mdC5jb20vSUUvZmVlZGJhY2tkZXRhaWwvdmlldy8xOTI4NTA4L1xuXHRcdFx0Ly8gICAgaWUxMS1icm9rZW4tZ2V0dGVycy1vbi1kb20tb2JqZWN0c1xuXHRcdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL21lZGlrb28vZXM2LXN5bWJvbC9pc3N1ZXMvMTJcblx0XHRcdGlmIChpZTExQnVnV29ya2Fyb3VuZCkgcmV0dXJuO1xuXHRcdFx0aWUxMUJ1Z1dvcmthcm91bmQgPSB0cnVlO1xuXHRcdFx0ZGVmaW5lUHJvcGVydHkodGhpcywgbmFtZSwgZCh2YWx1ZSkpO1xuXHRcdFx0aWUxMUJ1Z1dvcmthcm91bmQgPSBmYWxzZTtcblx0XHR9KSk7XG5cdFx0cmV0dXJuIG5hbWU7XG5cdH07XG59KCkpO1xuXG4vLyBJbnRlcm5hbCBjb25zdHJ1Y3RvciAobm90IG9uZSBleHBvc2VkKSBmb3IgY3JlYXRpbmcgU3ltYm9sIGluc3RhbmNlcy5cbi8vIFRoaXMgb25lIGlzIHVzZWQgdG8gZW5zdXJlIHRoYXQgYHNvbWVTeW1ib2wgaW5zdGFuY2VvZiBTeW1ib2xgIGFsd2F5cyByZXR1cm4gZmFsc2VcbkhpZGRlblN5bWJvbCA9IGZ1bmN0aW9uIFN5bWJvbChkZXNjcmlwdGlvbikge1xuXHRpZiAodGhpcyBpbnN0YW5jZW9mIEhpZGRlblN5bWJvbCkgdGhyb3cgbmV3IFR5cGVFcnJvcignU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yJyk7XG5cdHJldHVybiBTeW1ib2xQb2x5ZmlsbChkZXNjcmlwdGlvbik7XG59O1xuXG4vLyBFeHBvc2VkIGBTeW1ib2xgIGNvbnN0cnVjdG9yXG4vLyAocmV0dXJucyBpbnN0YW5jZXMgb2YgSGlkZGVuU3ltYm9sKVxubW9kdWxlLmV4cG9ydHMgPSBTeW1ib2xQb2x5ZmlsbCA9IGZ1bmN0aW9uIFN5bWJvbChkZXNjcmlwdGlvbikge1xuXHR2YXIgc3ltYm9sO1xuXHRpZiAodGhpcyBpbnN0YW5jZW9mIFN5bWJvbCkgdGhyb3cgbmV3IFR5cGVFcnJvcignU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yJyk7XG5cdGlmIChpc05hdGl2ZVNhZmUpIHJldHVybiBOYXRpdmVTeW1ib2woZGVzY3JpcHRpb24pO1xuXHRzeW1ib2wgPSBjcmVhdGUoSGlkZGVuU3ltYm9sLnByb3RvdHlwZSk7XG5cdGRlc2NyaXB0aW9uID0gKGRlc2NyaXB0aW9uID09PSB1bmRlZmluZWQgPyAnJyA6IFN0cmluZyhkZXNjcmlwdGlvbikpO1xuXHRyZXR1cm4gZGVmaW5lUHJvcGVydGllcyhzeW1ib2wsIHtcblx0XHRfX2Rlc2NyaXB0aW9uX186IGQoJycsIGRlc2NyaXB0aW9uKSxcblx0XHRfX25hbWVfXzogZCgnJywgZ2VuZXJhdGVOYW1lKGRlc2NyaXB0aW9uKSlcblx0fSk7XG59O1xuZGVmaW5lUHJvcGVydGllcyhTeW1ib2xQb2x5ZmlsbCwge1xuXHRmb3I6IGQoZnVuY3Rpb24gKGtleSkge1xuXHRcdGlmIChnbG9iYWxTeW1ib2xzW2tleV0pIHJldHVybiBnbG9iYWxTeW1ib2xzW2tleV07XG5cdFx0cmV0dXJuIChnbG9iYWxTeW1ib2xzW2tleV0gPSBTeW1ib2xQb2x5ZmlsbChTdHJpbmcoa2V5KSkpO1xuXHR9KSxcblx0a2V5Rm9yOiBkKGZ1bmN0aW9uIChzKSB7XG5cdFx0dmFyIGtleTtcblx0XHR2YWxpZGF0ZVN5bWJvbChzKTtcblx0XHRmb3IgKGtleSBpbiBnbG9iYWxTeW1ib2xzKSBpZiAoZ2xvYmFsU3ltYm9sc1trZXldID09PSBzKSByZXR1cm4ga2V5O1xuXHR9KSxcblxuXHQvLyBUbyBlbnN1cmUgcHJvcGVyIGludGVyb3BlcmFiaWxpdHkgd2l0aCBvdGhlciBuYXRpdmUgZnVuY3Rpb25zIChlLmcuIEFycmF5LmZyb20pXG5cdC8vIGZhbGxiYWNrIHRvIGV2ZW50dWFsIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbiBvZiBnaXZlbiBzeW1ib2xcblx0aGFzSW5zdGFuY2U6IGQoJycsIChOYXRpdmVTeW1ib2wgJiYgTmF0aXZlU3ltYm9sLmhhc0luc3RhbmNlKSB8fCBTeW1ib2xQb2x5ZmlsbCgnaGFzSW5zdGFuY2UnKSksXG5cdGlzQ29uY2F0U3ByZWFkYWJsZTogZCgnJywgKE5hdGl2ZVN5bWJvbCAmJiBOYXRpdmVTeW1ib2wuaXNDb25jYXRTcHJlYWRhYmxlKSB8fFxuXHRcdFN5bWJvbFBvbHlmaWxsKCdpc0NvbmNhdFNwcmVhZGFibGUnKSksXG5cdGl0ZXJhdG9yOiBkKCcnLCAoTmF0aXZlU3ltYm9sICYmIE5hdGl2ZVN5bWJvbC5pdGVyYXRvcikgfHwgU3ltYm9sUG9seWZpbGwoJ2l0ZXJhdG9yJykpLFxuXHRtYXRjaDogZCgnJywgKE5hdGl2ZVN5bWJvbCAmJiBOYXRpdmVTeW1ib2wubWF0Y2gpIHx8IFN5bWJvbFBvbHlmaWxsKCdtYXRjaCcpKSxcblx0cmVwbGFjZTogZCgnJywgKE5hdGl2ZVN5bWJvbCAmJiBOYXRpdmVTeW1ib2wucmVwbGFjZSkgfHwgU3ltYm9sUG9seWZpbGwoJ3JlcGxhY2UnKSksXG5cdHNlYXJjaDogZCgnJywgKE5hdGl2ZVN5bWJvbCAmJiBOYXRpdmVTeW1ib2wuc2VhcmNoKSB8fCBTeW1ib2xQb2x5ZmlsbCgnc2VhcmNoJykpLFxuXHRzcGVjaWVzOiBkKCcnLCAoTmF0aXZlU3ltYm9sICYmIE5hdGl2ZVN5bWJvbC5zcGVjaWVzKSB8fCBTeW1ib2xQb2x5ZmlsbCgnc3BlY2llcycpKSxcblx0c3BsaXQ6IGQoJycsIChOYXRpdmVTeW1ib2wgJiYgTmF0aXZlU3ltYm9sLnNwbGl0KSB8fCBTeW1ib2xQb2x5ZmlsbCgnc3BsaXQnKSksXG5cdHRvUHJpbWl0aXZlOiBkKCcnLCAoTmF0aXZlU3ltYm9sICYmIE5hdGl2ZVN5bWJvbC50b1ByaW1pdGl2ZSkgfHwgU3ltYm9sUG9seWZpbGwoJ3RvUHJpbWl0aXZlJykpLFxuXHR0b1N0cmluZ1RhZzogZCgnJywgKE5hdGl2ZVN5bWJvbCAmJiBOYXRpdmVTeW1ib2wudG9TdHJpbmdUYWcpIHx8IFN5bWJvbFBvbHlmaWxsKCd0b1N0cmluZ1RhZycpKSxcblx0dW5zY29wYWJsZXM6IGQoJycsIChOYXRpdmVTeW1ib2wgJiYgTmF0aXZlU3ltYm9sLnVuc2NvcGFibGVzKSB8fCBTeW1ib2xQb2x5ZmlsbCgndW5zY29wYWJsZXMnKSlcbn0pO1xuXG4vLyBJbnRlcm5hbCB0d2Vha3MgZm9yIHJlYWwgc3ltYm9sIHByb2R1Y2VyXG5kZWZpbmVQcm9wZXJ0aWVzKEhpZGRlblN5bWJvbC5wcm90b3R5cGUsIHtcblx0Y29uc3RydWN0b3I6IGQoU3ltYm9sUG9seWZpbGwpLFxuXHR0b1N0cmluZzogZCgnJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fX25hbWVfXzsgfSlcbn0pO1xuXG4vLyBQcm9wZXIgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBleHBvc2VkIG9uIFN5bWJvbC5wcm90b3R5cGVcbi8vIFRoZXkgd29uJ3QgYmUgYWNjZXNzaWJsZSBvbiBwcm9kdWNlZCBzeW1ib2wgaW5zdGFuY2VzIGFzIHRoZXkgZGVyaXZlIGZyb20gSGlkZGVuU3ltYm9sLnByb3RvdHlwZVxuZGVmaW5lUHJvcGVydGllcyhTeW1ib2xQb2x5ZmlsbC5wcm90b3R5cGUsIHtcblx0dG9TdHJpbmc6IGQoZnVuY3Rpb24gKCkgeyByZXR1cm4gJ1N5bWJvbCAoJyArIHZhbGlkYXRlU3ltYm9sKHRoaXMpLl9fZGVzY3JpcHRpb25fXyArICcpJzsgfSksXG5cdHZhbHVlT2Y6IGQoZnVuY3Rpb24gKCkgeyByZXR1cm4gdmFsaWRhdGVTeW1ib2wodGhpcyk7IH0pXG59KTtcbmRlZmluZVByb3BlcnR5KFN5bWJvbFBvbHlmaWxsLnByb3RvdHlwZSwgU3ltYm9sUG9seWZpbGwudG9QcmltaXRpdmUsIGQoJycsIGZ1bmN0aW9uICgpIHtcblx0dmFyIHN5bWJvbCA9IHZhbGlkYXRlU3ltYm9sKHRoaXMpO1xuXHRpZiAodHlwZW9mIHN5bWJvbCA9PT0gJ3N5bWJvbCcpIHJldHVybiBzeW1ib2w7XG5cdHJldHVybiBzeW1ib2wudG9TdHJpbmcoKTtcbn0pKTtcbmRlZmluZVByb3BlcnR5KFN5bWJvbFBvbHlmaWxsLnByb3RvdHlwZSwgU3ltYm9sUG9seWZpbGwudG9TdHJpbmdUYWcsIGQoJ2MnLCAnU3ltYm9sJykpO1xuXG4vLyBQcm9wZXIgaW1wbGVtZW50YXRvbiBvZiB0b1ByaW1pdGl2ZSBhbmQgdG9TdHJpbmdUYWcgZm9yIHJldHVybmVkIHN5bWJvbCBpbnN0YW5jZXNcbmRlZmluZVByb3BlcnR5KEhpZGRlblN5bWJvbC5wcm90b3R5cGUsIFN5bWJvbFBvbHlmaWxsLnRvU3RyaW5nVGFnLFxuXHRkKCdjJywgU3ltYm9sUG9seWZpbGwucHJvdG90eXBlW1N5bWJvbFBvbHlmaWxsLnRvU3RyaW5nVGFnXSkpO1xuXG4vLyBOb3RlOiBJdCdzIGltcG9ydGFudCB0byBkZWZpbmUgYHRvUHJpbWl0aXZlYCBhcyBsYXN0IG9uZSwgYXMgc29tZSBpbXBsZW1lbnRhdGlvbnNcbi8vIGltcGxlbWVudCBgdG9QcmltaXRpdmVgIG5hdGl2ZWx5IHdpdGhvdXQgaW1wbGVtZW50aW5nIGB0b1N0cmluZ1RhZ2AgKG9yIG90aGVyIHNwZWNpZmllZCBzeW1ib2xzKVxuLy8gQW5kIHRoYXQgbWF5IGludm9rZSBlcnJvciBpbiBkZWZpbml0aW9uIGZsb3c6XG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpa29vL2VzNi1zeW1ib2wvaXNzdWVzLzEzI2lzc3VlY29tbWVudC0xNjQxNDYxNDlcbmRlZmluZVByb3BlcnR5KEhpZGRlblN5bWJvbC5wcm90b3R5cGUsIFN5bWJvbFBvbHlmaWxsLnRvUHJpbWl0aXZlLFxuXHRkKCdjJywgU3ltYm9sUG9seWZpbGwucHJvdG90eXBlW1N5bWJvbFBvbHlmaWxsLnRvUHJpbWl0aXZlXSkpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaXNTeW1ib2wgPSByZXF1aXJlKCcuL2lzLXN5bWJvbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRpZiAoIWlzU3ltYm9sKHZhbHVlKSkgdGhyb3cgbmV3IFR5cGVFcnJvcih2YWx1ZSArIFwiIGlzIG5vdCBhIHN5bWJvbFwiKTtcblx0cmV0dXJuIHZhbHVlO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGQgICAgICAgID0gcmVxdWlyZSgnZCcpXG4gICwgY2FsbGFibGUgPSByZXF1aXJlKCdlczUtZXh0L29iamVjdC92YWxpZC1jYWxsYWJsZScpXG5cbiAgLCBhcHBseSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSwgY2FsbCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsXG4gICwgY3JlYXRlID0gT2JqZWN0LmNyZWF0ZSwgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHlcbiAgLCBkZWZpbmVQcm9wZXJ0aWVzID0gT2JqZWN0LmRlZmluZVByb3BlcnRpZXNcbiAgLCBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbiAgLCBkZXNjcmlwdG9yID0geyBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSB9XG5cbiAgLCBvbiwgb25jZSwgb2ZmLCBlbWl0LCBtZXRob2RzLCBkZXNjcmlwdG9ycywgYmFzZTtcblxub24gPSBmdW5jdGlvbiAodHlwZSwgbGlzdGVuZXIpIHtcblx0dmFyIGRhdGE7XG5cblx0Y2FsbGFibGUobGlzdGVuZXIpO1xuXG5cdGlmICghaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLCAnX19lZV9fJykpIHtcblx0XHRkYXRhID0gZGVzY3JpcHRvci52YWx1ZSA9IGNyZWF0ZShudWxsKTtcblx0XHRkZWZpbmVQcm9wZXJ0eSh0aGlzLCAnX19lZV9fJywgZGVzY3JpcHRvcik7XG5cdFx0ZGVzY3JpcHRvci52YWx1ZSA9IG51bGw7XG5cdH0gZWxzZSB7XG5cdFx0ZGF0YSA9IHRoaXMuX19lZV9fO1xuXHR9XG5cdGlmICghZGF0YVt0eXBlXSkgZGF0YVt0eXBlXSA9IGxpc3RlbmVyO1xuXHRlbHNlIGlmICh0eXBlb2YgZGF0YVt0eXBlXSA9PT0gJ29iamVjdCcpIGRhdGFbdHlwZV0ucHVzaChsaXN0ZW5lcik7XG5cdGVsc2UgZGF0YVt0eXBlXSA9IFtkYXRhW3R5cGVdLCBsaXN0ZW5lcl07XG5cblx0cmV0dXJuIHRoaXM7XG59O1xuXG5vbmNlID0gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyKSB7XG5cdHZhciBvbmNlLCBzZWxmO1xuXG5cdGNhbGxhYmxlKGxpc3RlbmVyKTtcblx0c2VsZiA9IHRoaXM7XG5cdG9uLmNhbGwodGhpcywgdHlwZSwgb25jZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRvZmYuY2FsbChzZWxmLCB0eXBlLCBvbmNlKTtcblx0XHRhcHBseS5jYWxsKGxpc3RlbmVyLCB0aGlzLCBhcmd1bWVudHMpO1xuXHR9KTtcblxuXHRvbmNlLl9fZWVPbmNlTGlzdGVuZXJfXyA9IGxpc3RlbmVyO1xuXHRyZXR1cm4gdGhpcztcbn07XG5cbm9mZiA9IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lcikge1xuXHR2YXIgZGF0YSwgbGlzdGVuZXJzLCBjYW5kaWRhdGUsIGk7XG5cblx0Y2FsbGFibGUobGlzdGVuZXIpO1xuXG5cdGlmICghaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLCAnX19lZV9fJykpIHJldHVybiB0aGlzO1xuXHRkYXRhID0gdGhpcy5fX2VlX187XG5cdGlmICghZGF0YVt0eXBlXSkgcmV0dXJuIHRoaXM7XG5cdGxpc3RlbmVycyA9IGRhdGFbdHlwZV07XG5cblx0aWYgKHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdvYmplY3QnKSB7XG5cdFx0Zm9yIChpID0gMDsgKGNhbmRpZGF0ZSA9IGxpc3RlbmVyc1tpXSk7ICsraSkge1xuXHRcdFx0aWYgKChjYW5kaWRhdGUgPT09IGxpc3RlbmVyKSB8fFxuXHRcdFx0XHRcdChjYW5kaWRhdGUuX19lZU9uY2VMaXN0ZW5lcl9fID09PSBsaXN0ZW5lcikpIHtcblx0XHRcdFx0aWYgKGxpc3RlbmVycy5sZW5ndGggPT09IDIpIGRhdGFbdHlwZV0gPSBsaXN0ZW5lcnNbaSA/IDAgOiAxXTtcblx0XHRcdFx0ZWxzZSBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRpZiAoKGxpc3RlbmVycyA9PT0gbGlzdGVuZXIpIHx8XG5cdFx0XHRcdChsaXN0ZW5lcnMuX19lZU9uY2VMaXN0ZW5lcl9fID09PSBsaXN0ZW5lcikpIHtcblx0XHRcdGRlbGV0ZSBkYXRhW3R5cGVdO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiB0aGlzO1xufTtcblxuZW1pdCA9IGZ1bmN0aW9uICh0eXBlKSB7XG5cdHZhciBpLCBsLCBsaXN0ZW5lciwgbGlzdGVuZXJzLCBhcmdzO1xuXG5cdGlmICghaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLCAnX19lZV9fJykpIHJldHVybjtcblx0bGlzdGVuZXJzID0gdGhpcy5fX2VlX19bdHlwZV07XG5cdGlmICghbGlzdGVuZXJzKSByZXR1cm47XG5cblx0aWYgKHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdvYmplY3QnKSB7XG5cdFx0bCA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cdFx0YXJncyA9IG5ldyBBcnJheShsIC0gMSk7XG5cdFx0Zm9yIChpID0gMTsgaSA8IGw7ICsraSkgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG5cblx0XHRsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTtcblx0XHRmb3IgKGkgPSAwOyAobGlzdGVuZXIgPSBsaXN0ZW5lcnNbaV0pOyArK2kpIHtcblx0XHRcdGFwcGx5LmNhbGwobGlzdGVuZXIsIHRoaXMsIGFyZ3MpO1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcblx0XHRjYXNlIDE6XG5cdFx0XHRjYWxsLmNhbGwobGlzdGVuZXJzLCB0aGlzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgMjpcblx0XHRcdGNhbGwuY2FsbChsaXN0ZW5lcnMsIHRoaXMsIGFyZ3VtZW50c1sxXSk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIDM6XG5cdFx0XHRjYWxsLmNhbGwobGlzdGVuZXJzLCB0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XG5cdFx0XHRicmVhaztcblx0XHRkZWZhdWx0OlxuXHRcdFx0bCA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cdFx0XHRhcmdzID0gbmV3IEFycmF5KGwgLSAxKTtcblx0XHRcdGZvciAoaSA9IDE7IGkgPCBsOyArK2kpIHtcblx0XHRcdFx0YXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG5cdFx0XHR9XG5cdFx0XHRhcHBseS5jYWxsKGxpc3RlbmVycywgdGhpcywgYXJncyk7XG5cdFx0fVxuXHR9XG59O1xuXG5tZXRob2RzID0ge1xuXHRvbjogb24sXG5cdG9uY2U6IG9uY2UsXG5cdG9mZjogb2ZmLFxuXHRlbWl0OiBlbWl0XG59O1xuXG5kZXNjcmlwdG9ycyA9IHtcblx0b246IGQob24pLFxuXHRvbmNlOiBkKG9uY2UpLFxuXHRvZmY6IGQob2ZmKSxcblx0ZW1pdDogZChlbWl0KVxufTtcblxuYmFzZSA9IGRlZmluZVByb3BlcnRpZXMoe30sIGRlc2NyaXB0b3JzKTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZnVuY3Rpb24gKG8pIHtcblx0cmV0dXJuIChvID09IG51bGwpID8gY3JlYXRlKGJhc2UpIDogZGVmaW5lUHJvcGVydGllcyhPYmplY3QobyksIGRlc2NyaXB0b3JzKTtcbn07XG5leHBvcnRzLm1ldGhvZHMgPSBtZXRob2RzO1xuIiwiLyohXG4gKiBqUXVlcnkgVUkgOmRhdGEgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IDpkYXRhIFNlbGVjdG9yXG4vLz4+Z3JvdXA6IENvcmVcbi8vPj5kZXNjcmlwdGlvbjogU2VsZWN0cyBlbGVtZW50cyB3aGljaCBoYXZlIGRhdGEgc3RvcmVkIHVuZGVyIHRoZSBzcGVjaWZpZWQga2V5LlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2RhdGEtc2VsZWN0b3IvXG5cbiggZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKCBbIFwianF1ZXJ5XCIsIFwiLi92ZXJzaW9uXCIgXSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0gKCBmdW5jdGlvbiggJCApIHtcbnJldHVybiAkLmV4dGVuZCggJC5leHByWyBcIjpcIiBdLCB7XG5cdGRhdGE6ICQuZXhwci5jcmVhdGVQc2V1ZG8gP1xuXHRcdCQuZXhwci5jcmVhdGVQc2V1ZG8oIGZ1bmN0aW9uKCBkYXRhTmFtZSApIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuICEhJC5kYXRhKCBlbGVtLCBkYXRhTmFtZSApO1xuXHRcdFx0fTtcblx0XHR9ICkgOlxuXG5cdFx0Ly8gU3VwcG9ydDogalF1ZXJ5IDwxLjhcblx0XHRmdW5jdGlvbiggZWxlbSwgaSwgbWF0Y2ggKSB7XG5cdFx0XHRyZXR1cm4gISEkLmRhdGEoIGVsZW0sIG1hdGNoWyAzIF0gKTtcblx0XHR9XG59ICk7XG59ICkgKTtcbiIsIi8qIVxuICogalF1ZXJ5IFVJIEtleWNvZGUgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IEtleWNvZGVcbi8vPj5ncm91cDogQ29yZVxuLy8+PmRlc2NyaXB0aW9uOiBQcm92aWRlIGtleWNvZGVzIGFzIGtleW5hbWVzXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20valF1ZXJ5LnVpLmtleUNvZGUvXG5cbiggZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKCBbIFwianF1ZXJ5XCIsIFwiLi92ZXJzaW9uXCIgXSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0gKCBmdW5jdGlvbiggJCApIHtcbnJldHVybiAkLnVpLmtleUNvZGUgPSB7XG5cdEJBQ0tTUEFDRTogOCxcblx0Q09NTUE6IDE4OCxcblx0REVMRVRFOiA0Nixcblx0RE9XTjogNDAsXG5cdEVORDogMzUsXG5cdEVOVEVSOiAxMyxcblx0RVNDQVBFOiAyNyxcblx0SE9NRTogMzYsXG5cdExFRlQ6IDM3LFxuXHRQQUdFX0RPV046IDM0LFxuXHRQQUdFX1VQOiAzMyxcblx0UEVSSU9EOiAxOTAsXG5cdFJJR0hUOiAzOSxcblx0U1BBQ0U6IDMyLFxuXHRUQUI6IDksXG5cdFVQOiAzOFxufTtcblxufSApICk7XG4iLCIvKiFcbiAqIGpRdWVyeSBVSSBQb3NpdGlvbiAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3Bvc2l0aW9uL1xuICovXG5cbi8vPj5sYWJlbDogUG9zaXRpb25cbi8vPj5ncm91cDogQ29yZVxuLy8+PmRlc2NyaXB0aW9uOiBQb3NpdGlvbnMgZWxlbWVudHMgcmVsYXRpdmUgdG8gb3RoZXIgZWxlbWVudHMuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vcG9zaXRpb24vXG4vLz4+ZGVtb3M6IGh0dHA6Ly9qcXVlcnl1aS5jb20vcG9zaXRpb24vXG5cbiggZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKCBbIFwianF1ZXJ5XCIsIFwiLi92ZXJzaW9uXCIgXSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0oIGZ1bmN0aW9uKCAkICkge1xuKCBmdW5jdGlvbigpIHtcbnZhciBjYWNoZWRTY3JvbGxiYXJXaWR0aCxcblx0bWF4ID0gTWF0aC5tYXgsXG5cdGFicyA9IE1hdGguYWJzLFxuXHRyaG9yaXpvbnRhbCA9IC9sZWZ0fGNlbnRlcnxyaWdodC8sXG5cdHJ2ZXJ0aWNhbCA9IC90b3B8Y2VudGVyfGJvdHRvbS8sXG5cdHJvZmZzZXQgPSAvW1xcK1xcLV1cXGQrKFxcLltcXGRdKyk/JT8vLFxuXHRycG9zaXRpb24gPSAvXlxcdysvLFxuXHRycGVyY2VudCA9IC8lJC8sXG5cdF9wb3NpdGlvbiA9ICQuZm4ucG9zaXRpb247XG5cbmZ1bmN0aW9uIGdldE9mZnNldHMoIG9mZnNldHMsIHdpZHRoLCBoZWlnaHQgKSB7XG5cdHJldHVybiBbXG5cdFx0cGFyc2VGbG9hdCggb2Zmc2V0c1sgMCBdICkgKiAoIHJwZXJjZW50LnRlc3QoIG9mZnNldHNbIDAgXSApID8gd2lkdGggLyAxMDAgOiAxICksXG5cdFx0cGFyc2VGbG9hdCggb2Zmc2V0c1sgMSBdICkgKiAoIHJwZXJjZW50LnRlc3QoIG9mZnNldHNbIDEgXSApID8gaGVpZ2h0IC8gMTAwIDogMSApXG5cdF07XG59XG5cbmZ1bmN0aW9uIHBhcnNlQ3NzKCBlbGVtZW50LCBwcm9wZXJ0eSApIHtcblx0cmV0dXJuIHBhcnNlSW50KCAkLmNzcyggZWxlbWVudCwgcHJvcGVydHkgKSwgMTAgKSB8fCAwO1xufVxuXG5mdW5jdGlvbiBnZXREaW1lbnNpb25zKCBlbGVtICkge1xuXHR2YXIgcmF3ID0gZWxlbVsgMCBdO1xuXHRpZiAoIHJhdy5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0d2lkdGg6IGVsZW0ud2lkdGgoKSxcblx0XHRcdGhlaWdodDogZWxlbS5oZWlnaHQoKSxcblx0XHRcdG9mZnNldDogeyB0b3A6IDAsIGxlZnQ6IDAgfVxuXHRcdH07XG5cdH1cblx0aWYgKCAkLmlzV2luZG93KCByYXcgKSApIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0d2lkdGg6IGVsZW0ud2lkdGgoKSxcblx0XHRcdGhlaWdodDogZWxlbS5oZWlnaHQoKSxcblx0XHRcdG9mZnNldDogeyB0b3A6IGVsZW0uc2Nyb2xsVG9wKCksIGxlZnQ6IGVsZW0uc2Nyb2xsTGVmdCgpIH1cblx0XHR9O1xuXHR9XG5cdGlmICggcmF3LnByZXZlbnREZWZhdWx0ICkge1xuXHRcdHJldHVybiB7XG5cdFx0XHR3aWR0aDogMCxcblx0XHRcdGhlaWdodDogMCxcblx0XHRcdG9mZnNldDogeyB0b3A6IHJhdy5wYWdlWSwgbGVmdDogcmF3LnBhZ2VYIH1cblx0XHR9O1xuXHR9XG5cdHJldHVybiB7XG5cdFx0d2lkdGg6IGVsZW0ub3V0ZXJXaWR0aCgpLFxuXHRcdGhlaWdodDogZWxlbS5vdXRlckhlaWdodCgpLFxuXHRcdG9mZnNldDogZWxlbS5vZmZzZXQoKVxuXHR9O1xufVxuXG4kLnBvc2l0aW9uID0ge1xuXHRzY3JvbGxiYXJXaWR0aDogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCBjYWNoZWRTY3JvbGxiYXJXaWR0aCAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0cmV0dXJuIGNhY2hlZFNjcm9sbGJhcldpZHRoO1xuXHRcdH1cblx0XHR2YXIgdzEsIHcyLFxuXHRcdFx0ZGl2ID0gJCggXCI8ZGl2IFwiICtcblx0XHRcdFx0XCJzdHlsZT0nZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDo1MHB4O2hlaWdodDo1MHB4O292ZXJmbG93OmhpZGRlbjsnPlwiICtcblx0XHRcdFx0XCI8ZGl2IHN0eWxlPSdoZWlnaHQ6MTAwcHg7d2lkdGg6YXV0bzsnPjwvZGl2PjwvZGl2PlwiICksXG5cdFx0XHRpbm5lckRpdiA9IGRpdi5jaGlsZHJlbigpWyAwIF07XG5cblx0XHQkKCBcImJvZHlcIiApLmFwcGVuZCggZGl2ICk7XG5cdFx0dzEgPSBpbm5lckRpdi5vZmZzZXRXaWR0aDtcblx0XHRkaXYuY3NzKCBcIm92ZXJmbG93XCIsIFwic2Nyb2xsXCIgKTtcblxuXHRcdHcyID0gaW5uZXJEaXYub2Zmc2V0V2lkdGg7XG5cblx0XHRpZiAoIHcxID09PSB3MiApIHtcblx0XHRcdHcyID0gZGl2WyAwIF0uY2xpZW50V2lkdGg7XG5cdFx0fVxuXG5cdFx0ZGl2LnJlbW92ZSgpO1xuXG5cdFx0cmV0dXJuICggY2FjaGVkU2Nyb2xsYmFyV2lkdGggPSB3MSAtIHcyICk7XG5cdH0sXG5cdGdldFNjcm9sbEluZm86IGZ1bmN0aW9uKCB3aXRoaW4gKSB7XG5cdFx0dmFyIG92ZXJmbG93WCA9IHdpdGhpbi5pc1dpbmRvdyB8fCB3aXRoaW4uaXNEb2N1bWVudCA/IFwiXCIgOlxuXHRcdFx0XHR3aXRoaW4uZWxlbWVudC5jc3MoIFwib3ZlcmZsb3cteFwiICksXG5cdFx0XHRvdmVyZmxvd1kgPSB3aXRoaW4uaXNXaW5kb3cgfHwgd2l0aGluLmlzRG9jdW1lbnQgPyBcIlwiIDpcblx0XHRcdFx0d2l0aGluLmVsZW1lbnQuY3NzKCBcIm92ZXJmbG93LXlcIiApLFxuXHRcdFx0aGFzT3ZlcmZsb3dYID0gb3ZlcmZsb3dYID09PSBcInNjcm9sbFwiIHx8XG5cdFx0XHRcdCggb3ZlcmZsb3dYID09PSBcImF1dG9cIiAmJiB3aXRoaW4ud2lkdGggPCB3aXRoaW4uZWxlbWVudFsgMCBdLnNjcm9sbFdpZHRoICksXG5cdFx0XHRoYXNPdmVyZmxvd1kgPSBvdmVyZmxvd1kgPT09IFwic2Nyb2xsXCIgfHxcblx0XHRcdFx0KCBvdmVyZmxvd1kgPT09IFwiYXV0b1wiICYmIHdpdGhpbi5oZWlnaHQgPCB3aXRoaW4uZWxlbWVudFsgMCBdLnNjcm9sbEhlaWdodCApO1xuXHRcdHJldHVybiB7XG5cdFx0XHR3aWR0aDogaGFzT3ZlcmZsb3dZID8gJC5wb3NpdGlvbi5zY3JvbGxiYXJXaWR0aCgpIDogMCxcblx0XHRcdGhlaWdodDogaGFzT3ZlcmZsb3dYID8gJC5wb3NpdGlvbi5zY3JvbGxiYXJXaWR0aCgpIDogMFxuXHRcdH07XG5cdH0sXG5cdGdldFdpdGhpbkluZm86IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdHZhciB3aXRoaW5FbGVtZW50ID0gJCggZWxlbWVudCB8fCB3aW5kb3cgKSxcblx0XHRcdGlzV2luZG93ID0gJC5pc1dpbmRvdyggd2l0aGluRWxlbWVudFsgMCBdICksXG5cdFx0XHRpc0RvY3VtZW50ID0gISF3aXRoaW5FbGVtZW50WyAwIF0gJiYgd2l0aGluRWxlbWVudFsgMCBdLm5vZGVUeXBlID09PSA5LFxuXHRcdFx0aGFzT2Zmc2V0ID0gIWlzV2luZG93ICYmICFpc0RvY3VtZW50O1xuXHRcdHJldHVybiB7XG5cdFx0XHRlbGVtZW50OiB3aXRoaW5FbGVtZW50LFxuXHRcdFx0aXNXaW5kb3c6IGlzV2luZG93LFxuXHRcdFx0aXNEb2N1bWVudDogaXNEb2N1bWVudCxcblx0XHRcdG9mZnNldDogaGFzT2Zmc2V0ID8gJCggZWxlbWVudCApLm9mZnNldCgpIDogeyBsZWZ0OiAwLCB0b3A6IDAgfSxcblx0XHRcdHNjcm9sbExlZnQ6IHdpdGhpbkVsZW1lbnQuc2Nyb2xsTGVmdCgpLFxuXHRcdFx0c2Nyb2xsVG9wOiB3aXRoaW5FbGVtZW50LnNjcm9sbFRvcCgpLFxuXHRcdFx0d2lkdGg6IHdpdGhpbkVsZW1lbnQub3V0ZXJXaWR0aCgpLFxuXHRcdFx0aGVpZ2h0OiB3aXRoaW5FbGVtZW50Lm91dGVySGVpZ2h0KClcblx0XHR9O1xuXHR9XG59O1xuXG4kLmZuLnBvc2l0aW9uID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdGlmICggIW9wdGlvbnMgfHwgIW9wdGlvbnMub2YgKSB7XG5cdFx0cmV0dXJuIF9wb3NpdGlvbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdH1cblxuXHQvLyBNYWtlIGEgY29weSwgd2UgZG9uJ3Qgd2FudCB0byBtb2RpZnkgYXJndW1lbnRzXG5cdG9wdGlvbnMgPSAkLmV4dGVuZCgge30sIG9wdGlvbnMgKTtcblxuXHR2YXIgYXRPZmZzZXQsIHRhcmdldFdpZHRoLCB0YXJnZXRIZWlnaHQsIHRhcmdldE9mZnNldCwgYmFzZVBvc2l0aW9uLCBkaW1lbnNpb25zLFxuXHRcdHRhcmdldCA9ICQoIG9wdGlvbnMub2YgKSxcblx0XHR3aXRoaW4gPSAkLnBvc2l0aW9uLmdldFdpdGhpbkluZm8oIG9wdGlvbnMud2l0aGluICksXG5cdFx0c2Nyb2xsSW5mbyA9ICQucG9zaXRpb24uZ2V0U2Nyb2xsSW5mbyggd2l0aGluICksXG5cdFx0Y29sbGlzaW9uID0gKCBvcHRpb25zLmNvbGxpc2lvbiB8fCBcImZsaXBcIiApLnNwbGl0KCBcIiBcIiApLFxuXHRcdG9mZnNldHMgPSB7fTtcblxuXHRkaW1lbnNpb25zID0gZ2V0RGltZW5zaW9ucyggdGFyZ2V0ICk7XG5cdGlmICggdGFyZ2V0WyAwIF0ucHJldmVudERlZmF1bHQgKSB7XG5cblx0XHQvLyBGb3JjZSBsZWZ0IHRvcCB0byBhbGxvdyBmbGlwcGluZ1xuXHRcdG9wdGlvbnMuYXQgPSBcImxlZnQgdG9wXCI7XG5cdH1cblx0dGFyZ2V0V2lkdGggPSBkaW1lbnNpb25zLndpZHRoO1xuXHR0YXJnZXRIZWlnaHQgPSBkaW1lbnNpb25zLmhlaWdodDtcblx0dGFyZ2V0T2Zmc2V0ID0gZGltZW5zaW9ucy5vZmZzZXQ7XG5cblx0Ly8gQ2xvbmUgdG8gcmV1c2Ugb3JpZ2luYWwgdGFyZ2V0T2Zmc2V0IGxhdGVyXG5cdGJhc2VQb3NpdGlvbiA9ICQuZXh0ZW5kKCB7fSwgdGFyZ2V0T2Zmc2V0ICk7XG5cblx0Ly8gRm9yY2UgbXkgYW5kIGF0IHRvIGhhdmUgdmFsaWQgaG9yaXpvbnRhbCBhbmQgdmVydGljYWwgcG9zaXRpb25zXG5cdC8vIGlmIGEgdmFsdWUgaXMgbWlzc2luZyBvciBpbnZhbGlkLCBpdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBjZW50ZXJcblx0JC5lYWNoKCBbIFwibXlcIiwgXCJhdFwiIF0sIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBwb3MgPSAoIG9wdGlvbnNbIHRoaXMgXSB8fCBcIlwiICkuc3BsaXQoIFwiIFwiICksXG5cdFx0XHRob3Jpem9udGFsT2Zmc2V0LFxuXHRcdFx0dmVydGljYWxPZmZzZXQ7XG5cblx0XHRpZiAoIHBvcy5sZW5ndGggPT09IDEgKSB7XG5cdFx0XHRwb3MgPSByaG9yaXpvbnRhbC50ZXN0KCBwb3NbIDAgXSApID9cblx0XHRcdFx0cG9zLmNvbmNhdCggWyBcImNlbnRlclwiIF0gKSA6XG5cdFx0XHRcdHJ2ZXJ0aWNhbC50ZXN0KCBwb3NbIDAgXSApID9cblx0XHRcdFx0XHRbIFwiY2VudGVyXCIgXS5jb25jYXQoIHBvcyApIDpcblx0XHRcdFx0XHRbIFwiY2VudGVyXCIsIFwiY2VudGVyXCIgXTtcblx0XHR9XG5cdFx0cG9zWyAwIF0gPSByaG9yaXpvbnRhbC50ZXN0KCBwb3NbIDAgXSApID8gcG9zWyAwIF0gOiBcImNlbnRlclwiO1xuXHRcdHBvc1sgMSBdID0gcnZlcnRpY2FsLnRlc3QoIHBvc1sgMSBdICkgPyBwb3NbIDEgXSA6IFwiY2VudGVyXCI7XG5cblx0XHQvLyBDYWxjdWxhdGUgb2Zmc2V0c1xuXHRcdGhvcml6b250YWxPZmZzZXQgPSByb2Zmc2V0LmV4ZWMoIHBvc1sgMCBdICk7XG5cdFx0dmVydGljYWxPZmZzZXQgPSByb2Zmc2V0LmV4ZWMoIHBvc1sgMSBdICk7XG5cdFx0b2Zmc2V0c1sgdGhpcyBdID0gW1xuXHRcdFx0aG9yaXpvbnRhbE9mZnNldCA/IGhvcml6b250YWxPZmZzZXRbIDAgXSA6IDAsXG5cdFx0XHR2ZXJ0aWNhbE9mZnNldCA/IHZlcnRpY2FsT2Zmc2V0WyAwIF0gOiAwXG5cdFx0XTtcblxuXHRcdC8vIFJlZHVjZSB0byBqdXN0IHRoZSBwb3NpdGlvbnMgd2l0aG91dCB0aGUgb2Zmc2V0c1xuXHRcdG9wdGlvbnNbIHRoaXMgXSA9IFtcblx0XHRcdHJwb3NpdGlvbi5leGVjKCBwb3NbIDAgXSApWyAwIF0sXG5cdFx0XHRycG9zaXRpb24uZXhlYyggcG9zWyAxIF0gKVsgMCBdXG5cdFx0XTtcblx0fSApO1xuXG5cdC8vIE5vcm1hbGl6ZSBjb2xsaXNpb24gb3B0aW9uXG5cdGlmICggY29sbGlzaW9uLmxlbmd0aCA9PT0gMSApIHtcblx0XHRjb2xsaXNpb25bIDEgXSA9IGNvbGxpc2lvblsgMCBdO1xuXHR9XG5cblx0aWYgKCBvcHRpb25zLmF0WyAwIF0gPT09IFwicmlnaHRcIiApIHtcblx0XHRiYXNlUG9zaXRpb24ubGVmdCArPSB0YXJnZXRXaWR0aDtcblx0fSBlbHNlIGlmICggb3B0aW9ucy5hdFsgMCBdID09PSBcImNlbnRlclwiICkge1xuXHRcdGJhc2VQb3NpdGlvbi5sZWZ0ICs9IHRhcmdldFdpZHRoIC8gMjtcblx0fVxuXG5cdGlmICggb3B0aW9ucy5hdFsgMSBdID09PSBcImJvdHRvbVwiICkge1xuXHRcdGJhc2VQb3NpdGlvbi50b3AgKz0gdGFyZ2V0SGVpZ2h0O1xuXHR9IGVsc2UgaWYgKCBvcHRpb25zLmF0WyAxIF0gPT09IFwiY2VudGVyXCIgKSB7XG5cdFx0YmFzZVBvc2l0aW9uLnRvcCArPSB0YXJnZXRIZWlnaHQgLyAyO1xuXHR9XG5cblx0YXRPZmZzZXQgPSBnZXRPZmZzZXRzKCBvZmZzZXRzLmF0LCB0YXJnZXRXaWR0aCwgdGFyZ2V0SGVpZ2h0ICk7XG5cdGJhc2VQb3NpdGlvbi5sZWZ0ICs9IGF0T2Zmc2V0WyAwIF07XG5cdGJhc2VQb3NpdGlvbi50b3AgKz0gYXRPZmZzZXRbIDEgXTtcblxuXHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHR2YXIgY29sbGlzaW9uUG9zaXRpb24sIHVzaW5nLFxuXHRcdFx0ZWxlbSA9ICQoIHRoaXMgKSxcblx0XHRcdGVsZW1XaWR0aCA9IGVsZW0ub3V0ZXJXaWR0aCgpLFxuXHRcdFx0ZWxlbUhlaWdodCA9IGVsZW0ub3V0ZXJIZWlnaHQoKSxcblx0XHRcdG1hcmdpbkxlZnQgPSBwYXJzZUNzcyggdGhpcywgXCJtYXJnaW5MZWZ0XCIgKSxcblx0XHRcdG1hcmdpblRvcCA9IHBhcnNlQ3NzKCB0aGlzLCBcIm1hcmdpblRvcFwiICksXG5cdFx0XHRjb2xsaXNpb25XaWR0aCA9IGVsZW1XaWR0aCArIG1hcmdpbkxlZnQgKyBwYXJzZUNzcyggdGhpcywgXCJtYXJnaW5SaWdodFwiICkgK1xuXHRcdFx0XHRzY3JvbGxJbmZvLndpZHRoLFxuXHRcdFx0Y29sbGlzaW9uSGVpZ2h0ID0gZWxlbUhlaWdodCArIG1hcmdpblRvcCArIHBhcnNlQ3NzKCB0aGlzLCBcIm1hcmdpbkJvdHRvbVwiICkgK1xuXHRcdFx0XHRzY3JvbGxJbmZvLmhlaWdodCxcblx0XHRcdHBvc2l0aW9uID0gJC5leHRlbmQoIHt9LCBiYXNlUG9zaXRpb24gKSxcblx0XHRcdG15T2Zmc2V0ID0gZ2V0T2Zmc2V0cyggb2Zmc2V0cy5teSwgZWxlbS5vdXRlcldpZHRoKCksIGVsZW0ub3V0ZXJIZWlnaHQoKSApO1xuXG5cdFx0aWYgKCBvcHRpb25zLm15WyAwIF0gPT09IFwicmlnaHRcIiApIHtcblx0XHRcdHBvc2l0aW9uLmxlZnQgLT0gZWxlbVdpZHRoO1xuXHRcdH0gZWxzZSBpZiAoIG9wdGlvbnMubXlbIDAgXSA9PT0gXCJjZW50ZXJcIiApIHtcblx0XHRcdHBvc2l0aW9uLmxlZnQgLT0gZWxlbVdpZHRoIC8gMjtcblx0XHR9XG5cblx0XHRpZiAoIG9wdGlvbnMubXlbIDEgXSA9PT0gXCJib3R0b21cIiApIHtcblx0XHRcdHBvc2l0aW9uLnRvcCAtPSBlbGVtSGVpZ2h0O1xuXHRcdH0gZWxzZSBpZiAoIG9wdGlvbnMubXlbIDEgXSA9PT0gXCJjZW50ZXJcIiApIHtcblx0XHRcdHBvc2l0aW9uLnRvcCAtPSBlbGVtSGVpZ2h0IC8gMjtcblx0XHR9XG5cblx0XHRwb3NpdGlvbi5sZWZ0ICs9IG15T2Zmc2V0WyAwIF07XG5cdFx0cG9zaXRpb24udG9wICs9IG15T2Zmc2V0WyAxIF07XG5cblx0XHRjb2xsaXNpb25Qb3NpdGlvbiA9IHtcblx0XHRcdG1hcmdpbkxlZnQ6IG1hcmdpbkxlZnQsXG5cdFx0XHRtYXJnaW5Ub3A6IG1hcmdpblRvcFxuXHRcdH07XG5cblx0XHQkLmVhY2goIFsgXCJsZWZ0XCIsIFwidG9wXCIgXSwgZnVuY3Rpb24oIGksIGRpciApIHtcblx0XHRcdGlmICggJC51aS5wb3NpdGlvblsgY29sbGlzaW9uWyBpIF0gXSApIHtcblx0XHRcdFx0JC51aS5wb3NpdGlvblsgY29sbGlzaW9uWyBpIF0gXVsgZGlyIF0oIHBvc2l0aW9uLCB7XG5cdFx0XHRcdFx0dGFyZ2V0V2lkdGg6IHRhcmdldFdpZHRoLFxuXHRcdFx0XHRcdHRhcmdldEhlaWdodDogdGFyZ2V0SGVpZ2h0LFxuXHRcdFx0XHRcdGVsZW1XaWR0aDogZWxlbVdpZHRoLFxuXHRcdFx0XHRcdGVsZW1IZWlnaHQ6IGVsZW1IZWlnaHQsXG5cdFx0XHRcdFx0Y29sbGlzaW9uUG9zaXRpb246IGNvbGxpc2lvblBvc2l0aW9uLFxuXHRcdFx0XHRcdGNvbGxpc2lvbldpZHRoOiBjb2xsaXNpb25XaWR0aCxcblx0XHRcdFx0XHRjb2xsaXNpb25IZWlnaHQ6IGNvbGxpc2lvbkhlaWdodCxcblx0XHRcdFx0XHRvZmZzZXQ6IFsgYXRPZmZzZXRbIDAgXSArIG15T2Zmc2V0WyAwIF0sIGF0T2Zmc2V0IFsgMSBdICsgbXlPZmZzZXRbIDEgXSBdLFxuXHRcdFx0XHRcdG15OiBvcHRpb25zLm15LFxuXHRcdFx0XHRcdGF0OiBvcHRpb25zLmF0LFxuXHRcdFx0XHRcdHdpdGhpbjogd2l0aGluLFxuXHRcdFx0XHRcdGVsZW06IGVsZW1cblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblxuXHRcdGlmICggb3B0aW9ucy51c2luZyApIHtcblxuXHRcdFx0Ly8gQWRkcyBmZWVkYmFjayBhcyBzZWNvbmQgYXJndW1lbnQgdG8gdXNpbmcgY2FsbGJhY2ssIGlmIHByZXNlbnRcblx0XHRcdHVzaW5nID0gZnVuY3Rpb24oIHByb3BzICkge1xuXHRcdFx0XHR2YXIgbGVmdCA9IHRhcmdldE9mZnNldC5sZWZ0IC0gcG9zaXRpb24ubGVmdCxcblx0XHRcdFx0XHRyaWdodCA9IGxlZnQgKyB0YXJnZXRXaWR0aCAtIGVsZW1XaWR0aCxcblx0XHRcdFx0XHR0b3AgPSB0YXJnZXRPZmZzZXQudG9wIC0gcG9zaXRpb24udG9wLFxuXHRcdFx0XHRcdGJvdHRvbSA9IHRvcCArIHRhcmdldEhlaWdodCAtIGVsZW1IZWlnaHQsXG5cdFx0XHRcdFx0ZmVlZGJhY2sgPSB7XG5cdFx0XHRcdFx0XHR0YXJnZXQ6IHtcblx0XHRcdFx0XHRcdFx0ZWxlbWVudDogdGFyZ2V0LFxuXHRcdFx0XHRcdFx0XHRsZWZ0OiB0YXJnZXRPZmZzZXQubGVmdCxcblx0XHRcdFx0XHRcdFx0dG9wOiB0YXJnZXRPZmZzZXQudG9wLFxuXHRcdFx0XHRcdFx0XHR3aWR0aDogdGFyZ2V0V2lkdGgsXG5cdFx0XHRcdFx0XHRcdGhlaWdodDogdGFyZ2V0SGVpZ2h0XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0ZWxlbWVudDoge1xuXHRcdFx0XHRcdFx0XHRlbGVtZW50OiBlbGVtLFxuXHRcdFx0XHRcdFx0XHRsZWZ0OiBwb3NpdGlvbi5sZWZ0LFxuXHRcdFx0XHRcdFx0XHR0b3A6IHBvc2l0aW9uLnRvcCxcblx0XHRcdFx0XHRcdFx0d2lkdGg6IGVsZW1XaWR0aCxcblx0XHRcdFx0XHRcdFx0aGVpZ2h0OiBlbGVtSGVpZ2h0XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0aG9yaXpvbnRhbDogcmlnaHQgPCAwID8gXCJsZWZ0XCIgOiBsZWZ0ID4gMCA/IFwicmlnaHRcIiA6IFwiY2VudGVyXCIsXG5cdFx0XHRcdFx0XHR2ZXJ0aWNhbDogYm90dG9tIDwgMCA/IFwidG9wXCIgOiB0b3AgPiAwID8gXCJib3R0b21cIiA6IFwibWlkZGxlXCJcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRpZiAoIHRhcmdldFdpZHRoIDwgZWxlbVdpZHRoICYmIGFicyggbGVmdCArIHJpZ2h0ICkgPCB0YXJnZXRXaWR0aCApIHtcblx0XHRcdFx0XHRmZWVkYmFjay5ob3Jpem9udGFsID0gXCJjZW50ZXJcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIHRhcmdldEhlaWdodCA8IGVsZW1IZWlnaHQgJiYgYWJzKCB0b3AgKyBib3R0b20gKSA8IHRhcmdldEhlaWdodCApIHtcblx0XHRcdFx0XHRmZWVkYmFjay52ZXJ0aWNhbCA9IFwibWlkZGxlXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBtYXgoIGFicyggbGVmdCApLCBhYnMoIHJpZ2h0ICkgKSA+IG1heCggYWJzKCB0b3AgKSwgYWJzKCBib3R0b20gKSApICkge1xuXHRcdFx0XHRcdGZlZWRiYWNrLmltcG9ydGFudCA9IFwiaG9yaXpvbnRhbFwiO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGZlZWRiYWNrLmltcG9ydGFudCA9IFwidmVydGljYWxcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRvcHRpb25zLnVzaW5nLmNhbGwoIHRoaXMsIHByb3BzLCBmZWVkYmFjayApO1xuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRlbGVtLm9mZnNldCggJC5leHRlbmQoIHBvc2l0aW9uLCB7IHVzaW5nOiB1c2luZyB9ICkgKTtcblx0fSApO1xufTtcblxuJC51aS5wb3NpdGlvbiA9IHtcblx0Zml0OiB7XG5cdFx0bGVmdDogZnVuY3Rpb24oIHBvc2l0aW9uLCBkYXRhICkge1xuXHRcdFx0dmFyIHdpdGhpbiA9IGRhdGEud2l0aGluLFxuXHRcdFx0XHR3aXRoaW5PZmZzZXQgPSB3aXRoaW4uaXNXaW5kb3cgPyB3aXRoaW4uc2Nyb2xsTGVmdCA6IHdpdGhpbi5vZmZzZXQubGVmdCxcblx0XHRcdFx0b3V0ZXJXaWR0aCA9IHdpdGhpbi53aWR0aCxcblx0XHRcdFx0Y29sbGlzaW9uUG9zTGVmdCA9IHBvc2l0aW9uLmxlZnQgLSBkYXRhLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpbkxlZnQsXG5cdFx0XHRcdG92ZXJMZWZ0ID0gd2l0aGluT2Zmc2V0IC0gY29sbGlzaW9uUG9zTGVmdCxcblx0XHRcdFx0b3ZlclJpZ2h0ID0gY29sbGlzaW9uUG9zTGVmdCArIGRhdGEuY29sbGlzaW9uV2lkdGggLSBvdXRlcldpZHRoIC0gd2l0aGluT2Zmc2V0LFxuXHRcdFx0XHRuZXdPdmVyUmlnaHQ7XG5cblx0XHRcdC8vIEVsZW1lbnQgaXMgd2lkZXIgdGhhbiB3aXRoaW5cblx0XHRcdGlmICggZGF0YS5jb2xsaXNpb25XaWR0aCA+IG91dGVyV2lkdGggKSB7XG5cblx0XHRcdFx0Ly8gRWxlbWVudCBpcyBpbml0aWFsbHkgb3ZlciB0aGUgbGVmdCBzaWRlIG9mIHdpdGhpblxuXHRcdFx0XHRpZiAoIG92ZXJMZWZ0ID4gMCAmJiBvdmVyUmlnaHQgPD0gMCApIHtcblx0XHRcdFx0XHRuZXdPdmVyUmlnaHQgPSBwb3NpdGlvbi5sZWZ0ICsgb3ZlckxlZnQgKyBkYXRhLmNvbGxpc2lvbldpZHRoIC0gb3V0ZXJXaWR0aCAtXG5cdFx0XHRcdFx0XHR3aXRoaW5PZmZzZXQ7XG5cdFx0XHRcdFx0cG9zaXRpb24ubGVmdCArPSBvdmVyTGVmdCAtIG5ld092ZXJSaWdodDtcblxuXHRcdFx0XHQvLyBFbGVtZW50IGlzIGluaXRpYWxseSBvdmVyIHJpZ2h0IHNpZGUgb2Ygd2l0aGluXG5cdFx0XHRcdH0gZWxzZSBpZiAoIG92ZXJSaWdodCA+IDAgJiYgb3ZlckxlZnQgPD0gMCApIHtcblx0XHRcdFx0XHRwb3NpdGlvbi5sZWZ0ID0gd2l0aGluT2Zmc2V0O1xuXG5cdFx0XHRcdC8vIEVsZW1lbnQgaXMgaW5pdGlhbGx5IG92ZXIgYm90aCBsZWZ0IGFuZCByaWdodCBzaWRlcyBvZiB3aXRoaW5cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZiAoIG92ZXJMZWZ0ID4gb3ZlclJpZ2h0ICkge1xuXHRcdFx0XHRcdFx0cG9zaXRpb24ubGVmdCA9IHdpdGhpbk9mZnNldCArIG91dGVyV2lkdGggLSBkYXRhLmNvbGxpc2lvbldpZHRoO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRwb3NpdGlvbi5sZWZ0ID0gd2l0aGluT2Zmc2V0O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHQvLyBUb28gZmFyIGxlZnQgLT4gYWxpZ24gd2l0aCBsZWZ0IGVkZ2Vcblx0XHRcdH0gZWxzZSBpZiAoIG92ZXJMZWZ0ID4gMCApIHtcblx0XHRcdFx0cG9zaXRpb24ubGVmdCArPSBvdmVyTGVmdDtcblxuXHRcdFx0Ly8gVG9vIGZhciByaWdodCAtPiBhbGlnbiB3aXRoIHJpZ2h0IGVkZ2Vcblx0XHRcdH0gZWxzZSBpZiAoIG92ZXJSaWdodCA+IDAgKSB7XG5cdFx0XHRcdHBvc2l0aW9uLmxlZnQgLT0gb3ZlclJpZ2h0O1xuXG5cdFx0XHQvLyBBZGp1c3QgYmFzZWQgb24gcG9zaXRpb24gYW5kIG1hcmdpblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cG9zaXRpb24ubGVmdCA9IG1heCggcG9zaXRpb24ubGVmdCAtIGNvbGxpc2lvblBvc0xlZnQsIHBvc2l0aW9uLmxlZnQgKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdHRvcDogZnVuY3Rpb24oIHBvc2l0aW9uLCBkYXRhICkge1xuXHRcdFx0dmFyIHdpdGhpbiA9IGRhdGEud2l0aGluLFxuXHRcdFx0XHR3aXRoaW5PZmZzZXQgPSB3aXRoaW4uaXNXaW5kb3cgPyB3aXRoaW4uc2Nyb2xsVG9wIDogd2l0aGluLm9mZnNldC50b3AsXG5cdFx0XHRcdG91dGVySGVpZ2h0ID0gZGF0YS53aXRoaW4uaGVpZ2h0LFxuXHRcdFx0XHRjb2xsaXNpb25Qb3NUb3AgPSBwb3NpdGlvbi50b3AgLSBkYXRhLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpblRvcCxcblx0XHRcdFx0b3ZlclRvcCA9IHdpdGhpbk9mZnNldCAtIGNvbGxpc2lvblBvc1RvcCxcblx0XHRcdFx0b3ZlckJvdHRvbSA9IGNvbGxpc2lvblBvc1RvcCArIGRhdGEuY29sbGlzaW9uSGVpZ2h0IC0gb3V0ZXJIZWlnaHQgLSB3aXRoaW5PZmZzZXQsXG5cdFx0XHRcdG5ld092ZXJCb3R0b207XG5cblx0XHRcdC8vIEVsZW1lbnQgaXMgdGFsbGVyIHRoYW4gd2l0aGluXG5cdFx0XHRpZiAoIGRhdGEuY29sbGlzaW9uSGVpZ2h0ID4gb3V0ZXJIZWlnaHQgKSB7XG5cblx0XHRcdFx0Ly8gRWxlbWVudCBpcyBpbml0aWFsbHkgb3ZlciB0aGUgdG9wIG9mIHdpdGhpblxuXHRcdFx0XHRpZiAoIG92ZXJUb3AgPiAwICYmIG92ZXJCb3R0b20gPD0gMCApIHtcblx0XHRcdFx0XHRuZXdPdmVyQm90dG9tID0gcG9zaXRpb24udG9wICsgb3ZlclRvcCArIGRhdGEuY29sbGlzaW9uSGVpZ2h0IC0gb3V0ZXJIZWlnaHQgLVxuXHRcdFx0XHRcdFx0d2l0aGluT2Zmc2V0O1xuXHRcdFx0XHRcdHBvc2l0aW9uLnRvcCArPSBvdmVyVG9wIC0gbmV3T3ZlckJvdHRvbTtcblxuXHRcdFx0XHQvLyBFbGVtZW50IGlzIGluaXRpYWxseSBvdmVyIGJvdHRvbSBvZiB3aXRoaW5cblx0XHRcdFx0fSBlbHNlIGlmICggb3ZlckJvdHRvbSA+IDAgJiYgb3ZlclRvcCA8PSAwICkge1xuXHRcdFx0XHRcdHBvc2l0aW9uLnRvcCA9IHdpdGhpbk9mZnNldDtcblxuXHRcdFx0XHQvLyBFbGVtZW50IGlzIGluaXRpYWxseSBvdmVyIGJvdGggdG9wIGFuZCBib3R0b20gb2Ygd2l0aGluXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWYgKCBvdmVyVG9wID4gb3ZlckJvdHRvbSApIHtcblx0XHRcdFx0XHRcdHBvc2l0aW9uLnRvcCA9IHdpdGhpbk9mZnNldCArIG91dGVySGVpZ2h0IC0gZGF0YS5jb2xsaXNpb25IZWlnaHQ7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHBvc2l0aW9uLnRvcCA9IHdpdGhpbk9mZnNldDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0Ly8gVG9vIGZhciB1cCAtPiBhbGlnbiB3aXRoIHRvcFxuXHRcdFx0fSBlbHNlIGlmICggb3ZlclRvcCA+IDAgKSB7XG5cdFx0XHRcdHBvc2l0aW9uLnRvcCArPSBvdmVyVG9wO1xuXG5cdFx0XHQvLyBUb28gZmFyIGRvd24gLT4gYWxpZ24gd2l0aCBib3R0b20gZWRnZVxuXHRcdFx0fSBlbHNlIGlmICggb3ZlckJvdHRvbSA+IDAgKSB7XG5cdFx0XHRcdHBvc2l0aW9uLnRvcCAtPSBvdmVyQm90dG9tO1xuXG5cdFx0XHQvLyBBZGp1c3QgYmFzZWQgb24gcG9zaXRpb24gYW5kIG1hcmdpblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cG9zaXRpb24udG9wID0gbWF4KCBwb3NpdGlvbi50b3AgLSBjb2xsaXNpb25Qb3NUb3AsIHBvc2l0aW9uLnRvcCApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0ZmxpcDoge1xuXHRcdGxlZnQ6IGZ1bmN0aW9uKCBwb3NpdGlvbiwgZGF0YSApIHtcblx0XHRcdHZhciB3aXRoaW4gPSBkYXRhLndpdGhpbixcblx0XHRcdFx0d2l0aGluT2Zmc2V0ID0gd2l0aGluLm9mZnNldC5sZWZ0ICsgd2l0aGluLnNjcm9sbExlZnQsXG5cdFx0XHRcdG91dGVyV2lkdGggPSB3aXRoaW4ud2lkdGgsXG5cdFx0XHRcdG9mZnNldExlZnQgPSB3aXRoaW4uaXNXaW5kb3cgPyB3aXRoaW4uc2Nyb2xsTGVmdCA6IHdpdGhpbi5vZmZzZXQubGVmdCxcblx0XHRcdFx0Y29sbGlzaW9uUG9zTGVmdCA9IHBvc2l0aW9uLmxlZnQgLSBkYXRhLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpbkxlZnQsXG5cdFx0XHRcdG92ZXJMZWZ0ID0gY29sbGlzaW9uUG9zTGVmdCAtIG9mZnNldExlZnQsXG5cdFx0XHRcdG92ZXJSaWdodCA9IGNvbGxpc2lvblBvc0xlZnQgKyBkYXRhLmNvbGxpc2lvbldpZHRoIC0gb3V0ZXJXaWR0aCAtIG9mZnNldExlZnQsXG5cdFx0XHRcdG15T2Zmc2V0ID0gZGF0YS5teVsgMCBdID09PSBcImxlZnRcIiA/XG5cdFx0XHRcdFx0LWRhdGEuZWxlbVdpZHRoIDpcblx0XHRcdFx0XHRkYXRhLm15WyAwIF0gPT09IFwicmlnaHRcIiA/XG5cdFx0XHRcdFx0XHRkYXRhLmVsZW1XaWR0aCA6XG5cdFx0XHRcdFx0XHQwLFxuXHRcdFx0XHRhdE9mZnNldCA9IGRhdGEuYXRbIDAgXSA9PT0gXCJsZWZ0XCIgP1xuXHRcdFx0XHRcdGRhdGEudGFyZ2V0V2lkdGggOlxuXHRcdFx0XHRcdGRhdGEuYXRbIDAgXSA9PT0gXCJyaWdodFwiID9cblx0XHRcdFx0XHRcdC1kYXRhLnRhcmdldFdpZHRoIDpcblx0XHRcdFx0XHRcdDAsXG5cdFx0XHRcdG9mZnNldCA9IC0yICogZGF0YS5vZmZzZXRbIDAgXSxcblx0XHRcdFx0bmV3T3ZlclJpZ2h0LFxuXHRcdFx0XHRuZXdPdmVyTGVmdDtcblxuXHRcdFx0aWYgKCBvdmVyTGVmdCA8IDAgKSB7XG5cdFx0XHRcdG5ld092ZXJSaWdodCA9IHBvc2l0aW9uLmxlZnQgKyBteU9mZnNldCArIGF0T2Zmc2V0ICsgb2Zmc2V0ICsgZGF0YS5jb2xsaXNpb25XaWR0aCAtXG5cdFx0XHRcdFx0b3V0ZXJXaWR0aCAtIHdpdGhpbk9mZnNldDtcblx0XHRcdFx0aWYgKCBuZXdPdmVyUmlnaHQgPCAwIHx8IG5ld092ZXJSaWdodCA8IGFicyggb3ZlckxlZnQgKSApIHtcblx0XHRcdFx0XHRwb3NpdGlvbi5sZWZ0ICs9IG15T2Zmc2V0ICsgYXRPZmZzZXQgKyBvZmZzZXQ7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoIG92ZXJSaWdodCA+IDAgKSB7XG5cdFx0XHRcdG5ld092ZXJMZWZ0ID0gcG9zaXRpb24ubGVmdCAtIGRhdGEuY29sbGlzaW9uUG9zaXRpb24ubWFyZ2luTGVmdCArIG15T2Zmc2V0ICtcblx0XHRcdFx0XHRhdE9mZnNldCArIG9mZnNldCAtIG9mZnNldExlZnQ7XG5cdFx0XHRcdGlmICggbmV3T3ZlckxlZnQgPiAwIHx8IGFicyggbmV3T3ZlckxlZnQgKSA8IG92ZXJSaWdodCApIHtcblx0XHRcdFx0XHRwb3NpdGlvbi5sZWZ0ICs9IG15T2Zmc2V0ICsgYXRPZmZzZXQgKyBvZmZzZXQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdHRvcDogZnVuY3Rpb24oIHBvc2l0aW9uLCBkYXRhICkge1xuXHRcdFx0dmFyIHdpdGhpbiA9IGRhdGEud2l0aGluLFxuXHRcdFx0XHR3aXRoaW5PZmZzZXQgPSB3aXRoaW4ub2Zmc2V0LnRvcCArIHdpdGhpbi5zY3JvbGxUb3AsXG5cdFx0XHRcdG91dGVySGVpZ2h0ID0gd2l0aGluLmhlaWdodCxcblx0XHRcdFx0b2Zmc2V0VG9wID0gd2l0aGluLmlzV2luZG93ID8gd2l0aGluLnNjcm9sbFRvcCA6IHdpdGhpbi5vZmZzZXQudG9wLFxuXHRcdFx0XHRjb2xsaXNpb25Qb3NUb3AgPSBwb3NpdGlvbi50b3AgLSBkYXRhLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpblRvcCxcblx0XHRcdFx0b3ZlclRvcCA9IGNvbGxpc2lvblBvc1RvcCAtIG9mZnNldFRvcCxcblx0XHRcdFx0b3ZlckJvdHRvbSA9IGNvbGxpc2lvblBvc1RvcCArIGRhdGEuY29sbGlzaW9uSGVpZ2h0IC0gb3V0ZXJIZWlnaHQgLSBvZmZzZXRUb3AsXG5cdFx0XHRcdHRvcCA9IGRhdGEubXlbIDEgXSA9PT0gXCJ0b3BcIixcblx0XHRcdFx0bXlPZmZzZXQgPSB0b3AgP1xuXHRcdFx0XHRcdC1kYXRhLmVsZW1IZWlnaHQgOlxuXHRcdFx0XHRcdGRhdGEubXlbIDEgXSA9PT0gXCJib3R0b21cIiA/XG5cdFx0XHRcdFx0XHRkYXRhLmVsZW1IZWlnaHQgOlxuXHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0YXRPZmZzZXQgPSBkYXRhLmF0WyAxIF0gPT09IFwidG9wXCIgP1xuXHRcdFx0XHRcdGRhdGEudGFyZ2V0SGVpZ2h0IDpcblx0XHRcdFx0XHRkYXRhLmF0WyAxIF0gPT09IFwiYm90dG9tXCIgP1xuXHRcdFx0XHRcdFx0LWRhdGEudGFyZ2V0SGVpZ2h0IDpcblx0XHRcdFx0XHRcdDAsXG5cdFx0XHRcdG9mZnNldCA9IC0yICogZGF0YS5vZmZzZXRbIDEgXSxcblx0XHRcdFx0bmV3T3ZlclRvcCxcblx0XHRcdFx0bmV3T3ZlckJvdHRvbTtcblx0XHRcdGlmICggb3ZlclRvcCA8IDAgKSB7XG5cdFx0XHRcdG5ld092ZXJCb3R0b20gPSBwb3NpdGlvbi50b3AgKyBteU9mZnNldCArIGF0T2Zmc2V0ICsgb2Zmc2V0ICsgZGF0YS5jb2xsaXNpb25IZWlnaHQgLVxuXHRcdFx0XHRcdG91dGVySGVpZ2h0IC0gd2l0aGluT2Zmc2V0O1xuXHRcdFx0XHRpZiAoIG5ld092ZXJCb3R0b20gPCAwIHx8IG5ld092ZXJCb3R0b20gPCBhYnMoIG92ZXJUb3AgKSApIHtcblx0XHRcdFx0XHRwb3NpdGlvbi50b3AgKz0gbXlPZmZzZXQgKyBhdE9mZnNldCArIG9mZnNldDtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmICggb3ZlckJvdHRvbSA+IDAgKSB7XG5cdFx0XHRcdG5ld092ZXJUb3AgPSBwb3NpdGlvbi50b3AgLSBkYXRhLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpblRvcCArIG15T2Zmc2V0ICsgYXRPZmZzZXQgK1xuXHRcdFx0XHRcdG9mZnNldCAtIG9mZnNldFRvcDtcblx0XHRcdFx0aWYgKCBuZXdPdmVyVG9wID4gMCB8fCBhYnMoIG5ld092ZXJUb3AgKSA8IG92ZXJCb3R0b20gKSB7XG5cdFx0XHRcdFx0cG9zaXRpb24udG9wICs9IG15T2Zmc2V0ICsgYXRPZmZzZXQgKyBvZmZzZXQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cdGZsaXBmaXQ6IHtcblx0XHRsZWZ0OiBmdW5jdGlvbigpIHtcblx0XHRcdCQudWkucG9zaXRpb24uZmxpcC5sZWZ0LmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdCQudWkucG9zaXRpb24uZml0LmxlZnQuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH0sXG5cdFx0dG9wOiBmdW5jdGlvbigpIHtcblx0XHRcdCQudWkucG9zaXRpb24uZmxpcC50b3AuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0JC51aS5wb3NpdGlvbi5maXQudG9wLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR9XG5cdH1cbn07XG5cbn0gKSgpO1xuXG5yZXR1cm4gJC51aS5wb3NpdGlvbjtcblxufSApICk7XG4iLCIoIGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZSggWyBcImpxdWVyeVwiLCBcIi4vdmVyc2lvblwiIF0sIGZhY3RvcnkgKTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIEJyb3dzZXIgZ2xvYmFsc1xuXHRcdGZhY3RvcnkoIGpRdWVyeSApO1xuXHR9XG59ICggZnVuY3Rpb24oICQgKSB7XG5yZXR1cm4gJC51aS5zYWZlQWN0aXZlRWxlbWVudCA9IGZ1bmN0aW9uKCBkb2N1bWVudCApIHtcblx0dmFyIGFjdGl2ZUVsZW1lbnQ7XG5cblx0Ly8gU3VwcG9ydDogSUUgOSBvbmx5XG5cdC8vIElFOSB0aHJvd3MgYW4gXCJVbnNwZWNpZmllZCBlcnJvclwiIGFjY2Vzc2luZyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGZyb20gYW4gPGlmcmFtZT5cblx0dHJ5IHtcblx0XHRhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblx0fSBjYXRjaCAoIGVycm9yICkge1xuXHRcdGFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5ib2R5O1xuXHR9XG5cblx0Ly8gU3VwcG9ydDogSUUgOSAtIDExIG9ubHlcblx0Ly8gSUUgbWF5IHJldHVybiBudWxsIGluc3RlYWQgb2YgYW4gZWxlbWVudFxuXHQvLyBJbnRlcmVzdGluZ2x5LCB0aGlzIG9ubHkgc2VlbXMgdG8gb2NjdXIgd2hlbiBOT1QgaW4gYW4gaWZyYW1lXG5cdGlmICggIWFjdGl2ZUVsZW1lbnQgKSB7XG5cdFx0YWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmJvZHk7XG5cdH1cblxuXHQvLyBTdXBwb3J0OiBJRSAxMSBvbmx5XG5cdC8vIElFMTEgcmV0dXJucyBhIHNlZW1pbmdseSBlbXB0eSBvYmplY3QgaW4gc29tZSBjYXNlcyB3aGVuIGFjY2Vzc2luZ1xuXHQvLyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGZyb20gYW4gPGlmcmFtZT5cblx0aWYgKCAhYWN0aXZlRWxlbWVudC5ub2RlTmFtZSApIHtcblx0XHRhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYm9keTtcblx0fVxuXG5cdHJldHVybiBhY3RpdmVFbGVtZW50O1xufTtcblxufSApICk7XG4iLCIvKiFcbiAqIGpRdWVyeSBVSSBTY3JvbGwgUGFyZW50IDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBzY3JvbGxQYXJlbnRcbi8vPj5ncm91cDogQ29yZVxuLy8+PmRlc2NyaXB0aW9uOiBHZXQgdGhlIGNsb3Nlc3QgYW5jZXN0b3IgZWxlbWVudCB0aGF0IGlzIHNjcm9sbGFibGUuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vc2Nyb2xsUGFyZW50L1xuXG4oIGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZSggWyBcImpxdWVyeVwiLCBcIi4vdmVyc2lvblwiIF0sIGZhY3RvcnkgKTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIEJyb3dzZXIgZ2xvYmFsc1xuXHRcdGZhY3RvcnkoIGpRdWVyeSApO1xuXHR9XG59ICggZnVuY3Rpb24oICQgKSB7XG5cbnJldHVybiAkLmZuLnNjcm9sbFBhcmVudCA9IGZ1bmN0aW9uKCBpbmNsdWRlSGlkZGVuICkge1xuXHR2YXIgcG9zaXRpb24gPSB0aGlzLmNzcyggXCJwb3NpdGlvblwiICksXG5cdFx0ZXhjbHVkZVN0YXRpY1BhcmVudCA9IHBvc2l0aW9uID09PSBcImFic29sdXRlXCIsXG5cdFx0b3ZlcmZsb3dSZWdleCA9IGluY2x1ZGVIaWRkZW4gPyAvKGF1dG98c2Nyb2xsfGhpZGRlbikvIDogLyhhdXRvfHNjcm9sbCkvLFxuXHRcdHNjcm9sbFBhcmVudCA9IHRoaXMucGFyZW50cygpLmZpbHRlciggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgcGFyZW50ID0gJCggdGhpcyApO1xuXHRcdFx0aWYgKCBleGNsdWRlU3RhdGljUGFyZW50ICYmIHBhcmVudC5jc3MoIFwicG9zaXRpb25cIiApID09PSBcInN0YXRpY1wiICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gb3ZlcmZsb3dSZWdleC50ZXN0KCBwYXJlbnQuY3NzKCBcIm92ZXJmbG93XCIgKSArIHBhcmVudC5jc3MoIFwib3ZlcmZsb3cteVwiICkgK1xuXHRcdFx0XHRwYXJlbnQuY3NzKCBcIm92ZXJmbG93LXhcIiApICk7XG5cdFx0fSApLmVxKCAwICk7XG5cblx0cmV0dXJuIHBvc2l0aW9uID09PSBcImZpeGVkXCIgfHwgIXNjcm9sbFBhcmVudC5sZW5ndGggP1xuXHRcdCQoIHRoaXNbIDAgXS5vd25lckRvY3VtZW50IHx8IGRvY3VtZW50ICkgOlxuXHRcdHNjcm9sbFBhcmVudDtcbn07XG5cbn0gKSApO1xuIiwiLyohXG4gKiBqUXVlcnkgVUkgVW5pcXVlIElEIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiB1bmlxdWVJZFxuLy8+Pmdyb3VwOiBDb3JlXG4vLz4+ZGVzY3JpcHRpb246IEZ1bmN0aW9ucyB0byBnZW5lcmF0ZSBhbmQgcmVtb3ZlIHVuaXF1ZUlkJ3Ncbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS91bmlxdWVJZC9cblxuKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFsgXCJqcXVlcnlcIiwgXCIuL3ZlcnNpb25cIiBdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSAoIGZ1bmN0aW9uKCAkICkge1xuXG5yZXR1cm4gJC5mbi5leHRlbmQoIHtcblx0dW5pcXVlSWQ6ICggZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHV1aWQgPSAwO1xuXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggIXRoaXMuaWQgKSB7XG5cdFx0XHRcdFx0dGhpcy5pZCA9IFwidWktaWQtXCIgKyAoICsrdXVpZCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fTtcblx0fSApKCksXG5cblx0cmVtb3ZlVW5pcXVlSWQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCAvXnVpLWlkLVxcZCskLy50ZXN0KCB0aGlzLmlkICkgKSB7XG5cdFx0XHRcdCQoIHRoaXMgKS5yZW1vdmVBdHRyKCBcImlkXCIgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH1cbn0gKTtcblxufSApICk7XG4iLCIvKiFcbiAqIGpRdWVyeSBVSSBXaWRnZXQgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IFdpZGdldFxuLy8+Pmdyb3VwOiBDb3JlXG4vLz4+ZGVzY3JpcHRpb246IFByb3ZpZGVzIGEgZmFjdG9yeSBmb3IgY3JlYXRpbmcgc3RhdGVmdWwgd2lkZ2V0cyB3aXRoIGEgY29tbW9uIEFQSS5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9qUXVlcnkud2lkZ2V0L1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL3dpZGdldC9cblxuKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFsgXCJqcXVlcnlcIiwgXCIuL3ZlcnNpb25cIiBdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSggZnVuY3Rpb24oICQgKSB7XG5cbnZhciB3aWRnZXRVdWlkID0gMDtcbnZhciB3aWRnZXRTbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblxuJC5jbGVhbkRhdGEgPSAoIGZ1bmN0aW9uKCBvcmlnICkge1xuXHRyZXR1cm4gZnVuY3Rpb24oIGVsZW1zICkge1xuXHRcdHZhciBldmVudHMsIGVsZW0sIGk7XG5cdFx0Zm9yICggaSA9IDA7ICggZWxlbSA9IGVsZW1zWyBpIF0gKSAhPSBudWxsOyBpKysgKSB7XG5cdFx0XHR0cnkge1xuXG5cdFx0XHRcdC8vIE9ubHkgdHJpZ2dlciByZW1vdmUgd2hlbiBuZWNlc3NhcnkgdG8gc2F2ZSB0aW1lXG5cdFx0XHRcdGV2ZW50cyA9ICQuX2RhdGEoIGVsZW0sIFwiZXZlbnRzXCIgKTtcblx0XHRcdFx0aWYgKCBldmVudHMgJiYgZXZlbnRzLnJlbW92ZSApIHtcblx0XHRcdFx0XHQkKCBlbGVtICkudHJpZ2dlckhhbmRsZXIoIFwicmVtb3ZlXCIgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHQvLyBIdHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC84MjM1XG5cdFx0XHR9IGNhdGNoICggZSApIHt9XG5cdFx0fVxuXHRcdG9yaWcoIGVsZW1zICk7XG5cdH07XG59ICkoICQuY2xlYW5EYXRhICk7XG5cbiQud2lkZ2V0ID0gZnVuY3Rpb24oIG5hbWUsIGJhc2UsIHByb3RvdHlwZSApIHtcblx0dmFyIGV4aXN0aW5nQ29uc3RydWN0b3IsIGNvbnN0cnVjdG9yLCBiYXNlUHJvdG90eXBlO1xuXG5cdC8vIFByb3hpZWRQcm90b3R5cGUgYWxsb3dzIHRoZSBwcm92aWRlZCBwcm90b3R5cGUgdG8gcmVtYWluIHVubW9kaWZpZWRcblx0Ly8gc28gdGhhdCBpdCBjYW4gYmUgdXNlZCBhcyBhIG1peGluIGZvciBtdWx0aXBsZSB3aWRnZXRzICgjODg3Nilcblx0dmFyIHByb3hpZWRQcm90b3R5cGUgPSB7fTtcblxuXHR2YXIgbmFtZXNwYWNlID0gbmFtZS5zcGxpdCggXCIuXCIgKVsgMCBdO1xuXHRuYW1lID0gbmFtZS5zcGxpdCggXCIuXCIgKVsgMSBdO1xuXHR2YXIgZnVsbE5hbWUgPSBuYW1lc3BhY2UgKyBcIi1cIiArIG5hbWU7XG5cblx0aWYgKCAhcHJvdG90eXBlICkge1xuXHRcdHByb3RvdHlwZSA9IGJhc2U7XG5cdFx0YmFzZSA9ICQuV2lkZ2V0O1xuXHR9XG5cblx0aWYgKCAkLmlzQXJyYXkoIHByb3RvdHlwZSApICkge1xuXHRcdHByb3RvdHlwZSA9ICQuZXh0ZW5kLmFwcGx5KCBudWxsLCBbIHt9IF0uY29uY2F0KCBwcm90b3R5cGUgKSApO1xuXHR9XG5cblx0Ly8gQ3JlYXRlIHNlbGVjdG9yIGZvciBwbHVnaW5cblx0JC5leHByWyBcIjpcIiBdWyBmdWxsTmFtZS50b0xvd2VyQ2FzZSgpIF0gPSBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gISEkLmRhdGEoIGVsZW0sIGZ1bGxOYW1lICk7XG5cdH07XG5cblx0JFsgbmFtZXNwYWNlIF0gPSAkWyBuYW1lc3BhY2UgXSB8fCB7fTtcblx0ZXhpc3RpbmdDb25zdHJ1Y3RvciA9ICRbIG5hbWVzcGFjZSBdWyBuYW1lIF07XG5cdGNvbnN0cnVjdG9yID0gJFsgbmFtZXNwYWNlIF1bIG5hbWUgXSA9IGZ1bmN0aW9uKCBvcHRpb25zLCBlbGVtZW50ICkge1xuXG5cdFx0Ly8gQWxsb3cgaW5zdGFudGlhdGlvbiB3aXRob3V0IFwibmV3XCIga2V5d29yZFxuXHRcdGlmICggIXRoaXMuX2NyZWF0ZVdpZGdldCApIHtcblx0XHRcdHJldHVybiBuZXcgY29uc3RydWN0b3IoIG9wdGlvbnMsIGVsZW1lbnQgKTtcblx0XHR9XG5cblx0XHQvLyBBbGxvdyBpbnN0YW50aWF0aW9uIHdpdGhvdXQgaW5pdGlhbGl6aW5nIGZvciBzaW1wbGUgaW5oZXJpdGFuY2Vcblx0XHQvLyBtdXN0IHVzZSBcIm5ld1wiIGtleXdvcmQgKHRoZSBjb2RlIGFib3ZlIGFsd2F5cyBwYXNzZXMgYXJncylcblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHR0aGlzLl9jcmVhdGVXaWRnZXQoIG9wdGlvbnMsIGVsZW1lbnQgKTtcblx0XHR9XG5cdH07XG5cblx0Ly8gRXh0ZW5kIHdpdGggdGhlIGV4aXN0aW5nIGNvbnN0cnVjdG9yIHRvIGNhcnJ5IG92ZXIgYW55IHN0YXRpYyBwcm9wZXJ0aWVzXG5cdCQuZXh0ZW5kKCBjb25zdHJ1Y3RvciwgZXhpc3RpbmdDb25zdHJ1Y3Rvciwge1xuXHRcdHZlcnNpb246IHByb3RvdHlwZS52ZXJzaW9uLFxuXG5cdFx0Ly8gQ29weSB0aGUgb2JqZWN0IHVzZWQgdG8gY3JlYXRlIHRoZSBwcm90b3R5cGUgaW4gY2FzZSB3ZSBuZWVkIHRvXG5cdFx0Ly8gcmVkZWZpbmUgdGhlIHdpZGdldCBsYXRlclxuXHRcdF9wcm90bzogJC5leHRlbmQoIHt9LCBwcm90b3R5cGUgKSxcblxuXHRcdC8vIFRyYWNrIHdpZGdldHMgdGhhdCBpbmhlcml0IGZyb20gdGhpcyB3aWRnZXQgaW4gY2FzZSB0aGlzIHdpZGdldCBpc1xuXHRcdC8vIHJlZGVmaW5lZCBhZnRlciBhIHdpZGdldCBpbmhlcml0cyBmcm9tIGl0XG5cdFx0X2NoaWxkQ29uc3RydWN0b3JzOiBbXVxuXHR9ICk7XG5cblx0YmFzZVByb3RvdHlwZSA9IG5ldyBiYXNlKCk7XG5cblx0Ly8gV2UgbmVlZCB0byBtYWtlIHRoZSBvcHRpb25zIGhhc2ggYSBwcm9wZXJ0eSBkaXJlY3RseSBvbiB0aGUgbmV3IGluc3RhbmNlXG5cdC8vIG90aGVyd2lzZSB3ZSdsbCBtb2RpZnkgdGhlIG9wdGlvbnMgaGFzaCBvbiB0aGUgcHJvdG90eXBlIHRoYXQgd2UncmVcblx0Ly8gaW5oZXJpdGluZyBmcm9tXG5cdGJhc2VQcm90b3R5cGUub3B0aW9ucyA9ICQud2lkZ2V0LmV4dGVuZCgge30sIGJhc2VQcm90b3R5cGUub3B0aW9ucyApO1xuXHQkLmVhY2goIHByb3RvdHlwZSwgZnVuY3Rpb24oIHByb3AsIHZhbHVlICkge1xuXHRcdGlmICggISQuaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHByb3hpZWRQcm90b3R5cGVbIHByb3AgXSA9IHZhbHVlO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRwcm94aWVkUHJvdG90eXBlWyBwcm9wIF0gPSAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0ZnVuY3Rpb24gX3N1cGVyKCkge1xuXHRcdFx0XHRyZXR1cm4gYmFzZS5wcm90b3R5cGVbIHByb3AgXS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHR9XG5cblx0XHRcdGZ1bmN0aW9uIF9zdXBlckFwcGx5KCBhcmdzICkge1xuXHRcdFx0XHRyZXR1cm4gYmFzZS5wcm90b3R5cGVbIHByb3AgXS5hcHBseSggdGhpcywgYXJncyApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBfX3N1cGVyID0gdGhpcy5fc3VwZXI7XG5cdFx0XHRcdHZhciBfX3N1cGVyQXBwbHkgPSB0aGlzLl9zdXBlckFwcGx5O1xuXHRcdFx0XHR2YXIgcmV0dXJuVmFsdWU7XG5cblx0XHRcdFx0dGhpcy5fc3VwZXIgPSBfc3VwZXI7XG5cdFx0XHRcdHRoaXMuX3N1cGVyQXBwbHkgPSBfc3VwZXJBcHBseTtcblxuXHRcdFx0XHRyZXR1cm5WYWx1ZSA9IHZhbHVlLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuXHRcdFx0XHR0aGlzLl9zdXBlciA9IF9fc3VwZXI7XG5cdFx0XHRcdHRoaXMuX3N1cGVyQXBwbHkgPSBfX3N1cGVyQXBwbHk7XG5cblx0XHRcdFx0cmV0dXJuIHJldHVyblZhbHVlO1xuXHRcdFx0fTtcblx0XHR9ICkoKTtcblx0fSApO1xuXHRjb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSAkLndpZGdldC5leHRlbmQoIGJhc2VQcm90b3R5cGUsIHtcblxuXHRcdC8vIFRPRE86IHJlbW92ZSBzdXBwb3J0IGZvciB3aWRnZXRFdmVudFByZWZpeFxuXHRcdC8vIGFsd2F5cyB1c2UgdGhlIG5hbWUgKyBhIGNvbG9uIGFzIHRoZSBwcmVmaXgsIGUuZy4sIGRyYWdnYWJsZTpzdGFydFxuXHRcdC8vIGRvbid0IHByZWZpeCBmb3Igd2lkZ2V0cyB0aGF0IGFyZW4ndCBET00tYmFzZWRcblx0XHR3aWRnZXRFdmVudFByZWZpeDogZXhpc3RpbmdDb25zdHJ1Y3RvciA/ICggYmFzZVByb3RvdHlwZS53aWRnZXRFdmVudFByZWZpeCB8fCBuYW1lICkgOiBuYW1lXG5cdH0sIHByb3hpZWRQcm90b3R5cGUsIHtcblx0XHRjb25zdHJ1Y3RvcjogY29uc3RydWN0b3IsXG5cdFx0bmFtZXNwYWNlOiBuYW1lc3BhY2UsXG5cdFx0d2lkZ2V0TmFtZTogbmFtZSxcblx0XHR3aWRnZXRGdWxsTmFtZTogZnVsbE5hbWVcblx0fSApO1xuXG5cdC8vIElmIHRoaXMgd2lkZ2V0IGlzIGJlaW5nIHJlZGVmaW5lZCB0aGVuIHdlIG5lZWQgdG8gZmluZCBhbGwgd2lkZ2V0cyB0aGF0XG5cdC8vIGFyZSBpbmhlcml0aW5nIGZyb20gaXQgYW5kIHJlZGVmaW5lIGFsbCBvZiB0aGVtIHNvIHRoYXQgdGhleSBpbmhlcml0IGZyb21cblx0Ly8gdGhlIG5ldyB2ZXJzaW9uIG9mIHRoaXMgd2lkZ2V0LiBXZSdyZSBlc3NlbnRpYWxseSB0cnlpbmcgdG8gcmVwbGFjZSBvbmVcblx0Ly8gbGV2ZWwgaW4gdGhlIHByb3RvdHlwZSBjaGFpbi5cblx0aWYgKCBleGlzdGluZ0NvbnN0cnVjdG9yICkge1xuXHRcdCQuZWFjaCggZXhpc3RpbmdDb25zdHJ1Y3Rvci5fY2hpbGRDb25zdHJ1Y3RvcnMsIGZ1bmN0aW9uKCBpLCBjaGlsZCApIHtcblx0XHRcdHZhciBjaGlsZFByb3RvdHlwZSA9IGNoaWxkLnByb3RvdHlwZTtcblxuXHRcdFx0Ly8gUmVkZWZpbmUgdGhlIGNoaWxkIHdpZGdldCB1c2luZyB0aGUgc2FtZSBwcm90b3R5cGUgdGhhdCB3YXNcblx0XHRcdC8vIG9yaWdpbmFsbHkgdXNlZCwgYnV0IGluaGVyaXQgZnJvbSB0aGUgbmV3IHZlcnNpb24gb2YgdGhlIGJhc2Vcblx0XHRcdCQud2lkZ2V0KCBjaGlsZFByb3RvdHlwZS5uYW1lc3BhY2UgKyBcIi5cIiArIGNoaWxkUHJvdG90eXBlLndpZGdldE5hbWUsIGNvbnN0cnVjdG9yLFxuXHRcdFx0XHRjaGlsZC5fcHJvdG8gKTtcblx0XHR9ICk7XG5cblx0XHQvLyBSZW1vdmUgdGhlIGxpc3Qgb2YgZXhpc3RpbmcgY2hpbGQgY29uc3RydWN0b3JzIGZyb20gdGhlIG9sZCBjb25zdHJ1Y3RvclxuXHRcdC8vIHNvIHRoZSBvbGQgY2hpbGQgY29uc3RydWN0b3JzIGNhbiBiZSBnYXJiYWdlIGNvbGxlY3RlZFxuXHRcdGRlbGV0ZSBleGlzdGluZ0NvbnN0cnVjdG9yLl9jaGlsZENvbnN0cnVjdG9ycztcblx0fSBlbHNlIHtcblx0XHRiYXNlLl9jaGlsZENvbnN0cnVjdG9ycy5wdXNoKCBjb25zdHJ1Y3RvciApO1xuXHR9XG5cblx0JC53aWRnZXQuYnJpZGdlKCBuYW1lLCBjb25zdHJ1Y3RvciApO1xuXG5cdHJldHVybiBjb25zdHJ1Y3Rvcjtcbn07XG5cbiQud2lkZ2V0LmV4dGVuZCA9IGZ1bmN0aW9uKCB0YXJnZXQgKSB7XG5cdHZhciBpbnB1dCA9IHdpZGdldFNsaWNlLmNhbGwoIGFyZ3VtZW50cywgMSApO1xuXHR2YXIgaW5wdXRJbmRleCA9IDA7XG5cdHZhciBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDtcblx0dmFyIGtleTtcblx0dmFyIHZhbHVlO1xuXG5cdGZvciAoIDsgaW5wdXRJbmRleCA8IGlucHV0TGVuZ3RoOyBpbnB1dEluZGV4KysgKSB7XG5cdFx0Zm9yICgga2V5IGluIGlucHV0WyBpbnB1dEluZGV4IF0gKSB7XG5cdFx0XHR2YWx1ZSA9IGlucHV0WyBpbnB1dEluZGV4IF1bIGtleSBdO1xuXHRcdFx0aWYgKCBpbnB1dFsgaW5wdXRJbmRleCBdLmhhc093blByb3BlcnR5KCBrZXkgKSAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdC8vIENsb25lIG9iamVjdHNcblx0XHRcdFx0aWYgKCAkLmlzUGxhaW5PYmplY3QoIHZhbHVlICkgKSB7XG5cdFx0XHRcdFx0dGFyZ2V0WyBrZXkgXSA9ICQuaXNQbGFpbk9iamVjdCggdGFyZ2V0WyBrZXkgXSApID9cblx0XHRcdFx0XHRcdCQud2lkZ2V0LmV4dGVuZCgge30sIHRhcmdldFsga2V5IF0sIHZhbHVlICkgOlxuXG5cdFx0XHRcdFx0XHQvLyBEb24ndCBleHRlbmQgc3RyaW5ncywgYXJyYXlzLCBldGMuIHdpdGggb2JqZWN0c1xuXHRcdFx0XHRcdFx0JC53aWRnZXQuZXh0ZW5kKCB7fSwgdmFsdWUgKTtcblxuXHRcdFx0XHQvLyBDb3B5IGV2ZXJ5dGhpbmcgZWxzZSBieSByZWZlcmVuY2Vcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0YXJnZXRbIGtleSBdID0gdmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIHRhcmdldDtcbn07XG5cbiQud2lkZ2V0LmJyaWRnZSA9IGZ1bmN0aW9uKCBuYW1lLCBvYmplY3QgKSB7XG5cdHZhciBmdWxsTmFtZSA9IG9iamVjdC5wcm90b3R5cGUud2lkZ2V0RnVsbE5hbWUgfHwgbmFtZTtcblx0JC5mblsgbmFtZSBdID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdFx0dmFyIGlzTWV0aG9kQ2FsbCA9IHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiO1xuXHRcdHZhciBhcmdzID0gd2lkZ2V0U2xpY2UuY2FsbCggYXJndW1lbnRzLCAxICk7XG5cdFx0dmFyIHJldHVyblZhbHVlID0gdGhpcztcblxuXHRcdGlmICggaXNNZXRob2RDYWxsICkge1xuXG5cdFx0XHQvLyBJZiB0aGlzIGlzIGFuIGVtcHR5IGNvbGxlY3Rpb24sIHdlIG5lZWQgdG8gaGF2ZSB0aGUgaW5zdGFuY2UgbWV0aG9kXG5cdFx0XHQvLyByZXR1cm4gdW5kZWZpbmVkIGluc3RlYWQgb2YgdGhlIGpRdWVyeSBpbnN0YW5jZVxuXHRcdFx0aWYgKCAhdGhpcy5sZW5ndGggJiYgb3B0aW9ucyA9PT0gXCJpbnN0YW5jZVwiICkge1xuXHRcdFx0XHRyZXR1cm5WYWx1ZSA9IHVuZGVmaW5lZDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dmFyIG1ldGhvZFZhbHVlO1xuXHRcdFx0XHRcdHZhciBpbnN0YW5jZSA9ICQuZGF0YSggdGhpcywgZnVsbE5hbWUgKTtcblxuXHRcdFx0XHRcdGlmICggb3B0aW9ucyA9PT0gXCJpbnN0YW5jZVwiICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuVmFsdWUgPSBpbnN0YW5jZTtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoICFpbnN0YW5jZSApIHtcblx0XHRcdFx0XHRcdHJldHVybiAkLmVycm9yKCBcImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gXCIgKyBuYW1lICtcblx0XHRcdFx0XHRcdFx0XCIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247IFwiICtcblx0XHRcdFx0XHRcdFx0XCJhdHRlbXB0ZWQgdG8gY2FsbCBtZXRob2QgJ1wiICsgb3B0aW9ucyArIFwiJ1wiICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCAhJC5pc0Z1bmN0aW9uKCBpbnN0YW5jZVsgb3B0aW9ucyBdICkgfHwgb3B0aW9ucy5jaGFyQXQoIDAgKSA9PT0gXCJfXCIgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gJC5lcnJvciggXCJubyBzdWNoIG1ldGhvZCAnXCIgKyBvcHRpb25zICsgXCInIGZvciBcIiArIG5hbWUgK1xuXHRcdFx0XHRcdFx0XHRcIiB3aWRnZXQgaW5zdGFuY2VcIiApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG1ldGhvZFZhbHVlID0gaW5zdGFuY2VbIG9wdGlvbnMgXS5hcHBseSggaW5zdGFuY2UsIGFyZ3MgKTtcblxuXHRcdFx0XHRcdGlmICggbWV0aG9kVmFsdWUgIT09IGluc3RhbmNlICYmIG1ldGhvZFZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm5WYWx1ZSA9IG1ldGhvZFZhbHVlICYmIG1ldGhvZFZhbHVlLmpxdWVyeSA/XG5cdFx0XHRcdFx0XHRcdHJldHVyblZhbHVlLnB1c2hTdGFjayggbWV0aG9kVmFsdWUuZ2V0KCkgKSA6XG5cdFx0XHRcdFx0XHRcdG1ldGhvZFZhbHVlO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIEFsbG93IG11bHRpcGxlIGhhc2hlcyB0byBiZSBwYXNzZWQgb24gaW5pdFxuXHRcdFx0aWYgKCBhcmdzLmxlbmd0aCApIHtcblx0XHRcdFx0b3B0aW9ucyA9ICQud2lkZ2V0LmV4dGVuZC5hcHBseSggbnVsbCwgWyBvcHRpb25zIF0uY29uY2F0KCBhcmdzICkgKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGluc3RhbmNlID0gJC5kYXRhKCB0aGlzLCBmdWxsTmFtZSApO1xuXHRcdFx0XHRpZiAoIGluc3RhbmNlICkge1xuXHRcdFx0XHRcdGluc3RhbmNlLm9wdGlvbiggb3B0aW9ucyB8fCB7fSApO1xuXHRcdFx0XHRcdGlmICggaW5zdGFuY2UuX2luaXQgKSB7XG5cdFx0XHRcdFx0XHRpbnN0YW5jZS5faW5pdCgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQkLmRhdGEoIHRoaXMsIGZ1bGxOYW1lLCBuZXcgb2JqZWN0KCBvcHRpb25zLCB0aGlzICkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHJldHVybiByZXR1cm5WYWx1ZTtcblx0fTtcbn07XG5cbiQuV2lkZ2V0ID0gZnVuY3Rpb24oIC8qIG9wdGlvbnMsIGVsZW1lbnQgKi8gKSB7fTtcbiQuV2lkZ2V0Ll9jaGlsZENvbnN0cnVjdG9ycyA9IFtdO1xuXG4kLldpZGdldC5wcm90b3R5cGUgPSB7XG5cdHdpZGdldE5hbWU6IFwid2lkZ2V0XCIsXG5cdHdpZGdldEV2ZW50UHJlZml4OiBcIlwiLFxuXHRkZWZhdWx0RWxlbWVudDogXCI8ZGl2PlwiLFxuXG5cdG9wdGlvbnM6IHtcblx0XHRjbGFzc2VzOiB7fSxcblx0XHRkaXNhYmxlZDogZmFsc2UsXG5cblx0XHQvLyBDYWxsYmFja3Ncblx0XHRjcmVhdGU6IG51bGxcblx0fSxcblxuXHRfY3JlYXRlV2lkZ2V0OiBmdW5jdGlvbiggb3B0aW9ucywgZWxlbWVudCApIHtcblx0XHRlbGVtZW50ID0gJCggZWxlbWVudCB8fCB0aGlzLmRlZmF1bHRFbGVtZW50IHx8IHRoaXMgKVsgMCBdO1xuXHRcdHRoaXMuZWxlbWVudCA9ICQoIGVsZW1lbnQgKTtcblx0XHR0aGlzLnV1aWQgPSB3aWRnZXRVdWlkKys7XG5cdFx0dGhpcy5ldmVudE5hbWVzcGFjZSA9IFwiLlwiICsgdGhpcy53aWRnZXROYW1lICsgdGhpcy51dWlkO1xuXG5cdFx0dGhpcy5iaW5kaW5ncyA9ICQoKTtcblx0XHR0aGlzLmhvdmVyYWJsZSA9ICQoKTtcblx0XHR0aGlzLmZvY3VzYWJsZSA9ICQoKTtcblx0XHR0aGlzLmNsYXNzZXNFbGVtZW50TG9va3VwID0ge307XG5cblx0XHRpZiAoIGVsZW1lbnQgIT09IHRoaXMgKSB7XG5cdFx0XHQkLmRhdGEoIGVsZW1lbnQsIHRoaXMud2lkZ2V0RnVsbE5hbWUsIHRoaXMgKTtcblx0XHRcdHRoaXMuX29uKCB0cnVlLCB0aGlzLmVsZW1lbnQsIHtcblx0XHRcdFx0cmVtb3ZlOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdFx0aWYgKCBldmVudC50YXJnZXQgPT09IGVsZW1lbnQgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmRlc3Ryb3koKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHRcdHRoaXMuZG9jdW1lbnQgPSAkKCBlbGVtZW50LnN0eWxlID9cblxuXHRcdFx0XHQvLyBFbGVtZW50IHdpdGhpbiB0aGUgZG9jdW1lbnRcblx0XHRcdFx0ZWxlbWVudC5vd25lckRvY3VtZW50IDpcblxuXHRcdFx0XHQvLyBFbGVtZW50IGlzIHdpbmRvdyBvciBkb2N1bWVudFxuXHRcdFx0XHRlbGVtZW50LmRvY3VtZW50IHx8IGVsZW1lbnQgKTtcblx0XHRcdHRoaXMud2luZG93ID0gJCggdGhpcy5kb2N1bWVudFsgMCBdLmRlZmF1bHRWaWV3IHx8IHRoaXMuZG9jdW1lbnRbIDAgXS5wYXJlbnRXaW5kb3cgKTtcblx0XHR9XG5cblx0XHR0aGlzLm9wdGlvbnMgPSAkLndpZGdldC5leHRlbmQoIHt9LFxuXHRcdFx0dGhpcy5vcHRpb25zLFxuXHRcdFx0dGhpcy5fZ2V0Q3JlYXRlT3B0aW9ucygpLFxuXHRcdFx0b3B0aW9ucyApO1xuXG5cdFx0dGhpcy5fY3JlYXRlKCk7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5kaXNhYmxlZCApIHtcblx0XHRcdHRoaXMuX3NldE9wdGlvbkRpc2FibGVkKCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgKTtcblx0XHR9XG5cblx0XHR0aGlzLl90cmlnZ2VyKCBcImNyZWF0ZVwiLCBudWxsLCB0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEoKSApO1xuXHRcdHRoaXMuX2luaXQoKTtcblx0fSxcblxuXHRfZ2V0Q3JlYXRlT3B0aW9uczogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHt9O1xuXHR9LFxuXG5cdF9nZXRDcmVhdGVFdmVudERhdGE6ICQubm9vcCxcblxuXHRfY3JlYXRlOiAkLm5vb3AsXG5cblx0X2luaXQ6ICQubm9vcCxcblxuXHRkZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cblx0XHR0aGlzLl9kZXN0cm95KCk7XG5cdFx0JC5lYWNoKCB0aGlzLmNsYXNzZXNFbGVtZW50TG9va3VwLCBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHRcdHRoYXQuX3JlbW92ZUNsYXNzKCB2YWx1ZSwga2V5ICk7XG5cdFx0fSApO1xuXG5cdFx0Ly8gV2UgY2FuIHByb2JhYmx5IHJlbW92ZSB0aGUgdW5iaW5kIGNhbGxzIGluIDIuMFxuXHRcdC8vIGFsbCBldmVudCBiaW5kaW5ncyBzaG91bGQgZ28gdGhyb3VnaCB0aGlzLl9vbigpXG5cdFx0dGhpcy5lbGVtZW50XG5cdFx0XHQub2ZmKCB0aGlzLmV2ZW50TmFtZXNwYWNlIClcblx0XHRcdC5yZW1vdmVEYXRhKCB0aGlzLndpZGdldEZ1bGxOYW1lICk7XG5cdFx0dGhpcy53aWRnZXQoKVxuXHRcdFx0Lm9mZiggdGhpcy5ldmVudE5hbWVzcGFjZSApXG5cdFx0XHQucmVtb3ZlQXR0ciggXCJhcmlhLWRpc2FibGVkXCIgKTtcblxuXHRcdC8vIENsZWFuIHVwIGV2ZW50cyBhbmQgc3RhdGVzXG5cdFx0dGhpcy5iaW5kaW5ncy5vZmYoIHRoaXMuZXZlbnROYW1lc3BhY2UgKTtcblx0fSxcblxuXHRfZGVzdHJveTogJC5ub29wLFxuXG5cdHdpZGdldDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWxlbWVudDtcblx0fSxcblxuXHRvcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdHZhciBvcHRpb25zID0ga2V5O1xuXHRcdHZhciBwYXJ0cztcblx0XHR2YXIgY3VyT3B0aW9uO1xuXHRcdHZhciBpO1xuXG5cdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoID09PSAwICkge1xuXG5cdFx0XHQvLyBEb24ndCByZXR1cm4gYSByZWZlcmVuY2UgdG8gdGhlIGludGVybmFsIGhhc2hcblx0XHRcdHJldHVybiAkLndpZGdldC5leHRlbmQoIHt9LCB0aGlzLm9wdGlvbnMgKTtcblx0XHR9XG5cblx0XHRpZiAoIHR5cGVvZiBrZXkgPT09IFwic3RyaW5nXCIgKSB7XG5cblx0XHRcdC8vIEhhbmRsZSBuZXN0ZWQga2V5cywgZS5nLiwgXCJmb28uYmFyXCIgPT4geyBmb286IHsgYmFyOiBfX18gfSB9XG5cdFx0XHRvcHRpb25zID0ge307XG5cdFx0XHRwYXJ0cyA9IGtleS5zcGxpdCggXCIuXCIgKTtcblx0XHRcdGtleSA9IHBhcnRzLnNoaWZ0KCk7XG5cdFx0XHRpZiAoIHBhcnRzLmxlbmd0aCApIHtcblx0XHRcdFx0Y3VyT3B0aW9uID0gb3B0aW9uc1sga2V5IF0gPSAkLndpZGdldC5leHRlbmQoIHt9LCB0aGlzLm9wdGlvbnNbIGtleSBdICk7XG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoIC0gMTsgaSsrICkge1xuXHRcdFx0XHRcdGN1ck9wdGlvblsgcGFydHNbIGkgXSBdID0gY3VyT3B0aW9uWyBwYXJ0c1sgaSBdIF0gfHwge307XG5cdFx0XHRcdFx0Y3VyT3B0aW9uID0gY3VyT3B0aW9uWyBwYXJ0c1sgaSBdIF07XG5cdFx0XHRcdH1cblx0XHRcdFx0a2V5ID0gcGFydHMucG9wKCk7XG5cdFx0XHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCA9PT0gMSApIHtcblx0XHRcdFx0XHRyZXR1cm4gY3VyT3B0aW9uWyBrZXkgXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGN1ck9wdGlvblsga2V5IF07XG5cdFx0XHRcdH1cblx0XHRcdFx0Y3VyT3B0aW9uWyBrZXkgXSA9IHZhbHVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoID09PSAxICkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLm9wdGlvbnNbIGtleSBdID09PSB1bmRlZmluZWQgPyBudWxsIDogdGhpcy5vcHRpb25zWyBrZXkgXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRvcHRpb25zWyBrZXkgXSA9IHZhbHVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuX3NldE9wdGlvbnMoIG9wdGlvbnMgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdF9zZXRPcHRpb25zOiBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0XHR2YXIga2V5O1xuXG5cdFx0Zm9yICgga2V5IGluIG9wdGlvbnMgKSB7XG5cdFx0XHR0aGlzLl9zZXRPcHRpb24oIGtleSwgb3B0aW9uc1sga2V5IF0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRfc2V0T3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHRpZiAoIGtleSA9PT0gXCJjbGFzc2VzXCIgKSB7XG5cdFx0XHR0aGlzLl9zZXRPcHRpb25DbGFzc2VzKCB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdHRoaXMub3B0aW9uc1sga2V5IF0gPSB2YWx1ZTtcblxuXHRcdGlmICgga2V5ID09PSBcImRpc2FibGVkXCIgKSB7XG5cdFx0XHR0aGlzLl9zZXRPcHRpb25EaXNhYmxlZCggdmFsdWUgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRfc2V0T3B0aW9uQ2xhc3NlczogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBjbGFzc0tleSwgZWxlbWVudHMsIGN1cnJlbnRFbGVtZW50cztcblxuXHRcdGZvciAoIGNsYXNzS2V5IGluIHZhbHVlICkge1xuXHRcdFx0Y3VycmVudEVsZW1lbnRzID0gdGhpcy5jbGFzc2VzRWxlbWVudExvb2t1cFsgY2xhc3NLZXkgXTtcblx0XHRcdGlmICggdmFsdWVbIGNsYXNzS2V5IF0gPT09IHRoaXMub3B0aW9ucy5jbGFzc2VzWyBjbGFzc0tleSBdIHx8XG5cdFx0XHRcdFx0IWN1cnJlbnRFbGVtZW50cyB8fFxuXHRcdFx0XHRcdCFjdXJyZW50RWxlbWVudHMubGVuZ3RoICkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gV2UgYXJlIGRvaW5nIHRoaXMgdG8gY3JlYXRlIGEgbmV3IGpRdWVyeSBvYmplY3QgYmVjYXVzZSB0aGUgX3JlbW92ZUNsYXNzKCkgY2FsbFxuXHRcdFx0Ly8gb24gdGhlIG5leHQgbGluZSBpcyBnb2luZyB0byBkZXN0cm95IHRoZSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgZWxlbWVudHMgYmVpbmdcblx0XHRcdC8vIHRyYWNrZWQuIFdlIG5lZWQgdG8gc2F2ZSBhIGNvcHkgb2YgdGhpcyBjb2xsZWN0aW9uIHNvIHRoYXQgd2UgY2FuIGFkZCB0aGUgbmV3IGNsYXNzZXNcblx0XHRcdC8vIGJlbG93LlxuXHRcdFx0ZWxlbWVudHMgPSAkKCBjdXJyZW50RWxlbWVudHMuZ2V0KCkgKTtcblx0XHRcdHRoaXMuX3JlbW92ZUNsYXNzKCBjdXJyZW50RWxlbWVudHMsIGNsYXNzS2V5ICk7XG5cblx0XHRcdC8vIFdlIGRvbid0IHVzZSBfYWRkQ2xhc3MoKSBoZXJlLCBiZWNhdXNlIHRoYXQgdXNlcyB0aGlzLm9wdGlvbnMuY2xhc3Nlc1xuXHRcdFx0Ly8gZm9yIGdlbmVyYXRpbmcgdGhlIHN0cmluZyBvZiBjbGFzc2VzLiBXZSB3YW50IHRvIHVzZSB0aGUgdmFsdWUgcGFzc2VkIGluIGZyb21cblx0XHRcdC8vIF9zZXRPcHRpb24oKSwgdGhpcyBpcyB0aGUgbmV3IHZhbHVlIG9mIHRoZSBjbGFzc2VzIG9wdGlvbiB3aGljaCB3YXMgcGFzc2VkIHRvXG5cdFx0XHQvLyBfc2V0T3B0aW9uKCkuIFdlIHBhc3MgdGhpcyB2YWx1ZSBkaXJlY3RseSB0byBfY2xhc3NlcygpLlxuXHRcdFx0ZWxlbWVudHMuYWRkQ2xhc3MoIHRoaXMuX2NsYXNzZXMoIHtcblx0XHRcdFx0ZWxlbWVudDogZWxlbWVudHMsXG5cdFx0XHRcdGtleXM6IGNsYXNzS2V5LFxuXHRcdFx0XHRjbGFzc2VzOiB2YWx1ZSxcblx0XHRcdFx0YWRkOiB0cnVlXG5cdFx0XHR9ICkgKTtcblx0XHR9XG5cdH0sXG5cblx0X3NldE9wdGlvbkRpc2FibGVkOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dGhpcy5fdG9nZ2xlQ2xhc3MoIHRoaXMud2lkZ2V0KCksIHRoaXMud2lkZ2V0RnVsbE5hbWUgKyBcIi1kaXNhYmxlZFwiLCBudWxsLCAhIXZhbHVlICk7XG5cblx0XHQvLyBJZiB0aGUgd2lkZ2V0IGlzIGJlY29taW5nIGRpc2FibGVkLCB0aGVuIG5vdGhpbmcgaXMgaW50ZXJhY3RpdmVcblx0XHRpZiAoIHZhbHVlICkge1xuXHRcdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoIHRoaXMuaG92ZXJhYmxlLCBudWxsLCBcInVpLXN0YXRlLWhvdmVyXCIgKTtcblx0XHRcdHRoaXMuX3JlbW92ZUNsYXNzKCB0aGlzLmZvY3VzYWJsZSwgbnVsbCwgXCJ1aS1zdGF0ZS1mb2N1c1wiICk7XG5cdFx0fVxuXHR9LFxuXG5cdGVuYWJsZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3NldE9wdGlvbnMoIHsgZGlzYWJsZWQ6IGZhbHNlIH0gKTtcblx0fSxcblxuXHRkaXNhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyggeyBkaXNhYmxlZDogdHJ1ZSB9ICk7XG5cdH0sXG5cblx0X2NsYXNzZXM6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXHRcdHZhciBmdWxsID0gW107XG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xuXG5cdFx0b3B0aW9ucyA9ICQuZXh0ZW5kKCB7XG5cdFx0XHRlbGVtZW50OiB0aGlzLmVsZW1lbnQsXG5cdFx0XHRjbGFzc2VzOiB0aGlzLm9wdGlvbnMuY2xhc3NlcyB8fCB7fVxuXHRcdH0sIG9wdGlvbnMgKTtcblxuXHRcdGZ1bmN0aW9uIHByb2Nlc3NDbGFzc1N0cmluZyggY2xhc3NlcywgY2hlY2tPcHRpb24gKSB7XG5cdFx0XHR2YXIgY3VycmVudCwgaTtcblx0XHRcdGZvciAoIGkgPSAwOyBpIDwgY2xhc3Nlcy5sZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0Y3VycmVudCA9IHRoYXQuY2xhc3Nlc0VsZW1lbnRMb29rdXBbIGNsYXNzZXNbIGkgXSBdIHx8ICQoKTtcblx0XHRcdFx0aWYgKCBvcHRpb25zLmFkZCApIHtcblx0XHRcdFx0XHRjdXJyZW50ID0gJCggJC51bmlxdWUoIGN1cnJlbnQuZ2V0KCkuY29uY2F0KCBvcHRpb25zLmVsZW1lbnQuZ2V0KCkgKSApICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y3VycmVudCA9ICQoIGN1cnJlbnQubm90KCBvcHRpb25zLmVsZW1lbnQgKS5nZXQoKSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoYXQuY2xhc3Nlc0VsZW1lbnRMb29rdXBbIGNsYXNzZXNbIGkgXSBdID0gY3VycmVudDtcblx0XHRcdFx0ZnVsbC5wdXNoKCBjbGFzc2VzWyBpIF0gKTtcblx0XHRcdFx0aWYgKCBjaGVja09wdGlvbiAmJiBvcHRpb25zLmNsYXNzZXNbIGNsYXNzZXNbIGkgXSBdICkge1xuXHRcdFx0XHRcdGZ1bGwucHVzaCggb3B0aW9ucy5jbGFzc2VzWyBjbGFzc2VzWyBpIF0gXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy5fb24oIG9wdGlvbnMuZWxlbWVudCwge1xuXHRcdFx0XCJyZW1vdmVcIjogXCJfdW50cmFja0NsYXNzZXNFbGVtZW50XCJcblx0XHR9ICk7XG5cblx0XHRpZiAoIG9wdGlvbnMua2V5cyApIHtcblx0XHRcdHByb2Nlc3NDbGFzc1N0cmluZyggb3B0aW9ucy5rZXlzLm1hdGNoKCAvXFxTKy9nICkgfHwgW10sIHRydWUgKTtcblx0XHR9XG5cdFx0aWYgKCBvcHRpb25zLmV4dHJhICkge1xuXHRcdFx0cHJvY2Vzc0NsYXNzU3RyaW5nKCBvcHRpb25zLmV4dHJhLm1hdGNoKCAvXFxTKy9nICkgfHwgW10gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZnVsbC5qb2luKCBcIiBcIiApO1xuXHR9LFxuXG5cdF91bnRyYWNrQ2xhc3Nlc0VsZW1lbnQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cdFx0JC5lYWNoKCB0aGF0LmNsYXNzZXNFbGVtZW50TG9va3VwLCBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHRcdGlmICggJC5pbkFycmF5KCBldmVudC50YXJnZXQsIHZhbHVlICkgIT09IC0xICkge1xuXHRcdFx0XHR0aGF0LmNsYXNzZXNFbGVtZW50TG9va3VwWyBrZXkgXSA9ICQoIHZhbHVlLm5vdCggZXZlbnQudGFyZ2V0ICkuZ2V0KCkgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0X3JlbW92ZUNsYXNzOiBmdW5jdGlvbiggZWxlbWVudCwga2V5cywgZXh0cmEgKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3RvZ2dsZUNsYXNzKCBlbGVtZW50LCBrZXlzLCBleHRyYSwgZmFsc2UgKTtcblx0fSxcblxuXHRfYWRkQ2xhc3M6IGZ1bmN0aW9uKCBlbGVtZW50LCBrZXlzLCBleHRyYSApIHtcblx0XHRyZXR1cm4gdGhpcy5fdG9nZ2xlQ2xhc3MoIGVsZW1lbnQsIGtleXMsIGV4dHJhLCB0cnVlICk7XG5cdH0sXG5cblx0X3RvZ2dsZUNsYXNzOiBmdW5jdGlvbiggZWxlbWVudCwga2V5cywgZXh0cmEsIGFkZCApIHtcblx0XHRhZGQgPSAoIHR5cGVvZiBhZGQgPT09IFwiYm9vbGVhblwiICkgPyBhZGQgOiBleHRyYTtcblx0XHR2YXIgc2hpZnQgPSAoIHR5cGVvZiBlbGVtZW50ID09PSBcInN0cmluZ1wiIHx8IGVsZW1lbnQgPT09IG51bGwgKSxcblx0XHRcdG9wdGlvbnMgPSB7XG5cdFx0XHRcdGV4dHJhOiBzaGlmdCA/IGtleXMgOiBleHRyYSxcblx0XHRcdFx0a2V5czogc2hpZnQgPyBlbGVtZW50IDoga2V5cyxcblx0XHRcdFx0ZWxlbWVudDogc2hpZnQgPyB0aGlzLmVsZW1lbnQgOiBlbGVtZW50LFxuXHRcdFx0XHRhZGQ6IGFkZFxuXHRcdFx0fTtcblx0XHRvcHRpb25zLmVsZW1lbnQudG9nZ2xlQ2xhc3MoIHRoaXMuX2NsYXNzZXMoIG9wdGlvbnMgKSwgYWRkICk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0X29uOiBmdW5jdGlvbiggc3VwcHJlc3NEaXNhYmxlZENoZWNrLCBlbGVtZW50LCBoYW5kbGVycyApIHtcblx0XHR2YXIgZGVsZWdhdGVFbGVtZW50O1xuXHRcdHZhciBpbnN0YW5jZSA9IHRoaXM7XG5cblx0XHQvLyBObyBzdXBwcmVzc0Rpc2FibGVkQ2hlY2sgZmxhZywgc2h1ZmZsZSBhcmd1bWVudHNcblx0XHRpZiAoIHR5cGVvZiBzdXBwcmVzc0Rpc2FibGVkQ2hlY2sgIT09IFwiYm9vbGVhblwiICkge1xuXHRcdFx0aGFuZGxlcnMgPSBlbGVtZW50O1xuXHRcdFx0ZWxlbWVudCA9IHN1cHByZXNzRGlzYWJsZWRDaGVjaztcblx0XHRcdHN1cHByZXNzRGlzYWJsZWRDaGVjayA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIE5vIGVsZW1lbnQgYXJndW1lbnQsIHNodWZmbGUgYW5kIHVzZSB0aGlzLmVsZW1lbnRcblx0XHRpZiAoICFoYW5kbGVycyApIHtcblx0XHRcdGhhbmRsZXJzID0gZWxlbWVudDtcblx0XHRcdGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG5cdFx0XHRkZWxlZ2F0ZUVsZW1lbnQgPSB0aGlzLndpZGdldCgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRlbGVtZW50ID0gZGVsZWdhdGVFbGVtZW50ID0gJCggZWxlbWVudCApO1xuXHRcdFx0dGhpcy5iaW5kaW5ncyA9IHRoaXMuYmluZGluZ3MuYWRkKCBlbGVtZW50ICk7XG5cdFx0fVxuXG5cdFx0JC5lYWNoKCBoYW5kbGVycywgZnVuY3Rpb24oIGV2ZW50LCBoYW5kbGVyICkge1xuXHRcdFx0ZnVuY3Rpb24gaGFuZGxlclByb3h5KCkge1xuXG5cdFx0XHRcdC8vIEFsbG93IHdpZGdldHMgdG8gY3VzdG9taXplIHRoZSBkaXNhYmxlZCBoYW5kbGluZ1xuXHRcdFx0XHQvLyAtIGRpc2FibGVkIGFzIGFuIGFycmF5IGluc3RlYWQgb2YgYm9vbGVhblxuXHRcdFx0XHQvLyAtIGRpc2FibGVkIGNsYXNzIGFzIG1ldGhvZCBmb3IgZGlzYWJsaW5nIGluZGl2aWR1YWwgcGFydHNcblx0XHRcdFx0aWYgKCAhc3VwcHJlc3NEaXNhYmxlZENoZWNrICYmXG5cdFx0XHRcdFx0XHQoIGluc3RhbmNlLm9wdGlvbnMuZGlzYWJsZWQgPT09IHRydWUgfHxcblx0XHRcdFx0XHRcdCQoIHRoaXMgKS5oYXNDbGFzcyggXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiICkgKSApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuICggdHlwZW9mIGhhbmRsZXIgPT09IFwic3RyaW5nXCIgPyBpbnN0YW5jZVsgaGFuZGxlciBdIDogaGFuZGxlciApXG5cdFx0XHRcdFx0LmFwcGx5KCBpbnN0YW5jZSwgYXJndW1lbnRzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENvcHkgdGhlIGd1aWQgc28gZGlyZWN0IHVuYmluZGluZyB3b3Jrc1xuXHRcdFx0aWYgKCB0eXBlb2YgaGFuZGxlciAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0aGFuZGxlclByb3h5Lmd1aWQgPSBoYW5kbGVyLmd1aWQgPVxuXHRcdFx0XHRcdGhhbmRsZXIuZ3VpZCB8fCBoYW5kbGVyUHJveHkuZ3VpZCB8fCAkLmd1aWQrKztcblx0XHRcdH1cblxuXHRcdFx0dmFyIG1hdGNoID0gZXZlbnQubWF0Y2goIC9eKFtcXHc6LV0qKVxccyooLiopJC8gKTtcblx0XHRcdHZhciBldmVudE5hbWUgPSBtYXRjaFsgMSBdICsgaW5zdGFuY2UuZXZlbnROYW1lc3BhY2U7XG5cdFx0XHR2YXIgc2VsZWN0b3IgPSBtYXRjaFsgMiBdO1xuXG5cdFx0XHRpZiAoIHNlbGVjdG9yICkge1xuXHRcdFx0XHRkZWxlZ2F0ZUVsZW1lbnQub24oIGV2ZW50TmFtZSwgc2VsZWN0b3IsIGhhbmRsZXJQcm94eSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWxlbWVudC5vbiggZXZlbnROYW1lLCBoYW5kbGVyUHJveHkgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0X29mZjogZnVuY3Rpb24oIGVsZW1lbnQsIGV2ZW50TmFtZSApIHtcblx0XHRldmVudE5hbWUgPSAoIGV2ZW50TmFtZSB8fCBcIlwiICkuc3BsaXQoIFwiIFwiICkuam9pbiggdGhpcy5ldmVudE5hbWVzcGFjZSArIFwiIFwiICkgK1xuXHRcdFx0dGhpcy5ldmVudE5hbWVzcGFjZTtcblx0XHRlbGVtZW50Lm9mZiggZXZlbnROYW1lICkub2ZmKCBldmVudE5hbWUgKTtcblxuXHRcdC8vIENsZWFyIHRoZSBzdGFjayB0byBhdm9pZCBtZW1vcnkgbGVha3MgKCMxMDA1Nilcblx0XHR0aGlzLmJpbmRpbmdzID0gJCggdGhpcy5iaW5kaW5ncy5ub3QoIGVsZW1lbnQgKS5nZXQoKSApO1xuXHRcdHRoaXMuZm9jdXNhYmxlID0gJCggdGhpcy5mb2N1c2FibGUubm90KCBlbGVtZW50ICkuZ2V0KCkgKTtcblx0XHR0aGlzLmhvdmVyYWJsZSA9ICQoIHRoaXMuaG92ZXJhYmxlLm5vdCggZWxlbWVudCApLmdldCgpICk7XG5cdH0sXG5cblx0X2RlbGF5OiBmdW5jdGlvbiggaGFuZGxlciwgZGVsYXkgKSB7XG5cdFx0ZnVuY3Rpb24gaGFuZGxlclByb3h5KCkge1xuXHRcdFx0cmV0dXJuICggdHlwZW9mIGhhbmRsZXIgPT09IFwic3RyaW5nXCIgPyBpbnN0YW5jZVsgaGFuZGxlciBdIDogaGFuZGxlciApXG5cdFx0XHRcdC5hcHBseSggaW5zdGFuY2UsIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0XHR2YXIgaW5zdGFuY2UgPSB0aGlzO1xuXHRcdHJldHVybiBzZXRUaW1lb3V0KCBoYW5kbGVyUHJveHksIGRlbGF5IHx8IDAgKTtcblx0fSxcblxuXHRfaG92ZXJhYmxlOiBmdW5jdGlvbiggZWxlbWVudCApIHtcblx0XHR0aGlzLmhvdmVyYWJsZSA9IHRoaXMuaG92ZXJhYmxlLmFkZCggZWxlbWVudCApO1xuXHRcdHRoaXMuX29uKCBlbGVtZW50LCB7XG5cdFx0XHRtb3VzZWVudGVyOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdHRoaXMuX2FkZENsYXNzKCAkKCBldmVudC5jdXJyZW50VGFyZ2V0ICksIG51bGwsIFwidWktc3RhdGUtaG92ZXJcIiApO1xuXHRcdFx0fSxcblx0XHRcdG1vdXNlbGVhdmU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoICQoIGV2ZW50LmN1cnJlbnRUYXJnZXQgKSwgbnVsbCwgXCJ1aS1zdGF0ZS1ob3ZlclwiICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdF9mb2N1c2FibGU6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdHRoaXMuZm9jdXNhYmxlID0gdGhpcy5mb2N1c2FibGUuYWRkKCBlbGVtZW50ICk7XG5cdFx0dGhpcy5fb24oIGVsZW1lbnQsIHtcblx0XHRcdGZvY3VzaW46IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0dGhpcy5fYWRkQ2xhc3MoICQoIGV2ZW50LmN1cnJlbnRUYXJnZXQgKSwgbnVsbCwgXCJ1aS1zdGF0ZS1mb2N1c1wiICk7XG5cdFx0XHR9LFxuXHRcdFx0Zm9jdXNvdXQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoICQoIGV2ZW50LmN1cnJlbnRUYXJnZXQgKSwgbnVsbCwgXCJ1aS1zdGF0ZS1mb2N1c1wiICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdF90cmlnZ2VyOiBmdW5jdGlvbiggdHlwZSwgZXZlbnQsIGRhdGEgKSB7XG5cdFx0dmFyIHByb3AsIG9yaWc7XG5cdFx0dmFyIGNhbGxiYWNrID0gdGhpcy5vcHRpb25zWyB0eXBlIF07XG5cblx0XHRkYXRhID0gZGF0YSB8fCB7fTtcblx0XHRldmVudCA9ICQuRXZlbnQoIGV2ZW50ICk7XG5cdFx0ZXZlbnQudHlwZSA9ICggdHlwZSA9PT0gdGhpcy53aWRnZXRFdmVudFByZWZpeCA/XG5cdFx0XHR0eXBlIDpcblx0XHRcdHRoaXMud2lkZ2V0RXZlbnRQcmVmaXggKyB0eXBlICkudG9Mb3dlckNhc2UoKTtcblxuXHRcdC8vIFRoZSBvcmlnaW5hbCBldmVudCBtYXkgY29tZSBmcm9tIGFueSBlbGVtZW50XG5cdFx0Ly8gc28gd2UgbmVlZCB0byByZXNldCB0aGUgdGFyZ2V0IG9uIHRoZSBuZXcgZXZlbnRcblx0XHRldmVudC50YXJnZXQgPSB0aGlzLmVsZW1lbnRbIDAgXTtcblxuXHRcdC8vIENvcHkgb3JpZ2luYWwgZXZlbnQgcHJvcGVydGllcyBvdmVyIHRvIHRoZSBuZXcgZXZlbnRcblx0XHRvcmlnID0gZXZlbnQub3JpZ2luYWxFdmVudDtcblx0XHRpZiAoIG9yaWcgKSB7XG5cdFx0XHRmb3IgKCBwcm9wIGluIG9yaWcgKSB7XG5cdFx0XHRcdGlmICggISggcHJvcCBpbiBldmVudCApICkge1xuXHRcdFx0XHRcdGV2ZW50WyBwcm9wIF0gPSBvcmlnWyBwcm9wIF07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLmVsZW1lbnQudHJpZ2dlciggZXZlbnQsIGRhdGEgKTtcblx0XHRyZXR1cm4gISggJC5pc0Z1bmN0aW9uKCBjYWxsYmFjayApICYmXG5cdFx0XHRjYWxsYmFjay5hcHBseSggdGhpcy5lbGVtZW50WyAwIF0sIFsgZXZlbnQgXS5jb25jYXQoIGRhdGEgKSApID09PSBmYWxzZSB8fFxuXHRcdFx0ZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgKTtcblx0fVxufTtcblxuJC5lYWNoKCB7IHNob3c6IFwiZmFkZUluXCIsIGhpZGU6IFwiZmFkZU91dFwiIH0sIGZ1bmN0aW9uKCBtZXRob2QsIGRlZmF1bHRFZmZlY3QgKSB7XG5cdCQuV2lkZ2V0LnByb3RvdHlwZVsgXCJfXCIgKyBtZXRob2QgXSA9IGZ1bmN0aW9uKCBlbGVtZW50LCBvcHRpb25zLCBjYWxsYmFjayApIHtcblx0XHRpZiAoIHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0b3B0aW9ucyA9IHsgZWZmZWN0OiBvcHRpb25zIH07XG5cdFx0fVxuXG5cdFx0dmFyIGhhc09wdGlvbnM7XG5cdFx0dmFyIGVmZmVjdE5hbWUgPSAhb3B0aW9ucyA/XG5cdFx0XHRtZXRob2QgOlxuXHRcdFx0b3B0aW9ucyA9PT0gdHJ1ZSB8fCB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJudW1iZXJcIiA/XG5cdFx0XHRcdGRlZmF1bHRFZmZlY3QgOlxuXHRcdFx0XHRvcHRpb25zLmVmZmVjdCB8fCBkZWZhdWx0RWZmZWN0O1xuXG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdFx0aWYgKCB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJudW1iZXJcIiApIHtcblx0XHRcdG9wdGlvbnMgPSB7IGR1cmF0aW9uOiBvcHRpb25zIH07XG5cdFx0fVxuXG5cdFx0aGFzT3B0aW9ucyA9ICEkLmlzRW1wdHlPYmplY3QoIG9wdGlvbnMgKTtcblx0XHRvcHRpb25zLmNvbXBsZXRlID0gY2FsbGJhY2s7XG5cblx0XHRpZiAoIG9wdGlvbnMuZGVsYXkgKSB7XG5cdFx0XHRlbGVtZW50LmRlbGF5KCBvcHRpb25zLmRlbGF5ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBoYXNPcHRpb25zICYmICQuZWZmZWN0cyAmJiAkLmVmZmVjdHMuZWZmZWN0WyBlZmZlY3ROYW1lIF0gKSB7XG5cdFx0XHRlbGVtZW50WyBtZXRob2QgXSggb3B0aW9ucyApO1xuXHRcdH0gZWxzZSBpZiAoIGVmZmVjdE5hbWUgIT09IG1ldGhvZCAmJiBlbGVtZW50WyBlZmZlY3ROYW1lIF0gKSB7XG5cdFx0XHRlbGVtZW50WyBlZmZlY3ROYW1lIF0oIG9wdGlvbnMuZHVyYXRpb24sIG9wdGlvbnMuZWFzaW5nLCBjYWxsYmFjayApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRlbGVtZW50LnF1ZXVlKCBmdW5jdGlvbiggbmV4dCApIHtcblx0XHRcdFx0JCggdGhpcyApWyBtZXRob2QgXSgpO1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwoIGVsZW1lbnRbIDAgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG5leHQoKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cdH07XG59ICk7XG5cbnJldHVybiAkLndpZGdldDtcblxufSApICk7XG4iLCIvKiFcbiAqIGpRdWVyeSBVSSBBdXRvY29tcGxldGUgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IEF1dG9jb21wbGV0ZVxuLy8+Pmdyb3VwOiBXaWRnZXRzXG4vLz4+ZGVzY3JpcHRpb246IExpc3RzIHN1Z2dlc3RlZCB3b3JkcyBhcyB0aGUgdXNlciBpcyB0eXBpbmcuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vYXV0b2NvbXBsZXRlL1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL2F1dG9jb21wbGV0ZS9cbi8vPj5jc3Muc3RydWN0dXJlOiAuLi8uLi90aGVtZXMvYmFzZS9jb3JlLmNzc1xuLy8+PmNzcy5zdHJ1Y3R1cmU6IC4uLy4uL3RoZW1lcy9iYXNlL2F1dG9jb21wbGV0ZS5jc3Ncbi8vPj5jc3MudGhlbWU6IC4uLy4uL3RoZW1lcy9iYXNlL3RoZW1lLmNzc1xuXG4oIGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZSggW1xuXHRcdFx0XCJqcXVlcnlcIixcblx0XHRcdFwiLi9tZW51XCIsXG5cdFx0XHRcIi4uL2tleWNvZGVcIixcblx0XHRcdFwiLi4vcG9zaXRpb25cIixcblx0XHRcdFwiLi4vc2FmZS1hY3RpdmUtZWxlbWVudFwiLFxuXHRcdFx0XCIuLi92ZXJzaW9uXCIsXG5cdFx0XHRcIi4uL3dpZGdldFwiXG5cdFx0XSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0oIGZ1bmN0aW9uKCAkICkge1xuXG4kLndpZGdldCggXCJ1aS5hdXRvY29tcGxldGVcIiwge1xuXHR2ZXJzaW9uOiBcIjEuMTIuMVwiLFxuXHRkZWZhdWx0RWxlbWVudDogXCI8aW5wdXQ+XCIsXG5cdG9wdGlvbnM6IHtcblx0XHRhcHBlbmRUbzogbnVsbCxcblx0XHRhdXRvRm9jdXM6IGZhbHNlLFxuXHRcdGRlbGF5OiAzMDAsXG5cdFx0bWluTGVuZ3RoOiAxLFxuXHRcdHBvc2l0aW9uOiB7XG5cdFx0XHRteTogXCJsZWZ0IHRvcFwiLFxuXHRcdFx0YXQ6IFwibGVmdCBib3R0b21cIixcblx0XHRcdGNvbGxpc2lvbjogXCJub25lXCJcblx0XHR9LFxuXHRcdHNvdXJjZTogbnVsbCxcblxuXHRcdC8vIENhbGxiYWNrc1xuXHRcdGNoYW5nZTogbnVsbCxcblx0XHRjbG9zZTogbnVsbCxcblx0XHRmb2N1czogbnVsbCxcblx0XHRvcGVuOiBudWxsLFxuXHRcdHJlc3BvbnNlOiBudWxsLFxuXHRcdHNlYXJjaDogbnVsbCxcblx0XHRzZWxlY3Q6IG51bGxcblx0fSxcblxuXHRyZXF1ZXN0SW5kZXg6IDAsXG5cdHBlbmRpbmc6IDAsXG5cblx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XG5cblx0XHQvLyBTb21lIGJyb3dzZXJzIG9ubHkgcmVwZWF0IGtleWRvd24gZXZlbnRzLCBub3Qga2V5cHJlc3MgZXZlbnRzLFxuXHRcdC8vIHNvIHdlIHVzZSB0aGUgc3VwcHJlc3NLZXlQcmVzcyBmbGFnIHRvIGRldGVybWluZSBpZiB3ZSd2ZSBhbHJlYWR5XG5cdFx0Ly8gaGFuZGxlZCB0aGUga2V5ZG93biBldmVudC4gIzcyNjlcblx0XHQvLyBVbmZvcnR1bmF0ZWx5IHRoZSBjb2RlIGZvciAmIGluIGtleXByZXNzIGlzIHRoZSBzYW1lIGFzIHRoZSB1cCBhcnJvdyxcblx0XHQvLyBzbyB3ZSB1c2UgdGhlIHN1cHByZXNzS2V5UHJlc3NSZXBlYXQgZmxhZyB0byBhdm9pZCBoYW5kbGluZyBrZXlwcmVzc1xuXHRcdC8vIGV2ZW50cyB3aGVuIHdlIGtub3cgdGhlIGtleWRvd24gZXZlbnQgd2FzIHVzZWQgdG8gbW9kaWZ5IHRoZVxuXHRcdC8vIHNlYXJjaCB0ZXJtLiAjNzc5OVxuXHRcdHZhciBzdXBwcmVzc0tleVByZXNzLCBzdXBwcmVzc0tleVByZXNzUmVwZWF0LCBzdXBwcmVzc0lucHV0LFxuXHRcdFx0bm9kZU5hbWUgPSB0aGlzLmVsZW1lbnRbIDAgXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLFxuXHRcdFx0aXNUZXh0YXJlYSA9IG5vZGVOYW1lID09PSBcInRleHRhcmVhXCIsXG5cdFx0XHRpc0lucHV0ID0gbm9kZU5hbWUgPT09IFwiaW5wdXRcIjtcblxuXHRcdC8vIFRleHRhcmVhcyBhcmUgYWx3YXlzIG11bHRpLWxpbmVcblx0XHQvLyBJbnB1dHMgYXJlIGFsd2F5cyBzaW5nbGUtbGluZSwgZXZlbiBpZiBpbnNpZGUgYSBjb250ZW50RWRpdGFibGUgZWxlbWVudFxuXHRcdC8vIElFIGFsc28gdHJlYXRzIGlucHV0cyBhcyBjb250ZW50RWRpdGFibGVcblx0XHQvLyBBbGwgb3RoZXIgZWxlbWVudCB0eXBlcyBhcmUgZGV0ZXJtaW5lZCBieSB3aGV0aGVyIG9yIG5vdCB0aGV5J3JlIGNvbnRlbnRFZGl0YWJsZVxuXHRcdHRoaXMuaXNNdWx0aUxpbmUgPSBpc1RleHRhcmVhIHx8ICFpc0lucHV0ICYmIHRoaXMuX2lzQ29udGVudEVkaXRhYmxlKCB0aGlzLmVsZW1lbnQgKTtcblxuXHRcdHRoaXMudmFsdWVNZXRob2QgPSB0aGlzLmVsZW1lbnRbIGlzVGV4dGFyZWEgfHwgaXNJbnB1dCA/IFwidmFsXCIgOiBcInRleHRcIiBdO1xuXHRcdHRoaXMuaXNOZXdNZW51ID0gdHJ1ZTtcblxuXHRcdHRoaXMuX2FkZENsYXNzKCBcInVpLWF1dG9jb21wbGV0ZS1pbnB1dFwiICk7XG5cdFx0dGhpcy5lbGVtZW50LmF0dHIoIFwiYXV0b2NvbXBsZXRlXCIsIFwib2ZmXCIgKTtcblxuXHRcdHRoaXMuX29uKCB0aGlzLmVsZW1lbnQsIHtcblx0XHRcdGtleWRvd246IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0aWYgKCB0aGlzLmVsZW1lbnQucHJvcCggXCJyZWFkT25seVwiICkgKSB7XG5cdFx0XHRcdFx0c3VwcHJlc3NLZXlQcmVzcyA9IHRydWU7XG5cdFx0XHRcdFx0c3VwcHJlc3NJbnB1dCA9IHRydWU7XG5cdFx0XHRcdFx0c3VwcHJlc3NLZXlQcmVzc1JlcGVhdCA9IHRydWU7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0c3VwcHJlc3NLZXlQcmVzcyA9IGZhbHNlO1xuXHRcdFx0XHRzdXBwcmVzc0lucHV0ID0gZmFsc2U7XG5cdFx0XHRcdHN1cHByZXNzS2V5UHJlc3NSZXBlYXQgPSBmYWxzZTtcblx0XHRcdFx0dmFyIGtleUNvZGUgPSAkLnVpLmtleUNvZGU7XG5cdFx0XHRcdHN3aXRjaCAoIGV2ZW50LmtleUNvZGUgKSB7XG5cdFx0XHRcdGNhc2Uga2V5Q29kZS5QQUdFX1VQOlxuXHRcdFx0XHRcdHN1cHByZXNzS2V5UHJlc3MgPSB0cnVlO1xuXHRcdFx0XHRcdHRoaXMuX21vdmUoIFwicHJldmlvdXNQYWdlXCIsIGV2ZW50ICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2Uga2V5Q29kZS5QQUdFX0RPV046XG5cdFx0XHRcdFx0c3VwcHJlc3NLZXlQcmVzcyA9IHRydWU7XG5cdFx0XHRcdFx0dGhpcy5fbW92ZSggXCJuZXh0UGFnZVwiLCBldmVudCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIGtleUNvZGUuVVA6XG5cdFx0XHRcdFx0c3VwcHJlc3NLZXlQcmVzcyA9IHRydWU7XG5cdFx0XHRcdFx0dGhpcy5fa2V5RXZlbnQoIFwicHJldmlvdXNcIiwgZXZlbnQgKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBrZXlDb2RlLkRPV046XG5cdFx0XHRcdFx0c3VwcHJlc3NLZXlQcmVzcyA9IHRydWU7XG5cdFx0XHRcdFx0dGhpcy5fa2V5RXZlbnQoIFwibmV4dFwiLCBldmVudCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIGtleUNvZGUuRU5URVI6XG5cblx0XHRcdFx0XHQvLyB3aGVuIG1lbnUgaXMgb3BlbiBhbmQgaGFzIGZvY3VzXG5cdFx0XHRcdFx0aWYgKCB0aGlzLm1lbnUuYWN0aXZlICkge1xuXG5cdFx0XHRcdFx0XHQvLyAjNjA1NSAtIE9wZXJhIHN0aWxsIGFsbG93cyB0aGUga2V5cHJlc3MgdG8gb2NjdXJcblx0XHRcdFx0XHRcdC8vIHdoaWNoIGNhdXNlcyBmb3JtcyB0byBzdWJtaXRcblx0XHRcdFx0XHRcdHN1cHByZXNzS2V5UHJlc3MgPSB0cnVlO1xuXHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdHRoaXMubWVudS5zZWxlY3QoIGV2ZW50ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIGtleUNvZGUuVEFCOlxuXHRcdFx0XHRcdGlmICggdGhpcy5tZW51LmFjdGl2ZSApIHtcblx0XHRcdFx0XHRcdHRoaXMubWVudS5zZWxlY3QoIGV2ZW50ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIGtleUNvZGUuRVNDQVBFOlxuXHRcdFx0XHRcdGlmICggdGhpcy5tZW51LmVsZW1lbnQuaXMoIFwiOnZpc2libGVcIiApICkge1xuXHRcdFx0XHRcdFx0aWYgKCAhdGhpcy5pc011bHRpTGluZSApIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5fdmFsdWUoIHRoaXMudGVybSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0dGhpcy5jbG9zZSggZXZlbnQgKTtcblxuXHRcdFx0XHRcdFx0Ly8gRGlmZmVyZW50IGJyb3dzZXJzIGhhdmUgZGlmZmVyZW50IGRlZmF1bHQgYmVoYXZpb3IgZm9yIGVzY2FwZVxuXHRcdFx0XHRcdFx0Ly8gU2luZ2xlIHByZXNzIGNhbiBtZWFuIHVuZG8gb3IgY2xlYXJcblx0XHRcdFx0XHRcdC8vIERvdWJsZSBwcmVzcyBpbiBJRSBtZWFucyBjbGVhciB0aGUgd2hvbGUgZm9ybVxuXHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0c3VwcHJlc3NLZXlQcmVzc1JlcGVhdCA9IHRydWU7XG5cblx0XHRcdFx0XHQvLyBzZWFyY2ggdGltZW91dCBzaG91bGQgYmUgdHJpZ2dlcmVkIGJlZm9yZSB0aGUgaW5wdXQgdmFsdWUgaXMgY2hhbmdlZFxuXHRcdFx0XHRcdHRoaXMuX3NlYXJjaFRpbWVvdXQoIGV2ZW50ICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRrZXlwcmVzczogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRpZiAoIHN1cHByZXNzS2V5UHJlc3MgKSB7XG5cdFx0XHRcdFx0c3VwcHJlc3NLZXlQcmVzcyA9IGZhbHNlO1xuXHRcdFx0XHRcdGlmICggIXRoaXMuaXNNdWx0aUxpbmUgfHwgdGhpcy5tZW51LmVsZW1lbnQuaXMoIFwiOnZpc2libGVcIiApICkge1xuXHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggc3VwcHJlc3NLZXlQcmVzc1JlcGVhdCApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZXBsaWNhdGUgc29tZSBrZXkgaGFuZGxlcnMgdG8gYWxsb3cgdGhlbSB0byByZXBlYXQgaW4gRmlyZWZveCBhbmQgT3BlcmFcblx0XHRcdFx0dmFyIGtleUNvZGUgPSAkLnVpLmtleUNvZGU7XG5cdFx0XHRcdHN3aXRjaCAoIGV2ZW50LmtleUNvZGUgKSB7XG5cdFx0XHRcdGNhc2Uga2V5Q29kZS5QQUdFX1VQOlxuXHRcdFx0XHRcdHRoaXMuX21vdmUoIFwicHJldmlvdXNQYWdlXCIsIGV2ZW50ICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2Uga2V5Q29kZS5QQUdFX0RPV046XG5cdFx0XHRcdFx0dGhpcy5fbW92ZSggXCJuZXh0UGFnZVwiLCBldmVudCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIGtleUNvZGUuVVA6XG5cdFx0XHRcdFx0dGhpcy5fa2V5RXZlbnQoIFwicHJldmlvdXNcIiwgZXZlbnQgKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBrZXlDb2RlLkRPV046XG5cdFx0XHRcdFx0dGhpcy5fa2V5RXZlbnQoIFwibmV4dFwiLCBldmVudCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0aW5wdXQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0aWYgKCBzdXBwcmVzc0lucHV0ICkge1xuXHRcdFx0XHRcdHN1cHByZXNzSW5wdXQgPSBmYWxzZTtcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLl9zZWFyY2hUaW1lb3V0KCBldmVudCApO1xuXHRcdFx0fSxcblx0XHRcdGZvY3VzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhpcy5zZWxlY3RlZEl0ZW0gPSBudWxsO1xuXHRcdFx0XHR0aGlzLnByZXZpb3VzID0gdGhpcy5fdmFsdWUoKTtcblx0XHRcdH0sXG5cdFx0XHRibHVyOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdGlmICggdGhpcy5jYW5jZWxCbHVyICkge1xuXHRcdFx0XHRcdGRlbGV0ZSB0aGlzLmNhbmNlbEJsdXI7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y2xlYXJUaW1lb3V0KCB0aGlzLnNlYXJjaGluZyApO1xuXHRcdFx0XHR0aGlzLmNsb3NlKCBldmVudCApO1xuXHRcdFx0XHR0aGlzLl9jaGFuZ2UoIGV2ZW50ICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXG5cdFx0dGhpcy5faW5pdFNvdXJjZSgpO1xuXHRcdHRoaXMubWVudSA9ICQoIFwiPHVsPlwiIClcblx0XHRcdC5hcHBlbmRUbyggdGhpcy5fYXBwZW5kVG8oKSApXG5cdFx0XHQubWVudSgge1xuXG5cdFx0XHRcdC8vIGRpc2FibGUgQVJJQSBzdXBwb3J0LCB0aGUgbGl2ZSByZWdpb24gdGFrZXMgY2FyZSBvZiB0aGF0XG5cdFx0XHRcdHJvbGU6IG51bGxcblx0XHRcdH0gKVxuXHRcdFx0LmhpZGUoKVxuXHRcdFx0Lm1lbnUoIFwiaW5zdGFuY2VcIiApO1xuXG5cdFx0dGhpcy5fYWRkQ2xhc3MoIHRoaXMubWVudS5lbGVtZW50LCBcInVpLWF1dG9jb21wbGV0ZVwiLCBcInVpLWZyb250XCIgKTtcblx0XHR0aGlzLl9vbiggdGhpcy5tZW51LmVsZW1lbnQsIHtcblx0XHRcdG1vdXNlZG93bjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0XHRcdC8vIHByZXZlbnQgbW92aW5nIGZvY3VzIG91dCBvZiB0aGUgdGV4dCBmaWVsZFxuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRcdC8vIElFIGRvZXNuJ3QgcHJldmVudCBtb3ZpbmcgZm9jdXMgZXZlbiB3aXRoIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblx0XHRcdFx0Ly8gc28gd2Ugc2V0IGEgZmxhZyB0byBrbm93IHdoZW4gd2Ugc2hvdWxkIGlnbm9yZSB0aGUgYmx1ciBldmVudFxuXHRcdFx0XHR0aGlzLmNhbmNlbEJsdXIgPSB0cnVlO1xuXHRcdFx0XHR0aGlzLl9kZWxheSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ZGVsZXRlIHRoaXMuY2FuY2VsQmx1cjtcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDggb25seVxuXHRcdFx0XHRcdC8vIFJpZ2h0IGNsaWNraW5nIGEgbWVudSBpdGVtIG9yIHNlbGVjdGluZyB0ZXh0IGZyb20gdGhlIG1lbnUgaXRlbXMgd2lsbFxuXHRcdFx0XHRcdC8vIHJlc3VsdCBpbiBmb2N1cyBtb3Zpbmcgb3V0IG9mIHRoZSBpbnB1dC4gSG93ZXZlciwgd2UndmUgYWxyZWFkeSByZWNlaXZlZFxuXHRcdFx0XHRcdC8vIGFuZCBpZ25vcmVkIHRoZSBibHVyIGV2ZW50IGJlY2F1c2Ugb2YgdGhlIGNhbmNlbEJsdXIgZmxhZyBzZXQgYWJvdmUuIFNvXG5cdFx0XHRcdFx0Ly8gd2UgcmVzdG9yZSBmb2N1cyB0byBlbnN1cmUgdGhhdCB0aGUgbWVudSBjbG9zZXMgcHJvcGVybHkgYmFzZWQgb24gdGhlIHVzZXInc1xuXHRcdFx0XHRcdC8vIG5leHQgYWN0aW9ucy5cblx0XHRcdFx0XHRpZiAoIHRoaXMuZWxlbWVudFsgMCBdICE9PSAkLnVpLnNhZmVBY3RpdmVFbGVtZW50KCB0aGlzLmRvY3VtZW50WyAwIF0gKSApIHtcblx0XHRcdFx0XHRcdHRoaXMuZWxlbWVudC50cmlnZ2VyKCBcImZvY3VzXCIgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdH0sXG5cdFx0XHRtZW51Zm9jdXM6IGZ1bmN0aW9uKCBldmVudCwgdWkgKSB7XG5cdFx0XHRcdHZhciBsYWJlbCwgaXRlbTtcblxuXHRcdFx0XHQvLyBzdXBwb3J0OiBGaXJlZm94XG5cdFx0XHRcdC8vIFByZXZlbnQgYWNjaWRlbnRhbCBhY3RpdmF0aW9uIG9mIG1lbnUgaXRlbXMgaW4gRmlyZWZveCAoIzcwMjQgIzkxMTgpXG5cdFx0XHRcdGlmICggdGhpcy5pc05ld01lbnUgKSB7XG5cdFx0XHRcdFx0dGhpcy5pc05ld01lbnUgPSBmYWxzZTtcblx0XHRcdFx0XHRpZiAoIGV2ZW50Lm9yaWdpbmFsRXZlbnQgJiYgL15tb3VzZS8udGVzdCggZXZlbnQub3JpZ2luYWxFdmVudC50eXBlICkgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLm1lbnUuYmx1cigpO1xuXG5cdFx0XHRcdFx0XHR0aGlzLmRvY3VtZW50Lm9uZSggXCJtb3VzZW1vdmVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdCQoIGV2ZW50LnRhcmdldCApLnRyaWdnZXIoIGV2ZW50Lm9yaWdpbmFsRXZlbnQgKTtcblx0XHRcdFx0XHRcdH0gKTtcblxuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGl0ZW0gPSB1aS5pdGVtLmRhdGEoIFwidWktYXV0b2NvbXBsZXRlLWl0ZW1cIiApO1xuXHRcdFx0XHRpZiAoIGZhbHNlICE9PSB0aGlzLl90cmlnZ2VyKCBcImZvY3VzXCIsIGV2ZW50LCB7IGl0ZW06IGl0ZW0gfSApICkge1xuXG5cdFx0XHRcdFx0Ly8gdXNlIHZhbHVlIHRvIG1hdGNoIHdoYXQgd2lsbCBlbmQgdXAgaW4gdGhlIGlucHV0LCBpZiBpdCB3YXMgYSBrZXkgZXZlbnRcblx0XHRcdFx0XHRpZiAoIGV2ZW50Lm9yaWdpbmFsRXZlbnQgJiYgL15rZXkvLnRlc3QoIGV2ZW50Lm9yaWdpbmFsRXZlbnQudHlwZSApICkge1xuXHRcdFx0XHRcdFx0dGhpcy5fdmFsdWUoIGl0ZW0udmFsdWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBBbm5vdW5jZSB0aGUgdmFsdWUgaW4gdGhlIGxpdmVSZWdpb25cblx0XHRcdFx0bGFiZWwgPSB1aS5pdGVtLmF0dHIoIFwiYXJpYS1sYWJlbFwiICkgfHwgaXRlbS52YWx1ZTtcblx0XHRcdFx0aWYgKCBsYWJlbCAmJiAkLnRyaW0oIGxhYmVsICkubGVuZ3RoICkge1xuXHRcdFx0XHRcdHRoaXMubGl2ZVJlZ2lvbi5jaGlsZHJlbigpLmhpZGUoKTtcblx0XHRcdFx0XHQkKCBcIjxkaXY+XCIgKS50ZXh0KCBsYWJlbCApLmFwcGVuZFRvKCB0aGlzLmxpdmVSZWdpb24gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdG1lbnVzZWxlY3Q6IGZ1bmN0aW9uKCBldmVudCwgdWkgKSB7XG5cdFx0XHRcdHZhciBpdGVtID0gdWkuaXRlbS5kYXRhKCBcInVpLWF1dG9jb21wbGV0ZS1pdGVtXCIgKSxcblx0XHRcdFx0XHRwcmV2aW91cyA9IHRoaXMucHJldmlvdXM7XG5cblx0XHRcdFx0Ly8gT25seSB0cmlnZ2VyIHdoZW4gZm9jdXMgd2FzIGxvc3QgKGNsaWNrIG9uIG1lbnUpXG5cdFx0XHRcdGlmICggdGhpcy5lbGVtZW50WyAwIF0gIT09ICQudWkuc2FmZUFjdGl2ZUVsZW1lbnQoIHRoaXMuZG9jdW1lbnRbIDAgXSApICkge1xuXHRcdFx0XHRcdHRoaXMuZWxlbWVudC50cmlnZ2VyKCBcImZvY3VzXCIgKTtcblx0XHRcdFx0XHR0aGlzLnByZXZpb3VzID0gcHJldmlvdXM7XG5cblx0XHRcdFx0XHQvLyAjNjEwOSAtIElFIHRyaWdnZXJzIHR3byBmb2N1cyBldmVudHMgYW5kIHRoZSBzZWNvbmRcblx0XHRcdFx0XHQvLyBpcyBhc3luY2hyb25vdXMsIHNvIHdlIG5lZWQgdG8gcmVzZXQgdGhlIHByZXZpb3VzXG5cdFx0XHRcdFx0Ly8gdGVybSBzeW5jaHJvbm91c2x5IGFuZCBhc3luY2hyb25vdXNseSA6LShcblx0XHRcdFx0XHR0aGlzLl9kZWxheSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnByZXZpb3VzID0gcHJldmlvdXM7XG5cdFx0XHRcdFx0XHR0aGlzLnNlbGVjdGVkSXRlbSA9IGl0ZW07XG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCBmYWxzZSAhPT0gdGhpcy5fdHJpZ2dlciggXCJzZWxlY3RcIiwgZXZlbnQsIHsgaXRlbTogaXRlbSB9ICkgKSB7XG5cdFx0XHRcdFx0dGhpcy5fdmFsdWUoIGl0ZW0udmFsdWUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIHJlc2V0IHRoZSB0ZXJtIGFmdGVyIHRoZSBzZWxlY3QgZXZlbnRcblx0XHRcdFx0Ly8gdGhpcyBhbGxvd3MgY3VzdG9tIHNlbGVjdCBoYW5kbGluZyB0byB3b3JrIHByb3Blcmx5XG5cdFx0XHRcdHRoaXMudGVybSA9IHRoaXMuX3ZhbHVlKCk7XG5cblx0XHRcdFx0dGhpcy5jbG9zZSggZXZlbnQgKTtcblx0XHRcdFx0dGhpcy5zZWxlY3RlZEl0ZW0gPSBpdGVtO1xuXHRcdFx0fVxuXHRcdH0gKTtcblxuXHRcdHRoaXMubGl2ZVJlZ2lvbiA9ICQoIFwiPGRpdj5cIiwge1xuXHRcdFx0cm9sZTogXCJzdGF0dXNcIixcblx0XHRcdFwiYXJpYS1saXZlXCI6IFwiYXNzZXJ0aXZlXCIsXG5cdFx0XHRcImFyaWEtcmVsZXZhbnRcIjogXCJhZGRpdGlvbnNcIlxuXHRcdH0gKVxuXHRcdFx0LmFwcGVuZFRvKCB0aGlzLmRvY3VtZW50WyAwIF0uYm9keSApO1xuXG5cdFx0dGhpcy5fYWRkQ2xhc3MoIHRoaXMubGl2ZVJlZ2lvbiwgbnVsbCwgXCJ1aS1oZWxwZXItaGlkZGVuLWFjY2Vzc2libGVcIiApO1xuXG5cdFx0Ly8gVHVybmluZyBvZmYgYXV0b2NvbXBsZXRlIHByZXZlbnRzIHRoZSBicm93c2VyIGZyb20gcmVtZW1iZXJpbmcgdGhlXG5cdFx0Ly8gdmFsdWUgd2hlbiBuYXZpZ2F0aW5nIHRocm91Z2ggaGlzdG9yeSwgc28gd2UgcmUtZW5hYmxlIGF1dG9jb21wbGV0ZVxuXHRcdC8vIGlmIHRoZSBwYWdlIGlzIHVubG9hZGVkIGJlZm9yZSB0aGUgd2lkZ2V0IGlzIGRlc3Ryb3llZC4gIzc3OTBcblx0XHR0aGlzLl9vbiggdGhpcy53aW5kb3csIHtcblx0XHRcdGJlZm9yZXVubG9hZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCBcImF1dG9jb21wbGV0ZVwiICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdF9kZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHRjbGVhclRpbWVvdXQoIHRoaXMuc2VhcmNoaW5nICk7XG5cdFx0dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoIFwiYXV0b2NvbXBsZXRlXCIgKTtcblx0XHR0aGlzLm1lbnUuZWxlbWVudC5yZW1vdmUoKTtcblx0XHR0aGlzLmxpdmVSZWdpb24ucmVtb3ZlKCk7XG5cdH0sXG5cblx0X3NldE9wdGlvbjogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0dGhpcy5fc3VwZXIoIGtleSwgdmFsdWUgKTtcblx0XHRpZiAoIGtleSA9PT0gXCJzb3VyY2VcIiApIHtcblx0XHRcdHRoaXMuX2luaXRTb3VyY2UoKTtcblx0XHR9XG5cdFx0aWYgKCBrZXkgPT09IFwiYXBwZW5kVG9cIiApIHtcblx0XHRcdHRoaXMubWVudS5lbGVtZW50LmFwcGVuZFRvKCB0aGlzLl9hcHBlbmRUbygpICk7XG5cdFx0fVxuXHRcdGlmICgga2V5ID09PSBcImRpc2FibGVkXCIgJiYgdmFsdWUgJiYgdGhpcy54aHIgKSB7XG5cdFx0XHR0aGlzLnhoci5hYm9ydCgpO1xuXHRcdH1cblx0fSxcblxuXHRfaXNFdmVudFRhcmdldEluV2lkZ2V0OiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIG1lbnVFbGVtZW50ID0gdGhpcy5tZW51LmVsZW1lbnRbIDAgXTtcblxuXHRcdHJldHVybiBldmVudC50YXJnZXQgPT09IHRoaXMuZWxlbWVudFsgMCBdIHx8XG5cdFx0XHRldmVudC50YXJnZXQgPT09IG1lbnVFbGVtZW50IHx8XG5cdFx0XHQkLmNvbnRhaW5zKCBtZW51RWxlbWVudCwgZXZlbnQudGFyZ2V0ICk7XG5cdH0sXG5cblx0X2Nsb3NlT25DbGlja091dHNpZGU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRpZiAoICF0aGlzLl9pc0V2ZW50VGFyZ2V0SW5XaWRnZXQoIGV2ZW50ICkgKSB7XG5cdFx0XHR0aGlzLmNsb3NlKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9hcHBlbmRUbzogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGVsZW1lbnQgPSB0aGlzLm9wdGlvbnMuYXBwZW5kVG87XG5cblx0XHRpZiAoIGVsZW1lbnQgKSB7XG5cdFx0XHRlbGVtZW50ID0gZWxlbWVudC5qcXVlcnkgfHwgZWxlbWVudC5ub2RlVHlwZSA/XG5cdFx0XHRcdCQoIGVsZW1lbnQgKSA6XG5cdFx0XHRcdHRoaXMuZG9jdW1lbnQuZmluZCggZWxlbWVudCApLmVxKCAwICk7XG5cdFx0fVxuXG5cdFx0aWYgKCAhZWxlbWVudCB8fCAhZWxlbWVudFsgMCBdICkge1xuXHRcdFx0ZWxlbWVudCA9IHRoaXMuZWxlbWVudC5jbG9zZXN0KCBcIi51aS1mcm9udCwgZGlhbG9nXCIgKTtcblx0XHR9XG5cblx0XHRpZiAoICFlbGVtZW50Lmxlbmd0aCApIHtcblx0XHRcdGVsZW1lbnQgPSB0aGlzLmRvY3VtZW50WyAwIF0uYm9keTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZWxlbWVudDtcblx0fSxcblxuXHRfaW5pdFNvdXJjZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGFycmF5LCB1cmwsXG5cdFx0XHR0aGF0ID0gdGhpcztcblx0XHRpZiAoICQuaXNBcnJheSggdGhpcy5vcHRpb25zLnNvdXJjZSApICkge1xuXHRcdFx0YXJyYXkgPSB0aGlzLm9wdGlvbnMuc291cmNlO1xuXHRcdFx0dGhpcy5zb3VyY2UgPSBmdW5jdGlvbiggcmVxdWVzdCwgcmVzcG9uc2UgKSB7XG5cdFx0XHRcdHJlc3BvbnNlKCAkLnVpLmF1dG9jb21wbGV0ZS5maWx0ZXIoIGFycmF5LCByZXF1ZXN0LnRlcm0gKSApO1xuXHRcdFx0fTtcblx0XHR9IGVsc2UgaWYgKCB0eXBlb2YgdGhpcy5vcHRpb25zLnNvdXJjZSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHVybCA9IHRoaXMub3B0aW9ucy5zb3VyY2U7XG5cdFx0XHR0aGlzLnNvdXJjZSA9IGZ1bmN0aW9uKCByZXF1ZXN0LCByZXNwb25zZSApIHtcblx0XHRcdFx0aWYgKCB0aGF0LnhociApIHtcblx0XHRcdFx0XHR0aGF0Lnhoci5hYm9ydCgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoYXQueGhyID0gJC5hamF4KCB7XG5cdFx0XHRcdFx0dXJsOiB1cmwsXG5cdFx0XHRcdFx0ZGF0YTogcmVxdWVzdCxcblx0XHRcdFx0XHRkYXRhVHlwZTogXCJqc29uXCIsXG5cdFx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24oIGRhdGEgKSB7XG5cdFx0XHRcdFx0XHRyZXNwb25zZSggZGF0YSApO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0ZXJyb3I6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0cmVzcG9uc2UoIFtdICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnNvdXJjZSA9IHRoaXMub3B0aW9ucy5zb3VyY2U7XG5cdFx0fVxuXHR9LFxuXG5cdF9zZWFyY2hUaW1lb3V0OiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0Y2xlYXJUaW1lb3V0KCB0aGlzLnNlYXJjaGluZyApO1xuXHRcdHRoaXMuc2VhcmNoaW5nID0gdGhpcy5fZGVsYXkoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBTZWFyY2ggaWYgdGhlIHZhbHVlIGhhcyBjaGFuZ2VkLCBvciBpZiB0aGUgdXNlciByZXR5cGVzIHRoZSBzYW1lIHZhbHVlIChzZWUgIzc0MzQpXG5cdFx0XHR2YXIgZXF1YWxWYWx1ZXMgPSB0aGlzLnRlcm0gPT09IHRoaXMuX3ZhbHVlKCksXG5cdFx0XHRcdG1lbnVWaXNpYmxlID0gdGhpcy5tZW51LmVsZW1lbnQuaXMoIFwiOnZpc2libGVcIiApLFxuXHRcdFx0XHRtb2RpZmllcktleSA9IGV2ZW50LmFsdEtleSB8fCBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuc2hpZnRLZXk7XG5cblx0XHRcdGlmICggIWVxdWFsVmFsdWVzIHx8ICggZXF1YWxWYWx1ZXMgJiYgIW1lbnVWaXNpYmxlICYmICFtb2RpZmllcktleSApICkge1xuXHRcdFx0XHR0aGlzLnNlbGVjdGVkSXRlbSA9IG51bGw7XG5cdFx0XHRcdHRoaXMuc2VhcmNoKCBudWxsLCBldmVudCApO1xuXHRcdFx0fVxuXHRcdH0sIHRoaXMub3B0aW9ucy5kZWxheSApO1xuXHR9LFxuXG5cdHNlYXJjaDogZnVuY3Rpb24oIHZhbHVlLCBldmVudCApIHtcblx0XHR2YWx1ZSA9IHZhbHVlICE9IG51bGwgPyB2YWx1ZSA6IHRoaXMuX3ZhbHVlKCk7XG5cblx0XHQvLyBBbHdheXMgc2F2ZSB0aGUgYWN0dWFsIHZhbHVlLCBub3QgdGhlIG9uZSBwYXNzZWQgYXMgYW4gYXJndW1lbnRcblx0XHR0aGlzLnRlcm0gPSB0aGlzLl92YWx1ZSgpO1xuXG5cdFx0aWYgKCB2YWx1ZS5sZW5ndGggPCB0aGlzLm9wdGlvbnMubWluTGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuY2xvc2UoIGV2ZW50ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLl90cmlnZ2VyKCBcInNlYXJjaFwiLCBldmVudCApID09PSBmYWxzZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5fc2VhcmNoKCB2YWx1ZSApO1xuXHR9LFxuXG5cdF9zZWFyY2g6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHR0aGlzLnBlbmRpbmcrKztcblx0XHR0aGlzLl9hZGRDbGFzcyggXCJ1aS1hdXRvY29tcGxldGUtbG9hZGluZ1wiICk7XG5cdFx0dGhpcy5jYW5jZWxTZWFyY2ggPSBmYWxzZTtcblxuXHRcdHRoaXMuc291cmNlKCB7IHRlcm06IHZhbHVlIH0sIHRoaXMuX3Jlc3BvbnNlKCkgKTtcblx0fSxcblxuXHRfcmVzcG9uc2U6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpbmRleCA9ICsrdGhpcy5yZXF1ZXN0SW5kZXg7XG5cblx0XHRyZXR1cm4gJC5wcm94eSggZnVuY3Rpb24oIGNvbnRlbnQgKSB7XG5cdFx0XHRpZiAoIGluZGV4ID09PSB0aGlzLnJlcXVlc3RJbmRleCApIHtcblx0XHRcdFx0dGhpcy5fX3Jlc3BvbnNlKCBjb250ZW50ICk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMucGVuZGluZy0tO1xuXHRcdFx0aWYgKCAhdGhpcy5wZW5kaW5nICkge1xuXHRcdFx0XHR0aGlzLl9yZW1vdmVDbGFzcyggXCJ1aS1hdXRvY29tcGxldGUtbG9hZGluZ1wiICk7XG5cdFx0XHR9XG5cdFx0fSwgdGhpcyApO1xuXHR9LFxuXG5cdF9fcmVzcG9uc2U6IGZ1bmN0aW9uKCBjb250ZW50ICkge1xuXHRcdGlmICggY29udGVudCApIHtcblx0XHRcdGNvbnRlbnQgPSB0aGlzLl9ub3JtYWxpemUoIGNvbnRlbnQgKTtcblx0XHR9XG5cdFx0dGhpcy5fdHJpZ2dlciggXCJyZXNwb25zZVwiLCBudWxsLCB7IGNvbnRlbnQ6IGNvbnRlbnQgfSApO1xuXHRcdGlmICggIXRoaXMub3B0aW9ucy5kaXNhYmxlZCAmJiBjb250ZW50ICYmIGNvbnRlbnQubGVuZ3RoICYmICF0aGlzLmNhbmNlbFNlYXJjaCApIHtcblx0XHRcdHRoaXMuX3N1Z2dlc3QoIGNvbnRlbnQgKTtcblx0XHRcdHRoaXMuX3RyaWdnZXIoIFwib3BlblwiICk7XG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gdXNlIC5fY2xvc2UoKSBpbnN0ZWFkIG9mIC5jbG9zZSgpIHNvIHdlIGRvbid0IGNhbmNlbCBmdXR1cmUgc2VhcmNoZXNcblx0XHRcdHRoaXMuX2Nsb3NlKCk7XG5cdFx0fVxuXHR9LFxuXG5cdGNsb3NlOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dGhpcy5jYW5jZWxTZWFyY2ggPSB0cnVlO1xuXHRcdHRoaXMuX2Nsb3NlKCBldmVudCApO1xuXHR9LFxuXG5cdF9jbG9zZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0Ly8gUmVtb3ZlIHRoZSBoYW5kbGVyIHRoYXQgY2xvc2VzIHRoZSBtZW51IG9uIG91dHNpZGUgY2xpY2tzXG5cdFx0dGhpcy5fb2ZmKCB0aGlzLmRvY3VtZW50LCBcIm1vdXNlZG93blwiICk7XG5cblx0XHRpZiAoIHRoaXMubWVudS5lbGVtZW50LmlzKCBcIjp2aXNpYmxlXCIgKSApIHtcblx0XHRcdHRoaXMubWVudS5lbGVtZW50LmhpZGUoKTtcblx0XHRcdHRoaXMubWVudS5ibHVyKCk7XG5cdFx0XHR0aGlzLmlzTmV3TWVudSA9IHRydWU7XG5cdFx0XHR0aGlzLl90cmlnZ2VyKCBcImNsb3NlXCIsIGV2ZW50ICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9jaGFuZ2U6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRpZiAoIHRoaXMucHJldmlvdXMgIT09IHRoaXMuX3ZhbHVlKCkgKSB7XG5cdFx0XHR0aGlzLl90cmlnZ2VyKCBcImNoYW5nZVwiLCBldmVudCwgeyBpdGVtOiB0aGlzLnNlbGVjdGVkSXRlbSB9ICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9ub3JtYWxpemU6IGZ1bmN0aW9uKCBpdGVtcyApIHtcblxuXHRcdC8vIGFzc3VtZSBhbGwgaXRlbXMgaGF2ZSB0aGUgcmlnaHQgZm9ybWF0IHdoZW4gdGhlIGZpcnN0IGl0ZW0gaXMgY29tcGxldGVcblx0XHRpZiAoIGl0ZW1zLmxlbmd0aCAmJiBpdGVtc1sgMCBdLmxhYmVsICYmIGl0ZW1zWyAwIF0udmFsdWUgKSB7XG5cdFx0XHRyZXR1cm4gaXRlbXM7XG5cdFx0fVxuXHRcdHJldHVybiAkLm1hcCggaXRlbXMsIGZ1bmN0aW9uKCBpdGVtICkge1xuXHRcdFx0aWYgKCB0eXBlb2YgaXRlbSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRsYWJlbDogaXRlbSxcblx0XHRcdFx0XHR2YWx1ZTogaXRlbVxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuICQuZXh0ZW5kKCB7fSwgaXRlbSwge1xuXHRcdFx0XHRsYWJlbDogaXRlbS5sYWJlbCB8fCBpdGVtLnZhbHVlLFxuXHRcdFx0XHR2YWx1ZTogaXRlbS52YWx1ZSB8fCBpdGVtLmxhYmVsXG5cdFx0XHR9ICk7XG5cdFx0fSApO1xuXHR9LFxuXG5cdF9zdWdnZXN0OiBmdW5jdGlvbiggaXRlbXMgKSB7XG5cdFx0dmFyIHVsID0gdGhpcy5tZW51LmVsZW1lbnQuZW1wdHkoKTtcblx0XHR0aGlzLl9yZW5kZXJNZW51KCB1bCwgaXRlbXMgKTtcblx0XHR0aGlzLmlzTmV3TWVudSA9IHRydWU7XG5cdFx0dGhpcy5tZW51LnJlZnJlc2goKTtcblxuXHRcdC8vIFNpemUgYW5kIHBvc2l0aW9uIG1lbnVcblx0XHR1bC5zaG93KCk7XG5cdFx0dGhpcy5fcmVzaXplTWVudSgpO1xuXHRcdHVsLnBvc2l0aW9uKCAkLmV4dGVuZCgge1xuXHRcdFx0b2Y6IHRoaXMuZWxlbWVudFxuXHRcdH0sIHRoaXMub3B0aW9ucy5wb3NpdGlvbiApICk7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5hdXRvRm9jdXMgKSB7XG5cdFx0XHR0aGlzLm1lbnUubmV4dCgpO1xuXHRcdH1cblxuXHRcdC8vIExpc3RlbiBmb3IgaW50ZXJhY3Rpb25zIG91dHNpZGUgb2YgdGhlIHdpZGdldCAoIzY2NDIpXG5cdFx0dGhpcy5fb24oIHRoaXMuZG9jdW1lbnQsIHtcblx0XHRcdG1vdXNlZG93bjogXCJfY2xvc2VPbkNsaWNrT3V0c2lkZVwiXG5cdFx0fSApO1xuXHR9LFxuXG5cdF9yZXNpemVNZW51OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdWwgPSB0aGlzLm1lbnUuZWxlbWVudDtcblx0XHR1bC5vdXRlcldpZHRoKCBNYXRoLm1heChcblxuXHRcdFx0Ly8gRmlyZWZveCB3cmFwcyBsb25nIHRleHQgKHBvc3NpYmx5IGEgcm91bmRpbmcgYnVnKVxuXHRcdFx0Ly8gc28gd2UgYWRkIDFweCB0byBhdm9pZCB0aGUgd3JhcHBpbmcgKCM3NTEzKVxuXHRcdFx0dWwud2lkdGgoIFwiXCIgKS5vdXRlcldpZHRoKCkgKyAxLFxuXHRcdFx0dGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKVxuXHRcdCkgKTtcblx0fSxcblxuXHRfcmVuZGVyTWVudTogZnVuY3Rpb24oIHVsLCBpdGVtcyApIHtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cdFx0JC5lYWNoKCBpdGVtcywgZnVuY3Rpb24oIGluZGV4LCBpdGVtICkge1xuXHRcdFx0dGhhdC5fcmVuZGVySXRlbURhdGEoIHVsLCBpdGVtICk7XG5cdFx0fSApO1xuXHR9LFxuXG5cdF9yZW5kZXJJdGVtRGF0YTogZnVuY3Rpb24oIHVsLCBpdGVtICkge1xuXHRcdHJldHVybiB0aGlzLl9yZW5kZXJJdGVtKCB1bCwgaXRlbSApLmRhdGEoIFwidWktYXV0b2NvbXBsZXRlLWl0ZW1cIiwgaXRlbSApO1xuXHR9LFxuXG5cdF9yZW5kZXJJdGVtOiBmdW5jdGlvbiggdWwsIGl0ZW0gKSB7XG5cdFx0cmV0dXJuICQoIFwiPGxpPlwiIClcblx0XHRcdC5hcHBlbmQoICQoIFwiPGRpdj5cIiApLnRleHQoIGl0ZW0ubGFiZWwgKSApXG5cdFx0XHQuYXBwZW5kVG8oIHVsICk7XG5cdH0sXG5cblx0X21vdmU6IGZ1bmN0aW9uKCBkaXJlY3Rpb24sIGV2ZW50ICkge1xuXHRcdGlmICggIXRoaXMubWVudS5lbGVtZW50LmlzKCBcIjp2aXNpYmxlXCIgKSApIHtcblx0XHRcdHRoaXMuc2VhcmNoKCBudWxsLCBldmVudCApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAoIHRoaXMubWVudS5pc0ZpcnN0SXRlbSgpICYmIC9ecHJldmlvdXMvLnRlc3QoIGRpcmVjdGlvbiApIHx8XG5cdFx0XHRcdHRoaXMubWVudS5pc0xhc3RJdGVtKCkgJiYgL15uZXh0Ly50ZXN0KCBkaXJlY3Rpb24gKSApIHtcblxuXHRcdFx0aWYgKCAhdGhpcy5pc011bHRpTGluZSApIHtcblx0XHRcdFx0dGhpcy5fdmFsdWUoIHRoaXMudGVybSApO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLm1lbnUuYmx1cigpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR0aGlzLm1lbnVbIGRpcmVjdGlvbiBdKCBldmVudCApO1xuXHR9LFxuXG5cdHdpZGdldDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMubWVudS5lbGVtZW50O1xuXHR9LFxuXG5cdF92YWx1ZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMudmFsdWVNZXRob2QuYXBwbHkoIHRoaXMuZWxlbWVudCwgYXJndW1lbnRzICk7XG5cdH0sXG5cblx0X2tleUV2ZW50OiBmdW5jdGlvbigga2V5RXZlbnQsIGV2ZW50ICkge1xuXHRcdGlmICggIXRoaXMuaXNNdWx0aUxpbmUgfHwgdGhpcy5tZW51LmVsZW1lbnQuaXMoIFwiOnZpc2libGVcIiApICkge1xuXHRcdFx0dGhpcy5fbW92ZSgga2V5RXZlbnQsIGV2ZW50ICk7XG5cblx0XHRcdC8vIFByZXZlbnRzIG1vdmluZyBjdXJzb3IgdG8gYmVnaW5uaW5nL2VuZCBvZiB0aGUgdGV4dCBmaWVsZCBpbiBzb21lIGJyb3dzZXJzXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblx0fSxcblxuXHQvLyBTdXBwb3J0OiBDaHJvbWUgPD01MFxuXHQvLyBXZSBzaG91bGQgYmUgYWJsZSB0byBqdXN0IHVzZSB0aGlzLmVsZW1lbnQucHJvcCggXCJpc0NvbnRlbnRFZGl0YWJsZVwiIClcblx0Ly8gYnV0IGhpZGRlbiBlbGVtZW50cyBhbHdheXMgcmVwb3J0IGZhbHNlIGluIENocm9tZS5cblx0Ly8gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTMxMzA4MlxuXHRfaXNDb250ZW50RWRpdGFibGU6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdGlmICggIWVsZW1lbnQubGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHZhciBlZGl0YWJsZSA9IGVsZW1lbnQucHJvcCggXCJjb250ZW50RWRpdGFibGVcIiApO1xuXG5cdFx0aWYgKCBlZGl0YWJsZSA9PT0gXCJpbmhlcml0XCIgKSB7XG5cdFx0ICByZXR1cm4gdGhpcy5faXNDb250ZW50RWRpdGFibGUoIGVsZW1lbnQucGFyZW50KCkgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZWRpdGFibGUgPT09IFwidHJ1ZVwiO1xuXHR9XG59ICk7XG5cbiQuZXh0ZW5kKCAkLnVpLmF1dG9jb21wbGV0ZSwge1xuXHRlc2NhcGVSZWdleDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHJldHVybiB2YWx1ZS5yZXBsYWNlKCAvW1xcLVxcW1xcXXt9KCkqKz8uLFxcXFxcXF4kfCNcXHNdL2csIFwiXFxcXCQmXCIgKTtcblx0fSxcblx0ZmlsdGVyOiBmdW5jdGlvbiggYXJyYXksIHRlcm0gKSB7XG5cdFx0dmFyIG1hdGNoZXIgPSBuZXcgUmVnRXhwKCAkLnVpLmF1dG9jb21wbGV0ZS5lc2NhcGVSZWdleCggdGVybSApLCBcImlcIiApO1xuXHRcdHJldHVybiAkLmdyZXAoIGFycmF5LCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRyZXR1cm4gbWF0Y2hlci50ZXN0KCB2YWx1ZS5sYWJlbCB8fCB2YWx1ZS52YWx1ZSB8fCB2YWx1ZSApO1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG4vLyBMaXZlIHJlZ2lvbiBleHRlbnNpb24sIGFkZGluZyBhIGBtZXNzYWdlc2Agb3B0aW9uXG4vLyBOT1RFOiBUaGlzIGlzIGFuIGV4cGVyaW1lbnRhbCBBUEkuIFdlIGFyZSBzdGlsbCBpbnZlc3RpZ2F0aW5nXG4vLyBhIGZ1bGwgc29sdXRpb24gZm9yIHN0cmluZyBtYW5pcHVsYXRpb24gYW5kIGludGVybmF0aW9uYWxpemF0aW9uLlxuJC53aWRnZXQoIFwidWkuYXV0b2NvbXBsZXRlXCIsICQudWkuYXV0b2NvbXBsZXRlLCB7XG5cdG9wdGlvbnM6IHtcblx0XHRtZXNzYWdlczoge1xuXHRcdFx0bm9SZXN1bHRzOiBcIk5vIHNlYXJjaCByZXN1bHRzLlwiLFxuXHRcdFx0cmVzdWx0czogZnVuY3Rpb24oIGFtb3VudCApIHtcblx0XHRcdFx0cmV0dXJuIGFtb3VudCArICggYW1vdW50ID4gMSA/IFwiIHJlc3VsdHMgYXJlXCIgOiBcIiByZXN1bHQgaXNcIiApICtcblx0XHRcdFx0XHRcIiBhdmFpbGFibGUsIHVzZSB1cCBhbmQgZG93biBhcnJvdyBrZXlzIHRvIG5hdmlnYXRlLlwiO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRfX3Jlc3BvbnNlOiBmdW5jdGlvbiggY29udGVudCApIHtcblx0XHR2YXIgbWVzc2FnZTtcblx0XHR0aGlzLl9zdXBlckFwcGx5KCBhcmd1bWVudHMgKTtcblx0XHRpZiAoIHRoaXMub3B0aW9ucy5kaXNhYmxlZCB8fCB0aGlzLmNhbmNlbFNlYXJjaCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKCBjb250ZW50ICYmIGNvbnRlbnQubGVuZ3RoICkge1xuXHRcdFx0bWVzc2FnZSA9IHRoaXMub3B0aW9ucy5tZXNzYWdlcy5yZXN1bHRzKCBjb250ZW50Lmxlbmd0aCApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRtZXNzYWdlID0gdGhpcy5vcHRpb25zLm1lc3NhZ2VzLm5vUmVzdWx0cztcblx0XHR9XG5cdFx0dGhpcy5saXZlUmVnaW9uLmNoaWxkcmVuKCkuaGlkZSgpO1xuXHRcdCQoIFwiPGRpdj5cIiApLnRleHQoIG1lc3NhZ2UgKS5hcHBlbmRUbyggdGhpcy5saXZlUmVnaW9uICk7XG5cdH1cbn0gKTtcblxucmV0dXJuICQudWkuYXV0b2NvbXBsZXRlO1xuXG59ICkgKTtcbiIsIi8qIVxuICogalF1ZXJ5IFVJIEJ1dHRvbiAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogQnV0dG9uXG4vLz4+Z3JvdXA6IFdpZGdldHNcbi8vPj5kZXNjcmlwdGlvbjogRW5oYW5jZXMgYSBmb3JtIHdpdGggdGhlbWVhYmxlIGJ1dHRvbnMuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vYnV0dG9uL1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL2J1dHRvbi9cbi8vPj5jc3Muc3RydWN0dXJlOiAuLi8uLi90aGVtZXMvYmFzZS9jb3JlLmNzc1xuLy8+PmNzcy5zdHJ1Y3R1cmU6IC4uLy4uL3RoZW1lcy9iYXNlL2J1dHRvbi5jc3Ncbi8vPj5jc3MudGhlbWU6IC4uLy4uL3RoZW1lcy9iYXNlL3RoZW1lLmNzc1xuXG4oIGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZSggW1xuXHRcdFx0XCJqcXVlcnlcIixcblxuXHRcdFx0Ly8gVGhlc2UgYXJlIG9ubHkgZm9yIGJhY2tjb21wYXRcblx0XHRcdC8vIFRPRE86IFJlbW92ZSBhZnRlciAxLjEyXG5cdFx0XHRcIi4vY29udHJvbGdyb3VwXCIsXG5cdFx0XHRcIi4vY2hlY2tib3hyYWRpb1wiLFxuXG5cdFx0XHRcIi4uL2tleWNvZGVcIixcblx0XHRcdFwiLi4vd2lkZ2V0XCJcblx0XHRdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSggZnVuY3Rpb24oICQgKSB7XG5cbiQud2lkZ2V0KCBcInVpLmJ1dHRvblwiLCB7XG5cdHZlcnNpb246IFwiMS4xMi4xXCIsXG5cdGRlZmF1bHRFbGVtZW50OiBcIjxidXR0b24+XCIsXG5cdG9wdGlvbnM6IHtcblx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcInVpLWJ1dHRvblwiOiBcInVpLWNvcm5lci1hbGxcIlxuXHRcdH0sXG5cdFx0ZGlzYWJsZWQ6IG51bGwsXG5cdFx0aWNvbjogbnVsbCxcblx0XHRpY29uUG9zaXRpb246IFwiYmVnaW5uaW5nXCIsXG5cdFx0bGFiZWw6IG51bGwsXG5cdFx0c2hvd0xhYmVsOiB0cnVlXG5cdH0sXG5cblx0X2dldENyZWF0ZU9wdGlvbnM6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBkaXNhYmxlZCxcblxuXHRcdFx0Ly8gVGhpcyBpcyB0byBzdXBwb3J0IGNhc2VzIGxpa2UgaW4galF1ZXJ5IE1vYmlsZSB3aGVyZSB0aGUgYmFzZSB3aWRnZXQgZG9lcyBoYXZlXG5cdFx0XHQvLyBhbiBpbXBsZW1lbnRhdGlvbiBvZiBfZ2V0Q3JlYXRlT3B0aW9uc1xuXHRcdFx0b3B0aW9ucyA9IHRoaXMuX3N1cGVyKCkgfHwge307XG5cblx0XHR0aGlzLmlzSW5wdXQgPSB0aGlzLmVsZW1lbnQuaXMoIFwiaW5wdXRcIiApO1xuXG5cdFx0ZGlzYWJsZWQgPSB0aGlzLmVsZW1lbnRbIDAgXS5kaXNhYmxlZDtcblx0XHRpZiAoIGRpc2FibGVkICE9IG51bGwgKSB7XG5cdFx0XHRvcHRpb25zLmRpc2FibGVkID0gZGlzYWJsZWQ7XG5cdFx0fVxuXG5cdFx0dGhpcy5vcmlnaW5hbExhYmVsID0gdGhpcy5pc0lucHV0ID8gdGhpcy5lbGVtZW50LnZhbCgpIDogdGhpcy5lbGVtZW50Lmh0bWwoKTtcblx0XHRpZiAoIHRoaXMub3JpZ2luYWxMYWJlbCApIHtcblx0XHRcdG9wdGlvbnMubGFiZWwgPSB0aGlzLm9yaWdpbmFsTGFiZWw7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9wdGlvbnM7XG5cdH0sXG5cblx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCAhdGhpcy5vcHRpb24uc2hvd0xhYmVsICYgIXRoaXMub3B0aW9ucy5pY29uICkge1xuXHRcdFx0dGhpcy5vcHRpb25zLnNob3dMYWJlbCA9IHRydWU7XG5cdFx0fVxuXG5cdFx0Ly8gV2UgaGF2ZSB0byBjaGVjayB0aGUgb3B0aW9uIGFnYWluIGhlcmUgZXZlbiB0aG91Z2ggd2UgZGlkIGluIF9nZXRDcmVhdGVPcHRpb25zLFxuXHRcdC8vIGJlY2F1c2UgbnVsbCBtYXkgaGF2ZSBiZWVuIHBhc3NlZCBvbiBpbml0IHdoaWNoIHdvdWxkIG92ZXJyaWRlIHdoYXQgd2FzIHNldCBpblxuXHRcdC8vIF9nZXRDcmVhdGVPcHRpb25zXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgPT0gbnVsbCApIHtcblx0XHRcdHRoaXMub3B0aW9ucy5kaXNhYmxlZCA9IHRoaXMuZWxlbWVudFsgMCBdLmRpc2FibGVkIHx8IGZhbHNlO1xuXHRcdH1cblxuXHRcdHRoaXMuaGFzVGl0bGUgPSAhIXRoaXMuZWxlbWVudC5hdHRyKCBcInRpdGxlXCIgKTtcblxuXHRcdC8vIENoZWNrIHRvIHNlZSBpZiB0aGUgbGFiZWwgbmVlZHMgdG8gYmUgc2V0IG9yIGlmIGl0cyBhbHJlYWR5IGNvcnJlY3Rcblx0XHRpZiAoIHRoaXMub3B0aW9ucy5sYWJlbCAmJiB0aGlzLm9wdGlvbnMubGFiZWwgIT09IHRoaXMub3JpZ2luYWxMYWJlbCApIHtcblx0XHRcdGlmICggdGhpcy5pc0lucHV0ICkge1xuXHRcdFx0XHR0aGlzLmVsZW1lbnQudmFsKCB0aGlzLm9wdGlvbnMubGFiZWwgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuZWxlbWVudC5odG1sKCB0aGlzLm9wdGlvbnMubGFiZWwgKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0dGhpcy5fYWRkQ2xhc3MoIFwidWktYnV0dG9uXCIsIFwidWktd2lkZ2V0XCIgKTtcblx0XHR0aGlzLl9zZXRPcHRpb24oIFwiZGlzYWJsZWRcIiwgdGhpcy5vcHRpb25zLmRpc2FibGVkICk7XG5cdFx0dGhpcy5fZW5oYW5jZSgpO1xuXG5cdFx0aWYgKCB0aGlzLmVsZW1lbnQuaXMoIFwiYVwiICkgKSB7XG5cdFx0XHR0aGlzLl9vbigge1xuXHRcdFx0XHRcImtleXVwXCI6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0XHRpZiAoIGV2ZW50LmtleUNvZGUgPT09ICQudWkua2V5Q29kZS5TUEFDRSApIHtcblx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFBoYW50b21KUyA8PSAxLjksIElFIDggT25seVxuXHRcdFx0XHRcdFx0Ly8gSWYgYSBuYXRpdmUgY2xpY2sgaXMgYXZhaWxhYmxlIHVzZSBpdCBzbyB3ZSBhY3R1YWxseSBjYXVzZSBuYXZpZ2F0aW9uXG5cdFx0XHRcdFx0XHQvLyBvdGhlcndpc2UganVzdCB0cmlnZ2VyIGEgY2xpY2sgZXZlbnRcblx0XHRcdFx0XHRcdGlmICggdGhpcy5lbGVtZW50WyAwIF0uY2xpY2sgKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMuZWxlbWVudFsgMCBdLmNsaWNrKCk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHR0aGlzLmVsZW1lbnQudHJpZ2dlciggXCJjbGlja1wiICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9lbmhhbmNlOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoICF0aGlzLmVsZW1lbnQuaXMoIFwiYnV0dG9uXCIgKSApIHtcblx0XHRcdHRoaXMuZWxlbWVudC5hdHRyKCBcInJvbGVcIiwgXCJidXR0b25cIiApO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5vcHRpb25zLmljb24gKSB7XG5cdFx0XHR0aGlzLl91cGRhdGVJY29uKCBcImljb25cIiwgdGhpcy5vcHRpb25zLmljb24gKTtcblx0XHRcdHRoaXMuX3VwZGF0ZVRvb2x0aXAoKTtcblx0XHR9XG5cdH0sXG5cblx0X3VwZGF0ZVRvb2x0aXA6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMudGl0bGUgPSB0aGlzLmVsZW1lbnQuYXR0ciggXCJ0aXRsZVwiICk7XG5cblx0XHRpZiAoICF0aGlzLm9wdGlvbnMuc2hvd0xhYmVsICYmICF0aGlzLnRpdGxlICkge1xuXHRcdFx0dGhpcy5lbGVtZW50LmF0dHIoIFwidGl0bGVcIiwgdGhpcy5vcHRpb25zLmxhYmVsICk7XG5cdFx0fVxuXHR9LFxuXG5cdF91cGRhdGVJY29uOiBmdW5jdGlvbiggb3B0aW9uLCB2YWx1ZSApIHtcblx0XHR2YXIgaWNvbiA9IG9wdGlvbiAhPT0gXCJpY29uUG9zaXRpb25cIixcblx0XHRcdHBvc2l0aW9uID0gaWNvbiA/IHRoaXMub3B0aW9ucy5pY29uUG9zaXRpb24gOiB2YWx1ZSxcblx0XHRcdGRpc3BsYXlCbG9jayA9IHBvc2l0aW9uID09PSBcInRvcFwiIHx8IHBvc2l0aW9uID09PSBcImJvdHRvbVwiO1xuXG5cdFx0Ly8gQ3JlYXRlIGljb25cblx0XHRpZiAoICF0aGlzLmljb24gKSB7XG5cdFx0XHR0aGlzLmljb24gPSAkKCBcIjxzcGFuPlwiICk7XG5cblx0XHRcdHRoaXMuX2FkZENsYXNzKCB0aGlzLmljb24sIFwidWktYnV0dG9uLWljb25cIiwgXCJ1aS1pY29uXCIgKTtcblxuXHRcdFx0aWYgKCAhdGhpcy5vcHRpb25zLnNob3dMYWJlbCApIHtcblx0XHRcdFx0dGhpcy5fYWRkQ2xhc3MoIFwidWktYnV0dG9uLWljb24tb25seVwiICk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmICggaWNvbiApIHtcblxuXHRcdFx0Ly8gSWYgd2UgYXJlIHVwZGF0aW5nIHRoZSBpY29uIHJlbW92ZSB0aGUgb2xkIGljb24gY2xhc3Ncblx0XHRcdHRoaXMuX3JlbW92ZUNsYXNzKCB0aGlzLmljb24sIG51bGwsIHRoaXMub3B0aW9ucy5pY29uICk7XG5cdFx0fVxuXG5cdFx0Ly8gSWYgd2UgYXJlIHVwZGF0aW5nIHRoZSBpY29uIGFkZCB0aGUgbmV3IGljb24gY2xhc3Ncblx0XHRpZiAoIGljb24gKSB7XG5cdFx0XHR0aGlzLl9hZGRDbGFzcyggdGhpcy5pY29uLCBudWxsLCB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdHRoaXMuX2F0dGFjaEljb24oIHBvc2l0aW9uICk7XG5cblx0XHQvLyBJZiB0aGUgaWNvbiBpcyBvbiB0b3Agb3IgYm90dG9tIHdlIG5lZWQgdG8gYWRkIHRoZSB1aS13aWRnZXQtaWNvbi1ibG9jayBjbGFzcyBhbmQgcmVtb3ZlXG5cdFx0Ly8gdGhlIGljb25TcGFjZSBpZiB0aGVyZSBpcyBvbmUuXG5cdFx0aWYgKCBkaXNwbGF5QmxvY2sgKSB7XG5cdFx0XHR0aGlzLl9hZGRDbGFzcyggdGhpcy5pY29uLCBudWxsLCBcInVpLXdpZGdldC1pY29uLWJsb2NrXCIgKTtcblx0XHRcdGlmICggdGhpcy5pY29uU3BhY2UgKSB7XG5cdFx0XHRcdHRoaXMuaWNvblNwYWNlLnJlbW92ZSgpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIFBvc2l0aW9uIGlzIGJlZ2lubmluZyBvciBlbmQgc28gcmVtb3ZlIHRoZSB1aS13aWRnZXQtaWNvbi1ibG9jayBjbGFzcyBhbmQgYWRkIHRoZVxuXHRcdFx0Ly8gc3BhY2UgaWYgaXQgZG9lcyBub3QgZXhpc3Rcblx0XHRcdGlmICggIXRoaXMuaWNvblNwYWNlICkge1xuXHRcdFx0XHR0aGlzLmljb25TcGFjZSA9ICQoIFwiPHNwYW4+IDwvc3Bhbj5cIiApO1xuXHRcdFx0XHR0aGlzLl9hZGRDbGFzcyggdGhpcy5pY29uU3BhY2UsIFwidWktYnV0dG9uLWljb24tc3BhY2VcIiApO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoIHRoaXMuaWNvbiwgbnVsbCwgXCJ1aS13aWdldC1pY29uLWJsb2NrXCIgKTtcblx0XHRcdHRoaXMuX2F0dGFjaEljb25TcGFjZSggcG9zaXRpb24gKTtcblx0XHR9XG5cdH0sXG5cblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCBcInJvbGVcIiApO1xuXG5cdFx0aWYgKCB0aGlzLmljb24gKSB7XG5cdFx0XHR0aGlzLmljb24ucmVtb3ZlKCk7XG5cdFx0fVxuXHRcdGlmICggdGhpcy5pY29uU3BhY2UgKSB7XG5cdFx0XHR0aGlzLmljb25TcGFjZS5yZW1vdmUoKTtcblx0XHR9XG5cdFx0aWYgKCAhdGhpcy5oYXNUaXRsZSApIHtcblx0XHRcdHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCBcInRpdGxlXCIgKTtcblx0XHR9XG5cdH0sXG5cblx0X2F0dGFjaEljb25TcGFjZTogZnVuY3Rpb24oIGljb25Qb3NpdGlvbiApIHtcblx0XHR0aGlzLmljb25bIC9eKD86ZW5kfGJvdHRvbSkvLnRlc3QoIGljb25Qb3NpdGlvbiApID8gXCJiZWZvcmVcIiA6IFwiYWZ0ZXJcIiBdKCB0aGlzLmljb25TcGFjZSApO1xuXHR9LFxuXG5cdF9hdHRhY2hJY29uOiBmdW5jdGlvbiggaWNvblBvc2l0aW9uICkge1xuXHRcdHRoaXMuZWxlbWVudFsgL14oPzplbmR8Ym90dG9tKS8udGVzdCggaWNvblBvc2l0aW9uICkgPyBcImFwcGVuZFwiIDogXCJwcmVwZW5kXCIgXSggdGhpcy5pY29uICk7XG5cdH0sXG5cblx0X3NldE9wdGlvbnM6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXHRcdHZhciBuZXdTaG93TGFiZWwgPSBvcHRpb25zLnNob3dMYWJlbCA9PT0gdW5kZWZpbmVkID9cblx0XHRcdFx0dGhpcy5vcHRpb25zLnNob3dMYWJlbCA6XG5cdFx0XHRcdG9wdGlvbnMuc2hvd0xhYmVsLFxuXHRcdFx0bmV3SWNvbiA9IG9wdGlvbnMuaWNvbiA9PT0gdW5kZWZpbmVkID8gdGhpcy5vcHRpb25zLmljb24gOiBvcHRpb25zLmljb247XG5cblx0XHRpZiAoICFuZXdTaG93TGFiZWwgJiYgIW5ld0ljb24gKSB7XG5cdFx0XHRvcHRpb25zLnNob3dMYWJlbCA9IHRydWU7XG5cdFx0fVxuXHRcdHRoaXMuX3N1cGVyKCBvcHRpb25zICk7XG5cdH0sXG5cblx0X3NldE9wdGlvbjogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0aWYgKCBrZXkgPT09IFwiaWNvblwiICkge1xuXHRcdFx0aWYgKCB2YWx1ZSApIHtcblx0XHRcdFx0dGhpcy5fdXBkYXRlSWNvbigga2V5LCB2YWx1ZSApO1xuXHRcdFx0fSBlbHNlIGlmICggdGhpcy5pY29uICkge1xuXHRcdFx0XHR0aGlzLmljb24ucmVtb3ZlKCk7XG5cdFx0XHRcdGlmICggdGhpcy5pY29uU3BhY2UgKSB7XG5cdFx0XHRcdFx0dGhpcy5pY29uU3BhY2UucmVtb3ZlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIGtleSA9PT0gXCJpY29uUG9zaXRpb25cIiApIHtcblx0XHRcdHRoaXMuX3VwZGF0ZUljb24oIGtleSwgdmFsdWUgKTtcblx0XHR9XG5cblx0XHQvLyBNYWtlIHN1cmUgd2UgY2FuJ3QgZW5kIHVwIHdpdGggYSBidXR0b24gdGhhdCBoYXMgbmVpdGhlciB0ZXh0IG5vciBpY29uXG5cdFx0aWYgKCBrZXkgPT09IFwic2hvd0xhYmVsXCIgKSB7XG5cdFx0XHRcdHRoaXMuX3RvZ2dsZUNsYXNzKCBcInVpLWJ1dHRvbi1pY29uLW9ubHlcIiwgbnVsbCwgIXZhbHVlICk7XG5cdFx0XHRcdHRoaXMuX3VwZGF0ZVRvb2x0aXAoKTtcblx0XHR9XG5cblx0XHRpZiAoIGtleSA9PT0gXCJsYWJlbFwiICkge1xuXHRcdFx0aWYgKCB0aGlzLmlzSW5wdXQgKSB7XG5cdFx0XHRcdHRoaXMuZWxlbWVudC52YWwoIHZhbHVlICk7XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIElmIHRoZXJlIGlzIGFuIGljb24sIGFwcGVuZCBpdCwgZWxzZSBub3RoaW5nIHRoZW4gYXBwZW5kIHRoZSB2YWx1ZVxuXHRcdFx0XHQvLyB0aGlzIGF2b2lkcyByZW1vdmFsIG9mIHRoZSBpY29uIHdoZW4gc2V0dGluZyBsYWJlbCB0ZXh0XG5cdFx0XHRcdHRoaXMuZWxlbWVudC5odG1sKCB2YWx1ZSApO1xuXHRcdFx0XHRpZiAoIHRoaXMuaWNvbiApIHtcblx0XHRcdFx0XHR0aGlzLl9hdHRhY2hJY29uKCB0aGlzLm9wdGlvbnMuaWNvblBvc2l0aW9uICk7XG5cdFx0XHRcdFx0dGhpcy5fYXR0YWNoSWNvblNwYWNlKCB0aGlzLm9wdGlvbnMuaWNvblBvc2l0aW9uICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLl9zdXBlcigga2V5LCB2YWx1ZSApO1xuXG5cdFx0aWYgKCBrZXkgPT09IFwiZGlzYWJsZWRcIiApIHtcblx0XHRcdHRoaXMuX3RvZ2dsZUNsYXNzKCBudWxsLCBcInVpLXN0YXRlLWRpc2FibGVkXCIsIHZhbHVlICk7XG5cdFx0XHR0aGlzLmVsZW1lbnRbIDAgXS5kaXNhYmxlZCA9IHZhbHVlO1xuXHRcdFx0aWYgKCB2YWx1ZSApIHtcblx0XHRcdFx0dGhpcy5lbGVtZW50LmJsdXIoKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0cmVmcmVzaDogZnVuY3Rpb24oKSB7XG5cblx0XHQvLyBNYWtlIHN1cmUgdG8gb25seSBjaGVjayBkaXNhYmxlZCBpZiBpdHMgYW4gZWxlbWVudCB0aGF0IHN1cHBvcnRzIHRoaXMgb3RoZXJ3aXNlXG5cdFx0Ly8gY2hlY2sgZm9yIHRoZSBkaXNhYmxlZCBjbGFzcyB0byBkZXRlcm1pbmUgc3RhdGVcblx0XHR2YXIgaXNEaXNhYmxlZCA9IHRoaXMuZWxlbWVudC5pcyggXCJpbnB1dCwgYnV0dG9uXCIgKSA/XG5cdFx0XHR0aGlzLmVsZW1lbnRbIDAgXS5kaXNhYmxlZCA6IHRoaXMuZWxlbWVudC5oYXNDbGFzcyggXCJ1aS1idXR0b24tZGlzYWJsZWRcIiApO1xuXG5cdFx0aWYgKCBpc0Rpc2FibGVkICE9PSB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgKSB7XG5cdFx0XHR0aGlzLl9zZXRPcHRpb25zKCB7IGRpc2FibGVkOiBpc0Rpc2FibGVkIH0gKTtcblx0XHR9XG5cblx0XHR0aGlzLl91cGRhdGVUb29sdGlwKCk7XG5cdH1cbn0gKTtcblxuLy8gREVQUkVDQVRFRFxuaWYgKCAkLnVpQmFja0NvbXBhdCAhPT0gZmFsc2UgKSB7XG5cblx0Ly8gVGV4dCBhbmQgSWNvbnMgb3B0aW9uc1xuXHQkLndpZGdldCggXCJ1aS5idXR0b25cIiwgJC51aS5idXR0b24sIHtcblx0XHRvcHRpb25zOiB7XG5cdFx0XHR0ZXh0OiB0cnVlLFxuXHRcdFx0aWNvbnM6IHtcblx0XHRcdFx0cHJpbWFyeTogbnVsbCxcblx0XHRcdFx0c2Vjb25kYXJ5OiBudWxsXG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMuc2hvd0xhYmVsICYmICF0aGlzLm9wdGlvbnMudGV4dCApIHtcblx0XHRcdFx0dGhpcy5vcHRpb25zLnNob3dMYWJlbCA9IHRoaXMub3B0aW9ucy50ZXh0O1xuXHRcdFx0fVxuXHRcdFx0aWYgKCAhdGhpcy5vcHRpb25zLnNob3dMYWJlbCAmJiB0aGlzLm9wdGlvbnMudGV4dCApIHtcblx0XHRcdFx0dGhpcy5vcHRpb25zLnRleHQgPSB0aGlzLm9wdGlvbnMuc2hvd0xhYmVsO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCAhdGhpcy5vcHRpb25zLmljb24gJiYgKCB0aGlzLm9wdGlvbnMuaWNvbnMucHJpbWFyeSB8fFxuXHRcdFx0XHRcdHRoaXMub3B0aW9ucy5pY29ucy5zZWNvbmRhcnkgKSApIHtcblx0XHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMuaWNvbnMucHJpbWFyeSApIHtcblx0XHRcdFx0XHR0aGlzLm9wdGlvbnMuaWNvbiA9IHRoaXMub3B0aW9ucy5pY29ucy5wcmltYXJ5O1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMub3B0aW9ucy5pY29uID0gdGhpcy5vcHRpb25zLmljb25zLnNlY29uZGFyeTtcblx0XHRcdFx0XHR0aGlzLm9wdGlvbnMuaWNvblBvc2l0aW9uID0gXCJlbmRcIjtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmICggdGhpcy5vcHRpb25zLmljb24gKSB7XG5cdFx0XHRcdHRoaXMub3B0aW9ucy5pY29ucy5wcmltYXJ5ID0gdGhpcy5vcHRpb25zLmljb247XG5cdFx0XHR9XG5cdFx0XHR0aGlzLl9zdXBlcigpO1xuXHRcdH0sXG5cblx0XHRfc2V0T3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHRcdGlmICgga2V5ID09PSBcInRleHRcIiApIHtcblx0XHRcdFx0dGhpcy5fc3VwZXIoIFwic2hvd0xhYmVsXCIsIHZhbHVlICk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGlmICgga2V5ID09PSBcInNob3dMYWJlbFwiICkge1xuXHRcdFx0XHR0aGlzLm9wdGlvbnMudGV4dCA9IHZhbHVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBrZXkgPT09IFwiaWNvblwiICkge1xuXHRcdFx0XHR0aGlzLm9wdGlvbnMuaWNvbnMucHJpbWFyeSA9IHZhbHVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBrZXkgPT09IFwiaWNvbnNcIiApIHtcblx0XHRcdFx0aWYgKCB2YWx1ZS5wcmltYXJ5ICkge1xuXHRcdFx0XHRcdHRoaXMuX3N1cGVyKCBcImljb25cIiwgdmFsdWUucHJpbWFyeSApO1xuXHRcdFx0XHRcdHRoaXMuX3N1cGVyKCBcImljb25Qb3NpdGlvblwiLCBcImJlZ2lubmluZ1wiICk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoIHZhbHVlLnNlY29uZGFyeSApIHtcblx0XHRcdFx0XHR0aGlzLl9zdXBlciggXCJpY29uXCIsIHZhbHVlLnNlY29uZGFyeSApO1xuXHRcdFx0XHRcdHRoaXMuX3N1cGVyKCBcImljb25Qb3NpdGlvblwiLCBcImVuZFwiICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHRoaXMuX3N1cGVyQXBwbHkoIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0fSApO1xuXG5cdCQuZm4uYnV0dG9uID0gKCBmdW5jdGlvbiggb3JpZyApIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoICF0aGlzLmxlbmd0aCB8fCAoIHRoaXMubGVuZ3RoICYmIHRoaXNbIDAgXS50YWdOYW1lICE9PSBcIklOUFVUXCIgKSB8fFxuXHRcdFx0XHRcdCggdGhpcy5sZW5ndGggJiYgdGhpc1sgMCBdLnRhZ05hbWUgPT09IFwiSU5QVVRcIiAmJiAoXG5cdFx0XHRcdFx0XHR0aGlzLmF0dHIoIFwidHlwZVwiICkgIT09IFwiY2hlY2tib3hcIiAmJiB0aGlzLmF0dHIoIFwidHlwZVwiICkgIT09IFwicmFkaW9cIlxuXHRcdFx0XHRcdCkgKSApIHtcblx0XHRcdFx0cmV0dXJuIG9yaWcuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCAhJC51aS5jaGVja2JveHJhZGlvICkge1xuXHRcdFx0XHQkLmVycm9yKCBcIkNoZWNrYm94cmFkaW8gd2lkZ2V0IG1pc3NpbmdcIiApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoID09PSAwICkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5jaGVja2JveHJhZGlvKCB7XG5cdFx0XHRcdFx0XCJpY29uXCI6IGZhbHNlXG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0aGlzLmNoZWNrYm94cmFkaW8uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH07XG5cdH0gKSggJC5mbi5idXR0b24gKTtcblxuXHQkLmZuLmJ1dHRvbnNldCA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggISQudWkuY29udHJvbGdyb3VwICkge1xuXHRcdFx0JC5lcnJvciggXCJDb250cm9sZ3JvdXAgd2lkZ2V0IG1pc3NpbmdcIiApO1xuXHRcdH1cblx0XHRpZiAoIGFyZ3VtZW50c1sgMCBdID09PSBcIm9wdGlvblwiICYmIGFyZ3VtZW50c1sgMSBdID09PSBcIml0ZW1zXCIgJiYgYXJndW1lbnRzWyAyIF0gKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jb250cm9sZ3JvdXAuYXBwbHkoIHRoaXMsXG5cdFx0XHRcdFsgYXJndW1lbnRzWyAwIF0sIFwiaXRlbXMuYnV0dG9uXCIsIGFyZ3VtZW50c1sgMiBdIF0gKTtcblx0XHR9XG5cdFx0aWYgKCBhcmd1bWVudHNbIDAgXSA9PT0gXCJvcHRpb25cIiAmJiBhcmd1bWVudHNbIDEgXSA9PT0gXCJpdGVtc1wiICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuY29udHJvbGdyb3VwLmFwcGx5KCB0aGlzLCBbIGFyZ3VtZW50c1sgMCBdLCBcIml0ZW1zLmJ1dHRvblwiIF0gKTtcblx0XHR9XG5cdFx0aWYgKCB0eXBlb2YgYXJndW1lbnRzWyAwIF0gPT09IFwib2JqZWN0XCIgJiYgYXJndW1lbnRzWyAwIF0uaXRlbXMgKSB7XG5cdFx0XHRhcmd1bWVudHNbIDAgXS5pdGVtcyA9IHtcblx0XHRcdFx0YnV0dG9uOiBhcmd1bWVudHNbIDAgXS5pdGVtc1xuXHRcdFx0fTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuY29udHJvbGdyb3VwLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0fTtcbn1cblxucmV0dXJuICQudWkuYnV0dG9uO1xuXG59ICkgKTtcbiIsIi8qIVxuICogalF1ZXJ5IFVJIE1lbnUgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IE1lbnVcbi8vPj5ncm91cDogV2lkZ2V0c1xuLy8+PmRlc2NyaXB0aW9uOiBDcmVhdGVzIG5lc3RhYmxlIG1lbnVzLlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL21lbnUvXG4vLz4+ZGVtb3M6IGh0dHA6Ly9qcXVlcnl1aS5jb20vbWVudS9cbi8vPj5jc3Muc3RydWN0dXJlOiAuLi8uLi90aGVtZXMvYmFzZS9jb3JlLmNzc1xuLy8+PmNzcy5zdHJ1Y3R1cmU6IC4uLy4uL3RoZW1lcy9iYXNlL21lbnUuY3NzXG4vLz4+Y3NzLnRoZW1lOiAuLi8uLi90aGVtZXMvYmFzZS90aGVtZS5jc3NcblxuKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFtcblx0XHRcdFwianF1ZXJ5XCIsXG5cdFx0XHRcIi4uL2tleWNvZGVcIixcblx0XHRcdFwiLi4vcG9zaXRpb25cIixcblx0XHRcdFwiLi4vc2FmZS1hY3RpdmUtZWxlbWVudFwiLFxuXHRcdFx0XCIuLi91bmlxdWUtaWRcIixcblx0XHRcdFwiLi4vdmVyc2lvblwiLFxuXHRcdFx0XCIuLi93aWRnZXRcIlxuXHRcdF0sIGZhY3RvcnkgKTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIEJyb3dzZXIgZ2xvYmFsc1xuXHRcdGZhY3RvcnkoIGpRdWVyeSApO1xuXHR9XG59KCBmdW5jdGlvbiggJCApIHtcblxucmV0dXJuICQud2lkZ2V0KCBcInVpLm1lbnVcIiwge1xuXHR2ZXJzaW9uOiBcIjEuMTIuMVwiLFxuXHRkZWZhdWx0RWxlbWVudDogXCI8dWw+XCIsXG5cdGRlbGF5OiAzMDAsXG5cdG9wdGlvbnM6IHtcblx0XHRpY29uczoge1xuXHRcdFx0c3VibWVudTogXCJ1aS1pY29uLWNhcmV0LTEtZVwiXG5cdFx0fSxcblx0XHRpdGVtczogXCI+ICpcIixcblx0XHRtZW51czogXCJ1bFwiLFxuXHRcdHBvc2l0aW9uOiB7XG5cdFx0XHRteTogXCJsZWZ0IHRvcFwiLFxuXHRcdFx0YXQ6IFwicmlnaHQgdG9wXCJcblx0XHR9LFxuXHRcdHJvbGU6IFwibWVudVwiLFxuXG5cdFx0Ly8gQ2FsbGJhY2tzXG5cdFx0Ymx1cjogbnVsbCxcblx0XHRmb2N1czogbnVsbCxcblx0XHRzZWxlY3Q6IG51bGxcblx0fSxcblxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLmFjdGl2ZU1lbnUgPSB0aGlzLmVsZW1lbnQ7XG5cblx0XHQvLyBGbGFnIHVzZWQgdG8gcHJldmVudCBmaXJpbmcgb2YgdGhlIGNsaWNrIGhhbmRsZXJcblx0XHQvLyBhcyB0aGUgZXZlbnQgYnViYmxlcyB1cCB0aHJvdWdoIG5lc3RlZCBtZW51c1xuXHRcdHRoaXMubW91c2VIYW5kbGVkID0gZmFsc2U7XG5cdFx0dGhpcy5lbGVtZW50XG5cdFx0XHQudW5pcXVlSWQoKVxuXHRcdFx0LmF0dHIoIHtcblx0XHRcdFx0cm9sZTogdGhpcy5vcHRpb25zLnJvbGUsXG5cdFx0XHRcdHRhYkluZGV4OiAwXG5cdFx0XHR9ICk7XG5cblx0XHR0aGlzLl9hZGRDbGFzcyggXCJ1aS1tZW51XCIsIFwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50XCIgKTtcblx0XHR0aGlzLl9vbigge1xuXG5cdFx0XHQvLyBQcmV2ZW50IGZvY3VzIGZyb20gc3RpY2tpbmcgdG8gbGlua3MgaW5zaWRlIG1lbnUgYWZ0ZXIgY2xpY2tpbmdcblx0XHRcdC8vIHRoZW0gKGZvY3VzIHNob3VsZCBhbHdheXMgc3RheSBvbiBVTCBkdXJpbmcgbmF2aWdhdGlvbikuXG5cdFx0XHRcIm1vdXNlZG93biAudWktbWVudS1pdGVtXCI6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH0sXG5cdFx0XHRcImNsaWNrIC51aS1tZW51LWl0ZW1cIjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHR2YXIgdGFyZ2V0ID0gJCggZXZlbnQudGFyZ2V0ICk7XG5cdFx0XHRcdHZhciBhY3RpdmUgPSAkKCAkLnVpLnNhZmVBY3RpdmVFbGVtZW50KCB0aGlzLmRvY3VtZW50WyAwIF0gKSApO1xuXHRcdFx0XHRpZiAoICF0aGlzLm1vdXNlSGFuZGxlZCAmJiB0YXJnZXQubm90KCBcIi51aS1zdGF0ZS1kaXNhYmxlZFwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRcdHRoaXMuc2VsZWN0KCBldmVudCApO1xuXG5cdFx0XHRcdFx0Ly8gT25seSBzZXQgdGhlIG1vdXNlSGFuZGxlZCBmbGFnIGlmIHRoZSBldmVudCB3aWxsIGJ1YmJsZSwgc2VlICM5NDY5LlxuXHRcdFx0XHRcdGlmICggIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLm1vdXNlSGFuZGxlZCA9IHRydWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gT3BlbiBzdWJtZW51IG9uIGNsaWNrXG5cdFx0XHRcdFx0aWYgKCB0YXJnZXQuaGFzKCBcIi51aS1tZW51XCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmV4cGFuZCggZXZlbnQgKTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKCAhdGhpcy5lbGVtZW50LmlzKCBcIjpmb2N1c1wiICkgJiZcblx0XHRcdFx0XHRcdFx0YWN0aXZlLmNsb3Nlc3QoIFwiLnVpLW1lbnVcIiApLmxlbmd0aCApIHtcblxuXHRcdFx0XHRcdFx0Ly8gUmVkaXJlY3QgZm9jdXMgdG8gdGhlIG1lbnVcblx0XHRcdFx0XHRcdHRoaXMuZWxlbWVudC50cmlnZ2VyKCBcImZvY3VzXCIsIFsgdHJ1ZSBdICk7XG5cblx0XHRcdFx0XHRcdC8vIElmIHRoZSBhY3RpdmUgaXRlbSBpcyBvbiB0aGUgdG9wIGxldmVsLCBsZXQgaXQgc3RheSBhY3RpdmUuXG5cdFx0XHRcdFx0XHQvLyBPdGhlcndpc2UsIGJsdXIgdGhlIGFjdGl2ZSBpdGVtIHNpbmNlIGl0IGlzIG5vIGxvbmdlciB2aXNpYmxlLlxuXHRcdFx0XHRcdFx0aWYgKCB0aGlzLmFjdGl2ZSAmJiB0aGlzLmFjdGl2ZS5wYXJlbnRzKCBcIi51aS1tZW51XCIgKS5sZW5ndGggPT09IDEgKSB7XG5cdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCggdGhpcy50aW1lciApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdFwibW91c2VlbnRlciAudWktbWVudS1pdGVtXCI6IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdFx0XHQvLyBJZ25vcmUgbW91c2UgZXZlbnRzIHdoaWxlIHR5cGVhaGVhZCBpcyBhY3RpdmUsIHNlZSAjMTA0NTguXG5cdFx0XHRcdC8vIFByZXZlbnRzIGZvY3VzaW5nIHRoZSB3cm9uZyBpdGVtIHdoZW4gdHlwZWFoZWFkIGNhdXNlcyBhIHNjcm9sbCB3aGlsZSB0aGUgbW91c2Vcblx0XHRcdFx0Ly8gaXMgb3ZlciBhbiBpdGVtIGluIHRoZSBtZW51XG5cdFx0XHRcdGlmICggdGhpcy5wcmV2aW91c0ZpbHRlciApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgYWN0dWFsVGFyZ2V0ID0gJCggZXZlbnQudGFyZ2V0ICkuY2xvc2VzdCggXCIudWktbWVudS1pdGVtXCIgKSxcblx0XHRcdFx0XHR0YXJnZXQgPSAkKCBldmVudC5jdXJyZW50VGFyZ2V0ICk7XG5cblx0XHRcdFx0Ly8gSWdub3JlIGJ1YmJsZWQgZXZlbnRzIG9uIHBhcmVudCBpdGVtcywgc2VlICMxMTY0MVxuXHRcdFx0XHRpZiAoIGFjdHVhbFRhcmdldFsgMCBdICE9PSB0YXJnZXRbIDAgXSApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZW1vdmUgdWktc3RhdGUtYWN0aXZlIGNsYXNzIGZyb20gc2libGluZ3Mgb2YgdGhlIG5ld2x5IGZvY3VzZWQgbWVudSBpdGVtXG5cdFx0XHRcdC8vIHRvIGF2b2lkIGEganVtcCBjYXVzZWQgYnkgYWRqYWNlbnQgZWxlbWVudHMgYm90aCBoYXZpbmcgYSBjbGFzcyB3aXRoIGEgYm9yZGVyXG5cdFx0XHRcdHRoaXMuX3JlbW92ZUNsYXNzKCB0YXJnZXQuc2libGluZ3MoKS5jaGlsZHJlbiggXCIudWktc3RhdGUtYWN0aXZlXCIgKSxcblx0XHRcdFx0XHRudWxsLCBcInVpLXN0YXRlLWFjdGl2ZVwiICk7XG5cdFx0XHRcdHRoaXMuZm9jdXMoIGV2ZW50LCB0YXJnZXQgKTtcblx0XHRcdH0sXG5cdFx0XHRtb3VzZWxlYXZlOiBcImNvbGxhcHNlQWxsXCIsXG5cdFx0XHRcIm1vdXNlbGVhdmUgLnVpLW1lbnVcIjogXCJjb2xsYXBzZUFsbFwiLFxuXHRcdFx0Zm9jdXM6IGZ1bmN0aW9uKCBldmVudCwga2VlcEFjdGl2ZUl0ZW0gKSB7XG5cblx0XHRcdFx0Ly8gSWYgdGhlcmUncyBhbHJlYWR5IGFuIGFjdGl2ZSBpdGVtLCBrZWVwIGl0IGFjdGl2ZVxuXHRcdFx0XHQvLyBJZiBub3QsIGFjdGl2YXRlIHRoZSBmaXJzdCBpdGVtXG5cdFx0XHRcdHZhciBpdGVtID0gdGhpcy5hY3RpdmUgfHwgdGhpcy5lbGVtZW50LmZpbmQoIHRoaXMub3B0aW9ucy5pdGVtcyApLmVxKCAwICk7XG5cblx0XHRcdFx0aWYgKCAha2VlcEFjdGl2ZUl0ZW0gKSB7XG5cdFx0XHRcdFx0dGhpcy5mb2N1cyggZXZlbnQsIGl0ZW0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGJsdXI6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0dGhpcy5fZGVsYXkoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciBub3RDb250YWluZWQgPSAhJC5jb250YWlucyhcblx0XHRcdFx0XHRcdHRoaXMuZWxlbWVudFsgMCBdLFxuXHRcdFx0XHRcdFx0JC51aS5zYWZlQWN0aXZlRWxlbWVudCggdGhpcy5kb2N1bWVudFsgMCBdIClcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdGlmICggbm90Q29udGFpbmVkICkge1xuXHRcdFx0XHRcdFx0dGhpcy5jb2xsYXBzZUFsbCggZXZlbnQgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdH0sXG5cdFx0XHRrZXlkb3duOiBcIl9rZXlkb3duXCJcblx0XHR9ICk7XG5cblx0XHR0aGlzLnJlZnJlc2goKTtcblxuXHRcdC8vIENsaWNrcyBvdXRzaWRlIG9mIGEgbWVudSBjb2xsYXBzZSBhbnkgb3BlbiBtZW51c1xuXHRcdHRoaXMuX29uKCB0aGlzLmRvY3VtZW50LCB7XG5cdFx0XHRjbGljazogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRpZiAoIHRoaXMuX2Nsb3NlT25Eb2N1bWVudENsaWNrKCBldmVudCApICkge1xuXHRcdFx0XHRcdHRoaXMuY29sbGFwc2VBbGwoIGV2ZW50ICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZXNldCB0aGUgbW91c2VIYW5kbGVkIGZsYWdcblx0XHRcdFx0dGhpcy5tb3VzZUhhbmRsZWQgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpdGVtcyA9IHRoaXMuZWxlbWVudC5maW5kKCBcIi51aS1tZW51LWl0ZW1cIiApXG5cdFx0XHRcdC5yZW1vdmVBdHRyKCBcInJvbGUgYXJpYS1kaXNhYmxlZFwiICksXG5cdFx0XHRzdWJtZW51cyA9IGl0ZW1zLmNoaWxkcmVuKCBcIi51aS1tZW51LWl0ZW0td3JhcHBlclwiIClcblx0XHRcdFx0LnJlbW92ZVVuaXF1ZUlkKClcblx0XHRcdFx0LnJlbW92ZUF0dHIoIFwidGFiSW5kZXggcm9sZSBhcmlhLWhhc3BvcHVwXCIgKTtcblxuXHRcdC8vIERlc3Ryb3kgKHN1YiltZW51c1xuXHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0LnJlbW92ZUF0dHIoIFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCIgKVxuXHRcdFx0LmZpbmQoIFwiLnVpLW1lbnVcIiApLmFkZEJhY2soKVxuXHRcdFx0XHQucmVtb3ZlQXR0ciggXCJyb2xlIGFyaWEtbGFiZWxsZWRieSBhcmlhLWV4cGFuZGVkIGFyaWEtaGlkZGVuIGFyaWEtZGlzYWJsZWQgXCIgK1xuXHRcdFx0XHRcdFwidGFiSW5kZXhcIiApXG5cdFx0XHRcdC5yZW1vdmVVbmlxdWVJZCgpXG5cdFx0XHRcdC5zaG93KCk7XG5cblx0XHRzdWJtZW51cy5jaGlsZHJlbigpLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGVsZW0gPSAkKCB0aGlzICk7XG5cdFx0XHRpZiAoIGVsZW0uZGF0YSggXCJ1aS1tZW51LXN1Ym1lbnUtY2FyZXRcIiApICkge1xuXHRcdFx0XHRlbGVtLnJlbW92ZSgpO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRfa2V5ZG93bjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBtYXRjaCwgcHJldiwgY2hhcmFjdGVyLCBza2lwLFxuXHRcdFx0cHJldmVudERlZmF1bHQgPSB0cnVlO1xuXG5cdFx0c3dpdGNoICggZXZlbnQua2V5Q29kZSApIHtcblx0XHRjYXNlICQudWkua2V5Q29kZS5QQUdFX1VQOlxuXHRcdFx0dGhpcy5wcmV2aW91c1BhZ2UoIGV2ZW50ICk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICQudWkua2V5Q29kZS5QQUdFX0RPV046XG5cdFx0XHR0aGlzLm5leHRQYWdlKCBldmVudCApO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAkLnVpLmtleUNvZGUuSE9NRTpcblx0XHRcdHRoaXMuX21vdmUoIFwiZmlyc3RcIiwgXCJmaXJzdFwiLCBldmVudCApO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAkLnVpLmtleUNvZGUuRU5EOlxuXHRcdFx0dGhpcy5fbW92ZSggXCJsYXN0XCIsIFwibGFzdFwiLCBldmVudCApO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAkLnVpLmtleUNvZGUuVVA6XG5cdFx0XHR0aGlzLnByZXZpb3VzKCBldmVudCApO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAkLnVpLmtleUNvZGUuRE9XTjpcblx0XHRcdHRoaXMubmV4dCggZXZlbnQgKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJC51aS5rZXlDb2RlLkxFRlQ6XG5cdFx0XHR0aGlzLmNvbGxhcHNlKCBldmVudCApO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAkLnVpLmtleUNvZGUuUklHSFQ6XG5cdFx0XHRpZiAoIHRoaXMuYWN0aXZlICYmICF0aGlzLmFjdGl2ZS5pcyggXCIudWktc3RhdGUtZGlzYWJsZWRcIiApICkge1xuXHRcdFx0XHR0aGlzLmV4cGFuZCggZXZlbnQgKTtcblx0XHRcdH1cblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJC51aS5rZXlDb2RlLkVOVEVSOlxuXHRcdGNhc2UgJC51aS5rZXlDb2RlLlNQQUNFOlxuXHRcdFx0dGhpcy5fYWN0aXZhdGUoIGV2ZW50ICk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICQudWkua2V5Q29kZS5FU0NBUEU6XG5cdFx0XHR0aGlzLmNvbGxhcHNlKCBldmVudCApO1xuXHRcdFx0YnJlYWs7XG5cdFx0ZGVmYXVsdDpcblx0XHRcdHByZXZlbnREZWZhdWx0ID0gZmFsc2U7XG5cdFx0XHRwcmV2ID0gdGhpcy5wcmV2aW91c0ZpbHRlciB8fCBcIlwiO1xuXHRcdFx0c2tpcCA9IGZhbHNlO1xuXG5cdFx0XHQvLyBTdXBwb3J0IG51bWJlciBwYWQgdmFsdWVzXG5cdFx0XHRjaGFyYWN0ZXIgPSBldmVudC5rZXlDb2RlID49IDk2ICYmIGV2ZW50LmtleUNvZGUgPD0gMTA1ID9cblx0XHRcdFx0KCBldmVudC5rZXlDb2RlIC0gOTYgKS50b1N0cmluZygpIDogU3RyaW5nLmZyb21DaGFyQ29kZSggZXZlbnQua2V5Q29kZSApO1xuXG5cdFx0XHRjbGVhclRpbWVvdXQoIHRoaXMuZmlsdGVyVGltZXIgKTtcblxuXHRcdFx0aWYgKCBjaGFyYWN0ZXIgPT09IHByZXYgKSB7XG5cdFx0XHRcdHNraXAgPSB0cnVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y2hhcmFjdGVyID0gcHJldiArIGNoYXJhY3Rlcjtcblx0XHRcdH1cblxuXHRcdFx0bWF0Y2ggPSB0aGlzLl9maWx0ZXJNZW51SXRlbXMoIGNoYXJhY3RlciApO1xuXHRcdFx0bWF0Y2ggPSBza2lwICYmIG1hdGNoLmluZGV4KCB0aGlzLmFjdGl2ZS5uZXh0KCkgKSAhPT0gLTEgP1xuXHRcdFx0XHR0aGlzLmFjdGl2ZS5uZXh0QWxsKCBcIi51aS1tZW51LWl0ZW1cIiApIDpcblx0XHRcdFx0bWF0Y2g7XG5cblx0XHRcdC8vIElmIG5vIG1hdGNoZXMgb24gdGhlIGN1cnJlbnQgZmlsdGVyLCByZXNldCB0byB0aGUgbGFzdCBjaGFyYWN0ZXIgcHJlc3NlZFxuXHRcdFx0Ly8gdG8gbW92ZSBkb3duIHRoZSBtZW51IHRvIHRoZSBmaXJzdCBpdGVtIHRoYXQgc3RhcnRzIHdpdGggdGhhdCBjaGFyYWN0ZXJcblx0XHRcdGlmICggIW1hdGNoLmxlbmd0aCApIHtcblx0XHRcdFx0Y2hhcmFjdGVyID0gU3RyaW5nLmZyb21DaGFyQ29kZSggZXZlbnQua2V5Q29kZSApO1xuXHRcdFx0XHRtYXRjaCA9IHRoaXMuX2ZpbHRlck1lbnVJdGVtcyggY2hhcmFjdGVyICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggbWF0Y2gubGVuZ3RoICkge1xuXHRcdFx0XHR0aGlzLmZvY3VzKCBldmVudCwgbWF0Y2ggKTtcblx0XHRcdFx0dGhpcy5wcmV2aW91c0ZpbHRlciA9IGNoYXJhY3Rlcjtcblx0XHRcdFx0dGhpcy5maWx0ZXJUaW1lciA9IHRoaXMuX2RlbGF5KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRkZWxldGUgdGhpcy5wcmV2aW91c0ZpbHRlcjtcblx0XHRcdFx0fSwgMTAwMCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVsZXRlIHRoaXMucHJldmlvdXNGaWx0ZXI7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCBwcmV2ZW50RGVmYXVsdCApIHtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9hY3RpdmF0ZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdGlmICggdGhpcy5hY3RpdmUgJiYgIXRoaXMuYWN0aXZlLmlzKCBcIi51aS1zdGF0ZS1kaXNhYmxlZFwiICkgKSB7XG5cdFx0XHRpZiAoIHRoaXMuYWN0aXZlLmNoaWxkcmVuKCBcIlthcmlhLWhhc3BvcHVwPSd0cnVlJ11cIiApLmxlbmd0aCApIHtcblx0XHRcdFx0dGhpcy5leHBhbmQoIGV2ZW50ICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLnNlbGVjdCggZXZlbnQgKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0cmVmcmVzaDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG1lbnVzLCBpdGVtcywgbmV3U3VibWVudXMsIG5ld0l0ZW1zLCBuZXdXcmFwcGVycyxcblx0XHRcdHRoYXQgPSB0aGlzLFxuXHRcdFx0aWNvbiA9IHRoaXMub3B0aW9ucy5pY29ucy5zdWJtZW51LFxuXHRcdFx0c3VibWVudXMgPSB0aGlzLmVsZW1lbnQuZmluZCggdGhpcy5vcHRpb25zLm1lbnVzICk7XG5cblx0XHR0aGlzLl90b2dnbGVDbGFzcyggXCJ1aS1tZW51LWljb25zXCIsIG51bGwsICEhdGhpcy5lbGVtZW50LmZpbmQoIFwiLnVpLWljb25cIiApLmxlbmd0aCApO1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSBuZXN0ZWQgbWVudXNcblx0XHRuZXdTdWJtZW51cyA9IHN1Ym1lbnVzLmZpbHRlciggXCI6bm90KC51aS1tZW51KVwiIClcblx0XHRcdC5oaWRlKClcblx0XHRcdC5hdHRyKCB7XG5cdFx0XHRcdHJvbGU6IHRoaXMub3B0aW9ucy5yb2xlLFxuXHRcdFx0XHRcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLFxuXHRcdFx0XHRcImFyaWEtZXhwYW5kZWRcIjogXCJmYWxzZVwiXG5cdFx0XHR9IClcblx0XHRcdC5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG1lbnUgPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0aXRlbSA9IG1lbnUucHJldigpLFxuXHRcdFx0XHRcdHN1Ym1lbnVDYXJldCA9ICQoIFwiPHNwYW4+XCIgKS5kYXRhKCBcInVpLW1lbnUtc3VibWVudS1jYXJldFwiLCB0cnVlICk7XG5cblx0XHRcdFx0dGhhdC5fYWRkQ2xhc3MoIHN1Ym1lbnVDYXJldCwgXCJ1aS1tZW51LWljb25cIiwgXCJ1aS1pY29uIFwiICsgaWNvbiApO1xuXHRcdFx0XHRpdGVtXG5cdFx0XHRcdFx0LmF0dHIoIFwiYXJpYS1oYXNwb3B1cFwiLCBcInRydWVcIiApXG5cdFx0XHRcdFx0LnByZXBlbmQoIHN1Ym1lbnVDYXJldCApO1xuXHRcdFx0XHRtZW51LmF0dHIoIFwiYXJpYS1sYWJlbGxlZGJ5XCIsIGl0ZW0uYXR0ciggXCJpZFwiICkgKTtcblx0XHRcdH0gKTtcblxuXHRcdHRoaXMuX2FkZENsYXNzKCBuZXdTdWJtZW51cywgXCJ1aS1tZW51XCIsIFwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWZyb250XCIgKTtcblxuXHRcdG1lbnVzID0gc3VibWVudXMuYWRkKCB0aGlzLmVsZW1lbnQgKTtcblx0XHRpdGVtcyA9IG1lbnVzLmZpbmQoIHRoaXMub3B0aW9ucy5pdGVtcyApO1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSBtZW51LWl0ZW1zIGNvbnRhaW5pbmcgc3BhY2VzIGFuZC9vciBkYXNoZXMgb25seSBhcyBkaXZpZGVyc1xuXHRcdGl0ZW1zLm5vdCggXCIudWktbWVudS1pdGVtXCIgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpdGVtID0gJCggdGhpcyApO1xuXHRcdFx0aWYgKCB0aGF0Ll9pc0RpdmlkZXIoIGl0ZW0gKSApIHtcblx0XHRcdFx0dGhhdC5fYWRkQ2xhc3MoIGl0ZW0sIFwidWktbWVudS1kaXZpZGVyXCIsIFwidWktd2lkZ2V0LWNvbnRlbnRcIiApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblxuXHRcdC8vIERvbid0IHJlZnJlc2ggbGlzdCBpdGVtcyB0aGF0IGFyZSBhbHJlYWR5IGFkYXB0ZWRcblx0XHRuZXdJdGVtcyA9IGl0ZW1zLm5vdCggXCIudWktbWVudS1pdGVtLCAudWktbWVudS1kaXZpZGVyXCIgKTtcblx0XHRuZXdXcmFwcGVycyA9IG5ld0l0ZW1zLmNoaWxkcmVuKClcblx0XHRcdC5ub3QoIFwiLnVpLW1lbnVcIiApXG5cdFx0XHRcdC51bmlxdWVJZCgpXG5cdFx0XHRcdC5hdHRyKCB7XG5cdFx0XHRcdFx0dGFiSW5kZXg6IC0xLFxuXHRcdFx0XHRcdHJvbGU6IHRoaXMuX2l0ZW1Sb2xlKClcblx0XHRcdFx0fSApO1xuXHRcdHRoaXMuX2FkZENsYXNzKCBuZXdJdGVtcywgXCJ1aS1tZW51LWl0ZW1cIiApXG5cdFx0XHQuX2FkZENsYXNzKCBuZXdXcmFwcGVycywgXCJ1aS1tZW51LWl0ZW0td3JhcHBlclwiICk7XG5cblx0XHQvLyBBZGQgYXJpYS1kaXNhYmxlZCBhdHRyaWJ1dGUgdG8gYW55IGRpc2FibGVkIG1lbnUgaXRlbVxuXHRcdGl0ZW1zLmZpbHRlciggXCIudWktc3RhdGUtZGlzYWJsZWRcIiApLmF0dHIoIFwiYXJpYS1kaXNhYmxlZFwiLCBcInRydWVcIiApO1xuXG5cdFx0Ly8gSWYgdGhlIGFjdGl2ZSBpdGVtIGhhcyBiZWVuIHJlbW92ZWQsIGJsdXIgdGhlIG1lbnVcblx0XHRpZiAoIHRoaXMuYWN0aXZlICYmICEkLmNvbnRhaW5zKCB0aGlzLmVsZW1lbnRbIDAgXSwgdGhpcy5hY3RpdmVbIDAgXSApICkge1xuXHRcdFx0dGhpcy5ibHVyKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9pdGVtUm9sZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdG1lbnU6IFwibWVudWl0ZW1cIixcblx0XHRcdGxpc3Rib3g6IFwib3B0aW9uXCJcblx0XHR9WyB0aGlzLm9wdGlvbnMucm9sZSBdO1xuXHR9LFxuXG5cdF9zZXRPcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdGlmICgga2V5ID09PSBcImljb25zXCIgKSB7XG5cdFx0XHR2YXIgaWNvbnMgPSB0aGlzLmVsZW1lbnQuZmluZCggXCIudWktbWVudS1pY29uXCIgKTtcblx0XHRcdHRoaXMuX3JlbW92ZUNsYXNzKCBpY29ucywgbnVsbCwgdGhpcy5vcHRpb25zLmljb25zLnN1Ym1lbnUgKVxuXHRcdFx0XHQuX2FkZENsYXNzKCBpY29ucywgbnVsbCwgdmFsdWUuc3VibWVudSApO1xuXHRcdH1cblx0XHR0aGlzLl9zdXBlcigga2V5LCB2YWx1ZSApO1xuXHR9LFxuXG5cdF9zZXRPcHRpb25EaXNhYmxlZDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHRoaXMuX3N1cGVyKCB2YWx1ZSApO1xuXG5cdFx0dGhpcy5lbGVtZW50LmF0dHIoIFwiYXJpYS1kaXNhYmxlZFwiLCBTdHJpbmcoIHZhbHVlICkgKTtcblx0XHR0aGlzLl90b2dnbGVDbGFzcyggbnVsbCwgXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiLCAhIXZhbHVlICk7XG5cdH0sXG5cblx0Zm9jdXM6IGZ1bmN0aW9uKCBldmVudCwgaXRlbSApIHtcblx0XHR2YXIgbmVzdGVkLCBmb2N1c2VkLCBhY3RpdmVQYXJlbnQ7XG5cdFx0dGhpcy5ibHVyKCBldmVudCwgZXZlbnQgJiYgZXZlbnQudHlwZSA9PT0gXCJmb2N1c1wiICk7XG5cblx0XHR0aGlzLl9zY3JvbGxJbnRvVmlldyggaXRlbSApO1xuXG5cdFx0dGhpcy5hY3RpdmUgPSBpdGVtLmZpcnN0KCk7XG5cblx0XHRmb2N1c2VkID0gdGhpcy5hY3RpdmUuY2hpbGRyZW4oIFwiLnVpLW1lbnUtaXRlbS13cmFwcGVyXCIgKTtcblx0XHR0aGlzLl9hZGRDbGFzcyggZm9jdXNlZCwgbnVsbCwgXCJ1aS1zdGF0ZS1hY3RpdmVcIiApO1xuXG5cdFx0Ly8gT25seSB1cGRhdGUgYXJpYS1hY3RpdmVkZXNjZW5kYW50IGlmIHRoZXJlJ3MgYSByb2xlXG5cdFx0Ly8gb3RoZXJ3aXNlIHdlIGFzc3VtZSBmb2N1cyBpcyBtYW5hZ2VkIGVsc2V3aGVyZVxuXHRcdGlmICggdGhpcy5vcHRpb25zLnJvbGUgKSB7XG5cdFx0XHR0aGlzLmVsZW1lbnQuYXR0ciggXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIiwgZm9jdXNlZC5hdHRyKCBcImlkXCIgKSApO1xuXHRcdH1cblxuXHRcdC8vIEhpZ2hsaWdodCBhY3RpdmUgcGFyZW50IG1lbnUgaXRlbSwgaWYgYW55XG5cdFx0YWN0aXZlUGFyZW50ID0gdGhpcy5hY3RpdmVcblx0XHRcdC5wYXJlbnQoKVxuXHRcdFx0XHQuY2xvc2VzdCggXCIudWktbWVudS1pdGVtXCIgKVxuXHRcdFx0XHRcdC5jaGlsZHJlbiggXCIudWktbWVudS1pdGVtLXdyYXBwZXJcIiApO1xuXHRcdHRoaXMuX2FkZENsYXNzKCBhY3RpdmVQYXJlbnQsIG51bGwsIFwidWktc3RhdGUtYWN0aXZlXCIgKTtcblxuXHRcdGlmICggZXZlbnQgJiYgZXZlbnQudHlwZSA9PT0gXCJrZXlkb3duXCIgKSB7XG5cdFx0XHR0aGlzLl9jbG9zZSgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnRpbWVyID0gdGhpcy5fZGVsYXkoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0aGlzLl9jbG9zZSgpO1xuXHRcdFx0fSwgdGhpcy5kZWxheSApO1xuXHRcdH1cblxuXHRcdG5lc3RlZCA9IGl0ZW0uY2hpbGRyZW4oIFwiLnVpLW1lbnVcIiApO1xuXHRcdGlmICggbmVzdGVkLmxlbmd0aCAmJiBldmVudCAmJiAoIC9ebW91c2UvLnRlc3QoIGV2ZW50LnR5cGUgKSApICkge1xuXHRcdFx0dGhpcy5fc3RhcnRPcGVuaW5nKCBuZXN0ZWQgKTtcblx0XHR9XG5cdFx0dGhpcy5hY3RpdmVNZW51ID0gaXRlbS5wYXJlbnQoKTtcblxuXHRcdHRoaXMuX3RyaWdnZXIoIFwiZm9jdXNcIiwgZXZlbnQsIHsgaXRlbTogaXRlbSB9ICk7XG5cdH0sXG5cblx0X3Njcm9sbEludG9WaWV3OiBmdW5jdGlvbiggaXRlbSApIHtcblx0XHR2YXIgYm9yZGVyVG9wLCBwYWRkaW5nVG9wLCBvZmZzZXQsIHNjcm9sbCwgZWxlbWVudEhlaWdodCwgaXRlbUhlaWdodDtcblx0XHRpZiAoIHRoaXMuX2hhc1Njcm9sbCgpICkge1xuXHRcdFx0Ym9yZGVyVG9wID0gcGFyc2VGbG9hdCggJC5jc3MoIHRoaXMuYWN0aXZlTWVudVsgMCBdLCBcImJvcmRlclRvcFdpZHRoXCIgKSApIHx8IDA7XG5cdFx0XHRwYWRkaW5nVG9wID0gcGFyc2VGbG9hdCggJC5jc3MoIHRoaXMuYWN0aXZlTWVudVsgMCBdLCBcInBhZGRpbmdUb3BcIiApICkgfHwgMDtcblx0XHRcdG9mZnNldCA9IGl0ZW0ub2Zmc2V0KCkudG9wIC0gdGhpcy5hY3RpdmVNZW51Lm9mZnNldCgpLnRvcCAtIGJvcmRlclRvcCAtIHBhZGRpbmdUb3A7XG5cdFx0XHRzY3JvbGwgPSB0aGlzLmFjdGl2ZU1lbnUuc2Nyb2xsVG9wKCk7XG5cdFx0XHRlbGVtZW50SGVpZ2h0ID0gdGhpcy5hY3RpdmVNZW51LmhlaWdodCgpO1xuXHRcdFx0aXRlbUhlaWdodCA9IGl0ZW0ub3V0ZXJIZWlnaHQoKTtcblxuXHRcdFx0aWYgKCBvZmZzZXQgPCAwICkge1xuXHRcdFx0XHR0aGlzLmFjdGl2ZU1lbnUuc2Nyb2xsVG9wKCBzY3JvbGwgKyBvZmZzZXQgKTtcblx0XHRcdH0gZWxzZSBpZiAoIG9mZnNldCArIGl0ZW1IZWlnaHQgPiBlbGVtZW50SGVpZ2h0ICkge1xuXHRcdFx0XHR0aGlzLmFjdGl2ZU1lbnUuc2Nyb2xsVG9wKCBzY3JvbGwgKyBvZmZzZXQgLSBlbGVtZW50SGVpZ2h0ICsgaXRlbUhlaWdodCApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRibHVyOiBmdW5jdGlvbiggZXZlbnQsIGZyb21Gb2N1cyApIHtcblx0XHRpZiAoICFmcm9tRm9jdXMgKSB7XG5cdFx0XHRjbGVhclRpbWVvdXQoIHRoaXMudGltZXIgKTtcblx0XHR9XG5cblx0XHRpZiAoICF0aGlzLmFjdGl2ZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLl9yZW1vdmVDbGFzcyggdGhpcy5hY3RpdmUuY2hpbGRyZW4oIFwiLnVpLW1lbnUtaXRlbS13cmFwcGVyXCIgKSxcblx0XHRcdG51bGwsIFwidWktc3RhdGUtYWN0aXZlXCIgKTtcblxuXHRcdHRoaXMuX3RyaWdnZXIoIFwiYmx1clwiLCBldmVudCwgeyBpdGVtOiB0aGlzLmFjdGl2ZSB9ICk7XG5cdFx0dGhpcy5hY3RpdmUgPSBudWxsO1xuXHR9LFxuXG5cdF9zdGFydE9wZW5pbmc6IGZ1bmN0aW9uKCBzdWJtZW51ICkge1xuXHRcdGNsZWFyVGltZW91dCggdGhpcy50aW1lciApO1xuXG5cdFx0Ly8gRG9uJ3Qgb3BlbiBpZiBhbHJlYWR5IG9wZW4gZml4ZXMgYSBGaXJlZm94IGJ1ZyB0aGF0IGNhdXNlZCBhIC41IHBpeGVsXG5cdFx0Ly8gc2hpZnQgaW4gdGhlIHN1Ym1lbnUgcG9zaXRpb24gd2hlbiBtb3VzaW5nIG92ZXIgdGhlIGNhcmV0IGljb25cblx0XHRpZiAoIHN1Ym1lbnUuYXR0ciggXCJhcmlhLWhpZGRlblwiICkgIT09IFwidHJ1ZVwiICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMudGltZXIgPSB0aGlzLl9kZWxheSggZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLl9jbG9zZSgpO1xuXHRcdFx0dGhpcy5fb3Blbiggc3VibWVudSApO1xuXHRcdH0sIHRoaXMuZGVsYXkgKTtcblx0fSxcblxuXHRfb3BlbjogZnVuY3Rpb24oIHN1Ym1lbnUgKSB7XG5cdFx0dmFyIHBvc2l0aW9uID0gJC5leHRlbmQoIHtcblx0XHRcdG9mOiB0aGlzLmFjdGl2ZVxuXHRcdH0sIHRoaXMub3B0aW9ucy5wb3NpdGlvbiApO1xuXG5cdFx0Y2xlYXJUaW1lb3V0KCB0aGlzLnRpbWVyICk7XG5cdFx0dGhpcy5lbGVtZW50LmZpbmQoIFwiLnVpLW1lbnVcIiApLm5vdCggc3VibWVudS5wYXJlbnRzKCBcIi51aS1tZW51XCIgKSApXG5cdFx0XHQuaGlkZSgpXG5cdFx0XHQuYXR0ciggXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIiApO1xuXG5cdFx0c3VibWVudVxuXHRcdFx0LnNob3coKVxuXHRcdFx0LnJlbW92ZUF0dHIoIFwiYXJpYS1oaWRkZW5cIiApXG5cdFx0XHQuYXR0ciggXCJhcmlhLWV4cGFuZGVkXCIsIFwidHJ1ZVwiIClcblx0XHRcdC5wb3NpdGlvbiggcG9zaXRpb24gKTtcblx0fSxcblxuXHRjb2xsYXBzZUFsbDogZnVuY3Rpb24oIGV2ZW50LCBhbGwgKSB7XG5cdFx0Y2xlYXJUaW1lb3V0KCB0aGlzLnRpbWVyICk7XG5cdFx0dGhpcy50aW1lciA9IHRoaXMuX2RlbGF5KCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gSWYgd2Ugd2VyZSBwYXNzZWQgYW4gZXZlbnQsIGxvb2sgZm9yIHRoZSBzdWJtZW51IHRoYXQgY29udGFpbnMgdGhlIGV2ZW50XG5cdFx0XHR2YXIgY3VycmVudE1lbnUgPSBhbGwgPyB0aGlzLmVsZW1lbnQgOlxuXHRcdFx0XHQkKCBldmVudCAmJiBldmVudC50YXJnZXQgKS5jbG9zZXN0KCB0aGlzLmVsZW1lbnQuZmluZCggXCIudWktbWVudVwiICkgKTtcblxuXHRcdFx0Ly8gSWYgd2UgZm91bmQgbm8gdmFsaWQgc3VibWVudSBhbmNlc3RvciwgdXNlIHRoZSBtYWluIG1lbnUgdG8gY2xvc2UgYWxsXG5cdFx0XHQvLyBzdWIgbWVudXMgYW55d2F5XG5cdFx0XHRpZiAoICFjdXJyZW50TWVudS5sZW5ndGggKSB7XG5cdFx0XHRcdGN1cnJlbnRNZW51ID0gdGhpcy5lbGVtZW50O1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9jbG9zZSggY3VycmVudE1lbnUgKTtcblxuXHRcdFx0dGhpcy5ibHVyKCBldmVudCApO1xuXG5cdFx0XHQvLyBXb3JrIGFyb3VuZCBhY3RpdmUgaXRlbSBzdGF5aW5nIGFjdGl2ZSBhZnRlciBtZW51IGlzIGJsdXJyZWRcblx0XHRcdHRoaXMuX3JlbW92ZUNsYXNzKCBjdXJyZW50TWVudS5maW5kKCBcIi51aS1zdGF0ZS1hY3RpdmVcIiApLCBudWxsLCBcInVpLXN0YXRlLWFjdGl2ZVwiICk7XG5cblx0XHRcdHRoaXMuYWN0aXZlTWVudSA9IGN1cnJlbnRNZW51O1xuXHRcdH0sIHRoaXMuZGVsYXkgKTtcblx0fSxcblxuXHQvLyBXaXRoIG5vIGFyZ3VtZW50cywgY2xvc2VzIHRoZSBjdXJyZW50bHkgYWN0aXZlIG1lbnUgLSBpZiBub3RoaW5nIGlzIGFjdGl2ZVxuXHQvLyBpdCBjbG9zZXMgYWxsIG1lbnVzLiAgSWYgcGFzc2VkIGFuIGFyZ3VtZW50LCBpdCB3aWxsIHNlYXJjaCBmb3IgbWVudXMgQkVMT1dcblx0X2Nsb3NlOiBmdW5jdGlvbiggc3RhcnRNZW51ICkge1xuXHRcdGlmICggIXN0YXJ0TWVudSApIHtcblx0XHRcdHN0YXJ0TWVudSA9IHRoaXMuYWN0aXZlID8gdGhpcy5hY3RpdmUucGFyZW50KCkgOiB0aGlzLmVsZW1lbnQ7XG5cdFx0fVxuXG5cdFx0c3RhcnRNZW51LmZpbmQoIFwiLnVpLW1lbnVcIiApXG5cdFx0XHQuaGlkZSgpXG5cdFx0XHQuYXR0ciggXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIiApXG5cdFx0XHQuYXR0ciggXCJhcmlhLWV4cGFuZGVkXCIsIFwiZmFsc2VcIiApO1xuXHR9LFxuXG5cdF9jbG9zZU9uRG9jdW1lbnRDbGljazogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHJldHVybiAhJCggZXZlbnQudGFyZ2V0ICkuY2xvc2VzdCggXCIudWktbWVudVwiICkubGVuZ3RoO1xuXHR9LFxuXG5cdF9pc0RpdmlkZXI6IGZ1bmN0aW9uKCBpdGVtICkge1xuXG5cdFx0Ly8gTWF0Y2ggaHlwaGVuLCBlbSBkYXNoLCBlbiBkYXNoXG5cdFx0cmV0dXJuICEvW15cXC1cXHUyMDE0XFx1MjAxM1xcc10vLnRlc3QoIGl0ZW0udGV4dCgpICk7XG5cdH0sXG5cblx0Y29sbGFwc2U6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgbmV3SXRlbSA9IHRoaXMuYWN0aXZlICYmXG5cdFx0XHR0aGlzLmFjdGl2ZS5wYXJlbnQoKS5jbG9zZXN0KCBcIi51aS1tZW51LWl0ZW1cIiwgdGhpcy5lbGVtZW50ICk7XG5cdFx0aWYgKCBuZXdJdGVtICYmIG5ld0l0ZW0ubGVuZ3RoICkge1xuXHRcdFx0dGhpcy5fY2xvc2UoKTtcblx0XHRcdHRoaXMuZm9jdXMoIGV2ZW50LCBuZXdJdGVtICk7XG5cdFx0fVxuXHR9LFxuXG5cdGV4cGFuZDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBuZXdJdGVtID0gdGhpcy5hY3RpdmUgJiZcblx0XHRcdHRoaXMuYWN0aXZlXG5cdFx0XHRcdC5jaGlsZHJlbiggXCIudWktbWVudSBcIiApXG5cdFx0XHRcdFx0LmZpbmQoIHRoaXMub3B0aW9ucy5pdGVtcyApXG5cdFx0XHRcdFx0XHQuZmlyc3QoKTtcblxuXHRcdGlmICggbmV3SXRlbSAmJiBuZXdJdGVtLmxlbmd0aCApIHtcblx0XHRcdHRoaXMuX29wZW4oIG5ld0l0ZW0ucGFyZW50KCkgKTtcblxuXHRcdFx0Ly8gRGVsYXkgc28gRmlyZWZveCB3aWxsIG5vdCBoaWRlIGFjdGl2ZWRlc2NlbmRhbnQgY2hhbmdlIGluIGV4cGFuZGluZyBzdWJtZW51IGZyb20gQVRcblx0XHRcdHRoaXMuX2RlbGF5KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhpcy5mb2N1cyggZXZlbnQsIG5ld0l0ZW0gKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cdH0sXG5cblx0bmV4dDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHRoaXMuX21vdmUoIFwibmV4dFwiLCBcImZpcnN0XCIsIGV2ZW50ICk7XG5cdH0sXG5cblx0cHJldmlvdXM6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR0aGlzLl9tb3ZlKCBcInByZXZcIiwgXCJsYXN0XCIsIGV2ZW50ICk7XG5cdH0sXG5cblx0aXNGaXJzdEl0ZW06IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmFjdGl2ZSAmJiAhdGhpcy5hY3RpdmUucHJldkFsbCggXCIudWktbWVudS1pdGVtXCIgKS5sZW5ndGg7XG5cdH0sXG5cblx0aXNMYXN0SXRlbTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuYWN0aXZlICYmICF0aGlzLmFjdGl2ZS5uZXh0QWxsKCBcIi51aS1tZW51LWl0ZW1cIiApLmxlbmd0aDtcblx0fSxcblxuXHRfbW92ZTogZnVuY3Rpb24oIGRpcmVjdGlvbiwgZmlsdGVyLCBldmVudCApIHtcblx0XHR2YXIgbmV4dDtcblx0XHRpZiAoIHRoaXMuYWN0aXZlICkge1xuXHRcdFx0aWYgKCBkaXJlY3Rpb24gPT09IFwiZmlyc3RcIiB8fCBkaXJlY3Rpb24gPT09IFwibGFzdFwiICkge1xuXHRcdFx0XHRuZXh0ID0gdGhpcy5hY3RpdmVcblx0XHRcdFx0XHRbIGRpcmVjdGlvbiA9PT0gXCJmaXJzdFwiID8gXCJwcmV2QWxsXCIgOiBcIm5leHRBbGxcIiBdKCBcIi51aS1tZW51LWl0ZW1cIiApXG5cdFx0XHRcdFx0LmVxKCAtMSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bmV4dCA9IHRoaXMuYWN0aXZlXG5cdFx0XHRcdFx0WyBkaXJlY3Rpb24gKyBcIkFsbFwiIF0oIFwiLnVpLW1lbnUtaXRlbVwiIClcblx0XHRcdFx0XHQuZXEoIDAgKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKCAhbmV4dCB8fCAhbmV4dC5sZW5ndGggfHwgIXRoaXMuYWN0aXZlICkge1xuXHRcdFx0bmV4dCA9IHRoaXMuYWN0aXZlTWVudS5maW5kKCB0aGlzLm9wdGlvbnMuaXRlbXMgKVsgZmlsdGVyIF0oKTtcblx0XHR9XG5cblx0XHR0aGlzLmZvY3VzKCBldmVudCwgbmV4dCApO1xuXHR9LFxuXG5cdG5leHRQYWdlOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIGl0ZW0sIGJhc2UsIGhlaWdodDtcblxuXHRcdGlmICggIXRoaXMuYWN0aXZlICkge1xuXHRcdFx0dGhpcy5uZXh0KCBldmVudCApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAoIHRoaXMuaXNMYXN0SXRlbSgpICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAoIHRoaXMuX2hhc1Njcm9sbCgpICkge1xuXHRcdFx0YmFzZSA9IHRoaXMuYWN0aXZlLm9mZnNldCgpLnRvcDtcblx0XHRcdGhlaWdodCA9IHRoaXMuZWxlbWVudC5oZWlnaHQoKTtcblx0XHRcdHRoaXMuYWN0aXZlLm5leHRBbGwoIFwiLnVpLW1lbnUtaXRlbVwiICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGl0ZW0gPSAkKCB0aGlzICk7XG5cdFx0XHRcdHJldHVybiBpdGVtLm9mZnNldCgpLnRvcCAtIGJhc2UgLSBoZWlnaHQgPCAwO1xuXHRcdFx0fSApO1xuXG5cdFx0XHR0aGlzLmZvY3VzKCBldmVudCwgaXRlbSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmZvY3VzKCBldmVudCwgdGhpcy5hY3RpdmVNZW51LmZpbmQoIHRoaXMub3B0aW9ucy5pdGVtcyApXG5cdFx0XHRcdFsgIXRoaXMuYWN0aXZlID8gXCJmaXJzdFwiIDogXCJsYXN0XCIgXSgpICk7XG5cdFx0fVxuXHR9LFxuXG5cdHByZXZpb3VzUGFnZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBpdGVtLCBiYXNlLCBoZWlnaHQ7XG5cdFx0aWYgKCAhdGhpcy5hY3RpdmUgKSB7XG5cdFx0XHR0aGlzLm5leHQoIGV2ZW50ICk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmICggdGhpcy5pc0ZpcnN0SXRlbSgpICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAoIHRoaXMuX2hhc1Njcm9sbCgpICkge1xuXHRcdFx0YmFzZSA9IHRoaXMuYWN0aXZlLm9mZnNldCgpLnRvcDtcblx0XHRcdGhlaWdodCA9IHRoaXMuZWxlbWVudC5oZWlnaHQoKTtcblx0XHRcdHRoaXMuYWN0aXZlLnByZXZBbGwoIFwiLnVpLW1lbnUtaXRlbVwiICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGl0ZW0gPSAkKCB0aGlzICk7XG5cdFx0XHRcdHJldHVybiBpdGVtLm9mZnNldCgpLnRvcCAtIGJhc2UgKyBoZWlnaHQgPiAwO1xuXHRcdFx0fSApO1xuXG5cdFx0XHR0aGlzLmZvY3VzKCBldmVudCwgaXRlbSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmZvY3VzKCBldmVudCwgdGhpcy5hY3RpdmVNZW51LmZpbmQoIHRoaXMub3B0aW9ucy5pdGVtcyApLmZpcnN0KCkgKTtcblx0XHR9XG5cdH0sXG5cblx0X2hhc1Njcm9sbDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpIDwgdGhpcy5lbGVtZW50LnByb3AoIFwic2Nyb2xsSGVpZ2h0XCIgKTtcblx0fSxcblxuXHRzZWxlY3Q6IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdC8vIFRPRE86IEl0IHNob3VsZCBuZXZlciBiZSBwb3NzaWJsZSB0byBub3QgaGF2ZSBhbiBhY3RpdmUgaXRlbSBhdCB0aGlzXG5cdFx0Ly8gcG9pbnQsIGJ1dCB0aGUgdGVzdHMgZG9uJ3QgdHJpZ2dlciBtb3VzZWVudGVyIGJlZm9yZSBjbGljay5cblx0XHR0aGlzLmFjdGl2ZSA9IHRoaXMuYWN0aXZlIHx8ICQoIGV2ZW50LnRhcmdldCApLmNsb3Nlc3QoIFwiLnVpLW1lbnUtaXRlbVwiICk7XG5cdFx0dmFyIHVpID0geyBpdGVtOiB0aGlzLmFjdGl2ZSB9O1xuXHRcdGlmICggIXRoaXMuYWN0aXZlLmhhcyggXCIudWktbWVudVwiICkubGVuZ3RoICkge1xuXHRcdFx0dGhpcy5jb2xsYXBzZUFsbCggZXZlbnQsIHRydWUgKTtcblx0XHR9XG5cdFx0dGhpcy5fdHJpZ2dlciggXCJzZWxlY3RcIiwgZXZlbnQsIHVpICk7XG5cdH0sXG5cblx0X2ZpbHRlck1lbnVJdGVtczogZnVuY3Rpb24oIGNoYXJhY3RlciApIHtcblx0XHR2YXIgZXNjYXBlZENoYXJhY3RlciA9IGNoYXJhY3Rlci5yZXBsYWNlKCAvW1xcLVxcW1xcXXt9KCkqKz8uLFxcXFxcXF4kfCNcXHNdL2csIFwiXFxcXCQmXCIgKSxcblx0XHRcdHJlZ2V4ID0gbmV3IFJlZ0V4cCggXCJeXCIgKyBlc2NhcGVkQ2hhcmFjdGVyLCBcImlcIiApO1xuXG5cdFx0cmV0dXJuIHRoaXMuYWN0aXZlTWVudVxuXHRcdFx0LmZpbmQoIHRoaXMub3B0aW9ucy5pdGVtcyApXG5cblx0XHRcdFx0Ly8gT25seSBtYXRjaCBvbiBpdGVtcywgbm90IGRpdmlkZXJzIG9yIG90aGVyIGNvbnRlbnQgKCMxMDU3MSlcblx0XHRcdFx0LmZpbHRlciggXCIudWktbWVudS1pdGVtXCIgKVxuXHRcdFx0XHRcdC5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJlZ2V4LnRlc3QoXG5cdFx0XHRcdFx0XHRcdCQudHJpbSggJCggdGhpcyApLmNoaWxkcmVuKCBcIi51aS1tZW51LWl0ZW0td3JhcHBlclwiICkudGV4dCgpICkgKTtcblx0XHRcdFx0XHR9ICk7XG5cdH1cbn0gKTtcblxufSApICk7XG4iLCIvKiFcbiAqIGpRdWVyeSBVSSBNb3VzZSAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogTW91c2Vcbi8vPj5ncm91cDogV2lkZ2V0c1xuLy8+PmRlc2NyaXB0aW9uOiBBYnN0cmFjdHMgbW91c2UtYmFzZWQgaW50ZXJhY3Rpb25zIHRvIGFzc2lzdCBpbiBjcmVhdGluZyBjZXJ0YWluIHdpZGdldHMuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vbW91c2UvXG5cbiggZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKCBbXG5cdFx0XHRcImpxdWVyeVwiLFxuXHRcdFx0XCIuLi9pZVwiLFxuXHRcdFx0XCIuLi92ZXJzaW9uXCIsXG5cdFx0XHRcIi4uL3dpZGdldFwiXG5cdFx0XSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0oIGZ1bmN0aW9uKCAkICkge1xuXG52YXIgbW91c2VIYW5kbGVkID0gZmFsc2U7XG4kKCBkb2N1bWVudCApLm9uKCBcIm1vdXNldXBcIiwgZnVuY3Rpb24oKSB7XG5cdG1vdXNlSGFuZGxlZCA9IGZhbHNlO1xufSApO1xuXG5yZXR1cm4gJC53aWRnZXQoIFwidWkubW91c2VcIiwge1xuXHR2ZXJzaW9uOiBcIjEuMTIuMVwiLFxuXHRvcHRpb25zOiB7XG5cdFx0Y2FuY2VsOiBcImlucHV0LCB0ZXh0YXJlYSwgYnV0dG9uLCBzZWxlY3QsIG9wdGlvblwiLFxuXHRcdGRpc3RhbmNlOiAxLFxuXHRcdGRlbGF5OiAwXG5cdH0sXG5cdF9tb3VzZUluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblxuXHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0Lm9uKCBcIm1vdXNlZG93bi5cIiArIHRoaXMud2lkZ2V0TmFtZSwgZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRyZXR1cm4gdGhhdC5fbW91c2VEb3duKCBldmVudCApO1xuXHRcdFx0fSApXG5cdFx0XHQub24oIFwiY2xpY2suXCIgKyB0aGlzLndpZGdldE5hbWUsIGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0aWYgKCB0cnVlID09PSAkLmRhdGEoIGV2ZW50LnRhcmdldCwgdGhhdC53aWRnZXROYW1lICsgXCIucHJldmVudENsaWNrRXZlbnRcIiApICkge1xuXHRcdFx0XHRcdCQucmVtb3ZlRGF0YSggZXZlbnQudGFyZ2V0LCB0aGF0LndpZGdldE5hbWUgKyBcIi5wcmV2ZW50Q2xpY2tFdmVudFwiICk7XG5cdFx0XHRcdFx0ZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cblx0XHR0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblx0fSxcblxuXHQvLyBUT0RPOiBtYWtlIHN1cmUgZGVzdHJveWluZyBvbmUgaW5zdGFuY2Ugb2YgbW91c2UgZG9lc24ndCBtZXNzIHdpdGhcblx0Ly8gb3RoZXIgaW5zdGFuY2VzIG9mIG1vdXNlXG5cdF9tb3VzZURlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuZWxlbWVudC5vZmYoIFwiLlwiICsgdGhpcy53aWRnZXROYW1lICk7XG5cdFx0aWYgKCB0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSApIHtcblx0XHRcdHRoaXMuZG9jdW1lbnRcblx0XHRcdFx0Lm9mZiggXCJtb3VzZW1vdmUuXCIgKyB0aGlzLndpZGdldE5hbWUsIHRoaXMuX21vdXNlTW92ZURlbGVnYXRlIClcblx0XHRcdFx0Lm9mZiggXCJtb3VzZXVwLlwiICsgdGhpcy53aWRnZXROYW1lLCB0aGlzLl9tb3VzZVVwRGVsZWdhdGUgKTtcblx0XHR9XG5cdH0sXG5cblx0X21vdXNlRG93bjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0Ly8gZG9uJ3QgbGV0IG1vcmUgdGhhbiBvbmUgd2lkZ2V0IGhhbmRsZSBtb3VzZVN0YXJ0XG5cdFx0aWYgKCBtb3VzZUhhbmRsZWQgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5fbW91c2VNb3ZlZCA9IGZhbHNlO1xuXG5cdFx0Ly8gV2UgbWF5IGhhdmUgbWlzc2VkIG1vdXNldXAgKG91dCBvZiB3aW5kb3cpXG5cdFx0KCB0aGlzLl9tb3VzZVN0YXJ0ZWQgJiYgdGhpcy5fbW91c2VVcCggZXZlbnQgKSApO1xuXG5cdFx0dGhpcy5fbW91c2VEb3duRXZlbnQgPSBldmVudDtcblxuXHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdGJ0bklzTGVmdCA9ICggZXZlbnQud2hpY2ggPT09IDEgKSxcblxuXHRcdFx0Ly8gZXZlbnQudGFyZ2V0Lm5vZGVOYW1lIHdvcmtzIGFyb3VuZCBhIGJ1ZyBpbiBJRSA4IHdpdGhcblx0XHRcdC8vIGRpc2FibGVkIGlucHV0cyAoIzc2MjApXG5cdFx0XHRlbElzQ2FuY2VsID0gKCB0eXBlb2YgdGhpcy5vcHRpb25zLmNhbmNlbCA9PT0gXCJzdHJpbmdcIiAmJiBldmVudC50YXJnZXQubm9kZU5hbWUgP1xuXHRcdFx0XHQkKCBldmVudC50YXJnZXQgKS5jbG9zZXN0KCB0aGlzLm9wdGlvbnMuY2FuY2VsICkubGVuZ3RoIDogZmFsc2UgKTtcblx0XHRpZiAoICFidG5Jc0xlZnQgfHwgZWxJc0NhbmNlbCB8fCAhdGhpcy5fbW91c2VDYXB0dXJlKCBldmVudCApICkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0dGhpcy5tb3VzZURlbGF5TWV0ID0gIXRoaXMub3B0aW9ucy5kZWxheTtcblx0XHRpZiAoICF0aGlzLm1vdXNlRGVsYXlNZXQgKSB7XG5cdFx0XHR0aGlzLl9tb3VzZURlbGF5VGltZXIgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhhdC5tb3VzZURlbGF5TWV0ID0gdHJ1ZTtcblx0XHRcdH0sIHRoaXMub3B0aW9ucy5kZWxheSApO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5fbW91c2VEaXN0YW5jZU1ldCggZXZlbnQgKSAmJiB0aGlzLl9tb3VzZURlbGF5TWV0KCBldmVudCApICkge1xuXHRcdFx0dGhpcy5fbW91c2VTdGFydGVkID0gKCB0aGlzLl9tb3VzZVN0YXJ0KCBldmVudCApICE9PSBmYWxzZSApO1xuXHRcdFx0aWYgKCAhdGhpcy5fbW91c2VTdGFydGVkICkge1xuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDbGljayBldmVudCBtYXkgbmV2ZXIgaGF2ZSBmaXJlZCAoR2Vja28gJiBPcGVyYSlcblx0XHRpZiAoIHRydWUgPT09ICQuZGF0YSggZXZlbnQudGFyZ2V0LCB0aGlzLndpZGdldE5hbWUgKyBcIi5wcmV2ZW50Q2xpY2tFdmVudFwiICkgKSB7XG5cdFx0XHQkLnJlbW92ZURhdGEoIGV2ZW50LnRhcmdldCwgdGhpcy53aWRnZXROYW1lICsgXCIucHJldmVudENsaWNrRXZlbnRcIiApO1xuXHRcdH1cblxuXHRcdC8vIFRoZXNlIGRlbGVnYXRlcyBhcmUgcmVxdWlyZWQgdG8ga2VlcCBjb250ZXh0XG5cdFx0dGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRyZXR1cm4gdGhhdC5fbW91c2VNb3ZlKCBldmVudCApO1xuXHRcdH07XG5cdFx0dGhpcy5fbW91c2VVcERlbGVnYXRlID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0cmV0dXJuIHRoYXQuX21vdXNlVXAoIGV2ZW50ICk7XG5cdFx0fTtcblxuXHRcdHRoaXMuZG9jdW1lbnRcblx0XHRcdC5vbiggXCJtb3VzZW1vdmUuXCIgKyB0aGlzLndpZGdldE5hbWUsIHRoaXMuX21vdXNlTW92ZURlbGVnYXRlIClcblx0XHRcdC5vbiggXCJtb3VzZXVwLlwiICsgdGhpcy53aWRnZXROYW1lLCB0aGlzLl9tb3VzZVVwRGVsZWdhdGUgKTtcblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRtb3VzZUhhbmRsZWQgPSB0cnVlO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdF9tb3VzZU1vdmU6IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdC8vIE9ubHkgY2hlY2sgZm9yIG1vdXNldXBzIG91dHNpZGUgdGhlIGRvY3VtZW50IGlmIHlvdSd2ZSBtb3ZlZCBpbnNpZGUgdGhlIGRvY3VtZW50XG5cdFx0Ly8gYXQgbGVhc3Qgb25jZS4gVGhpcyBwcmV2ZW50cyB0aGUgZmlyaW5nIG9mIG1vdXNldXAgaW4gdGhlIGNhc2Ugb2YgSUU8OSwgd2hpY2ggd2lsbFxuXHRcdC8vIGZpcmUgYSBtb3VzZW1vdmUgZXZlbnQgaWYgY29udGVudCBpcyBwbGFjZWQgdW5kZXIgdGhlIGN1cnNvci4gU2VlICM3Nzc4XG5cdFx0Ly8gU3VwcG9ydDogSUUgPDlcblx0XHRpZiAoIHRoaXMuX21vdXNlTW92ZWQgKSB7XG5cblx0XHRcdC8vIElFIG1vdXNldXAgY2hlY2sgLSBtb3VzZXVwIGhhcHBlbmVkIHdoZW4gbW91c2Ugd2FzIG91dCBvZiB3aW5kb3dcblx0XHRcdGlmICggJC51aS5pZSAmJiAoICFkb2N1bWVudC5kb2N1bWVudE1vZGUgfHwgZG9jdW1lbnQuZG9jdW1lbnRNb2RlIDwgOSApICYmXG5cdFx0XHRcdFx0IWV2ZW50LmJ1dHRvbiApIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuX21vdXNlVXAoIGV2ZW50ICk7XG5cblx0XHRcdC8vIElmcmFtZSBtb3VzZXVwIGNoZWNrIC0gbW91c2V1cCBvY2N1cnJlZCBpbiBhbm90aGVyIGRvY3VtZW50XG5cdFx0XHR9IGVsc2UgaWYgKCAhZXZlbnQud2hpY2ggKSB7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogU2FmYXJpIDw9OCAtIDlcblx0XHRcdFx0Ly8gU2FmYXJpIHNldHMgd2hpY2ggdG8gMCBpZiB5b3UgcHJlc3MgYW55IG9mIHRoZSBmb2xsb3dpbmcga2V5c1xuXHRcdFx0XHQvLyBkdXJpbmcgYSBkcmFnICgjMTQ0NjEpXG5cdFx0XHRcdGlmICggZXZlbnQub3JpZ2luYWxFdmVudC5hbHRLZXkgfHwgZXZlbnQub3JpZ2luYWxFdmVudC5jdHJsS2V5IHx8XG5cdFx0XHRcdFx0XHRldmVudC5vcmlnaW5hbEV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQub3JpZ2luYWxFdmVudC5zaGlmdEtleSApIHtcblx0XHRcdFx0XHR0aGlzLmlnbm9yZU1pc3NpbmdXaGljaCA9IHRydWU7XG5cdFx0XHRcdH0gZWxzZSBpZiAoICF0aGlzLmlnbm9yZU1pc3NpbmdXaGljaCApIHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcy5fbW91c2VVcCggZXZlbnQgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggZXZlbnQud2hpY2ggfHwgZXZlbnQuYnV0dG9uICkge1xuXHRcdFx0dGhpcy5fbW91c2VNb3ZlZCA9IHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLl9tb3VzZVN0YXJ0ZWQgKSB7XG5cdFx0XHR0aGlzLl9tb3VzZURyYWcoIGV2ZW50ICk7XG5cdFx0XHRyZXR1cm4gZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMuX21vdXNlRGlzdGFuY2VNZXQoIGV2ZW50ICkgJiYgdGhpcy5fbW91c2VEZWxheU1ldCggZXZlbnQgKSApIHtcblx0XHRcdHRoaXMuX21vdXNlU3RhcnRlZCA9XG5cdFx0XHRcdCggdGhpcy5fbW91c2VTdGFydCggdGhpcy5fbW91c2VEb3duRXZlbnQsIGV2ZW50ICkgIT09IGZhbHNlICk7XG5cdFx0XHQoIHRoaXMuX21vdXNlU3RhcnRlZCA/IHRoaXMuX21vdXNlRHJhZyggZXZlbnQgKSA6IHRoaXMuX21vdXNlVXAoIGV2ZW50ICkgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gIXRoaXMuX21vdXNlU3RhcnRlZDtcblx0fSxcblxuXHRfbW91c2VVcDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHRoaXMuZG9jdW1lbnRcblx0XHRcdC5vZmYoIFwibW91c2Vtb3ZlLlwiICsgdGhpcy53aWRnZXROYW1lLCB0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSApXG5cdFx0XHQub2ZmKCBcIm1vdXNldXAuXCIgKyB0aGlzLndpZGdldE5hbWUsIHRoaXMuX21vdXNlVXBEZWxlZ2F0ZSApO1xuXG5cdFx0aWYgKCB0aGlzLl9tb3VzZVN0YXJ0ZWQgKSB7XG5cdFx0XHR0aGlzLl9tb3VzZVN0YXJ0ZWQgPSBmYWxzZTtcblxuXHRcdFx0aWYgKCBldmVudC50YXJnZXQgPT09IHRoaXMuX21vdXNlRG93bkV2ZW50LnRhcmdldCApIHtcblx0XHRcdFx0JC5kYXRhKCBldmVudC50YXJnZXQsIHRoaXMud2lkZ2V0TmFtZSArIFwiLnByZXZlbnRDbGlja0V2ZW50XCIsIHRydWUgKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fbW91c2VTdG9wKCBldmVudCApO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5fbW91c2VEZWxheVRpbWVyICkge1xuXHRcdFx0Y2xlYXJUaW1lb3V0KCB0aGlzLl9tb3VzZURlbGF5VGltZXIgKTtcblx0XHRcdGRlbGV0ZSB0aGlzLl9tb3VzZURlbGF5VGltZXI7XG5cdFx0fVxuXG5cdFx0dGhpcy5pZ25vcmVNaXNzaW5nV2hpY2ggPSBmYWxzZTtcblx0XHRtb3VzZUhhbmRsZWQgPSBmYWxzZTtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHR9LFxuXG5cdF9tb3VzZURpc3RhbmNlTWV0OiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0cmV0dXJuICggTWF0aC5tYXgoXG5cdFx0XHRcdE1hdGguYWJzKCB0aGlzLl9tb3VzZURvd25FdmVudC5wYWdlWCAtIGV2ZW50LnBhZ2VYICksXG5cdFx0XHRcdE1hdGguYWJzKCB0aGlzLl9tb3VzZURvd25FdmVudC5wYWdlWSAtIGV2ZW50LnBhZ2VZIClcblx0XHRcdCkgPj0gdGhpcy5vcHRpb25zLmRpc3RhbmNlXG5cdFx0KTtcblx0fSxcblxuXHRfbW91c2VEZWxheU1ldDogZnVuY3Rpb24oIC8qIGV2ZW50ICovICkge1xuXHRcdHJldHVybiB0aGlzLm1vdXNlRGVsYXlNZXQ7XG5cdH0sXG5cblx0Ly8gVGhlc2UgYXJlIHBsYWNlaG9sZGVyIG1ldGhvZHMsIHRvIGJlIG92ZXJyaWRlbiBieSBleHRlbmRpbmcgcGx1Z2luXG5cdF9tb3VzZVN0YXJ0OiBmdW5jdGlvbiggLyogZXZlbnQgKi8gKSB7fSxcblx0X21vdXNlRHJhZzogZnVuY3Rpb24oIC8qIGV2ZW50ICovICkge30sXG5cdF9tb3VzZVN0b3A6IGZ1bmN0aW9uKCAvKiBldmVudCAqLyApIHt9LFxuXHRfbW91c2VDYXB0dXJlOiBmdW5jdGlvbiggLyogZXZlbnQgKi8gKSB7IHJldHVybiB0cnVlOyB9XG59ICk7XG5cbn0gKSApO1xuIiwiLyohXG4gKiBqUXVlcnkgVUkgU29ydGFibGUgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IFNvcnRhYmxlXG4vLz4+Z3JvdXA6IEludGVyYWN0aW9uc1xuLy8+PmRlc2NyaXB0aW9uOiBFbmFibGVzIGl0ZW1zIGluIGEgbGlzdCB0byBiZSBzb3J0ZWQgdXNpbmcgdGhlIG1vdXNlLlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3NvcnRhYmxlL1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL3NvcnRhYmxlL1xuLy8+PmNzcy5zdHJ1Y3R1cmU6IC4uLy4uL3RoZW1lcy9iYXNlL3NvcnRhYmxlLmNzc1xuXG4oIGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZSggW1xuXHRcdFx0XCJqcXVlcnlcIixcblx0XHRcdFwiLi9tb3VzZVwiLFxuXHRcdFx0XCIuLi9kYXRhXCIsXG5cdFx0XHRcIi4uL2llXCIsXG5cdFx0XHRcIi4uL3Njcm9sbC1wYXJlbnRcIixcblx0XHRcdFwiLi4vdmVyc2lvblwiLFxuXHRcdFx0XCIuLi93aWRnZXRcIlxuXHRcdF0sIGZhY3RvcnkgKTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIEJyb3dzZXIgZ2xvYmFsc1xuXHRcdGZhY3RvcnkoIGpRdWVyeSApO1xuXHR9XG59KCBmdW5jdGlvbiggJCApIHtcblxucmV0dXJuICQud2lkZ2V0KCBcInVpLnNvcnRhYmxlXCIsICQudWkubW91c2UsIHtcblx0dmVyc2lvbjogXCIxLjEyLjFcIixcblx0d2lkZ2V0RXZlbnRQcmVmaXg6IFwic29ydFwiLFxuXHRyZWFkeTogZmFsc2UsXG5cdG9wdGlvbnM6IHtcblx0XHRhcHBlbmRUbzogXCJwYXJlbnRcIixcblx0XHRheGlzOiBmYWxzZSxcblx0XHRjb25uZWN0V2l0aDogZmFsc2UsXG5cdFx0Y29udGFpbm1lbnQ6IGZhbHNlLFxuXHRcdGN1cnNvcjogXCJhdXRvXCIsXG5cdFx0Y3Vyc29yQXQ6IGZhbHNlLFxuXHRcdGRyb3BPbkVtcHR5OiB0cnVlLFxuXHRcdGZvcmNlUGxhY2Vob2xkZXJTaXplOiBmYWxzZSxcblx0XHRmb3JjZUhlbHBlclNpemU6IGZhbHNlLFxuXHRcdGdyaWQ6IGZhbHNlLFxuXHRcdGhhbmRsZTogZmFsc2UsXG5cdFx0aGVscGVyOiBcIm9yaWdpbmFsXCIsXG5cdFx0aXRlbXM6IFwiPiAqXCIsXG5cdFx0b3BhY2l0eTogZmFsc2UsXG5cdFx0cGxhY2Vob2xkZXI6IGZhbHNlLFxuXHRcdHJldmVydDogZmFsc2UsXG5cdFx0c2Nyb2xsOiB0cnVlLFxuXHRcdHNjcm9sbFNlbnNpdGl2aXR5OiAyMCxcblx0XHRzY3JvbGxTcGVlZDogMjAsXG5cdFx0c2NvcGU6IFwiZGVmYXVsdFwiLFxuXHRcdHRvbGVyYW5jZTogXCJpbnRlcnNlY3RcIixcblx0XHR6SW5kZXg6IDEwMDAsXG5cblx0XHQvLyBDYWxsYmFja3Ncblx0XHRhY3RpdmF0ZTogbnVsbCxcblx0XHRiZWZvcmVTdG9wOiBudWxsLFxuXHRcdGNoYW5nZTogbnVsbCxcblx0XHRkZWFjdGl2YXRlOiBudWxsLFxuXHRcdG91dDogbnVsbCxcblx0XHRvdmVyOiBudWxsLFxuXHRcdHJlY2VpdmU6IG51bGwsXG5cdFx0cmVtb3ZlOiBudWxsLFxuXHRcdHNvcnQ6IG51bGwsXG5cdFx0c3RhcnQ6IG51bGwsXG5cdFx0c3RvcDogbnVsbCxcblx0XHR1cGRhdGU6IG51bGxcblx0fSxcblxuXHRfaXNPdmVyQXhpczogZnVuY3Rpb24oIHgsIHJlZmVyZW5jZSwgc2l6ZSApIHtcblx0XHRyZXR1cm4gKCB4ID49IHJlZmVyZW5jZSApICYmICggeCA8ICggcmVmZXJlbmNlICsgc2l6ZSApICk7XG5cdH0sXG5cblx0X2lzRmxvYXRpbmc6IGZ1bmN0aW9uKCBpdGVtICkge1xuXHRcdHJldHVybiAoIC9sZWZ0fHJpZ2h0LyApLnRlc3QoIGl0ZW0uY3NzKCBcImZsb2F0XCIgKSApIHx8XG5cdFx0XHQoIC9pbmxpbmV8dGFibGUtY2VsbC8gKS50ZXN0KCBpdGVtLmNzcyggXCJkaXNwbGF5XCIgKSApO1xuXHR9LFxuXG5cdF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuY29udGFpbmVyQ2FjaGUgPSB7fTtcblx0XHR0aGlzLl9hZGRDbGFzcyggXCJ1aS1zb3J0YWJsZVwiICk7XG5cblx0XHQvL0dldCB0aGUgaXRlbXNcblx0XHR0aGlzLnJlZnJlc2goKTtcblxuXHRcdC8vTGV0J3MgZGV0ZXJtaW5lIHRoZSBwYXJlbnQncyBvZmZzZXRcblx0XHR0aGlzLm9mZnNldCA9IHRoaXMuZWxlbWVudC5vZmZzZXQoKTtcblxuXHRcdC8vSW5pdGlhbGl6ZSBtb3VzZSBldmVudHMgZm9yIGludGVyYWN0aW9uXG5cdFx0dGhpcy5fbW91c2VJbml0KCk7XG5cblx0XHR0aGlzLl9zZXRIYW5kbGVDbGFzc05hbWUoKTtcblxuXHRcdC8vV2UncmUgcmVhZHkgdG8gZ29cblx0XHR0aGlzLnJlYWR5ID0gdHJ1ZTtcblxuXHR9LFxuXG5cdF9zZXRPcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdHRoaXMuX3N1cGVyKCBrZXksIHZhbHVlICk7XG5cblx0XHRpZiAoIGtleSA9PT0gXCJoYW5kbGVcIiApIHtcblx0XHRcdHRoaXMuX3NldEhhbmRsZUNsYXNzTmFtZSgpO1xuXHRcdH1cblx0fSxcblxuXHRfc2V0SGFuZGxlQ2xhc3NOYW1lOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoIHRoaXMuZWxlbWVudC5maW5kKCBcIi51aS1zb3J0YWJsZS1oYW5kbGVcIiApLCBcInVpLXNvcnRhYmxlLWhhbmRsZVwiICk7XG5cdFx0JC5lYWNoKCB0aGlzLml0ZW1zLCBmdW5jdGlvbigpIHtcblx0XHRcdHRoYXQuX2FkZENsYXNzKFxuXHRcdFx0XHR0aGlzLmluc3RhbmNlLm9wdGlvbnMuaGFuZGxlID9cblx0XHRcdFx0XHR0aGlzLml0ZW0uZmluZCggdGhpcy5pbnN0YW5jZS5vcHRpb25zLmhhbmRsZSApIDpcblx0XHRcdFx0XHR0aGlzLml0ZW0sXG5cdFx0XHRcdFwidWktc29ydGFibGUtaGFuZGxlXCJcblx0XHRcdCk7XG5cdFx0fSApO1xuXHR9LFxuXG5cdF9kZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLl9tb3VzZURlc3Ryb3koKTtcblxuXHRcdGZvciAoIHZhciBpID0gdGhpcy5pdGVtcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSApIHtcblx0XHRcdHRoaXMuaXRlbXNbIGkgXS5pdGVtLnJlbW92ZURhdGEoIHRoaXMud2lkZ2V0TmFtZSArIFwiLWl0ZW1cIiApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdF9tb3VzZUNhcHR1cmU6IGZ1bmN0aW9uKCBldmVudCwgb3ZlcnJpZGVIYW5kbGUgKSB7XG5cdFx0dmFyIGN1cnJlbnRJdGVtID0gbnVsbCxcblx0XHRcdHZhbGlkSGFuZGxlID0gZmFsc2UsXG5cdFx0XHR0aGF0ID0gdGhpcztcblxuXHRcdGlmICggdGhpcy5yZXZlcnRpbmcgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgfHwgdGhpcy5vcHRpb25zLnR5cGUgPT09IFwic3RhdGljXCIgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly9XZSBoYXZlIHRvIHJlZnJlc2ggdGhlIGl0ZW1zIGRhdGEgb25jZSBmaXJzdFxuXHRcdHRoaXMuX3JlZnJlc2hJdGVtcyggZXZlbnQgKTtcblxuXHRcdC8vRmluZCBvdXQgaWYgdGhlIGNsaWNrZWQgbm9kZSAob3Igb25lIG9mIGl0cyBwYXJlbnRzKSBpcyBhIGFjdHVhbCBpdGVtIGluIHRoaXMuaXRlbXNcblx0XHQkKCBldmVudC50YXJnZXQgKS5wYXJlbnRzKCkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoICQuZGF0YSggdGhpcywgdGhhdC53aWRnZXROYW1lICsgXCItaXRlbVwiICkgPT09IHRoYXQgKSB7XG5cdFx0XHRcdGN1cnJlbnRJdGVtID0gJCggdGhpcyApO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHRcdGlmICggJC5kYXRhKCBldmVudC50YXJnZXQsIHRoYXQud2lkZ2V0TmFtZSArIFwiLWl0ZW1cIiApID09PSB0aGF0ICkge1xuXHRcdFx0Y3VycmVudEl0ZW0gPSAkKCBldmVudC50YXJnZXQgKTtcblx0XHR9XG5cblx0XHRpZiAoICFjdXJyZW50SXRlbSApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuaGFuZGxlICYmICFvdmVycmlkZUhhbmRsZSApIHtcblx0XHRcdCQoIHRoaXMub3B0aW9ucy5oYW5kbGUsIGN1cnJlbnRJdGVtICkuZmluZCggXCIqXCIgKS5hZGRCYWNrKCkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggdGhpcyA9PT0gZXZlbnQudGFyZ2V0ICkge1xuXHRcdFx0XHRcdHZhbGlkSGFuZGxlID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdFx0aWYgKCAhdmFsaWRIYW5kbGUgKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLmN1cnJlbnRJdGVtID0gY3VycmVudEl0ZW07XG5cdFx0dGhpcy5fcmVtb3ZlQ3VycmVudHNGcm9tSXRlbXMoKTtcblx0XHRyZXR1cm4gdHJ1ZTtcblxuXHR9LFxuXG5cdF9tb3VzZVN0YXJ0OiBmdW5jdGlvbiggZXZlbnQsIG92ZXJyaWRlSGFuZGxlLCBub0FjdGl2YXRpb24gKSB7XG5cblx0XHR2YXIgaSwgYm9keSxcblx0XHRcdG8gPSB0aGlzLm9wdGlvbnM7XG5cblx0XHR0aGlzLmN1cnJlbnRDb250YWluZXIgPSB0aGlzO1xuXG5cdFx0Ly9XZSBvbmx5IG5lZWQgdG8gY2FsbCByZWZyZXNoUG9zaXRpb25zLCBiZWNhdXNlIHRoZSByZWZyZXNoSXRlbXMgY2FsbCBoYXMgYmVlbiBtb3ZlZCB0b1xuXHRcdC8vIG1vdXNlQ2FwdHVyZVxuXHRcdHRoaXMucmVmcmVzaFBvc2l0aW9ucygpO1xuXG5cdFx0Ly9DcmVhdGUgYW5kIGFwcGVuZCB0aGUgdmlzaWJsZSBoZWxwZXJcblx0XHR0aGlzLmhlbHBlciA9IHRoaXMuX2NyZWF0ZUhlbHBlciggZXZlbnQgKTtcblxuXHRcdC8vQ2FjaGUgdGhlIGhlbHBlciBzaXplXG5cdFx0dGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpO1xuXG5cdFx0Lypcblx0XHQgKiAtIFBvc2l0aW9uIGdlbmVyYXRpb24gLVxuXHRcdCAqIFRoaXMgYmxvY2sgZ2VuZXJhdGVzIGV2ZXJ5dGhpbmcgcG9zaXRpb24gcmVsYXRlZCAtIGl0J3MgdGhlIGNvcmUgb2YgZHJhZ2dhYmxlcy5cblx0XHQgKi9cblxuXHRcdC8vQ2FjaGUgdGhlIG1hcmdpbnMgb2YgdGhlIG9yaWdpbmFsIGVsZW1lbnRcblx0XHR0aGlzLl9jYWNoZU1hcmdpbnMoKTtcblxuXHRcdC8vR2V0IHRoZSBuZXh0IHNjcm9sbGluZyBwYXJlbnRcblx0XHR0aGlzLnNjcm9sbFBhcmVudCA9IHRoaXMuaGVscGVyLnNjcm9sbFBhcmVudCgpO1xuXG5cdFx0Ly9UaGUgZWxlbWVudCdzIGFic29sdXRlIHBvc2l0aW9uIG9uIHRoZSBwYWdlIG1pbnVzIG1hcmdpbnNcblx0XHR0aGlzLm9mZnNldCA9IHRoaXMuY3VycmVudEl0ZW0ub2Zmc2V0KCk7XG5cdFx0dGhpcy5vZmZzZXQgPSB7XG5cdFx0XHR0b3A6IHRoaXMub2Zmc2V0LnRvcCAtIHRoaXMubWFyZ2lucy50b3AsXG5cdFx0XHRsZWZ0OiB0aGlzLm9mZnNldC5sZWZ0IC0gdGhpcy5tYXJnaW5zLmxlZnRcblx0XHR9O1xuXG5cdFx0JC5leHRlbmQoIHRoaXMub2Zmc2V0LCB7XG5cdFx0XHRjbGljazogeyAvL1doZXJlIHRoZSBjbGljayBoYXBwZW5lZCwgcmVsYXRpdmUgdG8gdGhlIGVsZW1lbnRcblx0XHRcdFx0bGVmdDogZXZlbnQucGFnZVggLSB0aGlzLm9mZnNldC5sZWZ0LFxuXHRcdFx0XHR0b3A6IGV2ZW50LnBhZ2VZIC0gdGhpcy5vZmZzZXQudG9wXG5cdFx0XHR9LFxuXHRcdFx0cGFyZW50OiB0aGlzLl9nZXRQYXJlbnRPZmZzZXQoKSxcblxuXHRcdFx0Ly8gVGhpcyBpcyBhIHJlbGF0aXZlIHRvIGFic29sdXRlIHBvc2l0aW9uIG1pbnVzIHRoZSBhY3R1YWwgcG9zaXRpb24gY2FsY3VsYXRpb24gLVxuXHRcdFx0Ly8gb25seSB1c2VkIGZvciByZWxhdGl2ZSBwb3NpdGlvbmVkIGhlbHBlclxuXHRcdFx0cmVsYXRpdmU6IHRoaXMuX2dldFJlbGF0aXZlT2Zmc2V0KClcblx0XHR9ICk7XG5cblx0XHQvLyBPbmx5IGFmdGVyIHdlIGdvdCB0aGUgb2Zmc2V0LCB3ZSBjYW4gY2hhbmdlIHRoZSBoZWxwZXIncyBwb3NpdGlvbiB0byBhYnNvbHV0ZVxuXHRcdC8vIFRPRE86IFN0aWxsIG5lZWQgdG8gZmlndXJlIG91dCBhIHdheSB0byBtYWtlIHJlbGF0aXZlIHNvcnRpbmcgcG9zc2libGVcblx0XHR0aGlzLmhlbHBlci5jc3MoIFwicG9zaXRpb25cIiwgXCJhYnNvbHV0ZVwiICk7XG5cdFx0dGhpcy5jc3NQb3NpdGlvbiA9IHRoaXMuaGVscGVyLmNzcyggXCJwb3NpdGlvblwiICk7XG5cblx0XHQvL0dlbmVyYXRlIHRoZSBvcmlnaW5hbCBwb3NpdGlvblxuXHRcdHRoaXMub3JpZ2luYWxQb3NpdGlvbiA9IHRoaXMuX2dlbmVyYXRlUG9zaXRpb24oIGV2ZW50ICk7XG5cdFx0dGhpcy5vcmlnaW5hbFBhZ2VYID0gZXZlbnQucGFnZVg7XG5cdFx0dGhpcy5vcmlnaW5hbFBhZ2VZID0gZXZlbnQucGFnZVk7XG5cblx0XHQvL0FkanVzdCB0aGUgbW91c2Ugb2Zmc2V0IHJlbGF0aXZlIHRvIHRoZSBoZWxwZXIgaWYgXCJjdXJzb3JBdFwiIGlzIHN1cHBsaWVkXG5cdFx0KCBvLmN1cnNvckF0ICYmIHRoaXMuX2FkanVzdE9mZnNldEZyb21IZWxwZXIoIG8uY3Vyc29yQXQgKSApO1xuXG5cdFx0Ly9DYWNoZSB0aGUgZm9ybWVyIERPTSBwb3NpdGlvblxuXHRcdHRoaXMuZG9tUG9zaXRpb24gPSB7XG5cdFx0XHRwcmV2OiB0aGlzLmN1cnJlbnRJdGVtLnByZXYoKVsgMCBdLFxuXHRcdFx0cGFyZW50OiB0aGlzLmN1cnJlbnRJdGVtLnBhcmVudCgpWyAwIF1cblx0XHR9O1xuXG5cdFx0Ly8gSWYgdGhlIGhlbHBlciBpcyBub3QgdGhlIG9yaWdpbmFsLCBoaWRlIHRoZSBvcmlnaW5hbCBzbyBpdCdzIG5vdCBwbGF5aW5nIGFueSByb2xlIGR1cmluZ1xuXHRcdC8vIHRoZSBkcmFnLCB3b24ndCBjYXVzZSBhbnl0aGluZyBiYWQgdGhpcyB3YXlcblx0XHRpZiAoIHRoaXMuaGVscGVyWyAwIF0gIT09IHRoaXMuY3VycmVudEl0ZW1bIDAgXSApIHtcblx0XHRcdHRoaXMuY3VycmVudEl0ZW0uaGlkZSgpO1xuXHRcdH1cblxuXHRcdC8vQ3JlYXRlIHRoZSBwbGFjZWhvbGRlclxuXHRcdHRoaXMuX2NyZWF0ZVBsYWNlaG9sZGVyKCk7XG5cblx0XHQvL1NldCBhIGNvbnRhaW5tZW50IGlmIGdpdmVuIGluIHRoZSBvcHRpb25zXG5cdFx0aWYgKCBvLmNvbnRhaW5tZW50ICkge1xuXHRcdFx0dGhpcy5fc2V0Q29udGFpbm1lbnQoKTtcblx0XHR9XG5cblx0XHRpZiAoIG8uY3Vyc29yICYmIG8uY3Vyc29yICE9PSBcImF1dG9cIiApIHsgLy8gY3Vyc29yIG9wdGlvblxuXHRcdFx0Ym9keSA9IHRoaXMuZG9jdW1lbnQuZmluZCggXCJib2R5XCIgKTtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUVcblx0XHRcdHRoaXMuc3RvcmVkQ3Vyc29yID0gYm9keS5jc3MoIFwiY3Vyc29yXCIgKTtcblx0XHRcdGJvZHkuY3NzKCBcImN1cnNvclwiLCBvLmN1cnNvciApO1xuXG5cdFx0XHR0aGlzLnN0b3JlZFN0eWxlc2hlZXQgPVxuXHRcdFx0XHQkKCBcIjxzdHlsZT4qeyBjdXJzb3I6IFwiICsgby5jdXJzb3IgKyBcIiAhaW1wb3J0YW50OyB9PC9zdHlsZT5cIiApLmFwcGVuZFRvKCBib2R5ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBvLm9wYWNpdHkgKSB7IC8vIG9wYWNpdHkgb3B0aW9uXG5cdFx0XHRpZiAoIHRoaXMuaGVscGVyLmNzcyggXCJvcGFjaXR5XCIgKSApIHtcblx0XHRcdFx0dGhpcy5fc3RvcmVkT3BhY2l0eSA9IHRoaXMuaGVscGVyLmNzcyggXCJvcGFjaXR5XCIgKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuaGVscGVyLmNzcyggXCJvcGFjaXR5XCIsIG8ub3BhY2l0eSApO1xuXHRcdH1cblxuXHRcdGlmICggby56SW5kZXggKSB7IC8vIHpJbmRleCBvcHRpb25cblx0XHRcdGlmICggdGhpcy5oZWxwZXIuY3NzKCBcInpJbmRleFwiICkgKSB7XG5cdFx0XHRcdHRoaXMuX3N0b3JlZFpJbmRleCA9IHRoaXMuaGVscGVyLmNzcyggXCJ6SW5kZXhcIiApO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5oZWxwZXIuY3NzKCBcInpJbmRleFwiLCBvLnpJbmRleCApO1xuXHRcdH1cblxuXHRcdC8vUHJlcGFyZSBzY3JvbGxpbmdcblx0XHRpZiAoIHRoaXMuc2Nyb2xsUGFyZW50WyAwIF0gIT09IHRoaXMuZG9jdW1lbnRbIDAgXSAmJlxuXHRcdFx0XHR0aGlzLnNjcm9sbFBhcmVudFsgMCBdLnRhZ05hbWUgIT09IFwiSFRNTFwiICkge1xuXHRcdFx0dGhpcy5vdmVyZmxvd09mZnNldCA9IHRoaXMuc2Nyb2xsUGFyZW50Lm9mZnNldCgpO1xuXHRcdH1cblxuXHRcdC8vQ2FsbCBjYWxsYmFja3Ncblx0XHR0aGlzLl90cmlnZ2VyKCBcInN0YXJ0XCIsIGV2ZW50LCB0aGlzLl91aUhhc2goKSApO1xuXG5cdFx0Ly9SZWNhY2hlIHRoZSBoZWxwZXIgc2l6ZVxuXHRcdGlmICggIXRoaXMuX3ByZXNlcnZlSGVscGVyUHJvcG9ydGlvbnMgKSB7XG5cdFx0XHR0aGlzLl9jYWNoZUhlbHBlclByb3BvcnRpb25zKCk7XG5cdFx0fVxuXG5cdFx0Ly9Qb3N0IFwiYWN0aXZhdGVcIiBldmVudHMgdG8gcG9zc2libGUgY29udGFpbmVyc1xuXHRcdGlmICggIW5vQWN0aXZhdGlvbiApIHtcblx0XHRcdGZvciAoIGkgPSB0aGlzLmNvbnRhaW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKSB7XG5cdFx0XHRcdHRoaXMuY29udGFpbmVyc1sgaSBdLl90cmlnZ2VyKCBcImFjdGl2YXRlXCIsIGV2ZW50LCB0aGlzLl91aUhhc2goIHRoaXMgKSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vUHJlcGFyZSBwb3NzaWJsZSBkcm9wcGFibGVzXG5cdFx0aWYgKCAkLnVpLmRkbWFuYWdlciApIHtcblx0XHRcdCQudWkuZGRtYW5hZ2VyLmN1cnJlbnQgPSB0aGlzO1xuXHRcdH1cblxuXHRcdGlmICggJC51aS5kZG1hbmFnZXIgJiYgIW8uZHJvcEJlaGF2aW91ciApIHtcblx0XHRcdCQudWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKCB0aGlzLCBldmVudCApO1xuXHRcdH1cblxuXHRcdHRoaXMuZHJhZ2dpbmcgPSB0cnVlO1xuXG5cdFx0dGhpcy5fYWRkQ2xhc3MoIHRoaXMuaGVscGVyLCBcInVpLXNvcnRhYmxlLWhlbHBlclwiICk7XG5cblx0XHQvLyBFeGVjdXRlIHRoZSBkcmFnIG9uY2UgLSB0aGlzIGNhdXNlcyB0aGUgaGVscGVyIG5vdCB0byBiZSB2aXNpYmxlYmVmb3JlIGdldHRpbmcgaXRzXG5cdFx0Ly8gY29ycmVjdCBwb3NpdGlvblxuXHRcdHRoaXMuX21vdXNlRHJhZyggZXZlbnQgKTtcblx0XHRyZXR1cm4gdHJ1ZTtcblxuXHR9LFxuXG5cdF9tb3VzZURyYWc6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgaSwgaXRlbSwgaXRlbUVsZW1lbnQsIGludGVyc2VjdGlvbixcblx0XHRcdG8gPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRzY3JvbGxlZCA9IGZhbHNlO1xuXG5cdFx0Ly9Db21wdXRlIHRoZSBoZWxwZXJzIHBvc2l0aW9uXG5cdFx0dGhpcy5wb3NpdGlvbiA9IHRoaXMuX2dlbmVyYXRlUG9zaXRpb24oIGV2ZW50ICk7XG5cdFx0dGhpcy5wb3NpdGlvbkFicyA9IHRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCBcImFic29sdXRlXCIgKTtcblxuXHRcdGlmICggIXRoaXMubGFzdFBvc2l0aW9uQWJzICkge1xuXHRcdFx0dGhpcy5sYXN0UG9zaXRpb25BYnMgPSB0aGlzLnBvc2l0aW9uQWJzO1xuXHRcdH1cblxuXHRcdC8vRG8gc2Nyb2xsaW5nXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuc2Nyb2xsICkge1xuXHRcdFx0aWYgKCB0aGlzLnNjcm9sbFBhcmVudFsgMCBdICE9PSB0aGlzLmRvY3VtZW50WyAwIF0gJiZcblx0XHRcdFx0XHR0aGlzLnNjcm9sbFBhcmVudFsgMCBdLnRhZ05hbWUgIT09IFwiSFRNTFwiICkge1xuXG5cdFx0XHRcdGlmICggKCB0aGlzLm92ZXJmbG93T2Zmc2V0LnRvcCArIHRoaXMuc2Nyb2xsUGFyZW50WyAwIF0ub2Zmc2V0SGVpZ2h0ICkgLVxuXHRcdFx0XHRcdFx0ZXZlbnQucGFnZVkgPCBvLnNjcm9sbFNlbnNpdGl2aXR5ICkge1xuXHRcdFx0XHRcdHRoaXMuc2Nyb2xsUGFyZW50WyAwIF0uc2Nyb2xsVG9wID1cblx0XHRcdFx0XHRcdHNjcm9sbGVkID0gdGhpcy5zY3JvbGxQYXJlbnRbIDAgXS5zY3JvbGxUb3AgKyBvLnNjcm9sbFNwZWVkO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCBldmVudC5wYWdlWSAtIHRoaXMub3ZlcmZsb3dPZmZzZXQudG9wIDwgby5zY3JvbGxTZW5zaXRpdml0eSApIHtcblx0XHRcdFx0XHR0aGlzLnNjcm9sbFBhcmVudFsgMCBdLnNjcm9sbFRvcCA9XG5cdFx0XHRcdFx0XHRzY3JvbGxlZCA9IHRoaXMuc2Nyb2xsUGFyZW50WyAwIF0uc2Nyb2xsVG9wIC0gby5zY3JvbGxTcGVlZDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggKCB0aGlzLm92ZXJmbG93T2Zmc2V0LmxlZnQgKyB0aGlzLnNjcm9sbFBhcmVudFsgMCBdLm9mZnNldFdpZHRoICkgLVxuXHRcdFx0XHRcdFx0ZXZlbnQucGFnZVggPCBvLnNjcm9sbFNlbnNpdGl2aXR5ICkge1xuXHRcdFx0XHRcdHRoaXMuc2Nyb2xsUGFyZW50WyAwIF0uc2Nyb2xsTGVmdCA9IHNjcm9sbGVkID1cblx0XHRcdFx0XHRcdHRoaXMuc2Nyb2xsUGFyZW50WyAwIF0uc2Nyb2xsTGVmdCArIG8uc2Nyb2xsU3BlZWQ7XG5cdFx0XHRcdH0gZWxzZSBpZiAoIGV2ZW50LnBhZ2VYIC0gdGhpcy5vdmVyZmxvd09mZnNldC5sZWZ0IDwgby5zY3JvbGxTZW5zaXRpdml0eSApIHtcblx0XHRcdFx0XHR0aGlzLnNjcm9sbFBhcmVudFsgMCBdLnNjcm9sbExlZnQgPSBzY3JvbGxlZCA9XG5cdFx0XHRcdFx0XHR0aGlzLnNjcm9sbFBhcmVudFsgMCBdLnNjcm9sbExlZnQgLSBvLnNjcm9sbFNwZWVkO1xuXHRcdFx0XHR9XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0aWYgKCBldmVudC5wYWdlWSAtIHRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCkgPCBvLnNjcm9sbFNlbnNpdGl2aXR5ICkge1xuXHRcdFx0XHRcdHNjcm9sbGVkID0gdGhpcy5kb2N1bWVudC5zY3JvbGxUb3AoIHRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCkgLSBvLnNjcm9sbFNwZWVkICk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoIHRoaXMud2luZG93LmhlaWdodCgpIC0gKCBldmVudC5wYWdlWSAtIHRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCkgKSA8XG5cdFx0XHRcdFx0XHRvLnNjcm9sbFNlbnNpdGl2aXR5ICkge1xuXHRcdFx0XHRcdHNjcm9sbGVkID0gdGhpcy5kb2N1bWVudC5zY3JvbGxUb3AoIHRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCkgKyBvLnNjcm9sbFNwZWVkICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIGV2ZW50LnBhZ2VYIC0gdGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KCkgPCBvLnNjcm9sbFNlbnNpdGl2aXR5ICkge1xuXHRcdFx0XHRcdHNjcm9sbGVkID0gdGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KFxuXHRcdFx0XHRcdFx0dGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KCkgLSBvLnNjcm9sbFNwZWVkXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fSBlbHNlIGlmICggdGhpcy53aW5kb3cud2lkdGgoKSAtICggZXZlbnQucGFnZVggLSB0aGlzLmRvY3VtZW50LnNjcm9sbExlZnQoKSApIDxcblx0XHRcdFx0XHRcdG8uc2Nyb2xsU2Vuc2l0aXZpdHkgKSB7XG5cdFx0XHRcdFx0c2Nyb2xsZWQgPSB0aGlzLmRvY3VtZW50LnNjcm9sbExlZnQoXG5cdFx0XHRcdFx0XHR0aGlzLmRvY3VtZW50LnNjcm9sbExlZnQoKSArIG8uc2Nyb2xsU3BlZWRcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBzY3JvbGxlZCAhPT0gZmFsc2UgJiYgJC51aS5kZG1hbmFnZXIgJiYgIW8uZHJvcEJlaGF2aW91ciApIHtcblx0XHRcdFx0JC51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHMoIHRoaXMsIGV2ZW50ICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly9SZWdlbmVyYXRlIHRoZSBhYnNvbHV0ZSBwb3NpdGlvbiB1c2VkIGZvciBwb3NpdGlvbiBjaGVja3Ncblx0XHR0aGlzLnBvc2l0aW9uQWJzID0gdGhpcy5fY29udmVydFBvc2l0aW9uVG8oIFwiYWJzb2x1dGVcIiApO1xuXG5cdFx0Ly9TZXQgdGhlIGhlbHBlciBwb3NpdGlvblxuXHRcdGlmICggIXRoaXMub3B0aW9ucy5heGlzIHx8IHRoaXMub3B0aW9ucy5heGlzICE9PSBcInlcIiApIHtcblx0XHRcdHRoaXMuaGVscGVyWyAwIF0uc3R5bGUubGVmdCA9IHRoaXMucG9zaXRpb24ubGVmdCArIFwicHhcIjtcblx0XHR9XG5cdFx0aWYgKCAhdGhpcy5vcHRpb25zLmF4aXMgfHwgdGhpcy5vcHRpb25zLmF4aXMgIT09IFwieFwiICkge1xuXHRcdFx0dGhpcy5oZWxwZXJbIDAgXS5zdHlsZS50b3AgPSB0aGlzLnBvc2l0aW9uLnRvcCArIFwicHhcIjtcblx0XHR9XG5cblx0XHQvL1JlYXJyYW5nZVxuXHRcdGZvciAoIGkgPSB0aGlzLml0ZW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tICkge1xuXG5cdFx0XHQvL0NhY2hlIHZhcmlhYmxlcyBhbmQgaW50ZXJzZWN0aW9uLCBjb250aW51ZSBpZiBubyBpbnRlcnNlY3Rpb25cblx0XHRcdGl0ZW0gPSB0aGlzLml0ZW1zWyBpIF07XG5cdFx0XHRpdGVtRWxlbWVudCA9IGl0ZW0uaXRlbVsgMCBdO1xuXHRcdFx0aW50ZXJzZWN0aW9uID0gdGhpcy5faW50ZXJzZWN0c1dpdGhQb2ludGVyKCBpdGVtICk7XG5cdFx0XHRpZiAoICFpbnRlcnNlY3Rpb24gKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBPbmx5IHB1dCB0aGUgcGxhY2Vob2xkZXIgaW5zaWRlIHRoZSBjdXJyZW50IENvbnRhaW5lciwgc2tpcCBhbGxcblx0XHRcdC8vIGl0ZW1zIGZyb20gb3RoZXIgY29udGFpbmVycy4gVGhpcyB3b3JrcyBiZWNhdXNlIHdoZW4gbW92aW5nXG5cdFx0XHQvLyBhbiBpdGVtIGZyb20gb25lIGNvbnRhaW5lciB0byBhbm90aGVyIHRoZVxuXHRcdFx0Ly8gY3VycmVudENvbnRhaW5lciBpcyBzd2l0Y2hlZCBiZWZvcmUgdGhlIHBsYWNlaG9sZGVyIGlzIG1vdmVkLlxuXHRcdFx0Ly9cblx0XHRcdC8vIFdpdGhvdXQgdGhpcywgbW92aW5nIGl0ZW1zIGluIFwic3ViLXNvcnRhYmxlc1wiIGNhbiBjYXVzZVxuXHRcdFx0Ly8gdGhlIHBsYWNlaG9sZGVyIHRvIGppdHRlciBiZXR3ZWVuIHRoZSBvdXRlciBhbmQgaW5uZXIgY29udGFpbmVyLlxuXHRcdFx0aWYgKCBpdGVtLmluc3RhbmNlICE9PSB0aGlzLmN1cnJlbnRDb250YWluZXIgKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDYW5ub3QgaW50ZXJzZWN0IHdpdGggaXRzZWxmXG5cdFx0XHQvLyBubyB1c2VsZXNzIGFjdGlvbnMgdGhhdCBoYXZlIGJlZW4gZG9uZSBiZWZvcmVcblx0XHRcdC8vIG5vIGFjdGlvbiBpZiB0aGUgaXRlbSBtb3ZlZCBpcyB0aGUgcGFyZW50IG9mIHRoZSBpdGVtIGNoZWNrZWRcblx0XHRcdGlmICggaXRlbUVsZW1lbnQgIT09IHRoaXMuY3VycmVudEl0ZW1bIDAgXSAmJlxuXHRcdFx0XHR0aGlzLnBsYWNlaG9sZGVyWyBpbnRlcnNlY3Rpb24gPT09IDEgPyBcIm5leHRcIiA6IFwicHJldlwiIF0oKVsgMCBdICE9PSBpdGVtRWxlbWVudCAmJlxuXHRcdFx0XHQhJC5jb250YWlucyggdGhpcy5wbGFjZWhvbGRlclsgMCBdLCBpdGVtRWxlbWVudCApICYmXG5cdFx0XHRcdCggdGhpcy5vcHRpb25zLnR5cGUgPT09IFwic2VtaS1keW5hbWljXCIgP1xuXHRcdFx0XHRcdCEkLmNvbnRhaW5zKCB0aGlzLmVsZW1lbnRbIDAgXSwgaXRlbUVsZW1lbnQgKSA6XG5cdFx0XHRcdFx0dHJ1ZVxuXHRcdFx0XHQpXG5cdFx0XHQpIHtcblxuXHRcdFx0XHR0aGlzLmRpcmVjdGlvbiA9IGludGVyc2VjdGlvbiA9PT0gMSA/IFwiZG93blwiIDogXCJ1cFwiO1xuXG5cdFx0XHRcdGlmICggdGhpcy5vcHRpb25zLnRvbGVyYW5jZSA9PT0gXCJwb2ludGVyXCIgfHwgdGhpcy5faW50ZXJzZWN0c1dpdGhTaWRlcyggaXRlbSApICkge1xuXHRcdFx0XHRcdHRoaXMuX3JlYXJyYW5nZSggZXZlbnQsIGl0ZW0gKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMuX3RyaWdnZXIoIFwiY2hhbmdlXCIsIGV2ZW50LCB0aGlzLl91aUhhc2goKSApO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvL1Bvc3QgZXZlbnRzIHRvIGNvbnRhaW5lcnNcblx0XHR0aGlzLl9jb250YWN0Q29udGFpbmVycyggZXZlbnQgKTtcblxuXHRcdC8vSW50ZXJjb25uZWN0IHdpdGggZHJvcHBhYmxlc1xuXHRcdGlmICggJC51aS5kZG1hbmFnZXIgKSB7XG5cdFx0XHQkLnVpLmRkbWFuYWdlci5kcmFnKCB0aGlzLCBldmVudCApO1xuXHRcdH1cblxuXHRcdC8vQ2FsbCBjYWxsYmFja3Ncblx0XHR0aGlzLl90cmlnZ2VyKCBcInNvcnRcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCgpICk7XG5cblx0XHR0aGlzLmxhc3RQb3NpdGlvbkFicyA9IHRoaXMucG9zaXRpb25BYnM7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXG5cdH0sXG5cblx0X21vdXNlU3RvcDogZnVuY3Rpb24oIGV2ZW50LCBub1Byb3BhZ2F0aW9uICkge1xuXG5cdFx0aWYgKCAhZXZlbnQgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly9JZiB3ZSBhcmUgdXNpbmcgZHJvcHBhYmxlcywgaW5mb3JtIHRoZSBtYW5hZ2VyIGFib3V0IHRoZSBkcm9wXG5cdFx0aWYgKCAkLnVpLmRkbWFuYWdlciAmJiAhdGhpcy5vcHRpb25zLmRyb3BCZWhhdmlvdXIgKSB7XG5cdFx0XHQkLnVpLmRkbWFuYWdlci5kcm9wKCB0aGlzLCBldmVudCApO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5vcHRpb25zLnJldmVydCApIHtcblx0XHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdFx0Y3VyID0gdGhpcy5wbGFjZWhvbGRlci5vZmZzZXQoKSxcblx0XHRcdFx0YXhpcyA9IHRoaXMub3B0aW9ucy5heGlzLFxuXHRcdFx0XHRhbmltYXRpb24gPSB7fTtcblxuXHRcdFx0aWYgKCAhYXhpcyB8fCBheGlzID09PSBcInhcIiApIHtcblx0XHRcdFx0YW5pbWF0aW9uLmxlZnQgPSBjdXIubGVmdCAtIHRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0IC0gdGhpcy5tYXJnaW5zLmxlZnQgK1xuXHRcdFx0XHRcdCggdGhpcy5vZmZzZXRQYXJlbnRbIDAgXSA9PT0gdGhpcy5kb2N1bWVudFsgMCBdLmJvZHkgP1xuXHRcdFx0XHRcdFx0MCA6XG5cdFx0XHRcdFx0XHR0aGlzLm9mZnNldFBhcmVudFsgMCBdLnNjcm9sbExlZnRcblx0XHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCAhYXhpcyB8fCBheGlzID09PSBcInlcIiApIHtcblx0XHRcdFx0YW5pbWF0aW9uLnRvcCA9IGN1ci50b3AgLSB0aGlzLm9mZnNldC5wYXJlbnQudG9wIC0gdGhpcy5tYXJnaW5zLnRvcCArXG5cdFx0XHRcdFx0KCB0aGlzLm9mZnNldFBhcmVudFsgMCBdID09PSB0aGlzLmRvY3VtZW50WyAwIF0uYm9keSA/XG5cdFx0XHRcdFx0XHQwIDpcblx0XHRcdFx0XHRcdHRoaXMub2Zmc2V0UGFyZW50WyAwIF0uc2Nyb2xsVG9wXG5cdFx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdHRoaXMucmV2ZXJ0aW5nID0gdHJ1ZTtcblx0XHRcdCQoIHRoaXMuaGVscGVyICkuYW5pbWF0ZShcblx0XHRcdFx0YW5pbWF0aW9uLFxuXHRcdFx0XHRwYXJzZUludCggdGhpcy5vcHRpb25zLnJldmVydCwgMTAgKSB8fCA1MDAsXG5cdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHRoYXQuX2NsZWFyKCBldmVudCApO1xuXHRcdFx0XHR9XG5cdFx0XHQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9jbGVhciggZXZlbnQsIG5vUHJvcGFnYXRpb24gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cblx0fSxcblxuXHRjYW5jZWw6IGZ1bmN0aW9uKCkge1xuXG5cdFx0aWYgKCB0aGlzLmRyYWdnaW5nICkge1xuXG5cdFx0XHR0aGlzLl9tb3VzZVVwKCBuZXcgJC5FdmVudCggXCJtb3VzZXVwXCIsIHsgdGFyZ2V0OiBudWxsIH0gKSApO1xuXG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5oZWxwZXIgPT09IFwib3JpZ2luYWxcIiApIHtcblx0XHRcdFx0dGhpcy5jdXJyZW50SXRlbS5jc3MoIHRoaXMuX3N0b3JlZENTUyApO1xuXHRcdFx0XHR0aGlzLl9yZW1vdmVDbGFzcyggdGhpcy5jdXJyZW50SXRlbSwgXCJ1aS1zb3J0YWJsZS1oZWxwZXJcIiApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5jdXJyZW50SXRlbS5zaG93KCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vUG9zdCBkZWFjdGl2YXRpbmcgZXZlbnRzIHRvIGNvbnRhaW5lcnNcblx0XHRcdGZvciAoIHZhciBpID0gdGhpcy5jb250YWluZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tICkge1xuXHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbIGkgXS5fdHJpZ2dlciggXCJkZWFjdGl2YXRlXCIsIG51bGwsIHRoaXMuX3VpSGFzaCggdGhpcyApICk7XG5cdFx0XHRcdGlmICggdGhpcy5jb250YWluZXJzWyBpIF0uY29udGFpbmVyQ2FjaGUub3ZlciApIHtcblx0XHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbIGkgXS5fdHJpZ2dlciggXCJvdXRcIiwgbnVsbCwgdGhpcy5fdWlIYXNoKCB0aGlzICkgKTtcblx0XHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbIGkgXS5jb250YWluZXJDYWNoZS5vdmVyID0gMDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLnBsYWNlaG9sZGVyICkge1xuXG5cdFx0XHQvLyQodGhpcy5wbGFjZWhvbGRlclswXSkucmVtb3ZlKCk7IHdvdWxkIGhhdmUgYmVlbiB0aGUgalF1ZXJ5IHdheSAtIHVuZm9ydHVuYXRlbHksXG5cdFx0XHQvLyBpdCB1bmJpbmRzIEFMTCBldmVudHMgZnJvbSB0aGUgb3JpZ2luYWwgbm9kZSFcblx0XHRcdGlmICggdGhpcy5wbGFjZWhvbGRlclsgMCBdLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdHRoaXMucGxhY2Vob2xkZXJbIDAgXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCB0aGlzLnBsYWNlaG9sZGVyWyAwIF0gKTtcblx0XHRcdH1cblx0XHRcdGlmICggdGhpcy5vcHRpb25zLmhlbHBlciAhPT0gXCJvcmlnaW5hbFwiICYmIHRoaXMuaGVscGVyICYmXG5cdFx0XHRcdFx0dGhpcy5oZWxwZXJbIDAgXS5wYXJlbnROb2RlICkge1xuXHRcdFx0XHR0aGlzLmhlbHBlci5yZW1vdmUoKTtcblx0XHRcdH1cblxuXHRcdFx0JC5leHRlbmQoIHRoaXMsIHtcblx0XHRcdFx0aGVscGVyOiBudWxsLFxuXHRcdFx0XHRkcmFnZ2luZzogZmFsc2UsXG5cdFx0XHRcdHJldmVydGluZzogZmFsc2UsXG5cdFx0XHRcdF9ub0ZpbmFsU29ydDogbnVsbFxuXHRcdFx0fSApO1xuXG5cdFx0XHRpZiAoIHRoaXMuZG9tUG9zaXRpb24ucHJldiApIHtcblx0XHRcdFx0JCggdGhpcy5kb21Qb3NpdGlvbi5wcmV2ICkuYWZ0ZXIoIHRoaXMuY3VycmVudEl0ZW0gKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCQoIHRoaXMuZG9tUG9zaXRpb24ucGFyZW50ICkucHJlcGVuZCggdGhpcy5jdXJyZW50SXRlbSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH0sXG5cblx0c2VyaWFsaXplOiBmdW5jdGlvbiggbyApIHtcblxuXHRcdHZhciBpdGVtcyA9IHRoaXMuX2dldEl0ZW1zQXNqUXVlcnkoIG8gJiYgby5jb25uZWN0ZWQgKSxcblx0XHRcdHN0ciA9IFtdO1xuXHRcdG8gPSBvIHx8IHt9O1xuXG5cdFx0JCggaXRlbXMgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciByZXMgPSAoICQoIG8uaXRlbSB8fCB0aGlzICkuYXR0ciggby5hdHRyaWJ1dGUgfHwgXCJpZFwiICkgfHwgXCJcIiApXG5cdFx0XHRcdC5tYXRjaCggby5leHByZXNzaW9uIHx8ICggLyguKylbXFwtPV9dKC4rKS8gKSApO1xuXHRcdFx0aWYgKCByZXMgKSB7XG5cdFx0XHRcdHN0ci5wdXNoKFxuXHRcdFx0XHRcdCggby5rZXkgfHwgcmVzWyAxIF0gKyBcIltdXCIgKSArXG5cdFx0XHRcdFx0XCI9XCIgKyAoIG8ua2V5ICYmIG8uZXhwcmVzc2lvbiA/IHJlc1sgMSBdIDogcmVzWyAyIF0gKSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblxuXHRcdGlmICggIXN0ci5sZW5ndGggJiYgby5rZXkgKSB7XG5cdFx0XHRzdHIucHVzaCggby5rZXkgKyBcIj1cIiApO1xuXHRcdH1cblxuXHRcdHJldHVybiBzdHIuam9pbiggXCImXCIgKTtcblxuXHR9LFxuXG5cdHRvQXJyYXk6IGZ1bmN0aW9uKCBvICkge1xuXG5cdFx0dmFyIGl0ZW1zID0gdGhpcy5fZ2V0SXRlbXNBc2pRdWVyeSggbyAmJiBvLmNvbm5lY3RlZCApLFxuXHRcdFx0cmV0ID0gW107XG5cblx0XHRvID0gbyB8fCB7fTtcblxuXHRcdGl0ZW1zLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0LnB1c2goICQoIG8uaXRlbSB8fCB0aGlzICkuYXR0ciggby5hdHRyaWJ1dGUgfHwgXCJpZFwiICkgfHwgXCJcIiApO1xuXHRcdH0gKTtcblx0XHRyZXR1cm4gcmV0O1xuXG5cdH0sXG5cblx0LyogQmUgY2FyZWZ1bCB3aXRoIHRoZSBmb2xsb3dpbmcgY29yZSBmdW5jdGlvbnMgKi9cblx0X2ludGVyc2VjdHNXaXRoOiBmdW5jdGlvbiggaXRlbSApIHtcblxuXHRcdHZhciB4MSA9IHRoaXMucG9zaXRpb25BYnMubGVmdCxcblx0XHRcdHgyID0geDEgKyB0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLFxuXHRcdFx0eTEgPSB0aGlzLnBvc2l0aW9uQWJzLnRvcCxcblx0XHRcdHkyID0geTEgKyB0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCxcblx0XHRcdGwgPSBpdGVtLmxlZnQsXG5cdFx0XHRyID0gbCArIGl0ZW0ud2lkdGgsXG5cdFx0XHR0ID0gaXRlbS50b3AsXG5cdFx0XHRiID0gdCArIGl0ZW0uaGVpZ2h0LFxuXHRcdFx0ZHlDbGljayA9IHRoaXMub2Zmc2V0LmNsaWNrLnRvcCxcblx0XHRcdGR4Q2xpY2sgPSB0aGlzLm9mZnNldC5jbGljay5sZWZ0LFxuXHRcdFx0aXNPdmVyRWxlbWVudEhlaWdodCA9ICggdGhpcy5vcHRpb25zLmF4aXMgPT09IFwieFwiICkgfHwgKCAoIHkxICsgZHlDbGljayApID4gdCAmJlxuXHRcdFx0XHQoIHkxICsgZHlDbGljayApIDwgYiApLFxuXHRcdFx0aXNPdmVyRWxlbWVudFdpZHRoID0gKCB0aGlzLm9wdGlvbnMuYXhpcyA9PT0gXCJ5XCIgKSB8fCAoICggeDEgKyBkeENsaWNrICkgPiBsICYmXG5cdFx0XHRcdCggeDEgKyBkeENsaWNrICkgPCByICksXG5cdFx0XHRpc092ZXJFbGVtZW50ID0gaXNPdmVyRWxlbWVudEhlaWdodCAmJiBpc092ZXJFbGVtZW50V2lkdGg7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy50b2xlcmFuY2UgPT09IFwicG9pbnRlclwiIHx8XG5cdFx0XHR0aGlzLm9wdGlvbnMuZm9yY2VQb2ludGVyRm9yQ29udGFpbmVycyB8fFxuXHRcdFx0KCB0aGlzLm9wdGlvbnMudG9sZXJhbmNlICE9PSBcInBvaW50ZXJcIiAmJlxuXHRcdFx0XHR0aGlzLmhlbHBlclByb3BvcnRpb25zWyB0aGlzLmZsb2F0aW5nID8gXCJ3aWR0aFwiIDogXCJoZWlnaHRcIiBdID5cblx0XHRcdFx0aXRlbVsgdGhpcy5mbG9hdGluZyA/IFwid2lkdGhcIiA6IFwiaGVpZ2h0XCIgXSApXG5cdFx0KSB7XG5cdFx0XHRyZXR1cm4gaXNPdmVyRWxlbWVudDtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRyZXR1cm4gKCBsIDwgeDEgKyAoIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGggLyAyICkgJiYgLy8gUmlnaHQgSGFsZlxuXHRcdFx0XHR4MiAtICggdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCAvIDIgKSA8IHIgJiYgLy8gTGVmdCBIYWxmXG5cdFx0XHRcdHQgPCB5MSArICggdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQgLyAyICkgJiYgLy8gQm90dG9tIEhhbGZcblx0XHRcdFx0eTIgLSAoIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0IC8gMiApIDwgYiApOyAvLyBUb3AgSGFsZlxuXG5cdFx0fVxuXHR9LFxuXG5cdF9pbnRlcnNlY3RzV2l0aFBvaW50ZXI6IGZ1bmN0aW9uKCBpdGVtICkge1xuXHRcdHZhciB2ZXJ0aWNhbERpcmVjdGlvbiwgaG9yaXpvbnRhbERpcmVjdGlvbixcblx0XHRcdGlzT3ZlckVsZW1lbnRIZWlnaHQgPSAoIHRoaXMub3B0aW9ucy5heGlzID09PSBcInhcIiApIHx8XG5cdFx0XHRcdHRoaXMuX2lzT3ZlckF4aXMoXG5cdFx0XHRcdFx0dGhpcy5wb3NpdGlvbkFicy50b3AgKyB0aGlzLm9mZnNldC5jbGljay50b3AsIGl0ZW0udG9wLCBpdGVtLmhlaWdodCApLFxuXHRcdFx0aXNPdmVyRWxlbWVudFdpZHRoID0gKCB0aGlzLm9wdGlvbnMuYXhpcyA9PT0gXCJ5XCIgKSB8fFxuXHRcdFx0XHR0aGlzLl9pc092ZXJBeGlzKFxuXHRcdFx0XHRcdHRoaXMucG9zaXRpb25BYnMubGVmdCArIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQsIGl0ZW0ubGVmdCwgaXRlbS53aWR0aCApLFxuXHRcdFx0aXNPdmVyRWxlbWVudCA9IGlzT3ZlckVsZW1lbnRIZWlnaHQgJiYgaXNPdmVyRWxlbWVudFdpZHRoO1xuXG5cdFx0aWYgKCAhaXNPdmVyRWxlbWVudCApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHR2ZXJ0aWNhbERpcmVjdGlvbiA9IHRoaXMuX2dldERyYWdWZXJ0aWNhbERpcmVjdGlvbigpO1xuXHRcdGhvcml6b250YWxEaXJlY3Rpb24gPSB0aGlzLl9nZXREcmFnSG9yaXpvbnRhbERpcmVjdGlvbigpO1xuXG5cdFx0cmV0dXJuIHRoaXMuZmxvYXRpbmcgP1xuXHRcdFx0KCAoIGhvcml6b250YWxEaXJlY3Rpb24gPT09IFwicmlnaHRcIiB8fCB2ZXJ0aWNhbERpcmVjdGlvbiA9PT0gXCJkb3duXCIgKSA/IDIgOiAxIClcblx0XHRcdDogKCB2ZXJ0aWNhbERpcmVjdGlvbiAmJiAoIHZlcnRpY2FsRGlyZWN0aW9uID09PSBcImRvd25cIiA/IDIgOiAxICkgKTtcblxuXHR9LFxuXG5cdF9pbnRlcnNlY3RzV2l0aFNpZGVzOiBmdW5jdGlvbiggaXRlbSApIHtcblxuXHRcdHZhciBpc092ZXJCb3R0b21IYWxmID0gdGhpcy5faXNPdmVyQXhpcyggdGhpcy5wb3NpdGlvbkFicy50b3AgK1xuXHRcdFx0XHR0aGlzLm9mZnNldC5jbGljay50b3AsIGl0ZW0udG9wICsgKCBpdGVtLmhlaWdodCAvIDIgKSwgaXRlbS5oZWlnaHQgKSxcblx0XHRcdGlzT3ZlclJpZ2h0SGFsZiA9IHRoaXMuX2lzT3ZlckF4aXMoIHRoaXMucG9zaXRpb25BYnMubGVmdCArXG5cdFx0XHRcdHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQsIGl0ZW0ubGVmdCArICggaXRlbS53aWR0aCAvIDIgKSwgaXRlbS53aWR0aCApLFxuXHRcdFx0dmVydGljYWxEaXJlY3Rpb24gPSB0aGlzLl9nZXREcmFnVmVydGljYWxEaXJlY3Rpb24oKSxcblx0XHRcdGhvcml6b250YWxEaXJlY3Rpb24gPSB0aGlzLl9nZXREcmFnSG9yaXpvbnRhbERpcmVjdGlvbigpO1xuXG5cdFx0aWYgKCB0aGlzLmZsb2F0aW5nICYmIGhvcml6b250YWxEaXJlY3Rpb24gKSB7XG5cdFx0XHRyZXR1cm4gKCAoIGhvcml6b250YWxEaXJlY3Rpb24gPT09IFwicmlnaHRcIiAmJiBpc092ZXJSaWdodEhhbGYgKSB8fFxuXHRcdFx0XHQoIGhvcml6b250YWxEaXJlY3Rpb24gPT09IFwibGVmdFwiICYmICFpc092ZXJSaWdodEhhbGYgKSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdmVydGljYWxEaXJlY3Rpb24gJiYgKCAoIHZlcnRpY2FsRGlyZWN0aW9uID09PSBcImRvd25cIiAmJiBpc092ZXJCb3R0b21IYWxmICkgfHxcblx0XHRcdFx0KCB2ZXJ0aWNhbERpcmVjdGlvbiA9PT0gXCJ1cFwiICYmICFpc092ZXJCb3R0b21IYWxmICkgKTtcblx0XHR9XG5cblx0fSxcblxuXHRfZ2V0RHJhZ1ZlcnRpY2FsRGlyZWN0aW9uOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZGVsdGEgPSB0aGlzLnBvc2l0aW9uQWJzLnRvcCAtIHRoaXMubGFzdFBvc2l0aW9uQWJzLnRvcDtcblx0XHRyZXR1cm4gZGVsdGEgIT09IDAgJiYgKCBkZWx0YSA+IDAgPyBcImRvd25cIiA6IFwidXBcIiApO1xuXHR9LFxuXG5cdF9nZXREcmFnSG9yaXpvbnRhbERpcmVjdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGRlbHRhID0gdGhpcy5wb3NpdGlvbkFicy5sZWZ0IC0gdGhpcy5sYXN0UG9zaXRpb25BYnMubGVmdDtcblx0XHRyZXR1cm4gZGVsdGEgIT09IDAgJiYgKCBkZWx0YSA+IDAgPyBcInJpZ2h0XCIgOiBcImxlZnRcIiApO1xuXHR9LFxuXG5cdHJlZnJlc2g6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR0aGlzLl9yZWZyZXNoSXRlbXMoIGV2ZW50ICk7XG5cdFx0dGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCk7XG5cdFx0dGhpcy5yZWZyZXNoUG9zaXRpb25zKCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0X2Nvbm5lY3RXaXRoOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblx0XHRyZXR1cm4gb3B0aW9ucy5jb25uZWN0V2l0aC5jb25zdHJ1Y3RvciA9PT0gU3RyaW5nID9cblx0XHRcdFsgb3B0aW9ucy5jb25uZWN0V2l0aCBdIDpcblx0XHRcdG9wdGlvbnMuY29ubmVjdFdpdGg7XG5cdH0sXG5cblx0X2dldEl0ZW1zQXNqUXVlcnk6IGZ1bmN0aW9uKCBjb25uZWN0ZWQgKSB7XG5cblx0XHR2YXIgaSwgaiwgY3VyLCBpbnN0LFxuXHRcdFx0aXRlbXMgPSBbXSxcblx0XHRcdHF1ZXJpZXMgPSBbXSxcblx0XHRcdGNvbm5lY3RXaXRoID0gdGhpcy5fY29ubmVjdFdpdGgoKTtcblxuXHRcdGlmICggY29ubmVjdFdpdGggJiYgY29ubmVjdGVkICkge1xuXHRcdFx0Zm9yICggaSA9IGNvbm5lY3RXaXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tICkge1xuXHRcdFx0XHRjdXIgPSAkKCBjb25uZWN0V2l0aFsgaSBdLCB0aGlzLmRvY3VtZW50WyAwIF0gKTtcblx0XHRcdFx0Zm9yICggaiA9IGN1ci5sZW5ndGggLSAxOyBqID49IDA7IGotLSApIHtcblx0XHRcdFx0XHRpbnN0ID0gJC5kYXRhKCBjdXJbIGogXSwgdGhpcy53aWRnZXRGdWxsTmFtZSApO1xuXHRcdFx0XHRcdGlmICggaW5zdCAmJiBpbnN0ICE9PSB0aGlzICYmICFpbnN0Lm9wdGlvbnMuZGlzYWJsZWQgKSB7XG5cdFx0XHRcdFx0XHRxdWVyaWVzLnB1c2goIFsgJC5pc0Z1bmN0aW9uKCBpbnN0Lm9wdGlvbnMuaXRlbXMgKSA/XG5cdFx0XHRcdFx0XHRcdGluc3Qub3B0aW9ucy5pdGVtcy5jYWxsKCBpbnN0LmVsZW1lbnQgKSA6XG5cdFx0XHRcdFx0XHRcdCQoIGluc3Qub3B0aW9ucy5pdGVtcywgaW5zdC5lbGVtZW50IClcblx0XHRcdFx0XHRcdFx0XHQubm90KCBcIi51aS1zb3J0YWJsZS1oZWxwZXJcIiApXG5cdFx0XHRcdFx0XHRcdFx0Lm5vdCggXCIudWktc29ydGFibGUtcGxhY2Vob2xkZXJcIiApLCBpbnN0IF0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRxdWVyaWVzLnB1c2goIFsgJC5pc0Z1bmN0aW9uKCB0aGlzLm9wdGlvbnMuaXRlbXMgKSA/XG5cdFx0XHR0aGlzLm9wdGlvbnMuaXRlbXNcblx0XHRcdFx0LmNhbGwoIHRoaXMuZWxlbWVudCwgbnVsbCwgeyBvcHRpb25zOiB0aGlzLm9wdGlvbnMsIGl0ZW06IHRoaXMuY3VycmVudEl0ZW0gfSApIDpcblx0XHRcdCQoIHRoaXMub3B0aW9ucy5pdGVtcywgdGhpcy5lbGVtZW50IClcblx0XHRcdFx0Lm5vdCggXCIudWktc29ydGFibGUtaGVscGVyXCIgKVxuXHRcdFx0XHQubm90KCBcIi51aS1zb3J0YWJsZS1wbGFjZWhvbGRlclwiICksIHRoaXMgXSApO1xuXG5cdFx0ZnVuY3Rpb24gYWRkSXRlbXMoKSB7XG5cdFx0XHRpdGVtcy5wdXNoKCB0aGlzICk7XG5cdFx0fVxuXHRcdGZvciAoIGkgPSBxdWVyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tICkge1xuXHRcdFx0cXVlcmllc1sgaSBdWyAwIF0uZWFjaCggYWRkSXRlbXMgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gJCggaXRlbXMgKTtcblxuXHR9LFxuXG5cdF9yZW1vdmVDdXJyZW50c0Zyb21JdGVtczogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgbGlzdCA9IHRoaXMuY3VycmVudEl0ZW0uZmluZCggXCI6ZGF0YShcIiArIHRoaXMud2lkZ2V0TmFtZSArIFwiLWl0ZW0pXCIgKTtcblxuXHRcdHRoaXMuaXRlbXMgPSAkLmdyZXAoIHRoaXMuaXRlbXMsIGZ1bmN0aW9uKCBpdGVtICkge1xuXHRcdFx0Zm9yICggdmFyIGogPSAwOyBqIDwgbGlzdC5sZW5ndGg7IGorKyApIHtcblx0XHRcdFx0aWYgKCBsaXN0WyBqIF0gPT09IGl0ZW0uaXRlbVsgMCBdICkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSApO1xuXG5cdH0sXG5cblx0X3JlZnJlc2hJdGVtczogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0dGhpcy5pdGVtcyA9IFtdO1xuXHRcdHRoaXMuY29udGFpbmVycyA9IFsgdGhpcyBdO1xuXG5cdFx0dmFyIGksIGosIGN1ciwgaW5zdCwgdGFyZ2V0RGF0YSwgX3F1ZXJpZXMsIGl0ZW0sIHF1ZXJpZXNMZW5ndGgsXG5cdFx0XHRpdGVtcyA9IHRoaXMuaXRlbXMsXG5cdFx0XHRxdWVyaWVzID0gWyBbICQuaXNGdW5jdGlvbiggdGhpcy5vcHRpb25zLml0ZW1zICkgP1xuXHRcdFx0XHR0aGlzLm9wdGlvbnMuaXRlbXMuY2FsbCggdGhpcy5lbGVtZW50WyAwIF0sIGV2ZW50LCB7IGl0ZW06IHRoaXMuY3VycmVudEl0ZW0gfSApIDpcblx0XHRcdFx0JCggdGhpcy5vcHRpb25zLml0ZW1zLCB0aGlzLmVsZW1lbnQgKSwgdGhpcyBdIF0sXG5cdFx0XHRjb25uZWN0V2l0aCA9IHRoaXMuX2Nvbm5lY3RXaXRoKCk7XG5cblx0XHQvL1Nob3VsZG4ndCBiZSBydW4gdGhlIGZpcnN0IHRpbWUgdGhyb3VnaCBkdWUgdG8gbWFzc2l2ZSBzbG93LWRvd25cblx0XHRpZiAoIGNvbm5lY3RXaXRoICYmIHRoaXMucmVhZHkgKSB7XG5cdFx0XHRmb3IgKCBpID0gY29ubmVjdFdpdGgubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKSB7XG5cdFx0XHRcdGN1ciA9ICQoIGNvbm5lY3RXaXRoWyBpIF0sIHRoaXMuZG9jdW1lbnRbIDAgXSApO1xuXHRcdFx0XHRmb3IgKCBqID0gY3VyLmxlbmd0aCAtIDE7IGogPj0gMDsgai0tICkge1xuXHRcdFx0XHRcdGluc3QgPSAkLmRhdGEoIGN1clsgaiBdLCB0aGlzLndpZGdldEZ1bGxOYW1lICk7XG5cdFx0XHRcdFx0aWYgKCBpbnN0ICYmIGluc3QgIT09IHRoaXMgJiYgIWluc3Qub3B0aW9ucy5kaXNhYmxlZCApIHtcblx0XHRcdFx0XHRcdHF1ZXJpZXMucHVzaCggWyAkLmlzRnVuY3Rpb24oIGluc3Qub3B0aW9ucy5pdGVtcyApID9cblx0XHRcdFx0XHRcdFx0aW5zdC5vcHRpb25zLml0ZW1zXG5cdFx0XHRcdFx0XHRcdFx0LmNhbGwoIGluc3QuZWxlbWVudFsgMCBdLCBldmVudCwgeyBpdGVtOiB0aGlzLmN1cnJlbnRJdGVtIH0gKSA6XG5cdFx0XHRcdFx0XHRcdCQoIGluc3Qub3B0aW9ucy5pdGVtcywgaW5zdC5lbGVtZW50ICksIGluc3QgXSApO1xuXHRcdFx0XHRcdFx0dGhpcy5jb250YWluZXJzLnB1c2goIGluc3QgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRmb3IgKCBpID0gcXVlcmllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSApIHtcblx0XHRcdHRhcmdldERhdGEgPSBxdWVyaWVzWyBpIF1bIDEgXTtcblx0XHRcdF9xdWVyaWVzID0gcXVlcmllc1sgaSBdWyAwIF07XG5cblx0XHRcdGZvciAoIGogPSAwLCBxdWVyaWVzTGVuZ3RoID0gX3F1ZXJpZXMubGVuZ3RoOyBqIDwgcXVlcmllc0xlbmd0aDsgaisrICkge1xuXHRcdFx0XHRpdGVtID0gJCggX3F1ZXJpZXNbIGogXSApO1xuXG5cdFx0XHRcdC8vIERhdGEgZm9yIHRhcmdldCBjaGVja2luZyAobW91c2UgbWFuYWdlcilcblx0XHRcdFx0aXRlbS5kYXRhKCB0aGlzLndpZGdldE5hbWUgKyBcIi1pdGVtXCIsIHRhcmdldERhdGEgKTtcblxuXHRcdFx0XHRpdGVtcy5wdXNoKCB7XG5cdFx0XHRcdFx0aXRlbTogaXRlbSxcblx0XHRcdFx0XHRpbnN0YW5jZTogdGFyZ2V0RGF0YSxcblx0XHRcdFx0XHR3aWR0aDogMCwgaGVpZ2h0OiAwLFxuXHRcdFx0XHRcdGxlZnQ6IDAsIHRvcDogMFxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdH0sXG5cblx0cmVmcmVzaFBvc2l0aW9uczogZnVuY3Rpb24oIGZhc3QgKSB7XG5cblx0XHQvLyBEZXRlcm1pbmUgd2hldGhlciBpdGVtcyBhcmUgYmVpbmcgZGlzcGxheWVkIGhvcml6b250YWxseVxuXHRcdHRoaXMuZmxvYXRpbmcgPSB0aGlzLml0ZW1zLmxlbmd0aCA/XG5cdFx0XHR0aGlzLm9wdGlvbnMuYXhpcyA9PT0gXCJ4XCIgfHwgdGhpcy5faXNGbG9hdGluZyggdGhpcy5pdGVtc1sgMCBdLml0ZW0gKSA6XG5cdFx0XHRmYWxzZTtcblxuXHRcdC8vVGhpcyBoYXMgdG8gYmUgcmVkb25lIGJlY2F1c2UgZHVlIHRvIHRoZSBpdGVtIGJlaW5nIG1vdmVkIG91dC9pbnRvIHRoZSBvZmZzZXRQYXJlbnQsXG5cdFx0Ly8gdGhlIG9mZnNldFBhcmVudCdzIHBvc2l0aW9uIHdpbGwgY2hhbmdlXG5cdFx0aWYgKCB0aGlzLm9mZnNldFBhcmVudCAmJiB0aGlzLmhlbHBlciApIHtcblx0XHRcdHRoaXMub2Zmc2V0LnBhcmVudCA9IHRoaXMuX2dldFBhcmVudE9mZnNldCgpO1xuXHRcdH1cblxuXHRcdHZhciBpLCBpdGVtLCB0LCBwO1xuXG5cdFx0Zm9yICggaSA9IHRoaXMuaXRlbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKSB7XG5cdFx0XHRpdGVtID0gdGhpcy5pdGVtc1sgaSBdO1xuXG5cdFx0XHQvL1dlIGlnbm9yZSBjYWxjdWxhdGluZyBwb3NpdGlvbnMgb2YgYWxsIGNvbm5lY3RlZCBjb250YWluZXJzIHdoZW4gd2UncmUgbm90IG92ZXIgdGhlbVxuXHRcdFx0aWYgKCBpdGVtLmluc3RhbmNlICE9PSB0aGlzLmN1cnJlbnRDb250YWluZXIgJiYgdGhpcy5jdXJyZW50Q29udGFpbmVyICYmXG5cdFx0XHRcdFx0aXRlbS5pdGVtWyAwIF0gIT09IHRoaXMuY3VycmVudEl0ZW1bIDAgXSApIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdHQgPSB0aGlzLm9wdGlvbnMudG9sZXJhbmNlRWxlbWVudCA/XG5cdFx0XHRcdCQoIHRoaXMub3B0aW9ucy50b2xlcmFuY2VFbGVtZW50LCBpdGVtLml0ZW0gKSA6XG5cdFx0XHRcdGl0ZW0uaXRlbTtcblxuXHRcdFx0aWYgKCAhZmFzdCApIHtcblx0XHRcdFx0aXRlbS53aWR0aCA9IHQub3V0ZXJXaWR0aCgpO1xuXHRcdFx0XHRpdGVtLmhlaWdodCA9IHQub3V0ZXJIZWlnaHQoKTtcblx0XHRcdH1cblxuXHRcdFx0cCA9IHQub2Zmc2V0KCk7XG5cdFx0XHRpdGVtLmxlZnQgPSBwLmxlZnQ7XG5cdFx0XHRpdGVtLnRvcCA9IHAudG9wO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5vcHRpb25zLmN1c3RvbSAmJiB0aGlzLm9wdGlvbnMuY3VzdG9tLnJlZnJlc2hDb250YWluZXJzICkge1xuXHRcdFx0dGhpcy5vcHRpb25zLmN1c3RvbS5yZWZyZXNoQ29udGFpbmVycy5jYWxsKCB0aGlzICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAoIGkgPSB0aGlzLmNvbnRhaW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKSB7XG5cdFx0XHRcdHAgPSB0aGlzLmNvbnRhaW5lcnNbIGkgXS5lbGVtZW50Lm9mZnNldCgpO1xuXHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbIGkgXS5jb250YWluZXJDYWNoZS5sZWZ0ID0gcC5sZWZ0O1xuXHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbIGkgXS5jb250YWluZXJDYWNoZS50b3AgPSBwLnRvcDtcblx0XHRcdFx0dGhpcy5jb250YWluZXJzWyBpIF0uY29udGFpbmVyQ2FjaGUud2lkdGggPVxuXHRcdFx0XHRcdHRoaXMuY29udGFpbmVyc1sgaSBdLmVsZW1lbnQub3V0ZXJXaWR0aCgpO1xuXHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbIGkgXS5jb250YWluZXJDYWNoZS5oZWlnaHQgPVxuXHRcdFx0XHRcdHRoaXMuY29udGFpbmVyc1sgaSBdLmVsZW1lbnQub3V0ZXJIZWlnaHQoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRfY3JlYXRlUGxhY2Vob2xkZXI6IGZ1bmN0aW9uKCB0aGF0ICkge1xuXHRcdHRoYXQgPSB0aGF0IHx8IHRoaXM7XG5cdFx0dmFyIGNsYXNzTmFtZSxcblx0XHRcdG8gPSB0aGF0Lm9wdGlvbnM7XG5cblx0XHRpZiAoICFvLnBsYWNlaG9sZGVyIHx8IG8ucGxhY2Vob2xkZXIuY29uc3RydWN0b3IgPT09IFN0cmluZyApIHtcblx0XHRcdGNsYXNzTmFtZSA9IG8ucGxhY2Vob2xkZXI7XG5cdFx0XHRvLnBsYWNlaG9sZGVyID0ge1xuXHRcdFx0XHRlbGVtZW50OiBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdHZhciBub2RlTmFtZSA9IHRoYXQuY3VycmVudEl0ZW1bIDAgXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLFxuXHRcdFx0XHRcdFx0ZWxlbWVudCA9ICQoIFwiPFwiICsgbm9kZU5hbWUgKyBcIj5cIiwgdGhhdC5kb2N1bWVudFsgMCBdICk7XG5cblx0XHRcdFx0XHRcdHRoYXQuX2FkZENsYXNzKCBlbGVtZW50LCBcInVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyXCIsXG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lIHx8IHRoYXQuY3VycmVudEl0ZW1bIDAgXS5jbGFzc05hbWUgKVxuXHRcdFx0XHRcdFx0XHQuX3JlbW92ZUNsYXNzKCBlbGVtZW50LCBcInVpLXNvcnRhYmxlLWhlbHBlclwiICk7XG5cblx0XHRcdFx0XHRpZiAoIG5vZGVOYW1lID09PSBcInRib2R5XCIgKSB7XG5cdFx0XHRcdFx0XHR0aGF0Ll9jcmVhdGVUclBsYWNlaG9sZGVyKFxuXHRcdFx0XHRcdFx0XHR0aGF0LmN1cnJlbnRJdGVtLmZpbmQoIFwidHJcIiApLmVxKCAwICksXG5cdFx0XHRcdFx0XHRcdCQoIFwiPHRyPlwiLCB0aGF0LmRvY3VtZW50WyAwIF0gKS5hcHBlbmRUbyggZWxlbWVudCApXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIG5vZGVOYW1lID09PSBcInRyXCIgKSB7XG5cdFx0XHRcdFx0XHR0aGF0Ll9jcmVhdGVUclBsYWNlaG9sZGVyKCB0aGF0LmN1cnJlbnRJdGVtLCBlbGVtZW50ICk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmICggbm9kZU5hbWUgPT09IFwiaW1nXCIgKSB7XG5cdFx0XHRcdFx0XHRlbGVtZW50LmF0dHIoIFwic3JjXCIsIHRoYXQuY3VycmVudEl0ZW0uYXR0ciggXCJzcmNcIiApICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCAhY2xhc3NOYW1lICkge1xuXHRcdFx0XHRcdFx0ZWxlbWVudC5jc3MoIFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGVsZW1lbnQ7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHVwZGF0ZTogZnVuY3Rpb24oIGNvbnRhaW5lciwgcCApIHtcblxuXHRcdFx0XHRcdC8vIDEuIElmIGEgY2xhc3NOYW1lIGlzIHNldCBhcyAncGxhY2Vob2xkZXIgb3B0aW9uLCB3ZSBkb24ndCBmb3JjZSBzaXplcyAtXG5cdFx0XHRcdFx0Ly8gdGhlIGNsYXNzIGlzIHJlc3BvbnNpYmxlIGZvciB0aGF0XG5cdFx0XHRcdFx0Ly8gMi4gVGhlIG9wdGlvbiAnZm9yY2VQbGFjZWhvbGRlclNpemUgY2FuIGJlIGVuYWJsZWQgdG8gZm9yY2UgaXQgZXZlbiBpZiBhXG5cdFx0XHRcdFx0Ly8gY2xhc3MgbmFtZSBpcyBzcGVjaWZpZWRcblx0XHRcdFx0XHRpZiAoIGNsYXNzTmFtZSAmJiAhby5mb3JjZVBsYWNlaG9sZGVyU2l6ZSApIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvL0lmIHRoZSBlbGVtZW50IGRvZXNuJ3QgaGF2ZSBhIGFjdHVhbCBoZWlnaHQgYnkgaXRzZWxmICh3aXRob3V0IHN0eWxlcyBjb21pbmdcblx0XHRcdFx0XHQvLyBmcm9tIGEgc3R5bGVzaGVldCksIGl0IHJlY2VpdmVzIHRoZSBpbmxpbmUgaGVpZ2h0IGZyb20gdGhlIGRyYWdnZWQgaXRlbVxuXHRcdFx0XHRcdGlmICggIXAuaGVpZ2h0KCkgKSB7XG5cdFx0XHRcdFx0XHRwLmhlaWdodChcblx0XHRcdFx0XHRcdFx0dGhhdC5jdXJyZW50SXRlbS5pbm5lckhlaWdodCgpIC1cblx0XHRcdFx0XHRcdFx0cGFyc2VJbnQoIHRoYXQuY3VycmVudEl0ZW0uY3NzKCBcInBhZGRpbmdUb3BcIiApIHx8IDAsIDEwICkgLVxuXHRcdFx0XHRcdFx0XHRwYXJzZUludCggdGhhdC5jdXJyZW50SXRlbS5jc3MoIFwicGFkZGluZ0JvdHRvbVwiICkgfHwgMCwgMTAgKSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoICFwLndpZHRoKCkgKSB7XG5cdFx0XHRcdFx0XHRwLndpZHRoKFxuXHRcdFx0XHRcdFx0XHR0aGF0LmN1cnJlbnRJdGVtLmlubmVyV2lkdGgoKSAtXG5cdFx0XHRcdFx0XHRcdHBhcnNlSW50KCB0aGF0LmN1cnJlbnRJdGVtLmNzcyggXCJwYWRkaW5nTGVmdFwiICkgfHwgMCwgMTAgKSAtXG5cdFx0XHRcdFx0XHRcdHBhcnNlSW50KCB0aGF0LmN1cnJlbnRJdGVtLmNzcyggXCJwYWRkaW5nUmlnaHRcIiApIHx8IDAsIDEwICkgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly9DcmVhdGUgdGhlIHBsYWNlaG9sZGVyXG5cdFx0dGhhdC5wbGFjZWhvbGRlciA9ICQoIG8ucGxhY2Vob2xkZXIuZWxlbWVudC5jYWxsKCB0aGF0LmVsZW1lbnQsIHRoYXQuY3VycmVudEl0ZW0gKSApO1xuXG5cdFx0Ly9BcHBlbmQgaXQgYWZ0ZXIgdGhlIGFjdHVhbCBjdXJyZW50IGl0ZW1cblx0XHR0aGF0LmN1cnJlbnRJdGVtLmFmdGVyKCB0aGF0LnBsYWNlaG9sZGVyICk7XG5cblx0XHQvL1VwZGF0ZSB0aGUgc2l6ZSBvZiB0aGUgcGxhY2Vob2xkZXIgKFRPRE86IExvZ2ljIHRvIGZ1enp5LCBzZWUgbGluZSAzMTYvMzE3KVxuXHRcdG8ucGxhY2Vob2xkZXIudXBkYXRlKCB0aGF0LCB0aGF0LnBsYWNlaG9sZGVyICk7XG5cblx0fSxcblxuXHRfY3JlYXRlVHJQbGFjZWhvbGRlcjogZnVuY3Rpb24oIHNvdXJjZVRyLCB0YXJnZXRUciApIHtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cblx0XHRzb3VyY2VUci5jaGlsZHJlbigpLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0JCggXCI8dGQ+JiMxNjA7PC90ZD5cIiwgdGhhdC5kb2N1bWVudFsgMCBdIClcblx0XHRcdFx0LmF0dHIoIFwiY29sc3BhblwiLCAkKCB0aGlzICkuYXR0ciggXCJjb2xzcGFuXCIgKSB8fCAxIClcblx0XHRcdFx0LmFwcGVuZFRvKCB0YXJnZXRUciApO1xuXHRcdH0gKTtcblx0fSxcblxuXHRfY29udGFjdENvbnRhaW5lcnM6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgaSwgaiwgZGlzdCwgaXRlbVdpdGhMZWFzdERpc3RhbmNlLCBwb3NQcm9wZXJ0eSwgc2l6ZVByb3BlcnR5LCBjdXIsIG5lYXJCb3R0b20sXG5cdFx0XHRmbG9hdGluZywgYXhpcyxcblx0XHRcdGlubmVybW9zdENvbnRhaW5lciA9IG51bGwsXG5cdFx0XHRpbm5lcm1vc3RJbmRleCA9IG51bGw7XG5cblx0XHQvLyBHZXQgaW5uZXJtb3N0IGNvbnRhaW5lciB0aGF0IGludGVyc2VjdHMgd2l0aCBpdGVtXG5cdFx0Zm9yICggaSA9IHRoaXMuY29udGFpbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSApIHtcblxuXHRcdFx0Ly8gTmV2ZXIgY29uc2lkZXIgYSBjb250YWluZXIgdGhhdCdzIGxvY2F0ZWQgd2l0aGluIHRoZSBpdGVtIGl0c2VsZlxuXHRcdFx0aWYgKCAkLmNvbnRhaW5zKCB0aGlzLmN1cnJlbnRJdGVtWyAwIF0sIHRoaXMuY29udGFpbmVyc1sgaSBdLmVsZW1lbnRbIDAgXSApICkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCB0aGlzLl9pbnRlcnNlY3RzV2l0aCggdGhpcy5jb250YWluZXJzWyBpIF0uY29udGFpbmVyQ2FjaGUgKSApIHtcblxuXHRcdFx0XHQvLyBJZiB3ZSd2ZSBhbHJlYWR5IGZvdW5kIGEgY29udGFpbmVyIGFuZCBpdCdzIG1vcmUgXCJpbm5lclwiIHRoYW4gdGhpcywgdGhlbiBjb250aW51ZVxuXHRcdFx0XHRpZiAoIGlubmVybW9zdENvbnRhaW5lciAmJlxuXHRcdFx0XHRcdFx0JC5jb250YWlucyhcblx0XHRcdFx0XHRcdFx0dGhpcy5jb250YWluZXJzWyBpIF0uZWxlbWVudFsgMCBdLFxuXHRcdFx0XHRcdFx0XHRpbm5lcm1vc3RDb250YWluZXIuZWxlbWVudFsgMCBdICkgKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpbm5lcm1vc3RDb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcnNbIGkgXTtcblx0XHRcdFx0aW5uZXJtb3N0SW5kZXggPSBpO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIGNvbnRhaW5lciBkb2Vzbid0IGludGVyc2VjdC4gdHJpZ2dlciBcIm91dFwiIGV2ZW50IGlmIG5lY2Vzc2FyeVxuXHRcdFx0XHRpZiAoIHRoaXMuY29udGFpbmVyc1sgaSBdLmNvbnRhaW5lckNhY2hlLm92ZXIgKSB7XG5cdFx0XHRcdFx0dGhpcy5jb250YWluZXJzWyBpIF0uX3RyaWdnZXIoIFwib3V0XCIsIGV2ZW50LCB0aGlzLl91aUhhc2goIHRoaXMgKSApO1xuXHRcdFx0XHRcdHRoaXMuY29udGFpbmVyc1sgaSBdLmNvbnRhaW5lckNhY2hlLm92ZXIgPSAwO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHQvLyBJZiBubyBpbnRlcnNlY3RpbmcgY29udGFpbmVycyBmb3VuZCwgcmV0dXJuXG5cdFx0aWYgKCAhaW5uZXJtb3N0Q29udGFpbmVyICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIE1vdmUgdGhlIGl0ZW0gaW50byB0aGUgY29udGFpbmVyIGlmIGl0J3Mgbm90IHRoZXJlIGFscmVhZHlcblx0XHRpZiAoIHRoaXMuY29udGFpbmVycy5sZW5ndGggPT09IDEgKSB7XG5cdFx0XHRpZiAoICF0aGlzLmNvbnRhaW5lcnNbIGlubmVybW9zdEluZGV4IF0uY29udGFpbmVyQ2FjaGUub3ZlciApIHtcblx0XHRcdFx0dGhpcy5jb250YWluZXJzWyBpbm5lcm1vc3RJbmRleCBdLl90cmlnZ2VyKCBcIm92ZXJcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCggdGhpcyApICk7XG5cdFx0XHRcdHRoaXMuY29udGFpbmVyc1sgaW5uZXJtb3N0SW5kZXggXS5jb250YWluZXJDYWNoZS5vdmVyID0gMTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBXaGVuIGVudGVyaW5nIGEgbmV3IGNvbnRhaW5lciwgd2Ugd2lsbCBmaW5kIHRoZSBpdGVtIHdpdGggdGhlIGxlYXN0IGRpc3RhbmNlIGFuZFxuXHRcdFx0Ly8gYXBwZW5kIG91ciBpdGVtIG5lYXIgaXRcblx0XHRcdGRpc3QgPSAxMDAwMDtcblx0XHRcdGl0ZW1XaXRoTGVhc3REaXN0YW5jZSA9IG51bGw7XG5cdFx0XHRmbG9hdGluZyA9IGlubmVybW9zdENvbnRhaW5lci5mbG9hdGluZyB8fCB0aGlzLl9pc0Zsb2F0aW5nKCB0aGlzLmN1cnJlbnRJdGVtICk7XG5cdFx0XHRwb3NQcm9wZXJ0eSA9IGZsb2F0aW5nID8gXCJsZWZ0XCIgOiBcInRvcFwiO1xuXHRcdFx0c2l6ZVByb3BlcnR5ID0gZmxvYXRpbmcgPyBcIndpZHRoXCIgOiBcImhlaWdodFwiO1xuXHRcdFx0YXhpcyA9IGZsb2F0aW5nID8gXCJwYWdlWFwiIDogXCJwYWdlWVwiO1xuXG5cdFx0XHRmb3IgKCBqID0gdGhpcy5pdGVtcy5sZW5ndGggLSAxOyBqID49IDA7IGotLSApIHtcblx0XHRcdFx0aWYgKCAhJC5jb250YWlucyhcblx0XHRcdFx0XHRcdHRoaXMuY29udGFpbmVyc1sgaW5uZXJtb3N0SW5kZXggXS5lbGVtZW50WyAwIF0sIHRoaXMuaXRlbXNbIGogXS5pdGVtWyAwIF0gKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIHRoaXMuaXRlbXNbIGogXS5pdGVtWyAwIF0gPT09IHRoaXMuY3VycmVudEl0ZW1bIDAgXSApIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGN1ciA9IHRoaXMuaXRlbXNbIGogXS5pdGVtLm9mZnNldCgpWyBwb3NQcm9wZXJ0eSBdO1xuXHRcdFx0XHRuZWFyQm90dG9tID0gZmFsc2U7XG5cdFx0XHRcdGlmICggZXZlbnRbIGF4aXMgXSAtIGN1ciA+IHRoaXMuaXRlbXNbIGogXVsgc2l6ZVByb3BlcnR5IF0gLyAyICkge1xuXHRcdFx0XHRcdG5lYXJCb3R0b20gPSB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCBNYXRoLmFicyggZXZlbnRbIGF4aXMgXSAtIGN1ciApIDwgZGlzdCApIHtcblx0XHRcdFx0XHRkaXN0ID0gTWF0aC5hYnMoIGV2ZW50WyBheGlzIF0gLSBjdXIgKTtcblx0XHRcdFx0XHRpdGVtV2l0aExlYXN0RGlzdGFuY2UgPSB0aGlzLml0ZW1zWyBqIF07XG5cdFx0XHRcdFx0dGhpcy5kaXJlY3Rpb24gPSBuZWFyQm90dG9tID8gXCJ1cFwiIDogXCJkb3duXCI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly9DaGVjayBpZiBkcm9wT25FbXB0eSBpcyBlbmFibGVkXG5cdFx0XHRpZiAoICFpdGVtV2l0aExlYXN0RGlzdGFuY2UgJiYgIXRoaXMub3B0aW9ucy5kcm9wT25FbXB0eSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHRoaXMuY3VycmVudENvbnRhaW5lciA9PT0gdGhpcy5jb250YWluZXJzWyBpbm5lcm1vc3RJbmRleCBdICkge1xuXHRcdFx0XHRpZiAoICF0aGlzLmN1cnJlbnRDb250YWluZXIuY29udGFpbmVyQ2FjaGUub3ZlciApIHtcblx0XHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbIGlubmVybW9zdEluZGV4IF0uX3RyaWdnZXIoIFwib3ZlclwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCkgKTtcblx0XHRcdFx0XHR0aGlzLmN1cnJlbnRDb250YWluZXIuY29udGFpbmVyQ2FjaGUub3ZlciA9IDE7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpdGVtV2l0aExlYXN0RGlzdGFuY2UgP1xuXHRcdFx0XHR0aGlzLl9yZWFycmFuZ2UoIGV2ZW50LCBpdGVtV2l0aExlYXN0RGlzdGFuY2UsIG51bGwsIHRydWUgKSA6XG5cdFx0XHRcdHRoaXMuX3JlYXJyYW5nZSggZXZlbnQsIG51bGwsIHRoaXMuY29udGFpbmVyc1sgaW5uZXJtb3N0SW5kZXggXS5lbGVtZW50LCB0cnVlICk7XG5cdFx0XHR0aGlzLl90cmlnZ2VyKCBcImNoYW5nZVwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCkgKTtcblx0XHRcdHRoaXMuY29udGFpbmVyc1sgaW5uZXJtb3N0SW5kZXggXS5fdHJpZ2dlciggXCJjaGFuZ2VcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCggdGhpcyApICk7XG5cdFx0XHR0aGlzLmN1cnJlbnRDb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcnNbIGlubmVybW9zdEluZGV4IF07XG5cblx0XHRcdC8vVXBkYXRlIHRoZSBwbGFjZWhvbGRlclxuXHRcdFx0dGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyLnVwZGF0ZSggdGhpcy5jdXJyZW50Q29udGFpbmVyLCB0aGlzLnBsYWNlaG9sZGVyICk7XG5cblx0XHRcdHRoaXMuY29udGFpbmVyc1sgaW5uZXJtb3N0SW5kZXggXS5fdHJpZ2dlciggXCJvdmVyXCIsIGV2ZW50LCB0aGlzLl91aUhhc2goIHRoaXMgKSApO1xuXHRcdFx0dGhpcy5jb250YWluZXJzWyBpbm5lcm1vc3RJbmRleCBdLmNvbnRhaW5lckNhY2hlLm92ZXIgPSAxO1xuXHRcdH1cblxuXHR9LFxuXG5cdF9jcmVhdGVIZWxwZXI6IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdHZhciBvID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0aGVscGVyID0gJC5pc0Z1bmN0aW9uKCBvLmhlbHBlciApID9cblx0XHRcdFx0JCggby5oZWxwZXIuYXBwbHkoIHRoaXMuZWxlbWVudFsgMCBdLCBbIGV2ZW50LCB0aGlzLmN1cnJlbnRJdGVtIF0gKSApIDpcblx0XHRcdFx0KCBvLmhlbHBlciA9PT0gXCJjbG9uZVwiID8gdGhpcy5jdXJyZW50SXRlbS5jbG9uZSgpIDogdGhpcy5jdXJyZW50SXRlbSApO1xuXG5cdFx0Ly9BZGQgdGhlIGhlbHBlciB0byB0aGUgRE9NIGlmIHRoYXQgZGlkbid0IGhhcHBlbiBhbHJlYWR5XG5cdFx0aWYgKCAhaGVscGVyLnBhcmVudHMoIFwiYm9keVwiICkubGVuZ3RoICkge1xuXHRcdFx0JCggby5hcHBlbmRUbyAhPT0gXCJwYXJlbnRcIiA/XG5cdFx0XHRcdG8uYXBwZW5kVG8gOlxuXHRcdFx0XHR0aGlzLmN1cnJlbnRJdGVtWyAwIF0ucGFyZW50Tm9kZSApWyAwIF0uYXBwZW5kQ2hpbGQoIGhlbHBlclsgMCBdICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBoZWxwZXJbIDAgXSA9PT0gdGhpcy5jdXJyZW50SXRlbVsgMCBdICkge1xuXHRcdFx0dGhpcy5fc3RvcmVkQ1NTID0ge1xuXHRcdFx0XHR3aWR0aDogdGhpcy5jdXJyZW50SXRlbVsgMCBdLnN0eWxlLndpZHRoLFxuXHRcdFx0XHRoZWlnaHQ6IHRoaXMuY3VycmVudEl0ZW1bIDAgXS5zdHlsZS5oZWlnaHQsXG5cdFx0XHRcdHBvc2l0aW9uOiB0aGlzLmN1cnJlbnRJdGVtLmNzcyggXCJwb3NpdGlvblwiICksXG5cdFx0XHRcdHRvcDogdGhpcy5jdXJyZW50SXRlbS5jc3MoIFwidG9wXCIgKSxcblx0XHRcdFx0bGVmdDogdGhpcy5jdXJyZW50SXRlbS5jc3MoIFwibGVmdFwiIClcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKCAhaGVscGVyWyAwIF0uc3R5bGUud2lkdGggfHwgby5mb3JjZUhlbHBlclNpemUgKSB7XG5cdFx0XHRoZWxwZXIud2lkdGgoIHRoaXMuY3VycmVudEl0ZW0ud2lkdGgoKSApO1xuXHRcdH1cblx0XHRpZiAoICFoZWxwZXJbIDAgXS5zdHlsZS5oZWlnaHQgfHwgby5mb3JjZUhlbHBlclNpemUgKSB7XG5cdFx0XHRoZWxwZXIuaGVpZ2h0KCB0aGlzLmN1cnJlbnRJdGVtLmhlaWdodCgpICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGhlbHBlcjtcblxuXHR9LFxuXG5cdF9hZGp1c3RPZmZzZXRGcm9tSGVscGVyOiBmdW5jdGlvbiggb2JqICkge1xuXHRcdGlmICggdHlwZW9mIG9iaiA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdG9iaiA9IG9iai5zcGxpdCggXCIgXCIgKTtcblx0XHR9XG5cdFx0aWYgKCAkLmlzQXJyYXkoIG9iaiApICkge1xuXHRcdFx0b2JqID0geyBsZWZ0OiArb2JqWyAwIF0sIHRvcDogK29ialsgMSBdIHx8IDAgfTtcblx0XHR9XG5cdFx0aWYgKCBcImxlZnRcIiBpbiBvYmogKSB7XG5cdFx0XHR0aGlzLm9mZnNldC5jbGljay5sZWZ0ID0gb2JqLmxlZnQgKyB0aGlzLm1hcmdpbnMubGVmdDtcblx0XHR9XG5cdFx0aWYgKCBcInJpZ2h0XCIgaW4gb2JqICkge1xuXHRcdFx0dGhpcy5vZmZzZXQuY2xpY2subGVmdCA9IHRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGggLSBvYmoucmlnaHQgKyB0aGlzLm1hcmdpbnMubGVmdDtcblx0XHR9XG5cdFx0aWYgKCBcInRvcFwiIGluIG9iaiApIHtcblx0XHRcdHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA9IG9iai50b3AgKyB0aGlzLm1hcmdpbnMudG9wO1xuXHRcdH1cblx0XHRpZiAoIFwiYm90dG9tXCIgaW4gb2JqICkge1xuXHRcdFx0dGhpcy5vZmZzZXQuY2xpY2sudG9wID0gdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQgLSBvYmouYm90dG9tICsgdGhpcy5tYXJnaW5zLnRvcDtcblx0XHR9XG5cdH0sXG5cblx0X2dldFBhcmVudE9mZnNldDogZnVuY3Rpb24oKSB7XG5cblx0XHQvL0dldCB0aGUgb2Zmc2V0UGFyZW50IGFuZCBjYWNoZSBpdHMgcG9zaXRpb25cblx0XHR0aGlzLm9mZnNldFBhcmVudCA9IHRoaXMuaGVscGVyLm9mZnNldFBhcmVudCgpO1xuXHRcdHZhciBwbyA9IHRoaXMub2Zmc2V0UGFyZW50Lm9mZnNldCgpO1xuXG5cdFx0Ly8gVGhpcyBpcyBhIHNwZWNpYWwgY2FzZSB3aGVyZSB3ZSBuZWVkIHRvIG1vZGlmeSBhIG9mZnNldCBjYWxjdWxhdGVkIG9uIHN0YXJ0LCBzaW5jZSB0aGVcblx0XHQvLyBmb2xsb3dpbmcgaGFwcGVuZWQ6XG5cdFx0Ly8gMS4gVGhlIHBvc2l0aW9uIG9mIHRoZSBoZWxwZXIgaXMgYWJzb2x1dGUsIHNvIGl0J3MgcG9zaXRpb24gaXMgY2FsY3VsYXRlZCBiYXNlZCBvbiB0aGVcblx0XHQvLyBuZXh0IHBvc2l0aW9uZWQgcGFyZW50XG5cdFx0Ly8gMi4gVGhlIGFjdHVhbCBvZmZzZXQgcGFyZW50IGlzIGEgY2hpbGQgb2YgdGhlIHNjcm9sbCBwYXJlbnQsIGFuZCB0aGUgc2Nyb2xsIHBhcmVudCBpc24ndFxuXHRcdC8vIHRoZSBkb2N1bWVudCwgd2hpY2ggbWVhbnMgdGhhdCB0aGUgc2Nyb2xsIGlzIGluY2x1ZGVkIGluIHRoZSBpbml0aWFsIGNhbGN1bGF0aW9uIG9mIHRoZVxuXHRcdC8vIG9mZnNldCBvZiB0aGUgcGFyZW50LCBhbmQgbmV2ZXIgcmVjYWxjdWxhdGVkIHVwb24gZHJhZ1xuXHRcdGlmICggdGhpcy5jc3NQb3NpdGlvbiA9PT0gXCJhYnNvbHV0ZVwiICYmIHRoaXMuc2Nyb2xsUGFyZW50WyAwIF0gIT09IHRoaXMuZG9jdW1lbnRbIDAgXSAmJlxuXHRcdFx0XHQkLmNvbnRhaW5zKCB0aGlzLnNjcm9sbFBhcmVudFsgMCBdLCB0aGlzLm9mZnNldFBhcmVudFsgMCBdICkgKSB7XG5cdFx0XHRwby5sZWZ0ICs9IHRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKTtcblx0XHRcdHBvLnRvcCArPSB0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKTtcblx0XHR9XG5cblx0XHQvLyBUaGlzIG5lZWRzIHRvIGJlIGFjdHVhbGx5IGRvbmUgZm9yIGFsbCBicm93c2Vycywgc2luY2UgcGFnZVgvcGFnZVkgaW5jbHVkZXMgdGhpc1xuXHRcdC8vIGluZm9ybWF0aW9uIHdpdGggYW4gdWdseSBJRSBmaXhcblx0XHRpZiAoIHRoaXMub2Zmc2V0UGFyZW50WyAwIF0gPT09IHRoaXMuZG9jdW1lbnRbIDAgXS5ib2R5IHx8XG5cdFx0XHRcdCggdGhpcy5vZmZzZXRQYXJlbnRbIDAgXS50YWdOYW1lICYmXG5cdFx0XHRcdHRoaXMub2Zmc2V0UGFyZW50WyAwIF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImh0bWxcIiAmJiAkLnVpLmllICkgKSB7XG5cdFx0XHRwbyA9IHsgdG9wOiAwLCBsZWZ0OiAwIH07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvcDogcG8udG9wICsgKCBwYXJzZUludCggdGhpcy5vZmZzZXRQYXJlbnQuY3NzKCBcImJvcmRlclRvcFdpZHRoXCIgKSwgMTAgKSB8fCAwICksXG5cdFx0XHRsZWZ0OiBwby5sZWZ0ICsgKCBwYXJzZUludCggdGhpcy5vZmZzZXRQYXJlbnQuY3NzKCBcImJvcmRlckxlZnRXaWR0aFwiICksIDEwICkgfHwgMCApXG5cdFx0fTtcblxuXHR9LFxuXG5cdF9nZXRSZWxhdGl2ZU9mZnNldDogZnVuY3Rpb24oKSB7XG5cblx0XHRpZiAoIHRoaXMuY3NzUG9zaXRpb24gPT09IFwicmVsYXRpdmVcIiApIHtcblx0XHRcdHZhciBwID0gdGhpcy5jdXJyZW50SXRlbS5wb3NpdGlvbigpO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0dG9wOiBwLnRvcCAtICggcGFyc2VJbnQoIHRoaXMuaGVscGVyLmNzcyggXCJ0b3BcIiApLCAxMCApIHx8IDAgKSArXG5cdFx0XHRcdFx0dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCksXG5cdFx0XHRcdGxlZnQ6IHAubGVmdCAtICggcGFyc2VJbnQoIHRoaXMuaGVscGVyLmNzcyggXCJsZWZ0XCIgKSwgMTAgKSB8fCAwICkgK1xuXHRcdFx0XHRcdHRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKVxuXHRcdFx0fTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHsgdG9wOiAwLCBsZWZ0OiAwIH07XG5cdFx0fVxuXG5cdH0sXG5cblx0X2NhY2hlTWFyZ2luczogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5tYXJnaW5zID0ge1xuXHRcdFx0bGVmdDogKCBwYXJzZUludCggdGhpcy5jdXJyZW50SXRlbS5jc3MoIFwibWFyZ2luTGVmdFwiICksIDEwICkgfHwgMCApLFxuXHRcdFx0dG9wOiAoIHBhcnNlSW50KCB0aGlzLmN1cnJlbnRJdGVtLmNzcyggXCJtYXJnaW5Ub3BcIiApLCAxMCApIHx8IDAgKVxuXHRcdH07XG5cdH0sXG5cblx0X2NhY2hlSGVscGVyUHJvcG9ydGlvbnM6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuaGVscGVyUHJvcG9ydGlvbnMgPSB7XG5cdFx0XHR3aWR0aDogdGhpcy5oZWxwZXIub3V0ZXJXaWR0aCgpLFxuXHRcdFx0aGVpZ2h0OiB0aGlzLmhlbHBlci5vdXRlckhlaWdodCgpXG5cdFx0fTtcblx0fSxcblxuXHRfc2V0Q29udGFpbm1lbnQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIGNlLCBjbywgb3Zlcixcblx0XHRcdG8gPSB0aGlzLm9wdGlvbnM7XG5cdFx0aWYgKCBvLmNvbnRhaW5tZW50ID09PSBcInBhcmVudFwiICkge1xuXHRcdFx0by5jb250YWlubWVudCA9IHRoaXMuaGVscGVyWyAwIF0ucGFyZW50Tm9kZTtcblx0XHR9XG5cdFx0aWYgKCBvLmNvbnRhaW5tZW50ID09PSBcImRvY3VtZW50XCIgfHwgby5jb250YWlubWVudCA9PT0gXCJ3aW5kb3dcIiApIHtcblx0XHRcdHRoaXMuY29udGFpbm1lbnQgPSBbXG5cdFx0XHRcdDAgLSB0aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0IC0gdGhpcy5vZmZzZXQucGFyZW50LmxlZnQsXG5cdFx0XHRcdDAgLSB0aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AgLSB0aGlzLm9mZnNldC5wYXJlbnQudG9wLFxuXHRcdFx0XHRvLmNvbnRhaW5tZW50ID09PSBcImRvY3VtZW50XCIgP1xuXHRcdFx0XHRcdHRoaXMuZG9jdW1lbnQud2lkdGgoKSA6XG5cdFx0XHRcdFx0dGhpcy53aW5kb3cud2lkdGgoKSAtIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGggLSB0aGlzLm1hcmdpbnMubGVmdCxcblx0XHRcdFx0KCBvLmNvbnRhaW5tZW50ID09PSBcImRvY3VtZW50XCIgP1xuXHRcdFx0XHRcdCggdGhpcy5kb2N1bWVudC5oZWlnaHQoKSB8fCBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0ICkgOlxuXHRcdFx0XHRcdHRoaXMud2luZG93LmhlaWdodCgpIHx8IHRoaXMuZG9jdW1lbnRbIDAgXS5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0XG5cdFx0XHRcdCkgLSB0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCAtIHRoaXMubWFyZ2lucy50b3Bcblx0XHRcdF07XG5cdFx0fVxuXG5cdFx0aWYgKCAhKCAvXihkb2N1bWVudHx3aW5kb3d8cGFyZW50KSQvICkudGVzdCggby5jb250YWlubWVudCApICkge1xuXHRcdFx0Y2UgPSAkKCBvLmNvbnRhaW5tZW50IClbIDAgXTtcblx0XHRcdGNvID0gJCggby5jb250YWlubWVudCApLm9mZnNldCgpO1xuXHRcdFx0b3ZlciA9ICggJCggY2UgKS5jc3MoIFwib3ZlcmZsb3dcIiApICE9PSBcImhpZGRlblwiICk7XG5cblx0XHRcdHRoaXMuY29udGFpbm1lbnQgPSBbXG5cdFx0XHRcdGNvLmxlZnQgKyAoIHBhcnNlSW50KCAkKCBjZSApLmNzcyggXCJib3JkZXJMZWZ0V2lkdGhcIiApLCAxMCApIHx8IDAgKSArXG5cdFx0XHRcdFx0KCBwYXJzZUludCggJCggY2UgKS5jc3MoIFwicGFkZGluZ0xlZnRcIiApLCAxMCApIHx8IDAgKSAtIHRoaXMubWFyZ2lucy5sZWZ0LFxuXHRcdFx0XHRjby50b3AgKyAoIHBhcnNlSW50KCAkKCBjZSApLmNzcyggXCJib3JkZXJUb3BXaWR0aFwiICksIDEwICkgfHwgMCApICtcblx0XHRcdFx0XHQoIHBhcnNlSW50KCAkKCBjZSApLmNzcyggXCJwYWRkaW5nVG9wXCIgKSwgMTAgKSB8fCAwICkgLSB0aGlzLm1hcmdpbnMudG9wLFxuXHRcdFx0XHRjby5sZWZ0ICsgKCBvdmVyID8gTWF0aC5tYXgoIGNlLnNjcm9sbFdpZHRoLCBjZS5vZmZzZXRXaWR0aCApIDogY2Uub2Zmc2V0V2lkdGggKSAtXG5cdFx0XHRcdFx0KCBwYXJzZUludCggJCggY2UgKS5jc3MoIFwiYm9yZGVyTGVmdFdpZHRoXCIgKSwgMTAgKSB8fCAwICkgLVxuXHRcdFx0XHRcdCggcGFyc2VJbnQoICQoIGNlICkuY3NzKCBcInBhZGRpbmdSaWdodFwiICksIDEwICkgfHwgMCApIC1cblx0XHRcdFx0XHR0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoIC0gdGhpcy5tYXJnaW5zLmxlZnQsXG5cdFx0XHRcdGNvLnRvcCArICggb3ZlciA/IE1hdGgubWF4KCBjZS5zY3JvbGxIZWlnaHQsIGNlLm9mZnNldEhlaWdodCApIDogY2Uub2Zmc2V0SGVpZ2h0ICkgLVxuXHRcdFx0XHRcdCggcGFyc2VJbnQoICQoIGNlICkuY3NzKCBcImJvcmRlclRvcFdpZHRoXCIgKSwgMTAgKSB8fCAwICkgLVxuXHRcdFx0XHRcdCggcGFyc2VJbnQoICQoIGNlICkuY3NzKCBcInBhZGRpbmdCb3R0b21cIiApLCAxMCApIHx8IDAgKSAtXG5cdFx0XHRcdFx0dGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQgLSB0aGlzLm1hcmdpbnMudG9wXG5cdFx0XHRdO1xuXHRcdH1cblxuXHR9LFxuXG5cdF9jb252ZXJ0UG9zaXRpb25UbzogZnVuY3Rpb24oIGQsIHBvcyApIHtcblxuXHRcdGlmICggIXBvcyApIHtcblx0XHRcdHBvcyA9IHRoaXMucG9zaXRpb247XG5cdFx0fVxuXHRcdHZhciBtb2QgPSBkID09PSBcImFic29sdXRlXCIgPyAxIDogLTEsXG5cdFx0XHRzY3JvbGwgPSB0aGlzLmNzc1Bvc2l0aW9uID09PSBcImFic29sdXRlXCIgJiZcblx0XHRcdFx0ISggdGhpcy5zY3JvbGxQYXJlbnRbIDAgXSAhPT0gdGhpcy5kb2N1bWVudFsgMCBdICYmXG5cdFx0XHRcdCQuY29udGFpbnMoIHRoaXMuc2Nyb2xsUGFyZW50WyAwIF0sIHRoaXMub2Zmc2V0UGFyZW50WyAwIF0gKSApID9cblx0XHRcdFx0XHR0aGlzLm9mZnNldFBhcmVudCA6XG5cdFx0XHRcdFx0dGhpcy5zY3JvbGxQYXJlbnQsXG5cdFx0XHRzY3JvbGxJc1Jvb3ROb2RlID0gKCAvKGh0bWx8Ym9keSkvaSApLnRlc3QoIHNjcm9sbFsgMCBdLnRhZ05hbWUgKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHR0b3A6IChcblxuXHRcdFx0XHQvLyBUaGUgYWJzb2x1dGUgbW91c2UgcG9zaXRpb25cblx0XHRcdFx0cG9zLnRvcFx0K1xuXG5cdFx0XHRcdC8vIE9ubHkgZm9yIHJlbGF0aXZlIHBvc2l0aW9uZWQgbm9kZXM6IFJlbGF0aXZlIG9mZnNldCBmcm9tIGVsZW1lbnQgdG8gb2Zmc2V0IHBhcmVudFxuXHRcdFx0XHR0aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AgKiBtb2QgK1xuXG5cdFx0XHRcdC8vIFRoZSBvZmZzZXRQYXJlbnQncyBvZmZzZXQgd2l0aG91dCBib3JkZXJzIChvZmZzZXQgKyBib3JkZXIpXG5cdFx0XHRcdHRoaXMub2Zmc2V0LnBhcmVudC50b3AgKiBtb2QgLVxuXHRcdFx0XHQoICggdGhpcy5jc3NQb3NpdGlvbiA9PT0gXCJmaXhlZFwiID9cblx0XHRcdFx0XHQtdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCkgOlxuXHRcdFx0XHRcdCggc2Nyb2xsSXNSb290Tm9kZSA/IDAgOiBzY3JvbGwuc2Nyb2xsVG9wKCkgKSApICogbW9kIClcblx0XHRcdCksXG5cdFx0XHRsZWZ0OiAoXG5cblx0XHRcdFx0Ly8gVGhlIGFic29sdXRlIG1vdXNlIHBvc2l0aW9uXG5cdFx0XHRcdHBvcy5sZWZ0ICtcblxuXHRcdFx0XHQvLyBPbmx5IGZvciByZWxhdGl2ZSBwb3NpdGlvbmVkIG5vZGVzOiBSZWxhdGl2ZSBvZmZzZXQgZnJvbSBlbGVtZW50IHRvIG9mZnNldCBwYXJlbnRcblx0XHRcdFx0dGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdCAqIG1vZCArXG5cblx0XHRcdFx0Ly8gVGhlIG9mZnNldFBhcmVudCdzIG9mZnNldCB3aXRob3V0IGJvcmRlcnMgKG9mZnNldCArIGJvcmRlcilcblx0XHRcdFx0dGhpcy5vZmZzZXQucGFyZW50LmxlZnQgKiBtb2RcdC1cblx0XHRcdFx0KCAoIHRoaXMuY3NzUG9zaXRpb24gPT09IFwiZml4ZWRcIiA/XG5cdFx0XHRcdFx0LXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKSA6IHNjcm9sbElzUm9vdE5vZGUgPyAwIDpcblx0XHRcdFx0XHRzY3JvbGwuc2Nyb2xsTGVmdCgpICkgKiBtb2QgKVxuXHRcdFx0KVxuXHRcdH07XG5cblx0fSxcblxuXHRfZ2VuZXJhdGVQb3NpdGlvbjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0dmFyIHRvcCwgbGVmdCxcblx0XHRcdG8gPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRwYWdlWCA9IGV2ZW50LnBhZ2VYLFxuXHRcdFx0cGFnZVkgPSBldmVudC5wYWdlWSxcblx0XHRcdHNjcm9sbCA9IHRoaXMuY3NzUG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIiAmJlxuXHRcdFx0XHQhKCB0aGlzLnNjcm9sbFBhcmVudFsgMCBdICE9PSB0aGlzLmRvY3VtZW50WyAwIF0gJiZcblx0XHRcdFx0JC5jb250YWlucyggdGhpcy5zY3JvbGxQYXJlbnRbIDAgXSwgdGhpcy5vZmZzZXRQYXJlbnRbIDAgXSApICkgP1xuXHRcdFx0XHRcdHRoaXMub2Zmc2V0UGFyZW50IDpcblx0XHRcdFx0XHR0aGlzLnNjcm9sbFBhcmVudCxcblx0XHRcdFx0c2Nyb2xsSXNSb290Tm9kZSA9ICggLyhodG1sfGJvZHkpL2kgKS50ZXN0KCBzY3JvbGxbIDAgXS50YWdOYW1lICk7XG5cblx0XHQvLyBUaGlzIGlzIGFub3RoZXIgdmVyeSB3ZWlyZCBzcGVjaWFsIGNhc2UgdGhhdCBvbmx5IGhhcHBlbnMgZm9yIHJlbGF0aXZlIGVsZW1lbnRzOlxuXHRcdC8vIDEuIElmIHRoZSBjc3MgcG9zaXRpb24gaXMgcmVsYXRpdmVcblx0XHQvLyAyLiBhbmQgdGhlIHNjcm9sbCBwYXJlbnQgaXMgdGhlIGRvY3VtZW50IG9yIHNpbWlsYXIgdG8gdGhlIG9mZnNldCBwYXJlbnRcblx0XHQvLyB3ZSBoYXZlIHRvIHJlZnJlc2ggdGhlIHJlbGF0aXZlIG9mZnNldCBkdXJpbmcgdGhlIHNjcm9sbCBzbyB0aGVyZSBhcmUgbm8ganVtcHNcblx0XHRpZiAoIHRoaXMuY3NzUG9zaXRpb24gPT09IFwicmVsYXRpdmVcIiAmJiAhKCB0aGlzLnNjcm9sbFBhcmVudFsgMCBdICE9PSB0aGlzLmRvY3VtZW50WyAwIF0gJiZcblx0XHRcdFx0dGhpcy5zY3JvbGxQYXJlbnRbIDAgXSAhPT0gdGhpcy5vZmZzZXRQYXJlbnRbIDAgXSApICkge1xuXHRcdFx0dGhpcy5vZmZzZXQucmVsYXRpdmUgPSB0aGlzLl9nZXRSZWxhdGl2ZU9mZnNldCgpO1xuXHRcdH1cblxuXHRcdC8qXG5cdFx0ICogLSBQb3NpdGlvbiBjb25zdHJhaW5pbmcgLVxuXHRcdCAqIENvbnN0cmFpbiB0aGUgcG9zaXRpb24gdG8gYSBtaXggb2YgZ3JpZCwgY29udGFpbm1lbnQuXG5cdFx0ICovXG5cblx0XHRpZiAoIHRoaXMub3JpZ2luYWxQb3NpdGlvbiApIHsgLy9JZiB3ZSBhcmUgbm90IGRyYWdnaW5nIHlldCwgd2Ugd29uJ3QgY2hlY2sgZm9yIG9wdGlvbnNcblxuXHRcdFx0aWYgKCB0aGlzLmNvbnRhaW5tZW50ICkge1xuXHRcdFx0XHRpZiAoIGV2ZW50LnBhZ2VYIC0gdGhpcy5vZmZzZXQuY2xpY2subGVmdCA8IHRoaXMuY29udGFpbm1lbnRbIDAgXSApIHtcblx0XHRcdFx0XHRwYWdlWCA9IHRoaXMuY29udGFpbm1lbnRbIDAgXSArIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBldmVudC5wYWdlWSAtIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA8IHRoaXMuY29udGFpbm1lbnRbIDEgXSApIHtcblx0XHRcdFx0XHRwYWdlWSA9IHRoaXMuY29udGFpbm1lbnRbIDEgXSArIHRoaXMub2Zmc2V0LmNsaWNrLnRvcDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIGV2ZW50LnBhZ2VYIC0gdGhpcy5vZmZzZXQuY2xpY2subGVmdCA+IHRoaXMuY29udGFpbm1lbnRbIDIgXSApIHtcblx0XHRcdFx0XHRwYWdlWCA9IHRoaXMuY29udGFpbm1lbnRbIDIgXSArIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBldmVudC5wYWdlWSAtIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA+IHRoaXMuY29udGFpbm1lbnRbIDMgXSApIHtcblx0XHRcdFx0XHRwYWdlWSA9IHRoaXMuY29udGFpbm1lbnRbIDMgXSArIHRoaXMub2Zmc2V0LmNsaWNrLnRvcDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIG8uZ3JpZCApIHtcblx0XHRcdFx0dG9wID0gdGhpcy5vcmlnaW5hbFBhZ2VZICsgTWF0aC5yb3VuZCggKCBwYWdlWSAtIHRoaXMub3JpZ2luYWxQYWdlWSApIC9cblx0XHRcdFx0XHRvLmdyaWRbIDEgXSApICogby5ncmlkWyAxIF07XG5cdFx0XHRcdHBhZ2VZID0gdGhpcy5jb250YWlubWVudCA/XG5cdFx0XHRcdFx0KCAoIHRvcCAtIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA+PSB0aGlzLmNvbnRhaW5tZW50WyAxIF0gJiZcblx0XHRcdFx0XHRcdHRvcCAtIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA8PSB0aGlzLmNvbnRhaW5tZW50WyAzIF0gKSA/XG5cdFx0XHRcdFx0XHRcdHRvcCA6XG5cdFx0XHRcdFx0XHRcdCggKCB0b3AgLSB0aGlzLm9mZnNldC5jbGljay50b3AgPj0gdGhpcy5jb250YWlubWVudFsgMSBdICkgP1xuXHRcdFx0XHRcdFx0XHRcdHRvcCAtIG8uZ3JpZFsgMSBdIDogdG9wICsgby5ncmlkWyAxIF0gKSApIDpcblx0XHRcdFx0XHRcdFx0XHR0b3A7XG5cblx0XHRcdFx0bGVmdCA9IHRoaXMub3JpZ2luYWxQYWdlWCArIE1hdGgucm91bmQoICggcGFnZVggLSB0aGlzLm9yaWdpbmFsUGFnZVggKSAvXG5cdFx0XHRcdFx0by5ncmlkWyAwIF0gKSAqIG8uZ3JpZFsgMCBdO1xuXHRcdFx0XHRwYWdlWCA9IHRoaXMuY29udGFpbm1lbnQgP1xuXHRcdFx0XHRcdCggKCBsZWZ0IC0gdGhpcy5vZmZzZXQuY2xpY2subGVmdCA+PSB0aGlzLmNvbnRhaW5tZW50WyAwIF0gJiZcblx0XHRcdFx0XHRcdGxlZnQgLSB0aGlzLm9mZnNldC5jbGljay5sZWZ0IDw9IHRoaXMuY29udGFpbm1lbnRbIDIgXSApID9cblx0XHRcdFx0XHRcdFx0bGVmdCA6XG5cdFx0XHRcdFx0XHRcdCggKCBsZWZ0IC0gdGhpcy5vZmZzZXQuY2xpY2subGVmdCA+PSB0aGlzLmNvbnRhaW5tZW50WyAwIF0gKSA/XG5cdFx0XHRcdFx0XHRcdFx0bGVmdCAtIG8uZ3JpZFsgMCBdIDogbGVmdCArIG8uZ3JpZFsgMCBdICkgKSA6XG5cdFx0XHRcdFx0XHRcdFx0bGVmdDtcblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHR0b3A6IChcblxuXHRcdFx0XHQvLyBUaGUgYWJzb2x1dGUgbW91c2UgcG9zaXRpb25cblx0XHRcdFx0cGFnZVkgLVxuXG5cdFx0XHRcdC8vIENsaWNrIG9mZnNldCAocmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQpXG5cdFx0XHRcdHRoaXMub2Zmc2V0LmNsaWNrLnRvcCAtXG5cblx0XHRcdFx0Ly8gT25seSBmb3IgcmVsYXRpdmUgcG9zaXRpb25lZCBub2RlczogUmVsYXRpdmUgb2Zmc2V0IGZyb20gZWxlbWVudCB0byBvZmZzZXQgcGFyZW50XG5cdFx0XHRcdHRoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcCAtXG5cblx0XHRcdFx0Ly8gVGhlIG9mZnNldFBhcmVudCdzIG9mZnNldCB3aXRob3V0IGJvcmRlcnMgKG9mZnNldCArIGJvcmRlcilcblx0XHRcdFx0dGhpcy5vZmZzZXQucGFyZW50LnRvcCArXG5cdFx0XHRcdCggKCB0aGlzLmNzc1Bvc2l0aW9uID09PSBcImZpeGVkXCIgP1xuXHRcdFx0XHRcdC10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSA6XG5cdFx0XHRcdFx0KCBzY3JvbGxJc1Jvb3ROb2RlID8gMCA6IHNjcm9sbC5zY3JvbGxUb3AoKSApICkgKVxuXHRcdFx0KSxcblx0XHRcdGxlZnQ6IChcblxuXHRcdFx0XHQvLyBUaGUgYWJzb2x1dGUgbW91c2UgcG9zaXRpb25cblx0XHRcdFx0cGFnZVggLVxuXG5cdFx0XHRcdC8vIENsaWNrIG9mZnNldCAocmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQpXG5cdFx0XHRcdHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgLVxuXG5cdFx0XHRcdC8vIE9ubHkgZm9yIHJlbGF0aXZlIHBvc2l0aW9uZWQgbm9kZXM6IFJlbGF0aXZlIG9mZnNldCBmcm9tIGVsZW1lbnQgdG8gb2Zmc2V0IHBhcmVudFxuXHRcdFx0XHR0aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0IC1cblxuXHRcdFx0XHQvLyBUaGUgb2Zmc2V0UGFyZW50J3Mgb2Zmc2V0IHdpdGhvdXQgYm9yZGVycyAob2Zmc2V0ICsgYm9yZGVyKVxuXHRcdFx0XHR0aGlzLm9mZnNldC5wYXJlbnQubGVmdCArXG5cdFx0XHRcdCggKCB0aGlzLmNzc1Bvc2l0aW9uID09PSBcImZpeGVkXCIgP1xuXHRcdFx0XHRcdC10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCkgOlxuXHRcdFx0XHRcdHNjcm9sbElzUm9vdE5vZGUgPyAwIDogc2Nyb2xsLnNjcm9sbExlZnQoKSApIClcblx0XHRcdClcblx0XHR9O1xuXG5cdH0sXG5cblx0X3JlYXJyYW5nZTogZnVuY3Rpb24oIGV2ZW50LCBpLCBhLCBoYXJkUmVmcmVzaCApIHtcblxuXHRcdGEgPyBhWyAwIF0uYXBwZW5kQ2hpbGQoIHRoaXMucGxhY2Vob2xkZXJbIDAgXSApIDpcblx0XHRcdGkuaXRlbVsgMCBdLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCB0aGlzLnBsYWNlaG9sZGVyWyAwIF0sXG5cdFx0XHRcdCggdGhpcy5kaXJlY3Rpb24gPT09IFwiZG93blwiID8gaS5pdGVtWyAwIF0gOiBpLml0ZW1bIDAgXS5uZXh0U2libGluZyApICk7XG5cblx0XHQvL1ZhcmlvdXMgdGhpbmdzIGRvbmUgaGVyZSB0byBpbXByb3ZlIHRoZSBwZXJmb3JtYW5jZTpcblx0XHQvLyAxLiB3ZSBjcmVhdGUgYSBzZXRUaW1lb3V0LCB0aGF0IGNhbGxzIHJlZnJlc2hQb3NpdGlvbnNcblx0XHQvLyAyLiBvbiB0aGUgaW5zdGFuY2UsIHdlIGhhdmUgYSBjb3VudGVyIHZhcmlhYmxlLCB0aGF0IGdldCdzIGhpZ2hlciBhZnRlciBldmVyeSBhcHBlbmRcblx0XHQvLyAzLiBvbiB0aGUgbG9jYWwgc2NvcGUsIHdlIGNvcHkgdGhlIGNvdW50ZXIgdmFyaWFibGUsIGFuZCBjaGVjayBpbiB0aGUgdGltZW91dCxcblx0XHQvLyBpZiBpdCdzIHN0aWxsIHRoZSBzYW1lXG5cdFx0Ly8gNC4gdGhpcyBsZXRzIG9ubHkgdGhlIGxhc3QgYWRkaXRpb24gdG8gdGhlIHRpbWVvdXQgc3RhY2sgdGhyb3VnaFxuXHRcdHRoaXMuY291bnRlciA9IHRoaXMuY291bnRlciA/ICsrdGhpcy5jb3VudGVyIDogMTtcblx0XHR2YXIgY291bnRlciA9IHRoaXMuY291bnRlcjtcblxuXHRcdHRoaXMuX2RlbGF5KCBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggY291bnRlciA9PT0gdGhpcy5jb3VudGVyICkge1xuXG5cdFx0XHRcdC8vUHJlY29tcHV0ZSBhZnRlciBlYWNoIERPTSBpbnNlcnRpb24sIE5PVCBvbiBtb3VzZW1vdmVcblx0XHRcdFx0dGhpcy5yZWZyZXNoUG9zaXRpb25zKCAhaGFyZFJlZnJlc2ggKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cblx0fSxcblxuXHRfY2xlYXI6IGZ1bmN0aW9uKCBldmVudCwgbm9Qcm9wYWdhdGlvbiApIHtcblxuXHRcdHRoaXMucmV2ZXJ0aW5nID0gZmFsc2U7XG5cblx0XHQvLyBXZSBkZWxheSBhbGwgZXZlbnRzIHRoYXQgaGF2ZSB0byBiZSB0cmlnZ2VyZWQgdG8gYWZ0ZXIgdGhlIHBvaW50IHdoZXJlIHRoZSBwbGFjZWhvbGRlclxuXHRcdC8vIGhhcyBiZWVuIHJlbW92ZWQgYW5kIGV2ZXJ5dGhpbmcgZWxzZSBub3JtYWxpemVkIGFnYWluXG5cdFx0dmFyIGksXG5cdFx0XHRkZWxheWVkVHJpZ2dlcnMgPSBbXTtcblxuXHRcdC8vIFdlIGZpcnN0IGhhdmUgdG8gdXBkYXRlIHRoZSBkb20gcG9zaXRpb24gb2YgdGhlIGFjdHVhbCBjdXJyZW50SXRlbVxuXHRcdC8vIE5vdGU6IGRvbid0IGRvIGl0IGlmIHRoZSBjdXJyZW50IGl0ZW0gaXMgYWxyZWFkeSByZW1vdmVkIChieSBhIHVzZXIpLCBvciBpdCBnZXRzXG5cdFx0Ly8gcmVhcHBlbmRlZCAoc2VlICM0MDg4KVxuXHRcdGlmICggIXRoaXMuX25vRmluYWxTb3J0ICYmIHRoaXMuY3VycmVudEl0ZW0ucGFyZW50KCkubGVuZ3RoICkge1xuXHRcdFx0dGhpcy5wbGFjZWhvbGRlci5iZWZvcmUoIHRoaXMuY3VycmVudEl0ZW0gKTtcblx0XHR9XG5cdFx0dGhpcy5fbm9GaW5hbFNvcnQgPSBudWxsO1xuXG5cdFx0aWYgKCB0aGlzLmhlbHBlclsgMCBdID09PSB0aGlzLmN1cnJlbnRJdGVtWyAwIF0gKSB7XG5cdFx0XHRmb3IgKCBpIGluIHRoaXMuX3N0b3JlZENTUyApIHtcblx0XHRcdFx0aWYgKCB0aGlzLl9zdG9yZWRDU1NbIGkgXSA9PT0gXCJhdXRvXCIgfHwgdGhpcy5fc3RvcmVkQ1NTWyBpIF0gPT09IFwic3RhdGljXCIgKSB7XG5cdFx0XHRcdFx0dGhpcy5fc3RvcmVkQ1NTWyBpIF0gPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmN1cnJlbnRJdGVtLmNzcyggdGhpcy5fc3RvcmVkQ1NTICk7XG5cdFx0XHR0aGlzLl9yZW1vdmVDbGFzcyggdGhpcy5jdXJyZW50SXRlbSwgXCJ1aS1zb3J0YWJsZS1oZWxwZXJcIiApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmN1cnJlbnRJdGVtLnNob3coKTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMuZnJvbU91dHNpZGUgJiYgIW5vUHJvcGFnYXRpb24gKSB7XG5cdFx0XHRkZWxheWVkVHJpZ2dlcnMucHVzaCggZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHR0aGlzLl90cmlnZ2VyKCBcInJlY2VpdmVcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCggdGhpcy5mcm9tT3V0c2lkZSApICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXHRcdGlmICggKCB0aGlzLmZyb21PdXRzaWRlIHx8XG5cdFx0XHRcdHRoaXMuZG9tUG9zaXRpb24ucHJldiAhPT1cblx0XHRcdFx0dGhpcy5jdXJyZW50SXRlbS5wcmV2KCkubm90KCBcIi51aS1zb3J0YWJsZS1oZWxwZXJcIiApWyAwIF0gfHxcblx0XHRcdFx0dGhpcy5kb21Qb3NpdGlvbi5wYXJlbnQgIT09IHRoaXMuY3VycmVudEl0ZW0ucGFyZW50KClbIDAgXSApICYmICFub1Byb3BhZ2F0aW9uICkge1xuXG5cdFx0XHQvLyBUcmlnZ2VyIHVwZGF0ZSBjYWxsYmFjayBpZiB0aGUgRE9NIHBvc2l0aW9uIGhhcyBjaGFuZ2VkXG5cdFx0XHRkZWxheWVkVHJpZ2dlcnMucHVzaCggZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHR0aGlzLl90cmlnZ2VyKCBcInVwZGF0ZVwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHQvLyBDaGVjayBpZiB0aGUgaXRlbXMgQ29udGFpbmVyIGhhcyBDaGFuZ2VkIGFuZCB0cmlnZ2VyIGFwcHJvcHJpYXRlXG5cdFx0Ly8gZXZlbnRzLlxuXHRcdGlmICggdGhpcyAhPT0gdGhpcy5jdXJyZW50Q29udGFpbmVyICkge1xuXHRcdFx0aWYgKCAhbm9Qcm9wYWdhdGlvbiApIHtcblx0XHRcdFx0ZGVsYXllZFRyaWdnZXJzLnB1c2goIGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0XHR0aGlzLl90cmlnZ2VyKCBcInJlbW92ZVwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCkgKTtcblx0XHRcdFx0fSApO1xuXHRcdFx0XHRkZWxheWVkVHJpZ2dlcnMucHVzaCggKCBmdW5jdGlvbiggYyApIHtcblx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRcdFx0Yy5fdHJpZ2dlciggXCJyZWNlaXZlXCIsIGV2ZW50LCB0aGlzLl91aUhhc2goIHRoaXMgKSApO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH0gKS5jYWxsKCB0aGlzLCB0aGlzLmN1cnJlbnRDb250YWluZXIgKSApO1xuXHRcdFx0XHRkZWxheWVkVHJpZ2dlcnMucHVzaCggKCBmdW5jdGlvbiggYyApIHtcblx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRcdFx0Yy5fdHJpZ2dlciggXCJ1cGRhdGVcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCggdGhpcyApICk7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fSApLmNhbGwoIHRoaXMsIHRoaXMuY3VycmVudENvbnRhaW5lciApICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly9Qb3N0IGV2ZW50cyB0byBjb250YWluZXJzXG5cdFx0ZnVuY3Rpb24gZGVsYXlFdmVudCggdHlwZSwgaW5zdGFuY2UsIGNvbnRhaW5lciApIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdGNvbnRhaW5lci5fdHJpZ2dlciggdHlwZSwgZXZlbnQsIGluc3RhbmNlLl91aUhhc2goIGluc3RhbmNlICkgKTtcblx0XHRcdH07XG5cdFx0fVxuXHRcdGZvciAoIGkgPSB0aGlzLmNvbnRhaW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKSB7XG5cdFx0XHRpZiAoICFub1Byb3BhZ2F0aW9uICkge1xuXHRcdFx0XHRkZWxheWVkVHJpZ2dlcnMucHVzaCggZGVsYXlFdmVudCggXCJkZWFjdGl2YXRlXCIsIHRoaXMsIHRoaXMuY29udGFpbmVyc1sgaSBdICkgKTtcblx0XHRcdH1cblx0XHRcdGlmICggdGhpcy5jb250YWluZXJzWyBpIF0uY29udGFpbmVyQ2FjaGUub3ZlciApIHtcblx0XHRcdFx0ZGVsYXllZFRyaWdnZXJzLnB1c2goIGRlbGF5RXZlbnQoIFwib3V0XCIsIHRoaXMsIHRoaXMuY29udGFpbmVyc1sgaSBdICkgKTtcblx0XHRcdFx0dGhpcy5jb250YWluZXJzWyBpIF0uY29udGFpbmVyQ2FjaGUub3ZlciA9IDA7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly9EbyB3aGF0IHdhcyBvcmlnaW5hbGx5IGluIHBsdWdpbnNcblx0XHRpZiAoIHRoaXMuc3RvcmVkQ3Vyc29yICkge1xuXHRcdFx0dGhpcy5kb2N1bWVudC5maW5kKCBcImJvZHlcIiApLmNzcyggXCJjdXJzb3JcIiwgdGhpcy5zdG9yZWRDdXJzb3IgKTtcblx0XHRcdHRoaXMuc3RvcmVkU3R5bGVzaGVldC5yZW1vdmUoKTtcblx0XHR9XG5cdFx0aWYgKCB0aGlzLl9zdG9yZWRPcGFjaXR5ICkge1xuXHRcdFx0dGhpcy5oZWxwZXIuY3NzKCBcIm9wYWNpdHlcIiwgdGhpcy5fc3RvcmVkT3BhY2l0eSApO1xuXHRcdH1cblx0XHRpZiAoIHRoaXMuX3N0b3JlZFpJbmRleCApIHtcblx0XHRcdHRoaXMuaGVscGVyLmNzcyggXCJ6SW5kZXhcIiwgdGhpcy5fc3RvcmVkWkluZGV4ID09PSBcImF1dG9cIiA/IFwiXCIgOiB0aGlzLl9zdG9yZWRaSW5kZXggKTtcblx0XHR9XG5cblx0XHR0aGlzLmRyYWdnaW5nID0gZmFsc2U7XG5cblx0XHRpZiAoICFub1Byb3BhZ2F0aW9uICkge1xuXHRcdFx0dGhpcy5fdHJpZ2dlciggXCJiZWZvcmVTdG9wXCIsIGV2ZW50LCB0aGlzLl91aUhhc2goKSApO1xuXHRcdH1cblxuXHRcdC8vJCh0aGlzLnBsYWNlaG9sZGVyWzBdKS5yZW1vdmUoKTsgd291bGQgaGF2ZSBiZWVuIHRoZSBqUXVlcnkgd2F5IC0gdW5mb3J0dW5hdGVseSxcblx0XHQvLyBpdCB1bmJpbmRzIEFMTCBldmVudHMgZnJvbSB0aGUgb3JpZ2luYWwgbm9kZSFcblx0XHR0aGlzLnBsYWNlaG9sZGVyWyAwIF0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggdGhpcy5wbGFjZWhvbGRlclsgMCBdICk7XG5cblx0XHRpZiAoICF0aGlzLmNhbmNlbEhlbHBlclJlbW92YWwgKSB7XG5cdFx0XHRpZiAoIHRoaXMuaGVscGVyWyAwIF0gIT09IHRoaXMuY3VycmVudEl0ZW1bIDAgXSApIHtcblx0XHRcdFx0dGhpcy5oZWxwZXIucmVtb3ZlKCk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmhlbHBlciA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKCAhbm9Qcm9wYWdhdGlvbiApIHtcblx0XHRcdGZvciAoIGkgPSAwOyBpIDwgZGVsYXllZFRyaWdnZXJzLmxlbmd0aDsgaSsrICkge1xuXG5cdFx0XHRcdC8vIFRyaWdnZXIgYWxsIGRlbGF5ZWQgZXZlbnRzXG5cdFx0XHRcdGRlbGF5ZWRUcmlnZ2Vyc1sgaSBdLmNhbGwoIHRoaXMsIGV2ZW50ICk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLl90cmlnZ2VyKCBcInN0b3BcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCgpICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5mcm9tT3V0c2lkZSA9IGZhbHNlO1xuXHRcdHJldHVybiAhdGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsO1xuXG5cdH0sXG5cblx0X3RyaWdnZXI6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggJC5XaWRnZXQucHJvdG90eXBlLl90cmlnZ2VyLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHR0aGlzLmNhbmNlbCgpO1xuXHRcdH1cblx0fSxcblxuXHRfdWlIYXNoOiBmdW5jdGlvbiggX2luc3QgKSB7XG5cdFx0dmFyIGluc3QgPSBfaW5zdCB8fCB0aGlzO1xuXHRcdHJldHVybiB7XG5cdFx0XHRoZWxwZXI6IGluc3QuaGVscGVyLFxuXHRcdFx0cGxhY2Vob2xkZXI6IGluc3QucGxhY2Vob2xkZXIgfHwgJCggW10gKSxcblx0XHRcdHBvc2l0aW9uOiBpbnN0LnBvc2l0aW9uLFxuXHRcdFx0b3JpZ2luYWxQb3NpdGlvbjogaW5zdC5vcmlnaW5hbFBvc2l0aW9uLFxuXHRcdFx0b2Zmc2V0OiBpbnN0LnBvc2l0aW9uQWJzLFxuXHRcdFx0aXRlbTogaW5zdC5jdXJyZW50SXRlbSxcblx0XHRcdHNlbmRlcjogX2luc3QgPyBfaW5zdC5lbGVtZW50IDogbnVsbFxuXHRcdH07XG5cdH1cblxufSApO1xuXG59ICkgKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgdmFyIGNhbGxXaXRoSlF1ZXJ5O1xuXG4gIGNhbGxXaXRoSlF1ZXJ5ID0gZnVuY3Rpb24ocGl2b3RNb2R1bGUpIHtcbiAgICBpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgcmV0dXJuIHBpdm90TW9kdWxlKHJlcXVpcmUoXCJqcXVlcnlcIikpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgICAgIHJldHVybiBkZWZpbmUoW1wianF1ZXJ5XCJdLCBwaXZvdE1vZHVsZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBwaXZvdE1vZHVsZShqUXVlcnkpO1xuICAgIH1cbiAgfTtcblxuICBjYWxsV2l0aEpRdWVyeShmdW5jdGlvbigkKSB7XG4gICAgdmFyIGZyRm10LCBmckZtdEludCwgZnJGbXRQY3QsIG5mLCB0cGw7XG4gICAgbmYgPSAkLnBpdm90VXRpbGl0aWVzLm51bWJlckZvcm1hdDtcbiAgICB0cGwgPSAkLnBpdm90VXRpbGl0aWVzLmFnZ3JlZ2F0b3JUZW1wbGF0ZXM7XG4gICAgZnJGbXQgPSBuZih7XG4gICAgICB0aG91c2FuZHNTZXA6IFwiIFwiLFxuICAgICAgZGVjaW1hbFNlcDogXCIsXCJcbiAgICB9KTtcbiAgICBmckZtdEludCA9IG5mKHtcbiAgICAgIGRpZ2l0c0FmdGVyRGVjaW1hbDogMCxcbiAgICAgIHRob3VzYW5kc1NlcDogXCIgXCIsXG4gICAgICBkZWNpbWFsU2VwOiBcIixcIlxuICAgIH0pO1xuICAgIGZyRm10UGN0ID0gbmYoe1xuICAgICAgZGlnaXRzQWZ0ZXJEZWNpbWFsOiAxLFxuICAgICAgc2NhbGVyOiAxMDAsXG4gICAgICBzdWZmaXg6IFwiJVwiLFxuICAgICAgdGhvdXNhbmRzU2VwOiBcIiBcIixcbiAgICAgIGRlY2ltYWxTZXA6IFwiLFwiXG4gICAgfSk7XG4gICAgcmV0dXJuICQucGl2b3RVdGlsaXRpZXMubG9jYWxlcy5kZSA9IHtcbiAgICAgIGxvY2FsZVN0cmluZ3M6IHtcbiAgICAgICAgcmVuZGVyRXJyb3I6IFwiQmVpIGRlciBEYXJzdGVsbHVuZyBkZXIgUGl2b3QtVGFiZWxsZSBpc3QgZWluIEZlaGxlciBhdWZnZXRyZXRlbi5cIixcbiAgICAgICAgY29tcHV0ZUVycm9yOiBcIkJlaSBkZXIgQmVyZWNobnVuZyBkZXIgUGl2b3QtVGFiZWxsZSBpc3QgZWluIEZlaGxlciBhdWZnZXRyZXRlbi5cIixcbiAgICAgICAgdWlSZW5kZXJFcnJvcjogXCJCZWkgZGVyIERhcnN0ZWxsdW5nIE9iZXJmbMOkY2hlIGRlciBQaXZvdC1UYWJlbGxlIGlzdCBlaW4gRmVobGVyIGF1ZmdldHJldGVuLlwiLFxuICAgICAgICBzZWxlY3RBbGw6IFwiQWxsZXMgYXVzd8OkaGxlblwiLFxuICAgICAgICBzZWxlY3ROb25lOiBcIk5pY2h0cyBhdXN3w6RobGVuXCIsXG4gICAgICAgIHRvb01hbnk6IFwiKHp1IHZpZWxlIGbDvHIgTGlzdGUpXCIsXG4gICAgICAgIGZpbHRlclJlc3VsdHM6IFwiRXJnZWJuaXNzZSBmaWx0ZXJuXCIsXG4gICAgICAgIHRvdGFsczogXCJHZXNhbXRcIixcbiAgICAgICAgdnM6IFwiZ2VnZW5cIixcbiAgICAgICAgYnk6IFwicHJvXCJcbiAgICAgIH0sXG4gICAgICBhZ2dyZWdhdG9yczoge1xuICAgICAgICBcIkFuemFobFwiOiB0cGwuY291bnQoZnJGbXRJbnQpLFxuICAgICAgICBcIkFuemFobCBlaW5kZXV0aWdlciBXZXJ0ZVwiOiB0cGwuY291bnRVbmlxdWUoZnJGbXRJbnQpLFxuICAgICAgICBcIkxpc3RlIGVpbmRldXRpZ2VyIFdlcnRlXCI6IHRwbC5saXN0VW5pcXVlKFwiLCBcIiksXG4gICAgICAgIFwiU3VtbWVcIjogdHBsLnN1bShmckZtdCksXG4gICAgICAgIFwiR2FuenphaGxpZ2UgU3VtbWVcIjogdHBsLnN1bShmckZtdEludCksXG4gICAgICAgIFwiRHVyY2hzY2huaXR0XCI6IHRwbC5hdmVyYWdlKGZyRm10KSxcbiAgICAgICAgXCJNaW5pbXVtXCI6IHRwbC5taW4oZnJGbXQpLFxuICAgICAgICBcIk1heGltdW1cIjogdHBsLm1heChmckZtdCksXG4gICAgICAgIFwiU3VtbWUgw7xiZXIgU3VtbWVcIjogdHBsLnN1bU92ZXJTdW0oZnJGbXQpLFxuICAgICAgICBcIjgwJSBPYmVyZ3JlbnplXCI6IHRwbC5zdW1PdmVyU3VtQm91bmQ4MCh0cnVlLCBmckZtdCksXG4gICAgICAgIFwiODAlIFVudGVyZ3JlbnplXCI6IHRwbC5zdW1PdmVyU3VtQm91bmQ4MChmYWxzZSwgZnJGbXQpLFxuICAgICAgICBcIlN1bW1lIGFscyBBbnRlaWwgdm9uIEdlc2FtdFwiOiB0cGwuZnJhY3Rpb25PZih0cGwuc3VtKCksIFwidG90YWxcIiwgZnJGbXRQY3QpLFxuICAgICAgICBcIlN1bW1lIGFscyBBbnRlaWwgdm9uIFplaWxlXCI6IHRwbC5mcmFjdGlvbk9mKHRwbC5zdW0oKSwgXCJyb3dcIiwgZnJGbXRQY3QpLFxuICAgICAgICBcIlN1bW1lIGFscyBBbnRlaWwgdm9uIFNwYWx0ZVwiOiB0cGwuZnJhY3Rpb25PZih0cGwuc3VtKCksIFwiY29sXCIsIGZyRm10UGN0KSxcbiAgICAgICAgXCJBbnphaGwgYWxzIEFudGVpbCB2b24gR2VzYW10XCI6IHRwbC5mcmFjdGlvbk9mKHRwbC5jb3VudCgpLCBcInRvdGFsXCIsIGZyRm10UGN0KSxcbiAgICAgICAgXCJBbnphaGwgYWxzIEFudGVpbCB2b24gWmVpbGVcIjogdHBsLmZyYWN0aW9uT2YodHBsLmNvdW50KCksIFwicm93XCIsIGZyRm10UGN0KSxcbiAgICAgICAgXCJBbnphaGwgYWxzIEFudGVpbCB2b24gU3BhbHRlXCI6IHRwbC5mcmFjdGlvbk9mKHRwbC5jb3VudCgpLCBcImNvbFwiLCBmckZtdFBjdClcbiAgICAgIH0sXG4gICAgICByZW5kZXJlcnM6IHtcbiAgICAgICAgXCJUYWJlbGxlXCI6ICQucGl2b3RVdGlsaXRpZXMucmVuZGVyZXJzW1wiVGFibGVcIl0sXG4gICAgICAgIFwiVGFiZWxsZSBtaXQgQmFsa2VuZGlhZ3JhbW1cIjogJC5waXZvdFV0aWxpdGllcy5yZW5kZXJlcnNbXCJUYWJsZSBCYXJjaGFydFwiXSxcbiAgICAgICAgXCJIZWF0bWFwXCI6ICQucGl2b3RVdGlsaXRpZXMucmVuZGVyZXJzW1wiSGVhdG1hcFwiXSxcbiAgICAgICAgXCJIZWF0bWFwIHBybyBaZWlsZVwiOiAkLnBpdm90VXRpbGl0aWVzLnJlbmRlcmVyc1tcIlJvdyBIZWF0bWFwXCJdLFxuICAgICAgICBcIkhlYXRtYXAgcHJvIFNwYWx0ZVwiOiAkLnBpdm90VXRpbGl0aWVzLnJlbmRlcmVyc1tcIkNvbCBIZWF0bWFwXCJdXG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG5cbn0pLmNhbGwodGhpcyk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpdm90LmRlLmpzLm1hcCIsIihmdW5jdGlvbigpIHtcbiAgdmFyIGNhbGxXaXRoSlF1ZXJ5O1xuXG4gIGNhbGxXaXRoSlF1ZXJ5ID0gZnVuY3Rpb24ocGl2b3RNb2R1bGUpIHtcbiAgICBpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgcmV0dXJuIHBpdm90TW9kdWxlKHJlcXVpcmUoXCJqcXVlcnlcIikpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgICAgIHJldHVybiBkZWZpbmUoW1wianF1ZXJ5XCJdLCBwaXZvdE1vZHVsZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBwaXZvdE1vZHVsZShqUXVlcnkpO1xuICAgIH1cbiAgfTtcblxuICBjYWxsV2l0aEpRdWVyeShmdW5jdGlvbigkKSB7XG4gICAgdmFyIGZyRm10LCBmckZtdEludCwgZnJGbXRQY3QsIG5mLCB0cGw7XG4gICAgbmYgPSAkLnBpdm90VXRpbGl0aWVzLm51bWJlckZvcm1hdDtcbiAgICB0cGwgPSAkLnBpdm90VXRpbGl0aWVzLmFnZ3JlZ2F0b3JUZW1wbGF0ZXM7XG4gICAgZnJGbXQgPSBuZih7XG4gICAgICB0aG91c2FuZHNTZXA6IFwiIFwiLFxuICAgICAgZGVjaW1hbFNlcDogXCIsXCJcbiAgICB9KTtcbiAgICBmckZtdEludCA9IG5mKHtcbiAgICAgIGRpZ2l0c0FmdGVyRGVjaW1hbDogMCxcbiAgICAgIHRob3VzYW5kc1NlcDogXCIgXCIsXG4gICAgICBkZWNpbWFsU2VwOiBcIixcIlxuICAgIH0pO1xuICAgIGZyRm10UGN0ID0gbmYoe1xuICAgICAgZGlnaXRzQWZ0ZXJEZWNpbWFsOiAxLFxuICAgICAgc2NhbGVyOiAxMDAsXG4gICAgICBzdWZmaXg6IFwiJVwiLFxuICAgICAgdGhvdXNhbmRzU2VwOiBcIiBcIixcbiAgICAgIGRlY2ltYWxTZXA6IFwiLFwiXG4gICAgfSk7XG4gICAgcmV0dXJuICQucGl2b3RVdGlsaXRpZXMubG9jYWxlcy5mciA9IHtcbiAgICAgIGxvY2FsZVN0cmluZ3M6IHtcbiAgICAgICAgcmVuZGVyRXJyb3I6IFwiVW5lIGVycmV1ciBlc3Qgc3VydmVudWUgZW4gZGVzc2luYW50IGxlIHRhYmxlYXUgY3JvaXPDqS5cIixcbiAgICAgICAgY29tcHV0ZUVycm9yOiBcIlVuZSBlcnJldXIgZXN0IHN1cnZlbnVlIGVuIGNhbGN1bGFudCBsZSB0YWJsZWF1IGNyb2lzw6kuXCIsXG4gICAgICAgIHVpUmVuZGVyRXJyb3I6IFwiVW5lIGVycmV1ciBlc3Qgc3VydmVudWUgZW4gZGVzc2luYW50IGwnaW50ZXJmYWNlIGR1IHRhYmxlYXUgY3JvaXPDqSBkeW5hbWlxdWUuXCIsXG4gICAgICAgIHNlbGVjdEFsbDogXCJTw6lsZWN0aW9ubmVyIHRvdXRcIixcbiAgICAgICAgc2VsZWN0Tm9uZTogXCJTw6lsZWN0aW9ubmVyIHJpZW5cIixcbiAgICAgICAgdG9vTWFueTogXCIodHJvcCBkZSB2YWxldXJzIMOgIGFmZmljaGVyKVwiLFxuICAgICAgICBmaWx0ZXJSZXN1bHRzOiBcIkZpbHRyZXIgbGVzIHZhbGV1cnNcIixcbiAgICAgICAgdG90YWxzOiBcIlRvdGF1eFwiLFxuICAgICAgICB2czogXCJzdXJcIixcbiAgICAgICAgYnk6IFwicGFyXCIsXG4gICAgICAgIGFwcGx5OiBcIkFwcGxpcXVlclwiLFxuICAgICAgICBjYW5jZWw6IFwiQW5udWxlclwiXG4gICAgICB9LFxuICAgICAgYWdncmVnYXRvcnM6IHtcbiAgICAgICAgXCJOb21icmVcIjogdHBsLmNvdW50KGZyRm10SW50KSxcbiAgICAgICAgXCJOb21icmUgZGUgdmFsZXVycyB1bmlxdWVzXCI6IHRwbC5jb3VudFVuaXF1ZShmckZtdEludCksXG4gICAgICAgIFwiTGlzdGUgZGUgdmFsZXVycyB1bmlxdWVzXCI6IHRwbC5saXN0VW5pcXVlKFwiLCBcIiksXG4gICAgICAgIFwiU29tbWVcIjogdHBsLnN1bShmckZtdCksXG4gICAgICAgIFwiU29tbWUgZW4gZW50aWVyc1wiOiB0cGwuc3VtKGZyRm10SW50KSxcbiAgICAgICAgXCJNb3llbm5lXCI6IHRwbC5hdmVyYWdlKGZyRm10KSxcbiAgICAgICAgXCJNaW5pbXVtXCI6IHRwbC5taW4oZnJGbXQpLFxuICAgICAgICBcIk1heGltdW1cIjogdHBsLm1heChmckZtdCksXG4gICAgICAgIFwiUHJlbWllclwiOiB0cGwubWluKGZyRm10KSxcbiAgICAgICAgXCJEZXJuaWVyXCI6IHRwbC5tYXgoZnJGbXQpLFxuICAgICAgICBcIlJhdGlvIGRlIHNvbW1lc1wiOiB0cGwuc3VtT3ZlclN1bShmckZtdCksXG4gICAgICAgIFwiQm9ybmUgc3Vww6lyaWV1cmUgODAlXCI6IHRwbC5zdW1PdmVyU3VtQm91bmQ4MCh0cnVlLCBmckZtdCksXG4gICAgICAgIFwiQm9ybmUgaW5mw6lyaWV1cmUgODAlXCI6IHRwbC5zdW1PdmVyU3VtQm91bmQ4MChmYWxzZSwgZnJGbXQpLFxuICAgICAgICBcIlNvbW1lIGVuIHByb3BvcnRpb24gZHUgdG90YWxlXCI6IHRwbC5mcmFjdGlvbk9mKHRwbC5zdW0oKSwgXCJ0b3RhbFwiLCBmckZtdFBjdCksXG4gICAgICAgIFwiU29tbWUgZW4gcHJvcG9ydGlvbiBkZSBsYSBsaWduZVwiOiB0cGwuZnJhY3Rpb25PZih0cGwuc3VtKCksIFwicm93XCIsIGZyRm10UGN0KSxcbiAgICAgICAgXCJTb21tZSBlbiBwcm9wb3J0aW9uIGRlIGxhIGNvbG9ubmVcIjogdHBsLmZyYWN0aW9uT2YodHBsLnN1bSgpLCBcImNvbFwiLCBmckZtdFBjdCksXG4gICAgICAgIFwiTm9tYnJlIGVuIHByb3BvcnRpb24gZHUgdG90YWxlXCI6IHRwbC5mcmFjdGlvbk9mKHRwbC5jb3VudCgpLCBcInRvdGFsXCIsIGZyRm10UGN0KSxcbiAgICAgICAgXCJOb21icmUgZW4gcHJvcG9ydGlvbiBkZSBsYSBsaWduZVwiOiB0cGwuZnJhY3Rpb25PZih0cGwuY291bnQoKSwgXCJyb3dcIiwgZnJGbXRQY3QpLFxuICAgICAgICBcIk5vbWJyZSBlbiBwcm9wb3J0aW9uIGRlIGxhIGNvbG9ubmVcIjogdHBsLmZyYWN0aW9uT2YodHBsLmNvdW50KCksIFwiY29sXCIsIGZyRm10UGN0KVxuICAgICAgfSxcbiAgICAgIHJlbmRlcmVyczoge1xuICAgICAgICBcIlRhYmxlXCI6ICQucGl2b3RVdGlsaXRpZXMucmVuZGVyZXJzW1wiVGFibGVcIl0sXG4gICAgICAgIFwiVGFibGUgYXZlYyBiYXJyZXNcIjogJC5waXZvdFV0aWxpdGllcy5yZW5kZXJlcnNbXCJUYWJsZSBCYXJjaGFydFwiXSxcbiAgICAgICAgXCJDYXJ0ZSBkZSBjaGFsZXVyXCI6ICQucGl2b3RVdGlsaXRpZXMucmVuZGVyZXJzW1wiSGVhdG1hcFwiXSxcbiAgICAgICAgXCJDYXJ0ZSBkZSBjaGFsZXVyIHBhciBsaWduZVwiOiAkLnBpdm90VXRpbGl0aWVzLnJlbmRlcmVyc1tcIlJvdyBIZWF0bWFwXCJdLFxuICAgICAgICBcIkNhcnRlIGRlIGNoYWxldXIgcGFyIGNvbG9ubmVcIjogJC5waXZvdFV0aWxpdGllcy5yZW5kZXJlcnNbXCJDb2wgSGVhdG1hcFwiXVxuICAgICAgfVxuICAgIH07XG4gIH0pO1xuXG59KS5jYWxsKHRoaXMpO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1waXZvdC5mci5qcy5tYXAiLCIoZnVuY3Rpb24oKSB7XG4gIHZhciBjYWxsV2l0aEpRdWVyeTtcblxuICBjYWxsV2l0aEpRdWVyeSA9IGZ1bmN0aW9uKHBpdm90TW9kdWxlKSB7XG4gICAgaWYgKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIHJldHVybiBwaXZvdE1vZHVsZShyZXF1aXJlKFwianF1ZXJ5XCIpKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICByZXR1cm4gZGVmaW5lKFtcImpxdWVyeVwiXSwgcGl2b3RNb2R1bGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcGl2b3RNb2R1bGUoalF1ZXJ5KTtcbiAgICB9XG4gIH07XG5cbiAgY2FsbFdpdGhKUXVlcnkoZnVuY3Rpb24oJCkge1xuICAgIHZhciBmckZtdCwgZnJGbXRJbnQsIGZyRm10UGN0LCBuZiwgdHBsO1xuICAgIG5mID0gJC5waXZvdFV0aWxpdGllcy5udW1iZXJGb3JtYXQ7XG4gICAgdHBsID0gJC5waXZvdFV0aWxpdGllcy5hZ2dyZWdhdG9yVGVtcGxhdGVzO1xuICAgIGZyRm10ID0gbmYoe1xuICAgICAgdGhvdXNhbmRzU2VwOiBcIiBcIixcbiAgICAgIGRlY2ltYWxTZXA6IFwiLFwiXG4gICAgfSk7XG4gICAgZnJGbXRJbnQgPSBuZih7XG4gICAgICBkaWdpdHNBZnRlckRlY2ltYWw6IDAsXG4gICAgICB0aG91c2FuZHNTZXA6IFwiIFwiLFxuICAgICAgZGVjaW1hbFNlcDogXCIsXCJcbiAgICB9KTtcbiAgICBmckZtdFBjdCA9IG5mKHtcbiAgICAgIGRpZ2l0c0FmdGVyRGVjaW1hbDogMSxcbiAgICAgIHNjYWxlcjogMTAwLFxuICAgICAgc3VmZml4OiBcIiVcIixcbiAgICAgIHRob3VzYW5kc1NlcDogXCIgXCIsXG4gICAgICBkZWNpbWFsU2VwOiBcIixcIlxuICAgIH0pO1xuICAgIHJldHVybiAkLnBpdm90VXRpbGl0aWVzLmxvY2FsZXMuaXQgPSB7XG4gICAgICBsb2NhbGVTdHJpbmdzOiB7XG4gICAgICAgIHJlbmRlckVycm9yOiBcIlNpIMOoIHZlcmlmaWNhdG8gdW4gZXJyb3JlIGR1cmFudGUgbGEgY3JlYXppb25lIGRlbGxhIHRhYmVsbGEuXCIsXG4gICAgICAgIGNvbXB1dGVFcnJvcjogXCJTaSDDqCB2ZXJpZmljYXRvIHVuIGVycm9yZSBkaSBjYWxjb2xvIG5lbGxhIHRhYmVsbGEuXCIsXG4gICAgICAgIHVpUmVuZGVyRXJyb3I6IFwiU2kgw6ggdmVyaWZpY2F0byB1biBlcnJvcmUgZHVyYW50ZSBpbCBkaXNlZ25vIGRpIGludGVyZmFjY2lhIGRlbGxhIHRhYmVsbGEgcGl2b3QuXCIsXG4gICAgICAgIHNlbGVjdEFsbDogXCJTZWxlemlvbmEgdHV0dG9cIixcbiAgICAgICAgc2VsZWN0Tm9uZTogXCJEZXNlbGV6aW9uYSB0dXR0b1wiLFxuICAgICAgICB0b29NYW55OiBcIih0cm9wcGkgdmFsb3JpIGRhIHZpc3VhbGl6emFyZSlcIixcbiAgICAgICAgZmlsdGVyUmVzdWx0czogXCJGaWx0cmEgaSB2YWxvcmlcIixcbiAgICAgICAgdG90YWxzOiBcIlRvdGFsaVwiLFxuICAgICAgICB2czogXCJzdVwiLFxuICAgICAgICBieTogXCJkYVwiXG4gICAgICB9LFxuICAgICAgYWdncmVnYXRvcnM6IHtcbiAgICAgICAgXCJOdW1lcm9cIjogdHBsLmNvdW50KGZyRm10SW50KSxcbiAgICAgICAgXCJOdW1lcm8gZGkgdmFsb3JpIHVuaWNpXCI6IHRwbC5jb3VudFVuaXF1ZShmckZtdEludCksXG4gICAgICAgIFwiRWxlbmNvIGRpIHZhbG9yaSB1bmljaVwiOiB0cGwubGlzdFVuaXF1ZShcIiwgXCIpLFxuICAgICAgICBcIlNvbW1hXCI6IHRwbC5zdW0oZnJGbXQpLFxuICAgICAgICBcIlNvbW1hIGludGVyYVwiOiB0cGwuc3VtKGZyRm10SW50KSxcbiAgICAgICAgXCJNZWRpYVwiOiB0cGwuYXZlcmFnZShmckZtdCksXG4gICAgICAgIFwiTWluaW1vXCI6IHRwbC5taW4oZnJGbXQpLFxuICAgICAgICBcIk1hc3NpbW9cIjogdHBsLm1heChmckZtdCksXG4gICAgICAgIFwiUmFwcG9ydG9cIjogdHBsLnN1bU92ZXJTdW0oZnJGbXQpLFxuICAgICAgICBcIkxpbWl0ZSBzdXBlcmlvcmUgODAlXCI6IHRwbC5zdW1PdmVyU3VtQm91bmQ4MCh0cnVlLCBmckZtdCksXG4gICAgICAgIFwibGltaXRlIGluZmVyaW9yZSA4MCVcIjogdHBsLnN1bU92ZXJTdW1Cb3VuZDgwKGZhbHNlLCBmckZtdCksXG4gICAgICAgIFwiU29tbWEgcHJvcG9yemlvbmFsZSBhbCB0b3RhbGVcIjogdHBsLmZyYWN0aW9uT2YodHBsLnN1bSgpLCBcInRvdGFsXCIsIGZyRm10UGN0KSxcbiAgICAgICAgXCJTb21tYSBwcm9wb3J6aW9uYWxlIGFsbGEgcmlnYVwiOiB0cGwuZnJhY3Rpb25PZih0cGwuc3VtKCksIFwicm93XCIsIGZyRm10UGN0KSxcbiAgICAgICAgXCJTb21tYSBwcm9wb3J6aW9uYWxlIGFsbGEgY29sb25uYVwiOiB0cGwuZnJhY3Rpb25PZih0cGwuc3VtKCksIFwiY29sXCIsIGZyRm10UGN0KSxcbiAgICAgICAgXCJOdW1lcm8gcHJvcG9yemlvbmFsZSBhbCB0b3RhbGVcIjogdHBsLmZyYWN0aW9uT2YodHBsLmNvdW50KCksIFwidG90YWxcIiwgZnJGbXRQY3QpLFxuICAgICAgICBcIk51bWVybyBwcm9wb3J6aW9uYWxlIGFsbGEgcmlnYVwiOiB0cGwuZnJhY3Rpb25PZih0cGwuY291bnQoKSwgXCJyb3dcIiwgZnJGbXRQY3QpLFxuICAgICAgICBcIk51bWVybyBwcm9wb3J6aW9uYWxlIGFsbGEgY29sb25uYVwiOiB0cGwuZnJhY3Rpb25PZih0cGwuY291bnQoKSwgXCJjb2xcIiwgZnJGbXRQY3QpXG4gICAgICB9LFxuICAgICAgcmVuZGVyZXJzOiB7XG4gICAgICAgIFwiVGFiZWxsYVwiOiAkLnBpdm90VXRpbGl0aWVzLnJlbmRlcmVyc1tcIlRhYmxlXCJdLFxuICAgICAgICBcIlRhYmVsbGEgY29uIGdyYWZpY29cIjogJC5waXZvdFV0aWxpdGllcy5yZW5kZXJlcnNbXCJUYWJsZSBCYXJjaGFydFwiXSxcbiAgICAgICAgXCJNYXBwYSBkaSBjYWxvcmVcIjogJC5waXZvdFV0aWxpdGllcy5yZW5kZXJlcnNbXCJIZWF0bWFwXCJdLFxuICAgICAgICBcIk1hcHBhIGRpIGNhbG9yZSBwZXIgcmlnaGVcIjogJC5waXZvdFV0aWxpdGllcy5yZW5kZXJlcnNbXCJSb3cgSGVhdG1hcFwiXSxcbiAgICAgICAgXCJNYXBwYSBkaSBjYWxvcmUgcGVyIGNvbG9ubmVcIjogJC5waXZvdFV0aWxpdGllcy5yZW5kZXJlcnNbXCJDb2wgSGVhdG1hcFwiXVxuICAgICAgfVxuICAgIH07XG4gIH0pO1xuXG59KS5jYWxsKHRoaXMpO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1waXZvdC5pdC5qcy5tYXAiLCJtb2R1bGUuZXhwb3J0cz17XG4gIFwibmFtZVwiOiBcInNpbHZlci1kZWNpc2lvbnNcIixcbiAgXCJ2ZXJzaW9uXCI6IFwiMC43LjBcIixcbiAgXCJkZXNjcmlwdGlvblwiOiBcIlNvZnR3YXJlIGZvciBjcmVhdGluZyBhbmQgYW5hbHl6aW5nIGRlY2lzaW9uIHRyZWVzLlwiLFxuICBcIm1haW5cIjogXCJpbmRleC5qc1wiLFxuICBcInNjcmlwdHNcIjoge1xuICAgIFwidGVzdFwiOiBcImVjaG8gXFxcIkVycm9yOiBubyB0ZXN0IHNwZWNpZmllZFxcXCIgJiYgZXhpdCAxXCJcbiAgfSxcbiAgXCJyZXBvc2l0b3J5XCI6IHtcbiAgICBcInR5cGVcIjogXCJnaXRcIixcbiAgICBcInVybFwiOiBcImdpdCtodHRwczovL2dpdGh1Yi5jb20vU2lsdmVyRGVjaXNpb25zL1NpbHZlckRlY2lzaW9ucy5naXRcIlxuICB9LFxuICBcImF1dGhvclwiOiBcIk1pY2hhxYIgV2FzaWx1aywgQm9ndW1pxYIgS2FtacWEc2tpLCBQcnplbXlzxYJhdyBTenVmZWxcIixcbiAgXCJsaWNlbnNlXCI6IFwiTEdQTC0zLjBcIixcbiAgXCJidWdzXCI6IHtcbiAgICBcInVybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9TaWx2ZXJEZWNpc2lvbnMvU2lsdmVyRGVjaXNpb25zL2lzc3Vlc1wiXG4gIH0sXG4gIFwiaG9tZXBhZ2VcIjogXCJodHRwczovL2dpdGh1Yi5jb20vU2lsdmVyRGVjaXNpb25zL1NpbHZlckRlY2lzaW9ucyNyZWFkbWVcIixcbiAgXCJicm93c2VyaWZ5XCI6IHtcbiAgICBcInRyYW5zZm9ybVwiOiBbXG4gICAgICBbXG4gICAgICAgIFwiYmFiZWxpZnlcIixcbiAgICAgICAge1xuICAgICAgICAgIFwicHJlc2V0c1wiOiBbXG4gICAgICAgICAgICBcImVzMjAxNVwiXG4gICAgICAgICAgXSxcbiAgICAgICAgICBcInBsdWdpbnNcIjogW1xuICAgICAgICAgICAgXCJ0cmFuc2Zvcm0tY2xhc3MtcHJvcGVydGllc1wiLFxuICAgICAgICAgICAgXCJ0cmFuc2Zvcm0tb2JqZWN0LWFzc2lnblwiLFxuICAgICAgICAgICAgXCJ0cmFuc2Zvcm0tZXMyMDE1LXNwcmVhZFwiLFxuICAgICAgICAgICAgXCJ0cmFuc2Zvcm0tb2JqZWN0LXJlc3Qtc3ByZWFkXCIsXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgIFwiYmFiZWwtcGx1Z2luLXRyYW5zZm9ybS1idWlsdGluLWV4dGVuZFwiLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJnbG9iYWxzXCI6IFtcbiAgICAgICAgICAgICAgICAgIFwiRXJyb3JcIlxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgXVxuICAgIF1cbiAgfSxcbiAgXCJkZXZEZXBlbmRlbmNpZXNcIjoge1xuICAgIFwiYmFiZWwtcGx1Z2luLXRyYW5zZm9ybS1idWlsdGluLWV4dGVuZFwiOiBcIl4xLjEuMlwiLFxuICAgIFwiYmFiZWwtcGx1Z2luLXRyYW5zZm9ybS1jbGFzcy1wcm9wZXJ0aWVzXCI6IFwiXjYuMTEuNVwiLFxuICAgIFwiYmFiZWwtcGx1Z2luLXRyYW5zZm9ybS1lczIwMTUtc3ByZWFkXCI6IFwiXjYuMjIuMFwiLFxuICAgIFwiYmFiZWwtcGx1Z2luLXRyYW5zZm9ybS1vYmplY3QtYXNzaWduXCI6IFwiXjYuOC4wXCIsXG4gICAgXCJiYWJlbC1wbHVnaW4tdHJhbnNmb3JtLW9iamVjdC1yZXN0LXNwcmVhZFwiOiBcIl42LjIzLjBcIixcbiAgICBcImJhYmVsLXByZXNldC1lczIwMTVcIjogXCJeNi4xNC4wXCIsXG4gICAgXCJiYWJlbGlmeVwiOiBcIl43LjMuMFwiLFxuICAgIFwiYnJvd3Nlci1zeW5jXCI6IFwiXjIuMTMuMFwiLFxuICAgIFwiYnJvd3NlcmlmeVwiOiBcIl4xMy4xLjBcIixcbiAgICBcImJyb3dzZXJpZnktcmVzb2x1dGlvbnNcIjogXCJeMS4xLjBcIixcbiAgICBcImJyb3dzZXJpZnktc2hpbVwiOiBcIl4zLjguMTNcIixcbiAgICBcImNoYWxrXCI6IFwiXjEuMS4zXCIsXG4gICAgXCJkZWxcIjogXCJeMi4yLjBcIixcbiAgICBcImVzNi1zZXRcIjogXCJeMC4xLjVcIixcbiAgICBcImd1bHBcIjogXCJeMy45LjFcIixcbiAgICBcImd1bHAtY29uY2F0XCI6IFwiXjIuNi4wXCIsXG4gICAgXCJndWxwLWZpbGVsaXN0XCI6IFwiXjEuMC4wXCIsXG4gICAgXCJndWxwLWh0bWwyanNcIjogXCJeMC40LjJcIixcbiAgICBcImd1bHAtbG9hZC1wbHVnaW5zXCI6IFwiXjEuMi40XCIsXG4gICAgXCJndWxwLW1pbmlmeS1jc3NcIjogXCJeMS4yLjRcIixcbiAgICBcImd1bHAtcGx1bWJlclwiOiBcIl4xLjEuMFwiLFxuICAgIFwiZ3VscC1yZW5hbWVcIjogXCJeMS4yLjJcIixcbiAgICBcImd1bHAtcmVwbGFjZVwiOiBcIl4wLjUuNFwiLFxuICAgIFwiZ3VscC1zYXNzXCI6IFwiXjIuMy4xXCIsXG4gICAgXCJndWxwLXNvdXJjZW1hcHNcIjogXCJeMS42LjBcIixcbiAgICBcImd1bHAtc3RyaXAtZGVidWdcIjogXCJeMS4xLjBcIixcbiAgICBcImd1bHAtdGVtcGxhdGVcIjogXCJeNC4wLjBcIixcbiAgICBcImd1bHAtdWdsaWZ5XCI6IFwiXjEuNS4zXCIsXG4gICAgXCJndWxwLXV0aWxcIjogXCJeMy4wLjdcIixcbiAgICBcImphc21pbmVcIjogXCJeMi41LjJcIixcbiAgICBcImphc21pbmUtanF1ZXJ5XCI6IFwiXjIuMS4xXCIsXG4gICAgXCJrYXJtYVwiOiBcIl4xLjMuMFwiLFxuICAgIFwia2FybWEtYnJvd3NlcmlmeVwiOiBcIl41LjEuMVwiLFxuICAgIFwia2FybWEtY2hyb21lLWxhdW5jaGVyXCI6IFwiXjIuMC4wXCIsXG4gICAgXCJrYXJtYS1pbnRsLXNoaW1cIjogXCJeMS4wLjNcIixcbiAgICBcImthcm1hLWphc21pbmVcIjogXCJeMS4wLjJcIixcbiAgICBcImthcm1hLXBoYW50b21qcy1sYXVuY2hlclwiOiBcIl4xLjAuMlwiLFxuICAgIFwibWVyZ2Utc3RyZWFtXCI6IFwiXjEuMC4wXCIsXG4gICAgXCJwaGFudG9tanNcIjogXCJeMi4xLjdcIixcbiAgICBcInN0cmluZ2lmeVwiOiBcIl41LjEuMFwiLFxuICAgIFwic3ZnMnBkZi5qc1wiOiBcIl4wLjExLjRcIixcbiAgICBcInZpbnlsLWJ1ZmZlclwiOiBcIl4xLjAuMFwiLFxuICAgIFwidmlueWwtc291cmNlLXN0cmVhbVwiOiBcIl4xLjEuMFwiLFxuICAgIFwieWFyZ3NcIjogXCJeNi4wLjBcIlxuICB9LFxuICBcImRlcGVuZGVuY2llc1wiOiB7XG4gICAgXCJhdXRvc2l6ZVwiOiBcIl4zLjAuMTlcIixcbiAgICBcImJsdWVpbXAtY2FudmFzLXRvLWJsb2JcIjogXCJeMy4zLjBcIixcbiAgICBcImQzLWFycmF5XCI6IFwiXjEuMC4xXCIsXG4gICAgXCJkMy1icnVzaFwiOiBcIl4xLjAuM1wiLFxuICAgIFwiZDMtZGlzcGF0Y2hcIjogXCJeMS4wLjFcIixcbiAgICBcImQzLWRyYWdcIjogXCJeMS4wLjFcIixcbiAgICBcImQzLWhpZXJhcmNoeVwiOiBcIl4xLjAuMlwiLFxuICAgIFwiZDMtc2NhbGVcIjogXCJeMS4wLjNcIixcbiAgICBcImQzLXNlbGVjdGlvblwiOiBcIl4xLjAuMlwiLFxuICAgIFwiZDMtc2hhcGVcIjogXCJeMS4wLjNcIixcbiAgICBcImQzLXRpbWUtZm9ybWF0XCI6IFwiXjIuMC4yXCIsXG4gICAgXCJmaWxlLXNhdmVyXCI6IFwiXjEuMy4yXCIsXG4gICAgXCJoYW1tZXJqc1wiOiBcIl4yLjAuOFwiLFxuICAgIFwiaTE4bmV4dFwiOiBcIl4zLjQuM1wiLFxuICAgIFwianF1ZXJ5XCI6IFwiXjMuMS4xXCIsXG4gICAgXCJqcXVlcnktdWlcIjogXCJeMS4xMi4xXCIsXG4gICAgXCJwaXZvdHRhYmxlXCI6IFwiXjIuMTEuMFwiLFxuICAgIFwic2QtY29tcHV0YXRpb25zXCI6IFwibGF0ZXN0XCIsXG4gICAgXCJzZC1tb2RlbFwiOiBcImxhdGVzdFwiLFxuICAgIFwic2QtdXRpbHNcIjogXCJsYXRlc3RcIlxuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBkMyBmcm9tICcuL2QzJ1xyXG5pbXBvcnQge0RpYWxvZ30gZnJvbSAnLi9kaWFsb2cnXHJcblxyXG5leHBvcnQgY2xhc3MgQWJvdXREaWFsb2cgZXh0ZW5kcyBEaWFsb2d7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYXBwKXtcclxuICAgICAgICBzdXBlcihhcHAuY29udGFpbmVyLnNlbGVjdCgnI3NkLWFib3V0LWRpYWxvZycpLCBhcHApO1xyXG4gICAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBkMyBmcm9tIFwiLi9kM1wiO1xuaW1wb3J0ICogYXMgYXV0b3NpemUgZnJvbSBcImF1dG9zaXplXCI7XG5pbXBvcnQge1RlbXBsYXRlc30gZnJvbSBcIi4vdGVtcGxhdGVzXCI7XG5pbXBvcnQge2kxOG59IGZyb20gXCIuL2kxOG4vaTE4blwiO1xuaW1wb3J0IHtVdGlsc30gZnJvbSBcInNkLXV0aWxzXCI7XG5cbmV4cG9ydCBjbGFzcyBBcHBVdGlscyB7XG5cbiAgICBzdGF0aWMgc2FuaXRpemVIZWlnaHQgPSBmdW5jdGlvbiAoaGVpZ2h0LCBjb250YWluZXIpIHtcbiAgICAgICAgcmV0dXJuIChoZWlnaHQgfHwgcGFyc2VJbnQoY29udGFpbmVyLnN0eWxlKCdoZWlnaHQnKSwgMTApIHx8IDQwMCk7XG4gICAgfTtcblxuICAgIHN0YXRpYyBzYW5pdGl6ZVdpZHRoID0gZnVuY3Rpb24gKHdpZHRoLCBjb250YWluZXIpIHtcbiAgICAgICAgcmV0dXJuICh3aWR0aCB8fCBwYXJzZUludChjb250YWluZXIuc3R5bGUoJ3dpZHRoJyksIDEwKSB8fCA5NjApO1xuICAgIH07XG5cbiAgICBzdGF0aWMgYXZhaWxhYmxlSGVpZ2h0ID0gZnVuY3Rpb24gKGhlaWdodCwgY29udGFpbmVyLCBtYXJnaW4pIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIEFwcFV0aWxzLnNhbml0aXplSGVpZ2h0KGhlaWdodCwgY29udGFpbmVyKSAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tKTtcbiAgICB9O1xuXG4gICAgc3RhdGljIGF2YWlsYWJsZVdpZHRoID0gZnVuY3Rpb24gKHdpZHRoLCBjb250YWluZXIsIG1hcmdpbikge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgQXBwVXRpbHMuc2FuaXRpemVXaWR0aCh3aWR0aCwgY29udGFpbmVyKSAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0KTtcbiAgICB9O1xuXG4gICAgLy9wbGFjZXMgdGV4dFN0cmluZyBpbiB0ZXh0T2JqLCBhZGRzIGFuIGVsbGlwc2lzIGlmIHRleHQgY2FuJ3QgZml0IGluIHdpZHRoXG4gICAgc3RhdGljIHBsYWNlVGV4dFdpdGhFbGxpcHNpcyh0ZXh0RDNPYmosIHRleHRTdHJpbmcsIHdpZHRoKSB7XG4gICAgICAgIHZhciB0ZXh0T2JqID0gdGV4dEQzT2JqLm5vZGUoKTtcbiAgICAgICAgdGV4dE9iai50ZXh0Q29udGVudCA9IHRleHRTdHJpbmc7XG5cbiAgICAgICAgdmFyIG1hcmdpbiA9IDA7XG4gICAgICAgIHZhciBlbGxpcHNpc0xlbmd0aCA9IDk7XG4gICAgICAgIC8vZWxsaXBzaXMgaXMgbmVlZGVkXG4gICAgICAgIGlmICh0ZXh0T2JqLmdldENvbXB1dGVkVGV4dExlbmd0aCgpID4gd2lkdGggKyBtYXJnaW4pIHtcbiAgICAgICAgICAgIGZvciAodmFyIHggPSB0ZXh0U3RyaW5nLmxlbmd0aCAtIDM7IHggPiAwOyB4IC09IDEpIHtcbiAgICAgICAgICAgICAgICBpZiAodGV4dE9iai5nZXRTdWJTdHJpbmdMZW5ndGgoMCwgeCkgKyBlbGxpcHNpc0xlbmd0aCA8PSB3aWR0aCArIG1hcmdpbikge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0T2JqLnRleHRDb250ZW50ID0gdGV4dFN0cmluZy5zdWJzdHJpbmcoMCwgeCkgKyBcIi4uLlwiO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZXh0T2JqLnRleHRDb250ZW50ID0gXCIuLi5cIjsgLy9jYW4ndCBwbGFjZSBhdCBhbGxcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcGxhY2VUZXh0V2l0aEVsbGlwc2lzQW5kVG9vbHRpcCh0ZXh0RDNPYmosIHRleHRTdHJpbmcsIHdpZHRoLCB0b29sdGlwKSB7XG4gICAgICAgIHZhciBlbGxpcHNpc1BsYWNlZCA9IEFwcFV0aWxzLnBsYWNlVGV4dFdpdGhFbGxpcHNpcyh0ZXh0RDNPYmosIHRleHRTdHJpbmcsIHdpZHRoKTtcbiAgICAgICAgaWYgKGVsbGlwc2lzUGxhY2VkICYmIHRvb2x0aXApIHtcbiAgICAgICAgICAgIHRleHREM09iai5vbihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgIHRvb2x0aXAudHJhbnNpdGlvbigpXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbigyMDApXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZShcIm9wYWNpdHlcIiwgLjkpO1xuICAgICAgICAgICAgICAgIHRvb2x0aXAuaHRtbCh0ZXh0U3RyaW5nKVxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDUpICsgXCJweFwiKVxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMjgpICsgXCJweFwiKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0ZXh0RDNPYmoub24oXCJtb3VzZW91dFwiLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgIHRvb2x0aXAudHJhbnNpdGlvbigpXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbig1MDApXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZShcIm9wYWNpdHlcIiwgMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgc3RhdGljIGdldEZvbnRTaXplKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIG51bGwpLmdldFByb3BlcnR5VmFsdWUoXCJmb250LXNpemVcIik7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldFRyYW5zbGF0aW9uKHRyYW5zZm9ybSkge1xuICAgICAgICAvLyBDcmVhdGUgYSBkdW1teSBnIGZvciBjYWxjdWxhdGlvbiBwdXJwb3NlcyBvbmx5LiBUaGlzIHdpbGwgbmV2ZXJcbiAgICAgICAgLy8gYmUgYXBwZW5kZWQgdG8gdGhlIERPTSBhbmQgd2lsbCBiZSBkaXNjYXJkZWQgb25jZSB0aGlzIGZ1bmN0aW9uXG4gICAgICAgIC8vIHJldHVybnMuXG4gICAgICAgIHZhciBnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJnXCIpO1xuXG4gICAgICAgIC8vIFNldCB0aGUgdHJhbnNmb3JtIGF0dHJpYnV0ZSB0byB0aGUgcHJvdmlkZWQgc3RyaW5nIHZhbHVlLlxuICAgICAgICBnLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidHJhbnNmb3JtXCIsIHRyYW5zZm9ybSk7XG5cbiAgICAgICAgLy8gY29uc29saWRhdGUgdGhlIFNWR1RyYW5zZm9ybUxpc3QgY29udGFpbmluZyBhbGwgdHJhbnNmb3JtYXRpb25zXG4gICAgICAgIC8vIHRvIGEgc2luZ2xlIFNWR1RyYW5zZm9ybSBvZiB0eXBlIFNWR19UUkFOU0ZPUk1fTUFUUklYIGFuZCBnZXRcbiAgICAgICAgLy8gaXRzIFNWR01hdHJpeC5cbiAgICAgICAgdmFyIG1hdHJpeCA9IGcudHJhbnNmb3JtLmJhc2VWYWwuY29uc29saWRhdGUoKS5tYXRyaXg7XG5cbiAgICAgICAgLy8gQXMgcGVyIGRlZmluaXRpb24gdmFsdWVzIGUgYW5kIGYgYXJlIHRoZSBvbmVzIGZvciB0aGUgdHJhbnNsYXRpb24uXG4gICAgICAgIHJldHVybiBbbWF0cml4LmUsIG1hdHJpeC5mXTtcbiAgICB9XG5cblxuICAgIHN0YXRpYyB1cGRhdGVJbnB1dENsYXNzKHNlbGVjdGlvbil7XG4gICAgICAgIHZhciB2YWx1ZSA9IHNlbGVjdGlvbi5ub2RlKCkudmFsdWU7XG4gICAgICAgIHNlbGVjdGlvbi5jbGFzc2VkKCdlbXB0eScsIHZhbHVlIT09MCAmJiAhdmFsdWUpO1xuICAgICAgICByZXR1cm4gc2VsZWN0aW9uO1xuICAgIH1cblxuICAgIHN0YXRpYyBhdXRvUmVzaXplVGV4dGFyZWEoZWxlbWVudCl7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUud2lkdGggPSBcIlwiO1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICAgICAgICAgIGlmKHdpZHRoKXtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gd2lkdGgrJ3B4JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF1dG9zaXplLnVwZGF0ZShlbGVtZW50KTtcbiAgICAgICAgfSwgMTApO1xuICAgIH1cblxuICAgIHN0YXRpYyBlbGFzdGljVGV4dGFyZWEoc2VsZWN0aW9uKXtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgc2VsZWN0aW9uLnN0eWxlKCd3aWR0aCcsdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHNlbGVjdGlvbi5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG4gICAgICAgICAgICBpZih3aWR0aCl7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uLnN0eWxlKCd3aWR0aCcsIHdpZHRoKydweCcpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhdXRvc2l6ZS5kZWZhdWx0KHNlbGVjdGlvbi5ub2RlKCkpO1xuICAgICAgICB9LDEwKVxuICAgIH1cblxuICAgIHN0YXRpYyBjbG9zZXN0UG9pbnQocGF0aE5vZGUsIHBvaW50KSB7XG4gICAgICAgIHZhciBwYXRoTGVuZ3RoID0gcGF0aE5vZGUuZ2V0VG90YWxMZW5ndGgoKSxcbiAgICAgICAgICAgIHByZWNpc2lvbiA9IDgsXG4gICAgICAgICAgICBiZXN0LFxuICAgICAgICAgICAgYmVzdExlbmd0aCxcbiAgICAgICAgICAgIGJlc3REaXN0YW5jZSA9IEluZmluaXR5O1xuXG4gICAgICAgIC8vIGxpbmVhciBzY2FuIGZvciBjb2Fyc2UgYXBwcm94aW1hdGlvblxuICAgICAgICBmb3IgKHZhciBzY2FuLCBzY2FuTGVuZ3RoID0gMCwgc2NhbkRpc3RhbmNlOyBzY2FuTGVuZ3RoIDw9IHBhdGhMZW5ndGg7IHNjYW5MZW5ndGggKz0gcHJlY2lzaW9uKSB7XG4gICAgICAgICAgICBpZiAoKHNjYW5EaXN0YW5jZSA9IGRpc3RhbmNlMihzY2FuID0gcGF0aE5vZGUuZ2V0UG9pbnRBdExlbmd0aChzY2FuTGVuZ3RoKSkpIDwgYmVzdERpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgYmVzdCA9IHNjYW4sIGJlc3RMZW5ndGggPSBzY2FuTGVuZ3RoLCBiZXN0RGlzdGFuY2UgPSBzY2FuRGlzdGFuY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBiaW5hcnkgc2VhcmNoIGZvciBwcmVjaXNlIGVzdGltYXRlXG4gICAgICAgIHByZWNpc2lvbiAvPSAyO1xuICAgICAgICB3aGlsZSAocHJlY2lzaW9uID4gMC41KSB7XG4gICAgICAgICAgICB2YXIgYmVmb3JlLFxuICAgICAgICAgICAgICAgIGFmdGVyLFxuICAgICAgICAgICAgICAgIGJlZm9yZUxlbmd0aCxcbiAgICAgICAgICAgICAgICBhZnRlckxlbmd0aCxcbiAgICAgICAgICAgICAgICBiZWZvcmVEaXN0YW5jZSxcbiAgICAgICAgICAgICAgICBhZnRlckRpc3RhbmNlO1xuICAgICAgICAgICAgaWYgKChiZWZvcmVMZW5ndGggPSBiZXN0TGVuZ3RoIC0gcHJlY2lzaW9uKSA+PSAwICYmIChiZWZvcmVEaXN0YW5jZSA9IGRpc3RhbmNlMihiZWZvcmUgPSBwYXRoTm9kZS5nZXRQb2ludEF0TGVuZ3RoKGJlZm9yZUxlbmd0aCkpKSA8IGJlc3REaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgIGJlc3QgPSBiZWZvcmUsIGJlc3RMZW5ndGggPSBiZWZvcmVMZW5ndGgsIGJlc3REaXN0YW5jZSA9IGJlZm9yZURpc3RhbmNlO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgoYWZ0ZXJMZW5ndGggPSBiZXN0TGVuZ3RoICsgcHJlY2lzaW9uKSA8PSBwYXRoTGVuZ3RoICYmIChhZnRlckRpc3RhbmNlID0gZGlzdGFuY2UyKGFmdGVyID0gcGF0aE5vZGUuZ2V0UG9pbnRBdExlbmd0aChhZnRlckxlbmd0aCkpKSA8IGJlc3REaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgIGJlc3QgPSBhZnRlciwgYmVzdExlbmd0aCA9IGFmdGVyTGVuZ3RoLCBiZXN0RGlzdGFuY2UgPSBhZnRlckRpc3RhbmNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwcmVjaXNpb24gLz0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJlc3QgPSBbYmVzdC54LCBiZXN0LnldO1xuICAgICAgICBiZXN0LmRpc3RhbmNlID0gTWF0aC5zcXJ0KGJlc3REaXN0YW5jZSk7XG4gICAgICAgIHJldHVybiBiZXN0O1xuXG4gICAgICAgIGZ1bmN0aW9uIGRpc3RhbmNlMihwKSB7XG4gICAgICAgICAgICB2YXIgZHggPSBwLnggLSBwb2ludFswXSxcbiAgICAgICAgICAgICAgICBkeSA9IHAueSAtIHBvaW50WzFdO1xuICAgICAgICAgICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdyb3dsKG1lc3NhZ2UsIHR5cGU9J2luZm8nLCBwb3NpdGlvbj0ncmlnaHQnLCB0aW1lID0gMjAwMCl7XG4gICAgICAgIHZhciBodG1sID0gVGVtcGxhdGVzLmdldCgnZ3Jvd2wnLCB7bWVzc2FnZTptZXNzYWdlLCB0eXBlOnR5cGV9KVxuXG4gICAgICAgIHZhciBnID0gZDMuc2VsZWN0KCdib2R5Jykuc2VsZWN0T3JBcHBlbmQoJ2Rpdi5zZC1ncm93bC1saXN0LicrcG9zaXRpb24pLmFwcGVuZCgnZGl2JykuaHRtbChodG1sKTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgZy5yZW1vdmUoKTtcbiAgICAgICAgfSwgdGltZSlcbiAgICB9XG5cbiAgICBzdGF0aWMgcG9zdEJ5Rm9ybSh1cmwsIGRhdGEpIHtcbiAgICAgICAgdmFyIG5hbWUsXG4gICAgICAgICAgICBmb3JtO1xuXG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgZm9ybVxuICAgICAgICBmb3JtID0gQXBwVXRpbHMuY3JlYXRlRWxlbWVudCgnZm9ybScsIEFwcFV0aWxzLm1lcmdlRGVlcCh7XG4gICAgICAgICAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICAgICAgICAgIGFjdGlvbjogdXJsLFxuICAgICAgICAgICAgZW5jdHlwZTogJ211bHRpcGFydC9mb3JtLWRhdGEnXG4gICAgICAgIH0pLCBkb2N1bWVudC5ib2R5KTtcblxuICAgICAgICBmb3IgKG5hbWUgaW4gZGF0YSkge1xuICAgICAgICAgICAgaWYoZGF0YS5oYXNPd25Qcm9wZXJ0eShuYW1lKSl7XG4gICAgICAgICAgICAgICAgQXBwVXRpbHMuY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdoaWRkZW4nLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZGF0YVtuYW1lXVxuICAgICAgICAgICAgICAgIH0sIGZvcm0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9ybS5zdWJtaXQoKTtcblxuICAgICAgICBBcHBVdGlscy5yZW1vdmVFbGVtZW50KGZvcm0pO1xuICAgIH07XG5cbiAgICBzdGF0aWMgY3JlYXRlRWxlbWVudCh0YWcsIGF0dHJpYnMsIHBhcmVudCkge1xuICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG5cbiAgICAgICAgaWYgKGF0dHJpYnMpIHtcbiAgICAgICAgICAgIEFwcFV0aWxzLmRlZXBFeHRlbmQoZWwsIGF0dHJpYnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChlbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsO1xuICAgIH07XG5cbiAgICBzdGF0aWMgcmVtb3ZlRWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcmVwbGFjZVVybHModGV4dCl7XG4gICAgICAgIGlmKCF0ZXh0KXtcbiAgICAgICAgICAgIHJldHVybiB0ZXh0O1xuICAgICAgICB9XG4gICAgICAgIHZhciB1cmxSZWdleHAgPSAvKChmdHB8aHR0cHxodHRwcyk6XFwvXFwvKFxcdys6ezAsMX1cXHcqQCk/KFxcUyspKDpbMC05XSspPyhcXC98XFwvKFtcXHcjITouPys9JiVAIVxcLVxcL10pKT8pL1xuXG4gICAgICAgIHJldHVybiB0ZXh0LnJlcGxhY2UodXJsUmVnZXhwLCAnPGEgaHJlZj1cIiQxXCIgdGFyZ2V0PVwiX2JsYW5rXCI+JDE8L2E+Jyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGVzY2FwZUh0bWwoaHRtbClcbiAgICB7XG4gICAgICAgIHZhciB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoaHRtbCk7XG4gICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKHRleHQpO1xuICAgICAgICByZXR1cm4gZGl2LmlubmVySFRNTDtcbiAgICB9XG5cbiAgICBzdGF0aWMgZGlzcGF0Y2hIdG1sRXZlbnQoZWxlbWVudCwgbmFtZSl7XG4gICAgICAgIGlmIChcImNyZWF0ZUV2ZW50XCIgaW4gZG9jdW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIkhUTUxFdmVudHNcIik7XG4gICAgICAgICAgICBldnQuaW5pdEV2ZW50KG5hbWUsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICAgIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChldnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGVsZW1lbnQuZmlyZUV2ZW50KFwib25cIituYW1lKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZGlzcGF0Y2hFdmVudChuYW1lLCBkYXRhKXtcbiAgICAgICAgdmFyIGV2ZW50O1xuICAgICAgICB0cnl7XG4gICAgICAgICAgICBldmVudCA9IG5ldyAgQ3VzdG9tRXZlbnQobmFtZSx7ICdkZXRhaWwnOiBkYXRhIH0pO1xuICAgICAgICB9Y2F0Y2ggKGUpeyAvL0lFXG4gICAgICAgICAgICBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdDdXN0b21FdmVudCcpO1xuICAgICAgICAgICAgZXZlbnQuaW5pdEN1c3RvbUV2ZW50KG5hbWUsIGZhbHNlLCBmYWxzZSwgZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldFZhbGlkYXRpb25NZXNzYWdlKGVycm9yKXtcbiAgICAgICAgaWYoVXRpbHMuaXNTdHJpbmcoZXJyb3IpKXtcbiAgICAgICAgICAgIGVycm9yID0ge25hbWU6IGVycm9yfTtcbiAgICAgICAgfVxuICAgICAgICB2YXIga2V5ID0gJ3ZhbGlkYXRpb24uJyArIGVycm9yLm5hbWU7XG4gICAgICAgIHJldHVybiBpMThuLnQoa2V5LCBlcnJvci5kYXRhKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaGlkZShzZWxlY3Rpb24pe1xuICAgICAgICBzZWxlY3Rpb24uY2xhc3NlZCgnc2QtaGlkZGVuJywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgc3RhdGljIHNob3coc2VsZWN0aW9uLCBzaG93PXRydWUpe1xuICAgICAgICBzZWxlY3Rpb24uY2xhc3NlZCgnc2QtaGlkZGVuJywgIXNob3cpO1xuICAgIH1cblxuICAgIHN0YXRpYyBzaG93RnVsbFNjcmVlblBvcHVwKHRpdGxlLCBodG1sLCBjbG9zZUNhbGxiYWNrKXtcbiAgICAgICAgdmFyIHBvcHVwID0gZDMuc2VsZWN0KFwiYm9keVwiKS5zZWxlY3RPckFwcGVuZChcImRpdi5zZC1mdWxsLXNjcmVlbi1wb3B1cC1jb250YWluZXJcIikuaHRtbChUZW1wbGF0ZXMuZ2V0KCdmdWxsc2NyZWVuUG9wdXAnLCB7dGl0bGU6dGl0bGUsYm9keTpodG1sfSkpO1xuICAgICAgICBwb3B1cC5zZWxlY3QoJy5zZC1jbG9zZS1wb3B1cCcpLm9uKCdjbGljaycsICgpPT57XG4gICAgICAgICAgICBwb3B1cC5yZW1vdmUoKTtcbiAgICAgICAgICAgIGlmKGNsb3NlQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBjbG9zZUNhbGxiYWNrKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgIH1cblxuICAgIHN0YXRpYyBnZXRKU09OKHVybCwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB4aHIub3BlbignZ2V0JywgdXJsLCB0cnVlKTtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdqc29uJztcbiAgICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzdGF0dXMgPSB4aHIuc3RhdHVzO1xuICAgICAgICAgICAgaWYgKHN0YXR1cyA9PSAyMDApIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh4aHIucmVzcG9uc2UsIG51bGwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCBzdGF0dXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB4aHIuc2VuZCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCAqIGFzIGQzIGZyb20gJy4vZDMnXG5pbXBvcnQge2kxOG59IGZyb20gJy4vaTE4bi9pMThuJ1xuaW1wb3J0IHtVdGlscywgbG9nfSBmcm9tICdzZC11dGlscydcbmltcG9ydCB7QXBwVXRpbHN9IGZyb20gJy4vYXBwLXV0aWxzJ1xuaW1wb3J0ICogYXMgbW9kZWwgZnJvbSAnc2QtbW9kZWwnXG5cbmltcG9ydCB7VHJlZURlc2lnbmVyLCBUcmVlRGVzaWduZXJDb25maWd9IGZyb20gJy4vdHJlZS1kZXNpZ25lci90cmVlLWRlc2lnbmVyJ1xuaW1wb3J0IHtUZW1wbGF0ZXN9IGZyb20gJy4vdGVtcGxhdGVzJ1xuaW1wb3J0IHtTaWRlYmFyfSBmcm9tICcuL3NpZGViYXInXG5pbXBvcnQge1Rvb2xiYXJ9IGZyb20gJy4vdG9vbGJhcidcbmltcG9ydCB7U2V0dGluZ3NEaWFsb2d9IGZyb20gJy4vc2V0dGluZ3MtZGlhbG9nJ1xuaW1wb3J0IHtBYm91dERpYWxvZ30gZnJvbSBcIi4vYWJvdXQtZGlhbG9nXCI7XG5pbXBvcnQge0V4cG9ydGVyfSBmcm9tIFwiLi9leHBvcnRlclwiO1xuaW1wb3J0IHtEZWZpbml0aW9uc0RpYWxvZ30gZnJvbSBcIi4vZGVmaW5pdGlvbnMtZGlhbG9nXCI7XG5pbXBvcnQge0NvbXB1dGF0aW9uc01hbmFnZXJ9IGZyb20gXCJzZC1jb21wdXRhdGlvbnNcIjtcbmltcG9ydCB7U2Vuc2l0aXZpdHlBbmFseXNpc0RpYWxvZ30gZnJvbSBcIi4vc2Vuc2l0aXZpdHktYW5hbHlzaXMtZGlhbG9nXCI7XG5pbXBvcnQge0xvYWRpbmdJbmRpY2F0b3J9IGZyb20gXCIuL2xvYWRpbmctaW5kaWNhdG9yXCI7XG5cblxudmFyIGJ1aWxkQ29uZmlnID0gcmVxdWlyZSgnLi4vdG1wL2J1aWxkLWNvbmZpZy5qcycpO1xuXG5leHBvcnQgY2xhc3MgQXBwQ29uZmlnIHtcbiAgICByZWFkT25seSA9IGZhbHNlO1xuICAgIGxvZ0xldmVsID0gJ3dhcm4nO1xuICAgIHdvcmtlclVybCA9IG51bGw7XG4gICAgam9iUmVwb3NpdG9yeVR5cGUgPSAnaWRiJztcbiAgICBjbGVhclJlcG9zaXRvcnkgPSBmYWxzZTtcbiAgICBidXR0b25zID0ge1xuICAgICAgICBuZXc6IHRydWUsXG4gICAgICAgIHNhdmU6IHRydWUsXG4gICAgICAgIG9wZW46IHRydWUsXG4gICAgICAgIGV4cG9ydFRvUG5nOiB0cnVlLFxuICAgICAgICBleHBvcnRUb1N2ZzogdHJ1ZSxcbiAgICAgICAgZXhwb3J0VG9QZGY6IHRydWVcbiAgICB9O1xuICAgIGV4cG9ydHMgPSB7XG4gICAgICAgIHNob3c6IHRydWUsXG4gICAgICAgIHNlcnZlclVybDogJ2h0dHA6Ly9leHBvcnQuaGlnaGNoYXJ0cy5jb20nLCAvL3VybCBvZiB0aGUgZXhwb3J0IHNlcnZlclxuICAgICAgICBwZGY6IHtcbiAgICAgICAgICAgIG1vZGU6ICdzZXJ2ZXInLCAvLyBhdmFpbGFibGUgb3B0aW9uczogJ2NsaWVudCcsICdzZXJ2ZXInLCAnZmFsbGJhY2snLFxuICAgICAgICB9LFxuICAgICAgICBwbmc6IHtcbiAgICAgICAgICAgIG1vZGU6ICdmYWxsYmFjaycsIC8vIGF2YWlsYWJsZSBvcHRpb25zOiAnY2xpZW50JywgJ3NlcnZlcicsICdmYWxsYmFjaycsXG4gICAgICAgIH1cbiAgICB9O1xuICAgIHNob3dEZXRhaWxzID0gdHJ1ZTtcbiAgICBzaG93RGVmaW5pdGlvbnMgPSB0cnVlO1xuICAgIGpzb25GaWxlRG93bmxvYWQgPSB0cnVlO1xuICAgIHdpZHRoID0gdW5kZWZpbmVkO1xuICAgIGhlaWdodCA9IHVuZGVmaW5lZDtcbiAgICBydWxlID0gXCJleHBlY3RlZC12YWx1ZS1tYXhpbWl6YXRpb25cIjtcbiAgICBsbmcgPSAnZW4nO1xuICAgIGZvcm1hdCA9IHsvLyBOdW1iZXJGb3JtYXQgIG9wdGlvbnNcbiAgICAgICAgbG9jYWxlczogJ2VuJyxcbiAgICAgICAgcGF5b2ZmOiB7XG4gICAgICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JyxcbiAgICAgICAgICAgIGN1cnJlbmN5OiAnVVNEJyxcbiAgICAgICAgICAgIGN1cnJlbmN5RGlzcGxheTogJ3N5bWJvbCcsXG4gICAgICAgICAgICBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDAsXG4gICAgICAgICAgICBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDIsXG4gICAgICAgICAgICAvLyBtaW5pbXVtU2lnbmlmaWNhbnREaWdpdHM6IDEsXG4gICAgICAgICAgICB1c2VHcm91cGluZzogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBwcm9iYWJpbGl0eTogeyAvLyBOdW1iZXJGb3JtYXQgIG9wdGlvbnNcbiAgICAgICAgICAgIHN0eWxlOiAnZGVjaW1hbCcsXG4gICAgICAgICAgICBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDIsXG4gICAgICAgICAgICBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDMsXG4gICAgICAgICAgICB1c2VHcm91cGluZzogdHJ1ZVxuICAgICAgICB9XG4gICAgfTtcbiAgICB0aXRsZSA9ICcnO1xuICAgIGRlc2NyaXB0aW9uID0gJyc7XG4gICAgdHJlZURlc2lnbmVyID0ge307XG5cbiAgICAvL2h0dHBzOi8vZ2l0aHViLmNvbS9kMy9kMy1mb3JtYXQvYmxvYi9tYXN0ZXIvUkVBRE1FLm1kI2Zvcm1hdFxuXG4gICAgY29uc3RydWN0b3IoY3VzdG9tKSB7XG4gICAgICAgIGlmIChjdXN0b20pIHtcbiAgICAgICAgICAgIFV0aWxzLmRlZXBFeHRlbmQodGhpcywgY3VzdG9tKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFwcCB7XG4gICAgc3RhdGljIHZlcnNpb24gPSAnJzsgLy8gdmVyc2lvbiBpcyBzZXQgZnJvbSBwYWNrYWdlLmpzb25cbiAgICBzdGF0aWMgYnVpbGRUaW1lc3RhbXAgPSBidWlsZENvbmZpZy5idWlsZFRpbWVzdGFtcDtcbiAgICBzdGF0aWMgdXRpbHMgPSBVdGlscztcbiAgICBzdGF0aWMgYXBwVXRpbHMgPSBBcHBVdGlscztcbiAgICBzdGF0aWMgZDMgPSBkMztcblxuICAgIGNvbmZpZztcbiAgICBjb250YWluZXI7XG4gICAgZGF0YU1vZGVsOyAvL0RhdGEgbW9kZWwgbWFuYWdlclxuICAgIGV4cHJlc3Npb25FbmdpbmU7XG4gICAgY29tcHV0YXRpb25zTWFuYWdlcjtcbiAgICB0cmVlRGVzaWduZXI7XG4gICAgdG9vbGJhcjtcbiAgICBzaWRlYmFyO1xuXG4gICAgY29uc3RydWN0b3IoY29udGFpbmVySWRPckVsZW0sIGNvbmZpZywgZGlhZ3JhbURhdGEpIHtcbiAgICAgICAgdmFyIHAgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgdGhpcy5zZXRDb25maWcoY29uZmlnKTtcbiAgICAgICAgdGhpcy5pbml0STE4bigpO1xuICAgICAgICB0aGlzLmluaXRDb250YWluZXIoY29udGFpbmVySWRPckVsZW0pO1xuICAgICAgICB0aGlzLmluaXREYXRhTW9kZWwoKTtcbiAgICAgICAgcCA9IHRoaXMuaW5pdENvbXB1dGF0aW9uc01hbmFnZXIoKTtcbiAgICAgICAgdGhpcy5pbml0UHJvYmFiaWxpdHlOdW1iZXJGb3JtYXQoKTtcbiAgICAgICAgdGhpcy5pbml0UGF5b2ZmTnVtYmVyRm9ybWF0KCk7XG4gICAgICAgIHRoaXMuaW5pdFRyZWVEZXNpZ25lcigpO1xuICAgICAgICB0aGlzLmluaXRTaWRlYmFyKCk7XG4gICAgICAgIHRoaXMuaW5pdFNldHRpbmdzRGlhbG9nKCk7XG4gICAgICAgIHRoaXMuaW5pdEFib3V0RGlhbG9nKCk7XG4gICAgICAgIHRoaXMuaW5pdERlZmluaXRpb25zRGlhbG9nKCk7XG4gICAgICAgIHRoaXMuaW5pdFNlbnNpdGl2aXR5QW5hbHlzaXNEaWFsb2coKTtcbiAgICAgICAgdGhpcy5pbml0T25CZWZvcmVVbmxvYWQoKTtcbiAgICAgICAgdGhpcy5pbml0S2V5Q29kZXMoKTtcbiAgICAgICAgcC50aGVuKCgpPT57XG4gICAgICAgICAgICB0aGlzLmluaXRUb29sYmFyKCk7XG4gICAgICAgICAgICBpZiAoZGlhZ3JhbURhdGEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5EaWFncmFtKGRpYWdyYW1EYXRhKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVmlldygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS5jYXRjaChlPT57XG4gICAgICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldENvbmZpZyhjb25maWcpIHtcbiAgICAgICAgaWYgKCFjb25maWcpIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnID0gbmV3IEFwcENvbmZpZygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb25maWcgPSBuZXcgQXBwQ29uZmlnKGNvbmZpZyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRMb2dMZXZlbCh0aGlzLmNvbmZpZy5sb2dMZXZlbCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHN0YXRpYyBncm93bCgpe1xuICAgICAgICByZXR1cm4gQXBwVXRpbHMuZ3Jvd2woYXJndW1lbnRzKVxuICAgIH1cblxuICAgIHNldExvZ0xldmVsKGxldmVsKXtcbiAgICAgICAgbG9nLnNldExldmVsKGxldmVsKVxuICAgIH1cblxuICAgIGluaXRDb250YWluZXIoY29udGFpbmVySWRPckVsZW0pIHtcblxuICAgICAgICBpZiAoVXRpbHMuaXNTdHJpbmcoY29udGFpbmVySWRPckVsZW0pKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSBjb250YWluZXJJZE9yRWxlbS50cmltKCk7XG5cbiAgICAgICAgICAgIGlmICghVXRpbHMuc3RhcnRzV2l0aChzZWxlY3RvciwgJyMnKSAmJiAhVXRpbHMuc3RhcnRzV2l0aChzZWxlY3RvciwgJy4nKSkge1xuICAgICAgICAgICAgICAgIHNlbGVjdG9yID0gJyMnICsgc2VsZWN0b3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGQzLnNlbGVjdChzZWxlY3Rvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGQzLnNlbGVjdChjb250YWluZXJJZE9yRWxlbSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5odG1sKFRlbXBsYXRlcy5nZXQoJ21haW4nLCB7dmVyc2lvbjogQXBwLnZlcnNpb24sIGJ1aWxkVGltZXN0YW1wOiBBcHAuYnVpbGRUaW1lc3RhbXAsICdsbmcnOiBzZWxmLmNvbmZpZy5sbmd9KSk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnNlbGVjdCgnI3NpbHZlci1kZWNpc2lvbnMnKS5jbGFzc2VkKCdzZC1yZWFkLW9ubHknLCB0aGlzLmNvbmZpZy5yZWFkT25seSk7XG4gICAgfVxuXG4gICAgaW5pdEkxOG4oKSB7XG4gICAgICAgIGkxOG4uaW5pdCh0aGlzLmNvbmZpZy5sbmcpO1xuICAgIH1cblxuICAgIGluaXREYXRhTW9kZWwoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5kYXRhTW9kZWwgPSBuZXcgbW9kZWwuRGF0YU1vZGVsKCk7XG4gICAgICAgIC8vIHRoaXMuZGF0YU1vZGVsLm5vZGVBZGRlZENhbGxiYWNrID0gdGhpcy5kYXRhTW9kZWwubm9kZVJlbW92ZWRDYWxsYmFjayA9ICgpPT5zZWxmLm9uTm9kZUFkZGVkT3JSZW1vdmVkKCk7XG4gICAgICAgIHRoaXMuZGF0YU1vZGVsLm5vZGVBZGRlZENhbGxiYWNrID0gdGhpcy5kYXRhTW9kZWwubm9kZVJlbW92ZWRDYWxsYmFjayA9IChub2RlKT0+IFV0aWxzLndhaXRGb3JGaW5hbEV2ZW50KCgpPT50aGlzLm9uTm9kZUFkZGVkT3JSZW1vdmVkKCksICdvbk5vZGVBZGRlZE9yUmVtb3ZlZCcsIDUpO1xuXG4gICAgICAgIHRoaXMuZGF0YU1vZGVsLnRleHRBZGRlZENhbGxiYWNrID0gKHRleHQpPT4gVXRpbHMud2FpdEZvckZpbmFsRXZlbnQoKCk9PnRoaXMub25UZXh0QWRkZWQodGV4dCksICdvblRleHRBZGRlZCcpO1xuICAgICAgICB0aGlzLmRhdGFNb2RlbC50ZXh0UmVtb3ZlZENhbGxiYWNrID0gKHRleHQpPT4gVXRpbHMud2FpdEZvckZpbmFsRXZlbnQoKCk9PnRoaXMub25UZXh0UmVtb3ZlZCh0ZXh0KSwgJ29uVGV4dEFkZGVkJyk7XG4gICAgfVxuXG4gICAgaW5pdENvbXB1dGF0aW9uc01hbmFnZXIoKSB7XG4gICAgICAgIHRoaXMuY29tcHV0YXRpb25zTWFuYWdlciA9IG5ldyBDb21wdXRhdGlvbnNNYW5hZ2VyKHtcbiAgICAgICAgICAgIHJ1bGVOYW1lOiB0aGlzLmNvbmZpZy5ydWxlTmFtZSxcbiAgICAgICAgICAgIHdvcmtlcjp7XG4gICAgICAgICAgICAgICAgdXJsOiB0aGlzLmNvbmZpZy53b3JrZXJVcmwsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgam9iUmVwb3NpdG9yeVR5cGU6IHRoaXMuY29uZmlnLmpvYlJlcG9zaXRvcnlUeXBlLFxuICAgICAgICAgICAgY2xlYXJSZXBvc2l0b3J5OiB0aGlzLmNvbmZpZy5jbGVhclJlcG9zaXRvcnlcbiAgICAgICAgfSwgdGhpcy5kYXRhTW9kZWwpO1xuICAgICAgICB0aGlzLmV4cHJlc3Npb25FbmdpbmUgPSAgdGhpcy5jb21wdXRhdGlvbnNNYW5hZ2VyLmV4cHJlc3Npb25FbmdpbmU7XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrVmFsaWRpdHlBbmRSZWNvbXB1dGVPYmplY3RpdmUoZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG5cbiAgICB9XG5cbiAgICBpbml0U2lkZWJhcigpIHtcbiAgICAgICAgdGhpcy5zaWRlYmFyID0gbmV3IFNpZGViYXIodGhpcy5jb250YWluZXIuc2VsZWN0KCcjc2Qtc2lkZWJhcicpLCB0aGlzKTtcblxuICAgIH1cblxuICAgIGluaXRTZXR0aW5nc0RpYWxvZygpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5nc0RpYWxvZyA9IG5ldyBTZXR0aW5nc0RpYWxvZyh0aGlzKTtcbiAgICB9XG5cbiAgICBpbml0QWJvdXREaWFsb2coKSB7XG4gICAgICAgIHRoaXMuYWJvdXREaWFsb2cgPSBuZXcgQWJvdXREaWFsb2codGhpcyk7XG4gICAgfVxuXG4gICAgaW5pdERlZmluaXRpb25zRGlhbG9nKCkge1xuICAgICAgICB0aGlzLmRlZmluaXRpb25zRGlhbG9nID0gbmV3IERlZmluaXRpb25zRGlhbG9nKHRoaXMpO1xuICAgICAgICB0aGlzLmRlZmluaXRpb25zRGlhbG9nLm9uQ2xvc2VkID0gKCk9PiB0aGlzLnJlY29tcHV0ZSh0cnVlLCB0cnVlKTtcblxuICAgIH1cblxuICAgIGluaXRTZW5zaXRpdml0eUFuYWx5c2lzRGlhbG9nKCkge1xuICAgICAgICB0aGlzLnNlbnNpdGl2aXR5QW5hbHlzaXNEaWFsb2cgPSBuZXcgU2Vuc2l0aXZpdHlBbmFseXNpc0RpYWxvZyh0aGlzKTtcblxuICAgIH1cblxuICAgIGlzU2Vuc2l0aXZpdHlBbmFseXNpc0F2YWlsYWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YU1vZGVsLmdldFJvb3RzKCkubGVuZ3RoPT09MSAmJiB0aGlzLmNvbXB1dGF0aW9uc01hbmFnZXIuaXNWYWxpZCgpO1xuICAgIH1cblxuICAgIGluaXRUb29sYmFyKCkge1xuICAgICAgICB0aGlzLnRvb2xiYXIgPSBuZXcgVG9vbGJhcih0aGlzLmNvbnRhaW5lci5zZWxlY3QoJyNzZC10b29sYmFyJyksIHRoaXMpO1xuXG4gICAgfVxuXG4gICAgaW5pdFBheW9mZk51bWJlckZvcm1hdCgpIHtcblxuICAgICAgICB0aGlzLnBheW9mZk51bWJlckZvcm1hdCA9IG5ldyBJbnRsLk51bWJlckZvcm1hdCh0aGlzLmNvbmZpZy5mb3JtYXQubG9jYWxlcywgdGhpcy5jb25maWcuZm9ybWF0LnBheW9mZik7XG4gICAgfVxuXG4gICAgaW5pdFByb2JhYmlsaXR5TnVtYmVyRm9ybWF0KCkge1xuICAgICAgICB0aGlzLnByb2JhYmlsaXR5TnVtYmVyRm9ybWF0ID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KHRoaXMuY29uZmlnLmZvcm1hdC5sb2NhbGVzLCB0aGlzLmNvbmZpZy5mb3JtYXQucHJvYmFiaWxpdHkpO1xuICAgIH1cblxuICAgIGluaXRUcmVlRGVzaWduZXIoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuZ2V0VHJlZURlc2lnbmVySW5pdGlhbENvbmZpZygpO1xuICAgICAgICB0aGlzLnRyZWVEZXNpZ25lciA9IG5ldyBUcmVlRGVzaWduZXIodGhpcy5jb250YWluZXIuc2VsZWN0KCcjdHJlZS1kZXNpZ25lci1jb250YWluZXInKSwgdGhpcy5kYXRhTW9kZWwsIGNvbmZpZyk7XG4gICAgfVxuXG4gICAgZ2V0VHJlZURlc2lnbmVySW5pdGlhbENvbmZpZygpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICByZXR1cm4gVXRpbHMuZGVlcEV4dGVuZCh7XG4gICAgICAgICAgICAkcmVhZE9ubHk6IHNlbGYuY29uZmlnLnJlYWRPbmx5LFxuICAgICAgICAgICAgb25Ob2RlU2VsZWN0ZWQ6IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5vbk9iamVjdFNlbGVjdGVkKG5vZGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRWRnZVNlbGVjdGVkOiBmdW5jdGlvbiAoZWRnZSkge1xuICAgICAgICAgICAgICAgIHNlbGYub25PYmplY3RTZWxlY3RlZChlZGdlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblRleHRTZWxlY3RlZDogZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgICAgICAgICBzZWxmLm9uT2JqZWN0U2VsZWN0ZWQodGV4dCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25TZWxlY3Rpb25DbGVhcmVkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5vblNlbGVjdGlvbkNsZWFyZWQoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXlvZmZOdW1iZXJGb3JtYXR0ZXI6ICh2KSA9PiBzZWxmLnBheW9mZk51bWJlckZvcm1hdC5mb3JtYXQodiksXG4gICAgICAgICAgICBwcm9iYWJpbGl0eU51bWJlckZvcm1hdHRlcjogKHYpID0+IHNlbGYucHJvYmFiaWxpdHlOdW1iZXJGb3JtYXQuZm9ybWF0KHYpLFxuICAgICAgICAgICAgb3BlcmF0aW9uc0Zvck9iamVjdDogKG8pID0+IHNlbGYuY29tcHV0YXRpb25zTWFuYWdlci5vcGVyYXRpb25zRm9yT2JqZWN0KG8pXG4gICAgICAgIH0sIHNlbGYuY29uZmlnLnRyZWVEZXNpZ25lcik7XG4gICAgfVxuXG4gICAgb25PYmplY3RTZWxlY3RlZChvYmplY3QpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZE9iamVjdCA9PT0gb2JqZWN0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZWxlY3RlZE9iamVjdCA9IG9iamVjdDtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZWxmLnNpZGViYXIudXBkYXRlT2JqZWN0UHJvcGVydGllc1ZpZXcoc2VsZi5zZWxlY3RlZE9iamVjdCk7XG4gICAgICAgICAgICBzZWxmLnVwZGF0ZVZhcmlhYmxlRGVmaW5pdGlvbnMoKTtcbiAgICAgICAgICAgIHNlbGYudHJlZURlc2lnbmVyLnVwZGF0ZVBsb3R0aW5nUmVnaW9uU2l6ZSgpO1xuICAgICAgICB9LCAxMClcbiAgICB9XG5cbiAgICBvblNlbGVjdGlvbkNsZWFyZWQoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5zZWxlY3RlZE9iamVjdCA9IG51bGw7XG4gICAgICAgIHRoaXMuc2lkZWJhci5oaWRlT2JqZWN0UHJvcGVydGllcygpO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbGYudXBkYXRlVmFyaWFibGVEZWZpbml0aW9ucygpO1xuICAgICAgICAgICAgc2VsZi50cmVlRGVzaWduZXIudXBkYXRlUGxvdHRpbmdSZWdpb25TaXplKCk7XG4gICAgICAgIH0sIDEwKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coKTtcbiAgICB9XG5cbiAgICBnZXRDdXJyZW50VmFyaWFibGVEZWZpbml0aW9uc1NvdXJjZU9iamVjdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRPYmplY3QpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkT2JqZWN0IGluc3RhbmNlb2YgbW9kZWwuZG9tYWluLk5vZGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZE9iamVjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkT2JqZWN0IGluc3RhbmNlb2YgbW9kZWwuZG9tYWluLkVkZ2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZE9iamVjdC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFNb2RlbDtcbiAgICB9XG5cbiAgICB1cGRhdGVWYXJpYWJsZURlZmluaXRpb25zKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBkZWZpbml0aW9uc1NvdXJjZU9iamVjdCA9IHNlbGYuZ2V0Q3VycmVudFZhcmlhYmxlRGVmaW5pdGlvbnNTb3VyY2VPYmplY3QoKTtcbiAgICAgICAgdmFyIHJlYWRPbmx5ID0gKHRoaXMuc2VsZWN0ZWRPYmplY3QgaW5zdGFuY2VvZiBtb2RlbC5kb21haW4uRWRnZSkgfHwgKHRoaXMuc2VsZWN0ZWRPYmplY3QgaW5zdGFuY2VvZiBtb2RlbC5kb21haW4uVGVybWluYWxOb2RlKTtcbiAgICAgICAgc2VsZi5zaWRlYmFyLnVwZGF0ZURlZmluaXRpb25zKGRlZmluaXRpb25zU291cmNlT2JqZWN0LCByZWFkT25seSwgKGNvZGUpPT4ge1xuICAgICAgICAgICAgc2VsZi5kYXRhTW9kZWwuc2F2ZVN0YXRlKCk7XG4gICAgICAgICAgICBkZWZpbml0aW9uc1NvdXJjZU9iamVjdC5jb2RlID0gY29kZTtcbiAgICAgICAgICAgIHNlbGYucmVjb21wdXRlKHRydWUsIHRydWUpXG4gICAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgb3BlbkRlZmluaXRpb25zRGlhbG9nKCkge1xuICAgICAgICB2YXIgZGVmaW5pdGlvbnNTb3VyY2VPYmplY3QgPSB0aGlzLmdldEN1cnJlbnRWYXJpYWJsZURlZmluaXRpb25zU291cmNlT2JqZWN0KCk7XG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbnNEaWFsb2cub3BlbihkZWZpbml0aW9uc1NvdXJjZU9iamVjdCwgKGNvZGUpPT4ge1xuICAgICAgICAgICAgdGhpcy5kYXRhTW9kZWwuc2F2ZVN0YXRlKCk7XG4gICAgICAgICAgICBkZWZpbml0aW9uc1NvdXJjZU9iamVjdC5jb2RlID0gY29kZTtcbiAgICAgICAgICAgIHRoaXMucmVjb21wdXRlKHRydWUsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB1cGRhdGVWaWV3KHdpdGhUcmFuc2l0aW9ucz10cnVlKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdfdXBkYXRlVmlldycpO1xuICAgICAgICB0aGlzLnRyZWVEZXNpZ25lci5yZWRyYXcod2l0aFRyYW5zaXRpb25zKTtcbiAgICAgICAgdGhpcy5zaWRlYmFyLnVwZGF0ZU9iamVjdFByb3BlcnRpZXNWaWV3KHRoaXMuc2VsZWN0ZWRPYmplY3QpO1xuICAgICAgICB0aGlzLnVwZGF0ZVZhcmlhYmxlRGVmaW5pdGlvbnMoKTtcbiAgICAgICAgdGhpcy50b29sYmFyLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLnNpZGViYXIudXBkYXRlTGF5b3V0T3B0aW9ucygpO1xuICAgICAgICB0aGlzLnNpZGViYXIudXBkYXRlRGlhZ3JhbURldGFpbHMoKTtcbiAgICB9XG5cbiAgICB1bmRvKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNlbGYuZGF0YU1vZGVsLnVuZG8oKTtcbiAgICAgICAgaWYgKHNlbGYuc2VsZWN0ZWRPYmplY3QpIHtcbiAgICAgICAgICAgIHNlbGYuc2VsZWN0ZWRPYmplY3QgPSBzZWxmLmRhdGFNb2RlbC5maW5kQnlJZChzZWxmLnNlbGVjdGVkT2JqZWN0LiRpZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tWYWxpZGl0eUFuZFJlY29tcHV0ZU9iamVjdGl2ZShmYWxzZSwgZmFsc2UsIGZhbHNlKS50aGVuKCgpPT57XG4gICAgICAgICAgICBzZWxmLnVwZGF0ZVZpZXcoKTtcbiAgICAgICAgfSlcblxuICAgIH1cblxuICAgIHJlZG8oKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgc2VsZi5kYXRhTW9kZWwucmVkbygpO1xuICAgICAgICBpZiAoc2VsZi5zZWxlY3RlZE9iamVjdCkge1xuICAgICAgICAgICAgc2VsZi5zZWxlY3RlZE9iamVjdCA9IHNlbGYuZGF0YU1vZGVsLmZpbmRCeUlkKHNlbGYuc2VsZWN0ZWRPYmplY3QuJGlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrVmFsaWRpdHlBbmRSZWNvbXB1dGVPYmplY3RpdmUoZmFsc2UsIGZhbHNlLCBmYWxzZSkudGhlbigoKT0+e1xuICAgICAgICAgICAgc2VsZi51cGRhdGVWaWV3KCk7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgb25Ob2RlQWRkZWRPclJlbW92ZWQoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tWYWxpZGl0eUFuZFJlY29tcHV0ZU9iamVjdGl2ZSgpLnRoZW4oKCk9PntcbiAgICAgICAgICAgIHNlbGYudXBkYXRlVmlldygpO1xuICAgICAgICB9KTtcblxuICAgIH1cblxuICAgIG9uVGV4dEFkZGVkKHRleHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub25PYmplY3RTZWxlY3RlZCh0ZXh0KTtcbiAgICB9XG5cbiAgICBvblRleHRSZW1vdmVkKHRleHQpIHtcbiAgICAgICAgdGhpcy51cGRhdGVWaWV3KCk7XG4gICAgfVxuXG4gICAgb25PYmplY3RVcGRhdGVkKG9iamVjdCwgZmllbGROYW1lKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHAgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgaWYoIShvYmplY3QgaW5zdGFuY2VvZiBtb2RlbC5kb21haW4uVGV4dCkgJiYgZmllbGROYW1lIT09J25hbWUnKXtcbiAgICAgICAgICAgIHAgPSBwLnRoZW4oKCk9PnRoaXMuY2hlY2tWYWxpZGl0eUFuZFJlY29tcHV0ZU9iamVjdGl2ZSgpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGlzLnNpZGViYXIudXBkYXRlT2JqZWN0UHJvcGVydGllc1ZpZXcodGhpcy5zZWxlY3RlZE9iamVjdCk7XG4gICAgICAgIHJldHVybiBwLnRoZW4oKCk9PntcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNlbGYudHJlZURlc2lnbmVyLnJlZHJhdyh0cnVlKTtcbiAgICAgICAgICAgIH0sMSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldE9iamVjdGl2ZVJ1bGUocnVsZU5hbWUsIGV2YWxDb2RlPWZhbHNlLCBldmFsTnVtZXJpYz1mYWxzZSwgdXBkYXRlVmlldz10cnVlKSB7XG4gICAgICAgIHRoaXMuY29tcHV0YXRpb25zTWFuYWdlci5zZXRDdXJyZW50UnVsZUJ5TmFtZShydWxlTmFtZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrVmFsaWRpdHlBbmRSZWNvbXB1dGVPYmplY3RpdmUoZmFsc2UsIGV2YWxDb2RlLCBldmFsTnVtZXJpYykudGhlbigoKT0+e1xuICAgICAgICAgICAgaWYodXBkYXRlVmlldyl7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVWaWV3KHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH1cblxuICAgIGdldEN1cnJlbnRPYmplY3RpdmVSdWxlKCl7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXB1dGF0aW9uc01hbmFnZXIuZ2V0Q3VycmVudFJ1bGUoKTtcbiAgICB9XG5cbiAgICBnZXRPYmplY3RpdmVSdWxlcygpe1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wdXRhdGlvbnNNYW5hZ2VyLmdldE9iamVjdGl2ZVJ1bGVzKCk7XG4gICAgfVxuXG5cbiAgICBvcGVuU2Vuc2l0aXZpdHlBbmFseXNpcygpe1xuICAgICAgICB0aGlzLnNlbnNpdGl2aXR5QW5hbHlzaXNEaWFsb2cub3BlbigpO1xuICAgIH1cblxuICAgIHNob3dUcmVlUHJldmlldyhkYXRhRFRPLCBjbG9zZUNhbGxiYWNrLCBhdXRvTGF5b3V0PXRydWUpe1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMub3JpZ2luYWxEYXRhTW9kZWxTbmFwc2hvdCA9IHRoaXMuZGF0YU1vZGVsLmNyZWF0ZVN0YXRlU25hcHNob3QoKTtcbiAgICAgICAgdGhpcy5kYXRhTW9kZWwubG9hZEZyb21EVE8oZGF0YURUTywgIHRoaXMuY29tcHV0YXRpb25zTWFuYWdlci5leHByZXNzaW9uRW5naW5lLmdldEpzb25SZXZpdmVyKCkpO1xuICAgICAgICB0aGlzLmNvbXB1dGF0aW9uc01hbmFnZXIudXBkYXRlRGlzcGxheVZhbHVlcyh0aGlzLmRhdGFNb2RlbCk7XG4gICAgICAgIHRoaXMudXBkYXRlVmlldyhmYWxzZSk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHNlbGYudXBkYXRlVmlldyhmYWxzZSk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgdmFyIHN2Z1N0cmluZyA9IEV4cG9ydGVyLmdldFNWR1N0cmluZyhzZWxmLnRyZWVEZXNpZ25lci5zdmcubm9kZSgpKTtcbiAgICAgICAgICAgICAgICBBcHBVdGlscy5zaG93RnVsbFNjcmVlblBvcHVwKCcnLCBzdmdTdHJpbmcsICgpPT57XG4gICAgICAgICAgICAgICAgICAgIGlmKGNsb3NlQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZGF0YU1vZGVsLl9zZXROZXdTdGF0ZShzZWxmLm9yaWdpbmFsRGF0YU1vZGVsU25hcHNob3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi51cGRhdGVWaWV3KGZhbHNlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudXBkYXRlVmlldyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAxKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCAzMDApO1xuICAgICAgICB9LCAxKVxuXG4gICAgfVxuXG4gICAgc2hvd1BvbGljeVByZXZpZXcodGl0bGUsIHBvbGljeSwgY2xvc2VDYWxsYmFjayl7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5vcmlnaW5hbERhdGFNb2RlbFNuYXBzaG90ID0gdGhpcy5kYXRhTW9kZWwuY3JlYXRlU3RhdGVTbmFwc2hvdCgpO1xuICAgICAgICB0aGlzLmNvbXB1dGF0aW9uc01hbmFnZXIuZGlzcGxheVBvbGljeShwb2xpY3kpO1xuICAgICAgICB0aGlzLnVwZGF0ZVZpZXcoZmFsc2UpO1xuICAgICAgICBBcHBVdGlscy5zaG93RnVsbFNjcmVlblBvcHVwKHRpdGxlLCAnJyk7XG4gICAgICAgIExvYWRpbmdJbmRpY2F0b3Iuc2hvdygpO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBzZWxmLnVwZGF0ZVZpZXcoZmFsc2UpO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHZhciBzdmdTdHJpbmcgPSBFeHBvcnRlci5nZXRTVkdTdHJpbmcoc2VsZi50cmVlRGVzaWduZXIuc3ZnLm5vZGUoKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgTG9hZGluZ0luZGljYXRvci5oaWRlKCk7XG4gICAgICAgICAgICAgICAgQXBwVXRpbHMuc2hvd0Z1bGxTY3JlZW5Qb3B1cCh0aXRsZSwgc3ZnU3RyaW5nLCAoKT0+e1xuXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZGF0YU1vZGVsLl9zZXROZXdTdGF0ZShzZWxmLm9yaWdpbmFsRGF0YU1vZGVsU25hcHNob3QpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHNlbGYuY29tcHV0YXRpb25zTWFuYWdlci51cGRhdGVEaXNwbGF5VmFsdWVzKHNlbGYuZGF0YU1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi51cGRhdGVWaWV3KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoY2xvc2VDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudXBkYXRlVmlldyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDEpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9LCAxKVxuICAgIH1cblxuXG4gICAgcmVjb21wdXRlKHVwZGF0ZVZpZXcgPSB0cnVlLCBkZWJvdW5jZSA9IGZhbHNlKSB7XG4gICAgICAgIGlmKGRlYm91bmNlKXtcbiAgICAgICAgICAgIGlmKCF0aGlzLmRlYm91bmNlZFJlY29tcHV0ZSl7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWJvdW5jZWRSZWNvbXB1dGUgPSBVdGlscy5kZWJvdW5jZSgodXBkYXRlVmlldyk9PnRoaXMucmVjb21wdXRlKHVwZGF0ZVZpZXcsIGZhbHNlKSwgMjAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGVib3VuY2VkUmVjb21wdXRlKHVwZGF0ZVZpZXcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tWYWxpZGl0eUFuZFJlY29tcHV0ZU9iamVjdGl2ZShmYWxzZSwgdHJ1ZSkudGhlbigoKT0+e1xuICAgICAgICAgICAgaWYgKHVwZGF0ZVZpZXcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVZpZXcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICBjaGVja1ZhbGlkaXR5QW5kUmVjb21wdXRlT2JqZWN0aXZlKGFsbFJ1bGVzLCBldmFsQ29kZT1mYWxzZSwgZXZhbE51bWVyaWM9dHJ1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wdXRhdGlvbnNNYW5hZ2VyLmNoZWNrVmFsaWRpdHlBbmRSZWNvbXB1dGVPYmplY3RpdmUoYWxsUnVsZXMsIGV2YWxDb2RlLCBldmFsTnVtZXJpYykudGhlbigoKT0+e1xuICAgICAgICAgICAgdGhpcy51cGRhdGVWYWxpZGF0aW9uTWVzc2FnZXMoKTtcbiAgICAgICAgICAgIEFwcFV0aWxzLmRpc3BhdGNoRXZlbnQoJ1NpbHZlckRlY2lzaW9uc1JlY29tcHV0ZWRFdmVudCcsIHRoaXMpO1xuICAgICAgICB9KS5jYXRjaChlPT57XG4gICAgICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgdXBkYXRlVmFsaWRhdGlvbk1lc3NhZ2VzKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2VsZi50cmVlRGVzaWduZXIudXBkYXRlVmFsaWRhdGlvbk1lc3NhZ2VzKCk7XG4gICAgICAgIH0sIDEpO1xuICAgIH1cblxuICAgIG5ld0RpYWdyYW0oKSB7XG4gICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy51cGRhdGVWaWV3KCk7XG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuZGF0YU1vZGVsLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuc2V0RGlhZ3JhbVRpdGxlKCcnLCB0cnVlKTtcbiAgICAgICAgdGhpcy5zZXREaWFncmFtRGVzY3JpcHRpb24oJycsIHRydWUpO1xuICAgICAgICB0aGlzLnRyZWVEZXNpZ25lci5zZXRDb25maWcoVXRpbHMuZGVlcEV4dGVuZCh0aGlzLmdldFRyZWVEZXNpZ25lckluaXRpYWxDb25maWcoKSkpO1xuICAgICAgICB0aGlzLm9uU2VsZWN0aW9uQ2xlYXJlZCgpO1xuICAgICAgICB0aGlzLnNlbnNpdGl2aXR5QW5hbHlzaXNEaWFsb2cuY2xlYXIodHJ1ZSlcbiAgICB9XG5cbiAgICBvcGVuRGlhZ3JhbShkaWFncmFtRGF0YSkge1xuXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIGVycm9ycyA9IFtdO1xuXG4gICAgICAgIGlmKFV0aWxzLmlzU3RyaW5nKGRpYWdyYW1EYXRhKSl7XG4gICAgICAgICAgICB0cnl7XG4gICAgICAgICAgICAgICAgZGlhZ3JhbURhdGEgPSBKU09OLnBhcnNlKGRpYWdyYW1EYXRhLCBzZWxmLmNvbXB1dGF0aW9uc01hbmFnZXIuZXhwcmVzc2lvbkVuZ2luZS5nZXRKc29uUmV2aXZlcigpKTtcbiAgICAgICAgICAgIH1jYXRjaCAoZSl7XG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goJ2Vycm9yLmpzb25QYXJzZScpO1xuICAgICAgICAgICAgICAgIGFsZXJ0KGkxOG4udCgnZXJyb3IuanNvblBhcnNlJykpO1xuICAgICAgICAgICAgICAgIGxvZy5lcnJvcihlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGVycm9ycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGF0YU1vZGVsT2JqZWN0ID0gZGlhZ3JhbURhdGEuZGF0YTtcblxuICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIGlmICghZGlhZ3JhbURhdGEuU2lsdmVyRGVjaXNpb25zKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCgnZXJyb3Iubm90U2lsdmVyRGVjaXNpb25zRmlsZScpO1xuICAgICAgICAgICAgYWxlcnQoaTE4bi50KCdlcnJvci5ub3RTaWx2ZXJEZWNpc2lvbnNGaWxlJykpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShlcnJvcnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoIVV0aWxzLmlzVmFsaWRWZXJzaW9uU3RyaW5nKGRpYWdyYW1EYXRhLlNpbHZlckRlY2lzaW9ucykpe1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goJ2Vycm9yLmluY29ycmVjdFZlcnNpb25Gb3JtYXQnKTtcbiAgICAgICAgICAgIGFsZXJ0KGkxOG4udCgnZXJyb3IuaW5jb3JyZWN0VmVyc2lvbkZvcm1hdCcpKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAvL0NoZWNrIGlmIHZlcnNpb24gaW4gZmlsZSBpcyBuZXdlciB0aGFuIHZlcnNpb24gb2YgYXBwbGljYXRpb25cbiAgICAgICAgICAgIGlmKFV0aWxzLmNvbXBhcmVWZXJzaW9uTnVtYmVycyhkaWFncmFtRGF0YS5TaWx2ZXJEZWNpc2lvbnMsIEFwcC52ZXJzaW9uKT4wKXtcbiAgICAgICAgICAgICAgICBlcnJvcnMucHVzaCgnZXJyb3IuZmlsZVZlcnNpb25OZXdlclRoYW5BcHBsaWNhdGlvblZlcnNpb24nKTtcbiAgICAgICAgICAgICAgICBhbGVydChpMThuLnQoJ2Vycm9yLmZpbGVWZXJzaW9uTmV3ZXJUaGFuQXBwbGljYXRpb25WZXJzaW9uJykpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihVdGlscy5jb21wYXJlVmVyc2lvbk51bWJlcnMoZGlhZ3JhbURhdGEuU2lsdmVyRGVjaXNpb25zLCBcIjAuNy4wXCIpPDApe1xuICAgICAgICAgICAgICAgIGRhdGFNb2RlbE9iamVjdCA9e1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBkaWFncmFtRGF0YS5jb2RlLFxuICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uU2NvcGU6IGRpYWdyYW1EYXRhLmV4cHJlc3Npb25TY29wZSxcbiAgICAgICAgICAgICAgICAgICAgdHJlZXM6IGRpYWdyYW1EYXRhLnRyZWVzLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0czogZGlhZ3JhbURhdGEudGV4dHNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGRpYWdyYW1EYXRhLmxuZykge1xuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmxuZyA9IGRpYWdyYW1EYXRhLmxuZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkaWFncmFtRGF0YS5ydWxlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29tcHV0YXRpb25zTWFuYWdlci5pc1J1bGVOYW1lKGRpYWdyYW1EYXRhLnJ1bGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLnJ1bGUgPSBkaWFncmFtRGF0YS5ydWxlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNvbmZpZy5ydWxlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkaWFncmFtRGF0YS5mb3JtYXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5mb3JtYXQgPSBkaWFncmFtRGF0YS5mb3JtYXQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc2V0Q29uZmlnKHRoaXMuY29uZmlnKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YU1vZGVsLmxvYWQoZGF0YU1vZGVsT2JqZWN0KTtcblxuICAgICAgICAgICAgaWYgKGRpYWdyYW1EYXRhLnRyZWVEZXNpZ25lcikge1xuICAgICAgICAgICAgICAgIHRoaXMudHJlZURlc2lnbmVyLnNldENvbmZpZyhVdGlscy5kZWVwRXh0ZW5kKHNlbGYuZ2V0VHJlZURlc2lnbmVySW5pdGlhbENvbmZpZygpLCBkaWFncmFtRGF0YS50cmVlRGVzaWduZXIpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zZXREaWFncmFtVGl0bGUoZGlhZ3JhbURhdGEudGl0bGUgfHwgJycsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5zZXREaWFncmFtRGVzY3JpcHRpb24oZGlhZ3JhbURhdGEuZGVzY3JpcHRpb24gfHwgJycsIHRydWUpO1xuXG4gICAgICAgICAgICBpZihkaWFncmFtRGF0YS5zZW5zaXRpdml0eUFuYWx5c2lzKXtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbnNpdGl2aXR5QW5hbHlzaXNEaWFsb2cubG9hZFNhdmVkUGFyYW1WYWx1ZXMoZGlhZ3JhbURhdGEuc2Vuc2l0aXZpdHlBbmFseXNpcykgO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKCdlcnJvci5tYWxmb3JtZWREYXRhJyk7XG4gICAgICAgICAgICBhbGVydChpMThuLnQoJ2Vycm9yLm1hbGZvcm1lZERhdGEnKSk7XG4gICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgICAgICBsb2cuZXJyb3IoJ21hbGZvcm1lZERhdGEnLCBlKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZXJyb3JzKTtcblxuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU51bWJlckZvcm1hdHMoZmFsc2UpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBsb2cuZXJyb3IoJ2luY29ycmVjdE51bWJlckZvcm1hdE9wdGlvbnMnLCBlKTtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKCdlcnJvci5pbmNvcnJlY3ROdW1iZXJGb3JtYXRPcHRpb25zJyk7XG4gICAgICAgICAgICBhbGVydChpMThuLnQoJ2Vycm9yLmluY29ycmVjdE51bWJlckZvcm1hdE9wdGlvbnMnKSk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5jb25maWcuZm9ybWF0O1xuICAgICAgICAgICAgdGhpcy5zZXRDb25maWcodGhpcy5jb25maWcpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVOdW1iZXJGb3JtYXRzKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zZXRPYmplY3RpdmVSdWxlKHRoaXMuY29uZmlnLnJ1bGUsIGZhbHNlLCB0cnVlLCBmYWxzZSkuY2F0Y2goZT0+e1xuICAgICAgICAgICAgbG9nLmVycm9yKCdkaWFncmFtRHJhd2luZ0ZhaWx1cmUnLCBlKTtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKCdlcnJvci5kaWFncmFtRHJhd2luZ0ZhaWx1cmUnKTtcbiAgICAgICAgICAgIGFsZXJ0KGkxOG4udCgnZXJyb3IuZGlhZ3JhbURyYXdpbmdGYWlsdXJlJykpO1xuICAgICAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yc1xuICAgICAgICB9KS50aGVuKCgpPT57XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZpZXcoZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuIGVycm9ycztcbiAgICAgICAgfSkuY2F0Y2goZT0+e1xuICAgICAgICAgICAgbG9nLmVycm9yKCdkaWFncmFtRHJhd2luZ0ZhaWx1cmUnLCBlKTtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKCdlcnJvci5kaWFncmFtRHJhd2luZ0ZhaWx1cmUnKTtcbiAgICAgICAgICAgIGFsZXJ0KGkxOG4udCgnZXJyb3IuZGlhZ3JhbURyYXdpbmdGYWlsdXJlJykpO1xuICAgICAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yc1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemUoZmlsdGVyTG9jYXRpb24sIGZpbHRlckNvbXB1dGVkKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHNlbGYuY2hlY2tWYWxpZGl0eUFuZFJlY29tcHV0ZU9iamVjdGl2ZSh0cnVlLCBmYWxzZSwgZmFsc2UpLnRoZW4oKCk9PntcbiAgICAgICAgICAgIHZhciBvYmogPSB7XG4gICAgICAgICAgICAgICAgU2lsdmVyRGVjaXNpb25zOiBBcHAudmVyc2lvbixcbiAgICAgICAgICAgICAgICBidWlsZFRpbWVzdGFtcDogQXBwLmJ1aWxkVGltZXN0YW1wLFxuICAgICAgICAgICAgICAgIHNhdmV0aW1lOiBkMy5pc29Gb3JtYXQobmV3IERhdGUoKSksXG4gICAgICAgICAgICAgICAgbG5nOiBzZWxmLmNvbmZpZy5sbmcsXG4gICAgICAgICAgICAgICAgcnVsZTogc2VsZi5jb21wdXRhdGlvbnNNYW5hZ2VyLmdldEN1cnJlbnRSdWxlKCkubmFtZSxcbiAgICAgICAgICAgICAgICB0aXRsZTogc2VsZi5jb25maWcudGl0bGUsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHNlbGYuY29uZmlnLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgIGZvcm1hdDogc2VsZi5jb25maWcuZm9ybWF0LFxuICAgICAgICAgICAgICAgIHRyZWVEZXNpZ25lcjogc2VsZi50cmVlRGVzaWduZXIuY29uZmlnLFxuICAgICAgICAgICAgICAgIGRhdGE6IHNlbGYuZGF0YU1vZGVsLnNlcmlhbGl6ZShmYWxzZSksXG4gICAgICAgICAgICAgICAgc2Vuc2l0aXZpdHlBbmFseXNpczogdGhpcy5zZW5zaXRpdml0eUFuYWx5c2lzRGlhbG9nLmpvYk5hbWVUb1BhcmFtVmFsdWVzXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gVXRpbHMuc3RyaW5naWZ5KG9iaiwgW3NlbGYuZGF0YU1vZGVsLmdldEpzb25SZXBsYWNlcihmaWx0ZXJMb2NhdGlvbiwgZmlsdGVyQ29tcHV0ZWQpLCBzZWxmLmNvbXB1dGF0aW9uc01hbmFnZXIuZXhwcmVzc2lvbkVuZ2luZS5nZXRKc29uUmVwbGFjZXIoKV0pO1xuICAgICAgICB9KTtcblxuXG4gICAgfVxuXG4gICAgdXBkYXRlTnVtYmVyRm9ybWF0cyh1cGRhdGVWaWV3PXRydWUpIHtcbiAgICAgICAgdGhpcy5pbml0UGF5b2ZmTnVtYmVyRm9ybWF0KCk7XG4gICAgICAgIHRoaXMuaW5pdFByb2JhYmlsaXR5TnVtYmVyRm9ybWF0KCk7XG4gICAgICAgIGlmKHVwZGF0ZVZpZXcpe1xuICAgICAgICAgICAgdGhpcy51cGRhdGVWaWV3KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVQYXlvZmZOdW1iZXJGb3JtYXQodXBkYXRlVmlldz10cnVlKSB7XG4gICAgICAgIHRoaXMuaW5pdFBheW9mZk51bWJlckZvcm1hdCgpO1xuICAgICAgICBpZih1cGRhdGVWaWV3KXtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVmlldygpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICB1cGRhdGVQcm9iYWJpbGl0eU51bWJlckZvcm1hdCh1cGRhdGVWaWV3PXRydWUpIHtcbiAgICAgICAgdGhpcy5pbml0UHJvYmFiaWxpdHlOdW1iZXJGb3JtYXQoKTtcbiAgICAgICAgaWYodXBkYXRlVmlldyl7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZpZXcoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGluaXRPbkJlZm9yZVVubG9hZCgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKCEoc2VsZi5kYXRhTW9kZWwuaXNVbmRvQXZhaWxhYmxlKCkgfHwgc2VsZi5kYXRhTW9kZWwuaXNSZWRvQXZhaWxhYmxlKCkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZGlhbG9nVGV4dCA9IGkxOG4udCgnY29uZmlybS5iZWZvcmV1bmxvYWQnKTtcbiAgICAgICAgICAgIGUucmV0dXJuVmFsdWUgPSBkaWFsb2dUZXh0O1xuICAgICAgICAgICAgcmV0dXJuIGRpYWxvZ1RleHQ7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldENvbmZpZ1BhcmFtKHBhdGgsIHZhbHVlLCB3aXRob3V0U3RhdGVTYXZpbmcsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHByZXZWYWx1ZSA9IFV0aWxzLmdldCh0aGlzLmNvbmZpZywgcGF0aCk7XG5cbiAgICAgICAgaWYgKHByZXZWYWx1ZSA9PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghd2l0aG91dFN0YXRlU2F2aW5nKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFNb2RlbC5zYXZlU3RhdGUoe1xuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgcHJldlZhbHVlOiBwcmV2VmFsdWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uVW5kbzogKGRhdGEpPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnNldENvbmZpZ1BhcmFtKHBhdGgsIGRhdGEucHJldlZhbHVlLCB0cnVlLCBjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvblJlZG86IChkYXRhKT0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zZXRDb25maWdQYXJhbShwYXRoLCB2YWx1ZSwgdHJ1ZSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFV0aWxzLnNldCh0aGlzLmNvbmZpZywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgc2V0RGlhZ3JhbVRpdGxlKHRpdGxlLCB3aXRob3V0U3RhdGVTYXZpbmcpIHtcbiAgICAgICAgdGhpcy5zZXRDb25maWdQYXJhbSgndGl0bGUnLCB0aXRsZSwgd2l0aG91dFN0YXRlU2F2aW5nLCAodikgPT4gdGhpcy50cmVlRGVzaWduZXIudXBkYXRlRGlhZ3JhbVRpdGxlKHYpKTtcbiAgICB9XG5cbiAgICBzZXREaWFncmFtRGVzY3JpcHRpb24oZGVzY3JpcHRpb24sIHdpdGhvdXRTdGF0ZVNhdmluZykge1xuICAgICAgICB0aGlzLnNldENvbmZpZ1BhcmFtKCdkZXNjcmlwdGlvbicsIGRlc2NyaXB0aW9uLCB3aXRob3V0U3RhdGVTYXZpbmcsICh2KSA9PiB0aGlzLnRyZWVEZXNpZ25lci51cGRhdGVEaWFncmFtRGVzY3JpcHRpb24odikpO1xuICAgIH1cblxuICAgIGluaXRLZXlDb2RlcygpIHtcblxuICAgICAgICB0aGlzLmNvbnRhaW5lci5vbihcImtleXVwXCIsIChkKT0+IHtcbiAgICAgICAgICAgIGlmIChkMy5ldmVudC5zcmNFbGVtZW50ICYmIFsnSU5QVVQnLCAnVEVYVEFSRUEnXS5pbmRleE9mKGQzLmV2ZW50LnNyY0VsZW1lbnQubm9kZU5hbWUudG9VcHBlckNhc2UoKSkgPiAtMSkgeyAvL2lnbm9yZSBldmVudHMgZnJvbSBpbnB1dCBhbmQgdGV4dGFyZWEgZWxlbWVudHNcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBrZXkgPSBkMy5ldmVudC5rZXlDb2RlO1xuICAgICAgICAgICAgaWYgKGtleSA9PSA0Nikgey8vZGVsZXRlXG4gICAgICAgICAgICAgICAgdGhpcy50cmVlRGVzaWduZXIucmVtb3ZlU2VsZWN0ZWROb2RlcygpO1xuICAgICAgICAgICAgICAgIHRoaXMudHJlZURlc2lnbmVyLnJlbW92ZVNlbGVjdGVkVGV4dHMoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWQzLmV2ZW50LmN0cmxLZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgaWYgKGQzLmV2ZW50LmFsdEtleSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkT2JqZWN0IGluc3RhbmNlb2YgbW9kZWwuZG9tYWluLk5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNlbGVjdGVkTm9kZSA9IHRoaXMuc2VsZWN0ZWRPYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZE5vZGUgaW5zdGFuY2VvZiBtb2RlbC5kb21haW4uVGVybWluYWxOb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PSA2OCkgeyAvLyBjdHJsICsgYWx0ICsgZFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmVlRGVzaWduZXIuYWRkRGVjaXNpb25Ob2RlKHNlbGVjdGVkTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09IDY3KSB7IC8vIGN0cmwgKyBhbHQgKyBjXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyZWVEZXNpZ25lci5hZGRDaGFuY2VOb2RlKHNlbGVjdGVkTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09IDg0KSB7IC8vIGN0cmwgKyBhbHQgKyB0XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyZWVEZXNpZ25lci5hZGRUZXJtaW5hbE5vZGUoc2VsZWN0ZWROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNlbGVjdGVkT2JqZWN0IGluc3RhbmNlb2YgbW9kZWwuZG9tYWluLkVkZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PSA2OCkgeyAvLyBjdHJsICsgYWx0ICsgZFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmVlRGVzaWduZXIuaW5qZWN0RGVjaXNpb25Ob2RlKHRoaXMuc2VsZWN0ZWRPYmplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGtleSA9PSA2NykgeyAvLyBjdHJsICsgYWx0ICsgY1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmVlRGVzaWduZXIuaW5qZWN0Q2hhbmNlTm9kZSh0aGlzLnNlbGVjdGVkT2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIGlmIChrZXkgPT0gOTApIHsvL2N0cmwgKyB6XG4gICAgICAgICAgICAgICAgdGhpcy51bmRvKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGtleSA9PSA4OSkgey8vY3RybCArIHlcbiAgICAgICAgICAgICAgICB0aGlzLnJlZG8oKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8qaWYoa2V5PT02NSl7Ly9jdHJsICsgYVxuICAgICAgICAgICAgIGlmKHNlbGVjdGVkTm9kZXMubGVuZ3RoPT0xKXtcbiAgICAgICAgICAgICB0aGlzLnRyZWVEZXNpZ25lci5zZWxlY3RTdWJUcmVlKHNlbGVjdGVkTm9kZXNbMF0pXG4gICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgdGhpcy50cmVlRGVzaWduZXIuc2VsZWN0QWxsTm9kZXMoKTtcbiAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgLy8gZDMuZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICB9Ki9cbiAgICAgICAgICAgIHZhciBzZWxlY3RlZE5vZGVzID0gdGhpcy50cmVlRGVzaWduZXIuZ2V0U2VsZWN0ZWROb2RlcygpO1xuICAgICAgICAgICAgaWYgKGtleSA9PSA4Nikgey8vY3RybCArIHZcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWROb2Rlcy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2VsZWN0ZWROb2RlID0gc2VsZWN0ZWROb2Rlc1swXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkTm9kZSBpbnN0YW5jZW9mIG1vZGVsLmRvbWFpbi5UZXJtaW5hbE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyZWVEZXNpZ25lci5wYXN0ZVRvTm9kZShzZWxlY3RlZE5vZGUpXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RlZE5vZGVzLmxlbmd0aCA9PSAwKSB7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXNlbGVjdGVkTm9kZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoa2V5ID09IDg4KSB7Ly9jdHJsICsgeFxuICAgICAgICAgICAgICAgIHRoaXMudHJlZURlc2lnbmVyLmN1dFNlbGVjdGVkTm9kZXMoKTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmIChrZXkgPT0gNjcpIHsvL2N0cmwgKyBjXG4gICAgICAgICAgICAgICAgdGhpcy50cmVlRGVzaWduZXIuY29weVNlbGVjdGVkTm9kZXMoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7VXRpbHN9IGZyb20gXCJzZC11dGlsc1wiO1xuaW1wb3J0IHtBcHBVdGlsc30gZnJvbSBcIi4vYXBwLXV0aWxzXCI7XG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuVXRpbHMuZ2V0R2xvYmFsT2JqZWN0KCkualF1ZXJ5ID0gJDsgLy9GSVhNRVxucmVxdWlyZSgnanF1ZXJ5LXVpL3VpL2RhdGEnKTtcbnJlcXVpcmUoJ2pxdWVyeS11aS91aS93aWRnZXQnKTtcbnJlcXVpcmUoJ2pxdWVyeS11aS91aS93aWRnZXRzL21vdXNlJyk7XG5yZXF1aXJlKCdqcXVlcnktdWkvdWkvd2lkZ2V0cy9idXR0b24nKTtcbnJlcXVpcmUoJ2pxdWVyeS11aS91aS93aWRnZXRzL21lbnUnKTtcbnJlcXVpcmUoJ2pxdWVyeS11aS91aS91bmlxdWUtaWQnKTtcbnJlcXVpcmUoJ2pxdWVyeS11aS91aS9wb3NpdGlvbicpO1xucmVxdWlyZSgnanF1ZXJ5LXVpL3VpL2tleWNvZGUnKTtcbnJlcXVpcmUoJ2pxdWVyeS11aS91aS9zYWZlLWFjdGl2ZS1lbGVtZW50LmpzJyk7XG5yZXF1aXJlKCdqcXVlcnktdWkvdWkvd2lkZ2V0cy9hdXRvY29tcGxldGUnKTtcbmltcG9ydCAqIGFzIGQzIGZyb20gJy4vZDMnXG5cbiQoIGZ1bmN0aW9uKCkge1xuICAgICQud2lkZ2V0KCBcInNkLmNvbWJvYm94XCIsIHtcbiAgICAgICAgX2NyZWF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLndyYXBwZXIgPSAkKCBcIjxzcGFuPlwiIClcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoIFwic2QtY29tYm9ib3hcIiApXG4gICAgICAgICAgICAgICAgLmluc2VydEFmdGVyKCB0aGlzLmVsZW1lbnQgKTtcblxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmhpZGUoKTtcbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZUF1dG9jb21wbGV0ZSgpO1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlU2hvd0FsbEJ1dHRvbigpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9jcmVhdGVBdXRvY29tcGxldGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNlbGVjdGVkID0gdGhpcy5lbGVtZW50LmNoaWxkcmVuKCBcIjpzZWxlY3RlZFwiICksXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBzZWxlY3RlZC52YWwoKSA/IHNlbGVjdGVkLnRleHQoKSA6IFwiXCI7XG5cbiAgICAgICAgICAgIHRoaXMuaW5wdXQgPSAkKCBcIjxpbnB1dD5cIiApXG4gICAgICAgICAgICAgICAgLmFwcGVuZFRvKCB0aGlzLndyYXBwZXIgKVxuICAgICAgICAgICAgICAgIC52YWwoIHZhbHVlIClcbiAgICAgICAgICAgICAgICAuYXR0ciggXCJ0aXRsZVwiLCBcIlwiIClcbiAgICAgICAgICAgICAgICAuYXR0ciggXCJ0eXBlXCIsIFwidGV4dFwiIClcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoIFwic2QtY29tYm9ib3gtaW5wdXQgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLXN0YXRlLWRlZmF1bHQgdWktY29ybmVyLWxlZnRcIiApXG4gICAgICAgICAgICAgICAgLmF1dG9jb21wbGV0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGRlbGF5OiAwLFxuICAgICAgICAgICAgICAgICAgICBtaW5MZW5ndGg6IDAsXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZTogJC5wcm94eSggdGhpcywgXCJfc291cmNlXCIgKSxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3Nlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJ1aS1hdXRvY29tcGxldGVcIjogXCJzZC1jb21ib2JveC1hdXRvY29tcGxldGVcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkKCBcIjxzcGFuIGNsYXNzPSdiYXInPlwiICkuYXBwZW5kVG8oIHRoaXMud3JhcHBlciApXG5cbiAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXMuaW5wdXQ7XG4gICAgICAgICAgICB0aGlzLl9vbiggdGhpcy5pbnB1dCwge1xuICAgICAgICAgICAgICAgIGF1dG9jb21wbGV0ZXNlbGVjdDogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcbiAgICAgICAgICAgICAgICAgICAgdWkuaXRlbS5vcHRpb24uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyKCBcInNlbGVjdFwiLCBldmVudCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTogdWkuaXRlbS5vcHRpb25cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgYXV0b2NvbXBsZXRlY2hhbmdlOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW5wdXREMyA9IGQzLnNlbGVjdCgkKGlucHV0KS5nZXQoMCkpO1xuICAgICAgICAgICAgICAgICAgICBBcHBVdGlscy5kaXNwYXRjaEh0bWxFdmVudChpbnB1dEQzLm5vZGUoKSwgXCJjaGFuZ2VcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2NyZWF0ZVNob3dBbGxCdXR0b246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcy5pbnB1dCxcbiAgICAgICAgICAgICAgICB3YXNPcGVuID0gZmFsc2U7XG5cbiAgICAgICAgICAgICQoIFwiPGJ1dHRvbj5cIiApXG4gICAgICAgICAgICAgICAgLmF0dHIoIFwidGFiSW5kZXhcIiwgLTEgKVxuICAgICAgICAgICAgICAgIC5hdHRyKCBcInR5cGVcIiwgXCJidXR0b25cIiApXG4gICAgICAgICAgICAgICAgLmh0bWwoJzxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5hcnJvd19kcm9wX2Rvd248L2k+JylcbiAgICAgICAgICAgICAgICAuYXBwZW5kVG8oIHRoaXMud3JhcHBlciApXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCBcInNkLWNvbWJvYm94LXRvZ2dsZSB1aS1jb3JuZXItcmlnaHRcIiApXG4gICAgICAgICAgICAgICAgLm9uKCBcIm1vdXNlZG93blwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FzT3BlbiA9IGlucHV0LmF1dG9jb21wbGV0ZSggXCJ3aWRnZXRcIiApLmlzKCBcIjp2aXNpYmxlXCIgKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5vbiggXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQudHJpZ2dlciggXCJmb2N1c1wiICk7XG4gICAgICAgICAgICAgICAgICAgIC8vIENsb3NlIGlmIGFscmVhZHkgdmlzaWJsZVxuICAgICAgICAgICAgICAgICAgICBpZiAoIHdhc09wZW4gKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBQYXNzIGVtcHR5IHN0cmluZyBhcyB2YWx1ZSB0byBzZWFyY2ggZm9yLCBkaXNwbGF5aW5nIGFsbCByZXN1bHRzXG4gICAgICAgICAgICAgICAgICAgIGlucHV0LmF1dG9jb21wbGV0ZSggXCJzZWFyY2hcIiwgXCJcIiApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9zb3VyY2U6IGZ1bmN0aW9uKCByZXF1ZXN0LCByZXNwb25zZSApIHtcbiAgICAgICAgICAgIHZhciBtYXRjaGVyID0gbmV3IFJlZ0V4cCggJC51aS5hdXRvY29tcGxldGUuZXNjYXBlUmVnZXgocmVxdWVzdC50ZXJtKSwgXCJpXCIgKTtcbiAgICAgICAgICAgIHJlc3BvbnNlKCB0aGlzLmVsZW1lbnQuY2hpbGRyZW4oIFwib3B0aW9uXCIgKS5tYXAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRleHQgPSAkKCB0aGlzICkudGV4dCgpO1xuICAgICAgICAgICAgICAgIGlmICggdGhpcy52YWx1ZSAmJiAoICFyZXF1ZXN0LnRlcm0gfHwgbWF0Y2hlci50ZXN0KHRleHQpICkgKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbjogdGhpc1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSkgKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLndyYXBwZXIucmVtb3ZlKCk7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2hvdygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGlucHV0X2VsZW1lbnQ6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbnB1dDtcbiAgICAgICAgfVxuICAgIH0pO1xufSApO1xuXG5leHBvcnQgY2xhc3MgQXV0b2NvbXBsZXRle1xuXG5cbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIpe1xuICAgICAgICB0aGlzLmNvbnRhaW5lcj0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLmNvbWJvYm94ID0gJCggdGhpcy5jb250YWluZXIubm9kZSgpICkuY29tYm9ib3goKTtcbiAgICB9XG5cbiAgICBnZXRJbnB1dCgpe1xuICAgICAgICByZXR1cm4gZDMuc2VsZWN0KCQodGhpcy5jb21ib2JveCkuY29tYm9ib3goJ2lucHV0X2VsZW1lbnQnKS5nZXQoMCkpXG4gICAgfVxuXG59XG4iLCJpbXBvcnQgKiBhcyBkMyBmcm9tICcuL2QzJ1xuXG5leHBvcnQgY2xhc3MgRDNFeHRlbnNpb25zIHtcblxuICAgIHN0YXRpYyBleHRlbmQoKSB7XG5cbiAgICAgICAgZDMuc2VsZWN0aW9uLnByb3RvdHlwZS5lbnRlci5wcm90b3R5cGUuaW5zZXJ0U2VsZWN0b3IgPVxuICAgICAgICAgICAgZDMuc2VsZWN0aW9uLnByb3RvdHlwZS5pbnNlcnRTZWxlY3RvciA9IGZ1bmN0aW9uIChzZWxlY3RvciwgYmVmb3JlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEQzRXh0ZW5zaW9ucy5pbnNlcnRTZWxlY3Rvcih0aGlzLCBzZWxlY3RvciwgYmVmb3JlKTtcbiAgICAgICAgICAgIH07XG5cblxuICAgICAgICBkMy5zZWxlY3Rpb24ucHJvdG90eXBlLmVudGVyLnByb3RvdHlwZS5hcHBlbmRTZWxlY3RvciA9XG4gICAgICAgICAgICBkMy5zZWxlY3Rpb24ucHJvdG90eXBlLmFwcGVuZFNlbGVjdG9yID0gZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEQzRXh0ZW5zaW9ucy5hcHBlbmRTZWxlY3Rvcih0aGlzLCBzZWxlY3Rvcik7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIGQzLnNlbGVjdGlvbi5wcm90b3R5cGUuZW50ZXIucHJvdG90eXBlLnNlbGVjdE9yQXBwZW5kID1cbiAgICAgICAgICAgIGQzLnNlbGVjdGlvbi5wcm90b3R5cGUuc2VsZWN0T3JBcHBlbmQgPSBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gRDNFeHRlbnNpb25zLnNlbGVjdE9yQXBwZW5kKHRoaXMsIHNlbGVjdG9yKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgZDMuc2VsZWN0aW9uLnByb3RvdHlwZS5lbnRlci5wcm90b3R5cGUuc2VsZWN0T3JJbnNlcnQgPVxuICAgICAgICAgICAgZDMuc2VsZWN0aW9uLnByb3RvdHlwZS5zZWxlY3RPckluc2VydCA9IGZ1bmN0aW9uIChzZWxlY3RvciwgYmVmb3JlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEQzRXh0ZW5zaW9ucy5zZWxlY3RPckluc2VydCh0aGlzLCBzZWxlY3RvciwgYmVmb3JlKTtcbiAgICAgICAgICAgIH07XG5cblxuICAgIH1cblxuICAgIHN0YXRpYyBpbnNlcnRPckFwcGVuZFNlbGVjdG9yKHBhcmVudCwgc2VsZWN0b3IsIG9wZXJhdGlvbiwgYmVmb3JlKSB7XG5cbiAgICAgICAgdmFyIHNlbGVjdG9yUGFydHMgPSBzZWxlY3Rvci5zcGxpdCgvKFtcXC5cXCNdKS8pO1xuICAgICAgICB2YXIgZWxlbWVudCA9IHBhcmVudFtvcGVyYXRpb25dKHNlbGVjdG9yUGFydHMuc2hpZnQoKSwgYmVmb3JlKTsvL1wiOmZpcnN0LWNoaWxkXCJcblxuICAgICAgICB3aGlsZSAoc2VsZWN0b3JQYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0b3JNb2RpZmllciA9IHNlbGVjdG9yUGFydHMuc2hpZnQoKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rvckl0ZW0gPSBzZWxlY3RvclBhcnRzLnNoaWZ0KCk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0b3JNb2RpZmllciA9PT0gXCIuXCIpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5jbGFzc2VkKHNlbGVjdG9ySXRlbSwgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGVjdG9yTW9kaWZpZXIgPT09IFwiI1wiKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQuYXR0cignaWQnLCBzZWxlY3Rvckl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cblxuICAgIHN0YXRpYyBpbnNlcnRTZWxlY3RvcihwYXJlbnQsIHNlbGVjdG9yLCBiZWZvcmUpIHtcbiAgICAgICAgcmV0dXJuIEQzRXh0ZW5zaW9ucy5pbnNlcnRPckFwcGVuZFNlbGVjdG9yKHBhcmVudCwgc2VsZWN0b3IsIFwiaW5zZXJ0XCIsIGJlZm9yZSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGFwcGVuZFNlbGVjdG9yKHBhcmVudCwgc2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIEQzRXh0ZW5zaW9ucy5pbnNlcnRPckFwcGVuZFNlbGVjdG9yKHBhcmVudCwgc2VsZWN0b3IsIFwiYXBwZW5kXCIpO1xuICAgIH1cblxuICAgIHN0YXRpYyBzZWxlY3RPckFwcGVuZChwYXJlbnQsIHNlbGVjdG9yLCBlbGVtZW50KSB7XG4gICAgICAgIHZhciBzZWxlY3Rpb24gPSBwYXJlbnQuc2VsZWN0KHNlbGVjdG9yKTtcbiAgICAgICAgaWYgKHNlbGVjdGlvbi5lbXB0eSgpKSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnQuYXBwZW5kKGVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEQzRXh0ZW5zaW9ucy5hcHBlbmRTZWxlY3RvcihwYXJlbnQsIHNlbGVjdG9yKTtcblxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxlY3Rpb247XG4gICAgfTtcblxuICAgIHN0YXRpYyBzZWxlY3RPckluc2VydChwYXJlbnQsIHNlbGVjdG9yLCBiZWZvcmUpIHtcbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHBhcmVudC5zZWxlY3Qoc2VsZWN0b3IpO1xuICAgICAgICBpZiAoc2VsZWN0aW9uLmVtcHR5KCkpIHtcbiAgICAgICAgICAgIHJldHVybiBEM0V4dGVuc2lvbnMuaW5zZXJ0U2VsZWN0b3IocGFyZW50LCBzZWxlY3RvciwgYmVmb3JlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZWN0aW9uO1xuICAgIH07XG59XG4iLCJleHBvcnQgKiBmcm9tICdkMy1kaXNwYXRjaCc7XHJcbmV4cG9ydCAqIGZyb20gJ2QzLXNjYWxlJztcclxuZXhwb3J0ICogZnJvbSAnZDMtc2VsZWN0aW9uJztcclxuZXhwb3J0ICogZnJvbSAnZDMtc2hhcGUnXHJcbmV4cG9ydCAqIGZyb20gJ2QzLWRyYWcnO1xyXG5leHBvcnQgKiBmcm9tICdkMy1icnVzaCdcclxuZXhwb3J0ICogZnJvbSAnZDMtYXJyYXknXHJcbmV4cG9ydCAqIGZyb20gJ2QzLWhpZXJhcmNoeSdcclxuZXhwb3J0ICogZnJvbSAnZDMtdGltZS1mb3JtYXQnXHJcbiIsImltcG9ydCAqIGFzIGQzIGZyb20gJy4vZDMnXG5pbXBvcnQge0RpYWxvZ30gZnJvbSAnLi9kaWFsb2cnXG5pbXBvcnQge1V0aWxzfSBmcm9tIFwic2QtdXRpbHNcIjtcbmltcG9ydCB7QXBwVXRpbHN9IGZyb20gXCIuL2FwcC11dGlsc1wiO1xuaW1wb3J0IHtUZW1wbGF0ZXN9IGZyb20gXCIuL3RlbXBsYXRlc1wiO1xuXG5leHBvcnQgY2xhc3MgRGVmaW5pdGlvbnNEaWFsb2cgZXh0ZW5kcyBEaWFsb2cge1xuICAgIGNoYW5nZUNhbGxiYWNrO1xuXG4gICAgY29uc3RydWN0b3IoYXBwKSB7XG4gICAgICAgIHN1cGVyKGFwcC5jb250YWluZXIuc2VsZWN0KCcjc2QtZGVmaW5pdGlvbnMtZGlhbG9nJyksIGFwcCk7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5kZWZpbml0aW9uc0NvZGUgPSB0aGlzLmNvbnRhaW5lci5zZWxlY3QoJ3RleHRhcmVhI3NkLWRlZmluaXRpb25zLWRpYWxvZy1kZWZpbml0aW9ucy1jb2RlJykub24oJ2lucHV0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgQXBwVXRpbHMudXBkYXRlSW5wdXRDbGFzcyhkMy5zZWxlY3QodGhpcykpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmRlZmluaXRpb25zQ29kZSA9IHRoaXMuY29udGFpbmVyLnNlbGVjdCgndGV4dGFyZWEjc2QtZGVmaW5pdGlvbnMtZGlhbG9nLWRlZmluaXRpb25zLWNvZGUnKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHNlbGYuY2hhbmdlQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBzZWxmLmNoYW5nZUNhbGxiYWNrKHRoaXMudmFsdWUpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucmVjYWxjdWxhdGVCdXR0b24gPSB0aGlzLmNvbnRhaW5lci5zZWxlY3QoJ2J1dHRvbiNzZC1kZWZpbml0aW9ucy1kaWFsb2ctcmVjYWxjdWxhdGUtYnV0dG9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2VsZi5hcHAucmVjb21wdXRlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMudmFyaWFibGVWYWx1ZXNDb250YWluZXIgPSB0aGlzLmNvbnRhaW5lci5zZWxlY3QoXCIjc2QtZGVmaW5pdGlvbnMtZGlhbG9nLXZhcmlhYmxlLXZhbHVlc1wiKTtcbiAgICAgICAgQXBwVXRpbHMuZWxhc3RpY1RleHRhcmVhKHRoaXMuZGVmaW5pdGlvbnNDb2RlKTtcblxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdTaWx2ZXJEZWNpc2lvbnNSZWNvbXB1dGVkRXZlbnQnLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgaWYgKGRhdGEuZGV0YWlsID09PSBhcHApIHtcbiAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIG9wZW4oZGVmaW5pdGlvbnNTb3VyY2VPYmplY3QsIGNoYW5nZUNhbGxiYWNrKSB7XG4gICAgICAgIHN1cGVyLm9wZW4oKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VDYWxsYmFjayA9IGNoYW5nZUNhbGxiYWNrO1xuICAgICAgICB0aGlzLmRlZmluaXRpb25zU291cmNlT2JqZWN0ID0gZGVmaW5pdGlvbnNTb3VyY2VPYmplY3Q7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgdXBkYXRlKGZvcmNlID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKCFmb3JjZSAmJiAhdGhpcy5pc1Zpc2libGUoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbnNDb2RlLm5vZGUoKS52YWx1ZSA9IHRoaXMuZGVmaW5pdGlvbnNTb3VyY2VPYmplY3QuY29kZTtcbiAgICAgICAgQXBwVXRpbHMudXBkYXRlSW5wdXRDbGFzcyh0aGlzLmRlZmluaXRpb25zQ29kZSk7XG4gICAgICAgIEFwcFV0aWxzLmF1dG9SZXNpemVUZXh0YXJlYSh0aGlzLmRlZmluaXRpb25zQ29kZS5ub2RlKCkpO1xuICAgICAgICB0aGlzLmRlZmluaXRpb25zQ29kZS5jbGFzc2VkKCdpbnZhbGlkJywgISF0aGlzLmRlZmluaXRpb25zU291cmNlT2JqZWN0LiRjb2RlRXJyb3IpO1xuICAgICAgICBpZih0aGlzLmRlZmluaXRpb25zU291cmNlT2JqZWN0LiRjb2RlRXJyb3Ipe1xuICAgICAgICAgICAgdGhpcy5wcmludEVycm9yKHRoaXMuZGVmaW5pdGlvbnNTb3VyY2VPYmplY3QuJGNvZGVFcnJvcik7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5wcmludFZhcmlhYmxlcyh0aGlzLmRlZmluaXRpb25zU291cmNlT2JqZWN0LmV4cHJlc3Npb25TY29wZSk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHByaW50RXJyb3IoZXJyb3IpIHtcbiAgICAgICAgdmFyIGh0bWwgPSBlcnJvcjtcbiAgICAgICAgdGhpcy52YXJpYWJsZVZhbHVlc0NvbnRhaW5lci5odG1sKGh0bWwpO1xuICAgIH1cblxuICAgIHByaW50VmFyaWFibGVzKHNjb3BlKSB7XG4gICAgICAgIHZhciBodG1sID0gVGVtcGxhdGVzLmdldCgnZXZhbHVhdGVkVmFyaWFibGVzJywge3Njb3BlVmFyaWFibGVzOiBVdGlscy5nZXRWYXJpYWJsZXNBc0xpc3Qoc2NvcGUpfSk7XG4gICAgICAgIHRoaXMudmFyaWFibGVWYWx1ZXNDb250YWluZXIuaHRtbChodG1sKTtcbiAgICB9XG5cblxufVxuIiwiaW1wb3J0ICogYXMgZDMgZnJvbSAnLi9kMydcbmltcG9ydCB7aTE4bn0gZnJvbSAnLi9pMThuL2kxOG4nXG5cbmltcG9ydCB7VXRpbHN9IGZyb20gJ3NkLXV0aWxzJ1xuXG5leHBvcnQgY2xhc3MgRGlhbG9ne1xuXG4gICAgYXBwO1xuXG4gICAgY29udGFpbmVyO1xuXG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyLGFwcCl7XG4gICAgICAgIHRoaXMuYXBwID0gYXBwO1xuICAgICAgICB0aGlzLmNvbnRhaW5lcj1jb250YWluZXI7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnNlbGVjdCgnLnNkLWNsb3NlLW1vZGFsJykub24oJ2NsaWNrJywgKCk9PnRoaXMuY2xvc2UoKSk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnNlbGVjdCgnLnNkLWV4dGVuZC1tb2RhbCcpLm9uKCdjbGljaycsICgpPT50aGlzLmV4dGVuZCgpKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc2VsZWN0KCcuc2Qtc2hyaW5rLW1vZGFsJykub24oJ2NsaWNrJywgKCk9PnRoaXMuc2hyaW5rKCkpO1xuICAgIH1cblxuICAgIG9wZW4oKXtcbiAgICAgICAgdGhpcy5vbk9wZW4oKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NlZCgnb3BlbicsIHRydWUpO1xuICAgIH1cbiAgICBjbG9zZSgpe1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc2VkKCdvcGVuJywgZmFsc2UpO1xuICAgICAgICB0aGlzLm9uQ2xvc2VkKCk7XG4gICAgfVxuXG4gICAgZXh0ZW5kKCl7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzZWQoJ3NkLWZ1bGwtc2NyZWVuJywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgc2hyaW5rKCl7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzZWQoJ3NkLWZ1bGwtc2NyZWVuJywgZmFsc2UpO1xuICAgIH1cblxuICAgIGlzVmlzaWJsZSgpe1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuY2xhc3NlZCgnb3BlbicpO1xuICAgIH1cblxuICAgIG9uQ2xvc2VkKCl7XG5cbiAgICB9XG5cbiAgICBvbk9wZW4oKXtcblxuICAgIH1cbn1cbiIsImltcG9ydCB7ZGF0YVVSTHRvQmxvYn0gZnJvbSBcImJsdWVpbXAtY2FudmFzLXRvLWJsb2JcIjtcbmltcG9ydCB7c2F2ZUFzfSBmcm9tIFwiZmlsZS1zYXZlclwiO1xuaW1wb3J0ICogYXMgZDMgZnJvbSBcIi4vZDNcIjtcbmltcG9ydCB7aTE4bn0gZnJvbSBcIi4vaTE4bi9pMThuXCI7XG5pbXBvcnQge1V0aWxzLCBsb2d9IGZyb20gXCJzZC11dGlsc1wiO1xuaW1wb3J0IHtMb2FkaW5nSW5kaWNhdG9yfSBmcm9tIFwiLi9sb2FkaW5nLWluZGljYXRvclwiO1xuXG5leHBvcnQgY2xhc3MgRXhwb3J0ZXIge1xuICAgIHN0YXRpYyBzYXZlQXMgPSBzYXZlQXM7XG4gICAgc3RhdGljIGRhdGFVUkx0b0Jsb2IgPSBkYXRhVVJMdG9CbG9iO1xuICAgIHN0YXRpYyBleHBvcnRlZFN0eWxlcyA9IFsvXmZvbnQvLCAvXmNvbG9yLywgL15vcGFjaXR5JC9dO1xuICAgIHN0YXRpYyBzdmdQcm9wZXJ0aWVzID0gWy9ec3Ryb2tlLywgL15maWxsLywgL150ZXh0L107XG5cbi8vIEJlbG93IGFyZSB0aGUgZnVuY3Rpb24gdGhhdCBoYW5kbGUgYWN0dWFsIGV4cG9ydGluZzpcbi8vIGdldFNWR1N0cmluZyAoc3ZnTm9kZSApIGFuZCBzdmdTdHJpbmcySW1hZ2UoIHN2Z1N0cmluZywgd2lkdGgsIGhlaWdodCwgZm9ybWF0LCBjYWxsYmFjayApXG4gICAgc3RhdGljIGdldFN2Z0Nsb25lV2l0aElubGluZVN0eWxlcyhzdmdOb2RlKSB7XG4gICAgICAgIHZhciBzdmdDbG9uZSA9IHN2Z05vZGUuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICBhcHBlbmRJbmxpbmVTdHlsZXMoc3ZnTm9kZSwgc3ZnQ2xvbmUpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGFwcGVuZElubGluZVN0eWxlcyhzb3VyY2UsIHRhcmdldCwgcGFyZW50Q3MpIHtcbiAgICAgICAgICAgIGlmICghc291cmNlKSB7XG4gICAgICAgICAgICAgICAgbG9nLmVycm9yKCdFeHBvcnRlci5hcHBlbmRJbmxpbmVTdHlsZXMgLSB1bmRlZmluZWQgc291cmNlIScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IHNvdXJjZS5jaGlsZHJlbjtcbiAgICAgICAgICAgIHZhciB0YXJnZXRDaGlsZHJlbiA9IHRhcmdldC5jaGlsZHJlbjtcbiAgICAgICAgICAgIGlmICghc291cmNlLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW4gPSBzb3VyY2UuY2hpbGROb2RlcztcbiAgICAgICAgICAgICAgICB0YXJnZXRDaGlsZHJlbiA9IHRhcmdldC5jaGlsZE5vZGVzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc291cmNlLnRhZ05hbWUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgIHZhciBiQm94ID0gc291cmNlLmdldEJCb3goKTtcbiAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coc291cmNlLCBiQm94KTtcbiAgICAgICAgICAgICAgICAgdGFyZ2V0LnNldEF0dHJpYnV0ZSgneScsIGJCb3gueSkqL1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIHZhciBjc3NTdHlsZVRleHQgPSAnJztcbiAgICAgICAgICAgIHZhciBjcyA9IGdldENvbXB1dGVkU3R5bGUoc291cmNlKTtcbiAgICAgICAgICAgIGlmICghY3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjcy5kaXNwbGF5ID09PSAnbm9uZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBzdHlsZU5hbWUgPSBjcy5pdGVtKGkpO1xuICAgICAgICAgICAgICAgIGlmIChVdGlscy5zdGFydHNXaXRoKHN0eWxlTmFtZSwgJy0nKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHlWYWx1ZSA9IGNzLmdldFByb3BlcnR5VmFsdWUoc3R5bGVOYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50Q3MpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5VmFsdWUgPT09IHBhcmVudENzLmdldFByb3BlcnR5VmFsdWUoc3R5bGVOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoRXhwb3J0ZXIuZXhwb3J0ZWRTdHlsZXMuc29tZShzPT5zLnRlc3Qoc3R5bGVOYW1lKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3NzU3R5bGVUZXh0ICs9ICc7ICcgKyBzdHlsZU5hbWUgKyAnOiAnICsgcHJvcGVydHlWYWx1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKEV4cG9ydGVyLnN2Z1Byb3BlcnRpZXMuc29tZShzPT5zLnRlc3Qoc3R5bGVOYW1lKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnNldEF0dHJpYnV0ZShzdHlsZU5hbWUsIHByb3BlcnR5VmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNzc1N0eWxlVGV4dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgY3NzU3R5bGVUZXh0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpXG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgdmFyIHRvUmVtb3ZlID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5vZGUgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICBpZiAoIWFwcGVuZElubGluZVN0eWxlcyhub2RlLCB0YXJnZXRDaGlsZHJlbltpXSwgY3MpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvUmVtb3ZlLnB1c2godGFyZ2V0Q2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRvUmVtb3ZlLmZvckVhY2gobj0+IHtcbiAgICAgICAgICAgICAgICB0YXJnZXQucmVtb3ZlQ2hpbGQobilcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKnZhciB0ZXh0RWxlbWVudHMgPSBzdmdOb2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0ZXh0JylcbiAgICAgICAgIF8uZWFjaCh0ZXh0RWxlbWVudHMsIGZ1bmN0aW9uIChlbCkge1xuXG5cbiAgICAgICAgIHZhciB0ZXh0QkJveCA9IGVsLmdldEJCb3goKTtcbiAgICAgICAgIGNvbnNvbGUubG9nKGVsLHRleHRCQm94LCBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XG4gICAgICAgICBfLmVhY2goZWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3RzcGFuJyksIHRzcGFuPT57XG4gICAgICAgICB2YXIgdHNwYW5CQm94ID0gdHNwYW4uZ2V0QkJveCgpO1xuICAgICAgICAgY29uc29sZS5sb2codHNwYW4sdHNwYW5CQm94LCB0c3Bhbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XG4gICAgICAgICB9KVxuXG4gICAgICAgICAvLyBlbC5zdHlsZVsnZm9udC1mYW1pbHknXSA9IGVsLnN0eWxlWydmb250LWZhbWlseSddICYmIGVsLnN0eWxlWydmb250LWZhbWlseSddLnNwbGl0KCcgJykuc3BsaWNlKC0xKTtcbiAgICAgICAgIH0pOyovXG5cblxuICAgICAgICBzdmdDbG9uZS5zZXRBdHRyaWJ1dGUoJ3hsaW5rJywgJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnKTtcbiAgICAgICAgcmV0dXJuIHN2Z0Nsb25lO1xuICAgIH1cblxuXG4gICAgc3RhdGljIGdldFNWR1N0cmluZyhzdmdOb2RlLCByZW1vdmVJZHM9ZmFsc2UpIHtcbiAgICAgICAgLy8gc3ZnTm9kZSA9IHN2Z05vZGUuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICB2YXIgc3ZnQ2xvbmUgPSBFeHBvcnRlci5nZXRTdmdDbG9uZVdpdGhJbmxpbmVTdHlsZXMoc3ZnTm9kZSk7XG5cbiAgICAgICAgdmFyIHN2Z1N0cmluZyA9IEV4cG9ydGVyLnNlcmlhbGl6ZVN2Z05vZGUoc3ZnQ2xvbmUpO1xuICAgICAgICAvLyBzdmdTdHJpbmcgPSBzdmdTdHJpbmcucmVwbGFjZSgvKFxcdyspPzo/eGxpbms9L2csICd4bWxuczp4bGluaz0nKSAvLyBGaXggcm9vdCB4bGluayB3aXRob3V0IG5hbWVzcGFjZVxuICAgICAgICAvLyBzdmdTdHJpbmcgPSBzdmdTdHJpbmcucmVwbGFjZSgvTlNcXGQrOmhyZWYvZywgJ3hsaW5rOmhyZWYnKSAvLyBTYWZhcmkgTlMgbmFtZXNwYWNlIGZpeFxuICAgICAgICBzdmdTdHJpbmcgPSBFeHBvcnRlci5zYW5pdGl6ZVNWRyhzdmdTdHJpbmcsIHJlbW92ZUlkcyk7XG5cbiAgICAgICAgcmV0dXJuIHN2Z1N0cmluZztcbiAgICB9XG5cbiAgICBzdGF0aWMgc2VyaWFsaXplU3ZnTm9kZShzdmdOb2RlKSB7XG4gICAgICAgIHZhciBzZXJpYWxpemVyID0gbmV3IFhNTFNlcmlhbGl6ZXIoKTtcbiAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZXIuc2VyaWFsaXplVG9TdHJpbmcoc3ZnTm9kZSk7XG4gICAgfVxuXG4gICAgc3RhdGljIHZhbGlkYXRlU3ZnTm9kZShzdmdOb2RlKSB7XG4gICAgICAgIHZhciBzdmdTdHJpbmcgPSBFeHBvcnRlci5zZXJpYWxpemVTdmdOb2RlKHN2Z05vZGUpO1xuICAgICAgICB2YXIgb1BhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgICAgICAgdmFyIGRvYyA9IG9QYXJzZXIucGFyc2VGcm9tU3RyaW5nKHN2Z1N0cmluZywgJ2ltYWdlL3N2Zyt4bWwnKTtcbiAgICAgICAgcmV0dXJuIGRvYy5kb2N1bWVudEVsZW1lbnQubm9kZU5hbWUuaW5kZXhPZigncGFyc2VyZXJyb3InKSA9PT0gLTE7XG4gICAgfVxuXG4gICAgc3RhdGljIHN2Z1N0cmluZzJJbWFnZShzdmdTdHJpbmcsIHdpZHRoLCBoZWlnaHQsIGZvcm1hdCwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGZvcm1hdCA9IGZvcm1hdCA/IGZvcm1hdCA6ICdwbmcnO1xuICAgICAgICB2YXIgaW1nc3JjID0gJ2RhdGE6aW1hZ2Uvc3ZnK3htbCwnICsgKGVuY29kZVVSSUNvbXBvbmVudChzdmdTdHJpbmcpKTsgLy8gQ29udmVydCBTVkcgc3RyaW5nIHRvIGRhdGF1cmxcblxuICAgICAgICAvLyB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2U7XG4gICAgICAgIGltYWdlLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGltYWdlLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdmFyIHRhcmdldCA9IG5ldyBJbWFnZTtcbiAgICAgICAgdGFyZ2V0LndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRhcmdldC5oZWlnaHQgPSBoZWlnaHQ7XG5cblxuICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIGNhbnZhcy50b0Jsb2IoZnVuY3Rpb24gKGJsb2IpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmlsZXNpemUgPSBNYXRoLnJvdW5kKGJsb2IubGVuZ3RoIC8gMTAyNCkgKyAnIEtCJztcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKGJsb2IsIGZpbGVzaXplKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH07XG5cbiAgICAgICAgaW1hZ2Uuc3JjID0gaW1nc3JjO1xuICAgIH1cblxuICAgIC8vZGVjaXNpb250cmVlQHl5eXkubW0uZGRfaGgubW0uc3NcbiAgICBzdGF0aWMgZ2V0RXhwb3J0RmlsZU5hbWUoZXh0KSB7XG4gICAgICAgIHZhciBuYW1lID0gJ2RlY2lzaW9udHJlZSc7XG4gICAgICAgIHZhciBmb3JtYXQgPSBkMy50aW1lRm9ybWF0KFwiJVkuJW0uJWRfJUguJU0uJVNcIik7XG4gICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgbmFtZSArPSAnQCcgKyBmb3JtYXQoZGF0ZSk7XG4gICAgICAgIGlmIChleHQpIHtcbiAgICAgICAgICAgIG5hbWUgKz0gJy4nICsgZXh0XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfVxuXG4gICAgc3RhdGljIHNhdmVBc1BuZyhzdmcsIG9wdGlvbnMpIHtcblxuICAgICAgICB2YXIgY2xpZW50U2lkZSA9IG9wdGlvbnMucG5nLm1vZGUgPT09ICdjbGllbnQnO1xuICAgICAgICB2YXIgZmFsbGJhY2sgPSBvcHRpb25zLnBuZy5tb2RlID09PSAnZmFsbGJhY2snO1xuICAgICAgICB2YXIgc2VydmVyU2lkZSA9IG9wdGlvbnMucG5nLm1vZGUgPT09ICdzZXJ2ZXInO1xuICAgICAgICBpZiAoVXRpbHMuZGV0ZWN0SUUoKSkge1xuICAgICAgICAgICAgaWYgKGNsaWVudFNpZGUpIHtcbiAgICAgICAgICAgICAgICBhbGVydChpMThuLnQoJ2Vycm9yLnBuZ0V4cG9ydE5vdFN1cHBvcnRlZElFJykpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgZmFsbGJhY2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzZXJ2ZXJTaWRlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBMb2FkaW5nSW5kaWNhdG9yLnNob3coKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHN2Z1N0cmluZyA9IEV4cG9ydGVyLmdldFNWR1N0cmluZyhzdmcubm9kZSgpKTtcbiAgICAgICAgICAgIHZhciBzdmdXaWR0aCA9IHN2Zy5hdHRyKCd3aWR0aCcpO1xuICAgICAgICAgICAgdmFyIHN2Z0hlaWdodCA9IHN2Zy5hdHRyKCdoZWlnaHQnKTtcblxuICAgICAgICAgICAgdmFyIHBuZ1dpZHRoID0gNCAqIHN2Z1dpZHRoO1xuICAgICAgICAgICAgdmFyIHBuZ0hlaWdodCA9IDQgKiBzdmdIZWlnaHQ7XG4gICAgICAgICAgICBpZiAoY2xpZW50U2lkZSB8fCBmYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIEV4cG9ydGVyLnN2Z1N0cmluZzJJbWFnZShzdmdTdHJpbmcsIHBuZ1dpZHRoLCBwbmdIZWlnaHQsICdwbmcnLCBzYXZlKTsgLy8gcGFzc2VzIEJsb2IgYW5kIGZpbGVzaXplIFN0cmluZyB0byB0aGUgY2FsbGJhY2tcblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNhdmUoZGF0YUJsb2IsIGZpbGVzaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBFeHBvcnRlci5zYXZlQXMoZGF0YUJsb2IsIEV4cG9ydGVyLmdldEV4cG9ydEZpbGVOYW1lKCdwbmcnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBMb2FkaW5nSW5kaWNhdG9yLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nLndhcm4oJ2NsaWVudCBzaWRlIHBuZyByZW5kZXJpbmcgZmFpbGVkIScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nLmluZm8oJ3BlcmZvcm1pbmcgc2VydmVyIHNpZGUgZmFsbGJhY2suJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRXhwb3J0ZXIuZXhwb3J0UG5nU2VydmVyU2lkZShzdmdTdHJpbmcsIG9wdGlvbnMuc2VydmVyVXJsLCBwbmdXaWR0aCwgcG5nSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChzZXJ2ZXJTaWRlKSB7XG4gICAgICAgICAgICAgICAgRXhwb3J0ZXIuZXhwb3J0UG5nU2VydmVyU2lkZShzdmdTdHJpbmcsIG9wdGlvbnMuc2VydmVyVXJsLCBwbmdXaWR0aCwgcG5nSGVpZ2h0KTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGFsZXJ0KGkxOG4udCgnZXJyb3IucG5nRXhwb3J0Tm90U3VwcG9ydGVkJykpO1xuICAgICAgICAgICAgTG9hZGluZ0luZGljYXRvci5oaWRlKCk7XG4gICAgICAgICAgICBsb2cuZXJyb3IoJ3BuZ0V4cG9ydE5vdFN1cHBvcnRlZCcsIGUpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgc2F2ZUFzU3ZnKHN2Zykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHN2Z1N0cmluZyA9IEV4cG9ydGVyLmdldFNWR1N0cmluZyhzdmcubm9kZSgpKTtcblxuICAgICAgICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbc3ZnU3RyaW5nXSwge3R5cGU6IFwiaW1hZ2Uvc3ZnK3htbFwifSk7XG4gICAgICAgICAgICBFeHBvcnRlci5zYXZlQXMoYmxvYiwgRXhwb3J0ZXIuZ2V0RXhwb3J0RmlsZU5hbWUoJ3N2ZycpKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgYWxlcnQoaTE4bi50KCdlcnJvci5zdmdFeHBvcnROb3RTdXBwb3J0ZWQnKSk7XG4gICAgICAgICAgICBsb2cuZXJyb3IoJ3N2Z0V4cG9ydE5vdFN1cHBvcnRlZCcsIGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGV4cG9ydFBkZkNsaWVudFNpZGUoc3ZnU3RyaW5nLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHZhciBkb2MgPSBuZXcganNQREYoJ2wnLCAncHQnLCBbd2lkdGgsIGhlaWdodF0pO1xuICAgICAgICB2YXIgZHVtbXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdmcnKTtcbiAgICAgICAgZHVtbXkuaW5uZXJIVE1MID0gc3ZnU3RyaW5nO1xuICAgICAgICBzdmcycGRmKGR1bW15LmZpcnN0Q2hpbGQsIGRvYywge1xuICAgICAgICAgICAgeE9mZnNldDogMCxcbiAgICAgICAgICAgIHlPZmZzZXQ6IDAsXG4gICAgICAgICAgICBzY2FsZTogMVxuICAgICAgICB9KTtcbiAgICAgICAgZG9jLnNhdmUoRXhwb3J0ZXIuZ2V0RXhwb3J0RmlsZU5hbWUoJ3BkZicpKTtcbiAgICAgICAgTG9hZGluZ0luZGljYXRvci5oaWRlKCk7XG5cbiAgICB9XG5cbiAgICBzdGF0aWMgcG9zdEFuZFNhdmUodXJsLCBkYXRhLCBmaWxlbmFtZSwgc3VjY2Vzc0NhbGxiYWNrLCBmYWlsQ2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB4aHIub3BlbigncG9zdCcsIHVybCwgdHJ1ZSk7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG4gICAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc3RhdHVzID0geGhyLnN0YXR1cztcbiAgICAgICAgICAgIGxvZy5kZWJ1ZyhzdGF0dXMpO1xuICAgICAgICAgICAgdmFyIHR5cGUgPSB4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ0NvbnRlbnQtVHlwZScpO1xuICAgICAgICAgICAgaWYgKHN0YXR1cyA9PSAyMDApIHtcbiAgICAgICAgICAgICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFt0aGlzLnJlc3BvbnNlXSwge3R5cGU6IHR5cGV9KTtcbiAgICAgICAgICAgICAgICBFeHBvcnRlci5zYXZlQXMoYmxvYiwgZmlsZW5hbWUpO1xuICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc0NhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoZmFpbENhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZhaWxDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIChvRXZlbnQpIHtcbiAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgZmFpbENhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG5cbiAgICAgICAgeGhyLnNlbmQoSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgIH1cblxuICAgIHN0YXRpYyBleHBvcnRQZGZTZXJ2ZXJTaWRlKHN2Z1N0cmluZywgdXJsKSB7XG4gICAgICAgIHZhciBmaWxlbmFtZSA9IEV4cG9ydGVyLmdldEV4cG9ydEZpbGVOYW1lKCdwZGYnKTtcbiAgICAgICAgdmFyIGRhdGEgPSB7c3ZnOiBzdmdTdHJpbmcsIHR5cGU6ICdwZGYnLCBub0Rvd25sb2FkOiB0cnVlfTtcbiAgICAgICAgRXhwb3J0ZXIucG9zdEFuZFNhdmUodXJsLCBkYXRhLCBmaWxlbmFtZSwgTG9hZGluZ0luZGljYXRvci5oaWRlLCAoKT0+IHtcbiAgICAgICAgICAgIExvYWRpbmdJbmRpY2F0b3IuaGlkZSgpO1xuICAgICAgICAgICAgYWxlcnQoaTE4bi50KCdlcnJvci5zZXJ2ZXJTaWRlRXhwb3J0UmVxdWVzdEZhaWx1cmUnKSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlcnZlciBzaWRlIGV4cG9ydCBmYWlsdXJlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFV0aWxzLnBvc3RCeUZvcm0odXJsLCB7XG4gICAgICAgIC8vICAgICBmaWxlbmFtZTogZmlsZW5hbWUsXG4gICAgICAgIC8vICAgICB0eXBlOiAncGRmJyxcbiAgICAgICAgLy8gICAgIC8vIHdpZHRoOiBvcHRpb25zLndpZHRoIHx8IDAsIC8vIElFOCBmYWlscyB0byBwb3N0IHVuZGVmaW5lZCBjb3JyZWN0bHksIHNvIHVzZSAwXG4gICAgICAgIC8vICAgICAvLyBzY2FsZTogb3B0aW9ucy5zY2FsZSxcbiAgICAgICAgLy8gICAgIHN2Zzogc3ZnU3RyaW5nXG4gICAgICAgIC8vIH0pO1xuXG4gICAgfVxuXG4gICAgc3RhdGljIGV4cG9ydFBuZ1NlcnZlclNpZGUoc3ZnU3RyaW5nLCB1cmwsIHBuZ1dpZHRoLCBwbmdIZWlnaHQpIHtcbiAgICAgICAgdmFyIGZpbGVuYW1lID0gRXhwb3J0ZXIuZ2V0RXhwb3J0RmlsZU5hbWUoJ3BuZycpO1xuICAgICAgICB2YXIgZGF0YSA9IHtzdmc6IHN2Z1N0cmluZywgdHlwZTogJ3BuZycsIG5vRG93bmxvYWQ6IHRydWUsIHdpZHRoOiBwbmdXaWR0aH07XG4gICAgICAgIEV4cG9ydGVyLnBvc3RBbmRTYXZlKHVybCwgZGF0YSwgZmlsZW5hbWUsIExvYWRpbmdJbmRpY2F0b3IuaGlkZSwgKCk9PiB7XG4gICAgICAgICAgICBMb2FkaW5nSW5kaWNhdG9yLmhpZGUoKTtcbiAgICAgICAgICAgIGFsZXJ0KGkxOG4udCgnZXJyb3Iuc2VydmVyU2lkZUV4cG9ydFJlcXVlc3RGYWlsdXJlJykpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZXJ2ZXIgc2lkZSBleHBvcnQgZmFpbHVyZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvKlV0aWxzLnBvc3RCeUZvcm0odXJsLCB7XG4gICAgICAgICBmaWxlbmFtZTogZmlsZW5hbWUsXG4gICAgICAgICB0eXBlOiAncGRmJyxcbiAgICAgICAgIC8vIHdpZHRoOiBvcHRpb25zLndpZHRoIHx8IDAsIC8vIElFOCBmYWlscyB0byBwb3N0IHVuZGVmaW5lZCBjb3JyZWN0bHksIHNvIHVzZSAwXG4gICAgICAgICAvLyBzY2FsZTogb3B0aW9ucy5zY2FsZSxcbiAgICAgICAgIHN2Zzogc3ZnU3RyaW5nXG4gICAgICAgICB9KTsqL1xuXG4gICAgfVxuXG4gICAgc3RhdGljIHNhdmVBc1BkZihzdmcsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGNsaWVudFNpZGVQZGZFeHBvcnRBdmFpbGFibGUgPSBFeHBvcnRlci5pc0NsaWVudFNpZGVQZGZFeHBvcnRBdmFpbGFibGUoKTtcbiAgICAgICAgaWYgKG9wdGlvbnMucGRmLm1vZGUgPT09ICdjbGllbnQnKSB7XG4gICAgICAgICAgICBpZiAoIWNsaWVudFNpZGVQZGZFeHBvcnRBdmFpbGFibGUpIHtcbiAgICAgICAgICAgICAgICBhbGVydChpMThuLnQoJ2Vycm9yLmpzUERGaXNOb3RJbmNsdWRlZCcpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgTG9hZGluZ0luZGljYXRvci5zaG93KCk7XG4gICAgICAgIHZhciBtYXJnaW4gPSAyMDtcbiAgICAgICAgdmFyIHN2Z0VsZW1lbnQgPSBzdmcubm9kZSgpO1xuICAgICAgICB2YXIgd2lkdGggPSBzdmdFbGVtZW50LndpZHRoLmJhc2VWYWwudmFsdWUgKyAyICogbWFyZ2luLFxuICAgICAgICAgICAgaGVpZ2h0ID0gc3ZnRWxlbWVudC5oZWlnaHQuYmFzZVZhbC52YWx1ZSArIDIgKiBtYXJnaW47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgc3ZnU3RyaW5nID0gRXhwb3J0ZXIuZ2V0U1ZHU3RyaW5nKHN2Z0VsZW1lbnQpO1xuXG4gICAgICAgICAgICB2YXIgZmFsbGJhY2sgPSBvcHRpb25zLnBkZi5tb2RlID09PSAnZmFsbGJhY2snO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMucGRmLm1vZGUgPT09ICdjbGllbnQnIHx8IGZhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgRXhwb3J0ZXIuZXhwb3J0UGRmQ2xpZW50U2lkZShzdmdTdHJpbmcsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nLmVycm9yKCdjbGllbnQgc2lkZSBwZGYgcmVuZGVyaW5nIGZhaWxlZCEnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2cuaW5mbygncGVyZm9ybWluZyBzZXJ2ZXIgc2lkZSBmYWxsYmFjay4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEV4cG9ydGVyLmV4cG9ydFBkZlNlcnZlclNpZGUoc3ZnU3RyaW5nLCBvcHRpb25zLnNlcnZlclVybCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLnBkZi5tb2RlID09PSAnc2VydmVyJykge1xuICAgICAgICAgICAgICAgIEV4cG9ydGVyLmV4cG9ydFBkZlNlcnZlclNpZGUoc3ZnU3RyaW5nLCBvcHRpb25zLnNlcnZlclVybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGxvZy5lcnJvcigncGRmRXhwb3J0Tm90U3VwcG9ydGVkJywgZSk7XG4gICAgICAgICAgICBMb2FkaW5nSW5kaWNhdG9yLmhpZGUoKTtcbiAgICAgICAgICAgIGFsZXJ0KGkxOG4udCgnZXJyb3IucGRmRXhwb3J0Tm90U3VwcG9ydGVkJykpO1xuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHN0YXRpYyBpc0NsaWVudFNpZGVQZGZFeHBvcnRBdmFpbGFibGUoKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YganNQREYgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBzdmcycGRmICE9PSAndW5kZWZpbmVkJ1xuICAgIH1cblxuXG4gICAgc3RhdGljIHNhbml0aXplU1ZHKHN2ZywgcmVtb3ZlSWRzPWZhbHNlKSB7XG4gICAgICAgIGxldCBzYW5pdGl6ZWQgPSBzdmdcbiAgICAgICAgICAgIC5yZXBsYWNlKC96SW5kZXg9XCJbXlwiXStcIi9nLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9pc1NoYWRvdz1cIlteXCJdK1wiL2csICcnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL3N5bWJvbE5hbWU9XCJbXlwiXStcIi9nLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9qUXVlcnlbMC05XSs9XCJbXlwiXStcIi9nLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC91cmxcXCgoXCJ8JnF1b3Q7KShcXFMrKShcInwmcXVvdDspXFwpL2csICd1cmwoJDIpJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC91cmxcXChbXiNdKyMvZywgJ3VybCgjJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC88c3ZnIC8sICc8c3ZnIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiICcpXG4gICAgICAgICAgICAucmVwbGFjZSgvIChOU1swLTldK1xcOik/aHJlZj0vZywgJyB4bGluazpocmVmPScpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxuLywgJyAnKVxuICAgICAgICAgICAgLnJlcGxhY2UoLzxcXC9zdmc+Lio/JC8sICc8L3N2Zz4nKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyhmaWxsfHN0cm9rZSk9XCJyZ2JhXFwoKFsgMC05XSssWyAwLTldKyxbIDAtOV0rKSwoWyAwLTlcXC5dKylcXClcIi9nLCAnJDE9XCJyZ2IoJDIpXCIgJDEtb3BhY2l0eT1cIiQzXCInKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyZuYnNwOy9nLCAnXFx1MDBBMCcpXG4gICAgICAgICAgICAucmVwbGFjZSgvJnNoeTsvZywgJ1xcdTAwQUQnKTtcblxuICAgICAgICBpZihyZW1vdmVJZHMpe1xuICAgICAgICAgICAgcmV0dXJuIHNhbml0aXplZC5yZXBsYWNlKC9pZD1cIlteXCJdK1wiL2csICcnKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNhbml0aXplZDtcblxuICAgIH1cblxuICAgIHN0YXRpYyBzYXZlQXNDU1Yocm93cykge1xuICAgICAgICB2YXIgY3N2Um93cyA9IFtdO1xuICAgICAgICByb3dzLmZvckVhY2gocm93ID0+IHtcbiAgICAgICAgICAgIGNzdlJvd3MucHVzaChyb3cubWFwKHI9PkV4cG9ydGVyLmVzY2FwZUNzdkZpZWxkKHIpKS5qb2luKCcsJykpXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgY3N2U3RyaW5nID0gY3N2Um93cy5qb2luKFwiXFxyXFxuXCIpO1xuXG4gICAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoW2NzdlN0cmluZ10sIHt0eXBlOiBcInRleHQvY3N2XCJ9KTtcbiAgICAgICAgRXhwb3J0ZXIuc2F2ZUFzKGJsb2IsIEV4cG9ydGVyLmdldEV4cG9ydEZpbGVOYW1lKCdjc3YnKSk7XG5cbiAgICB9XG5cbiAgICBzdGF0aWMgZXNjYXBlQ3N2RmllbGQoZmllbGQpe1xuICAgICAgICBpZihVdGlscy5pc1N0cmluZyhmaWVsZCkpe1xuICAgICAgICAgICAgcmV0dXJuICdcIicrZmllbGQucmVwbGFjZSgvXCIvZywgJ1wiXCInKSsnXCInXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpZWxkO1xuICAgIH1cbn1cbiIsImltcG9ydCB7aTE4bn0gZnJvbSAnLi9pMThuL2kxOG4nXG5cbmV4cG9ydCBjbGFzcyBGaWxlTG9hZGVye1xuXG4gICAgc3RhdGljIG9wZW5GaWxlKGNhbGxiYWNrKXtcbiAgICAgICAgdmFyIGlucHV0ID0gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZC1maWxlLWlucHV0Jyk7XG4gICAgICAgIGlucHV0Lm9uY2hhbmdlID0gbG9hZEZpbGU7XG5cbiAgICAgICAgaW5wdXQuY2xpY2soKTtcblxuICAgICAgICBmdW5jdGlvbiBsb2FkRmlsZSgpIHtcblxuICAgICAgICAgICAgIHZhciBmaWxlLCBmcjtcblxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy5GaWxlUmVhZGVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoaTE4bi50KCdlcnJvci5maWxlQXBpTm90U3VwcG9ydGVkJykpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlucHV0ID0gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZC1maWxlLWlucHV0Jyk7XG4gICAgICAgICAgICBpZiAoIWlucHV0LmZpbGVzKSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoaTE4bi50KCdlcnJvci5pbnB1dEZpbGVzUHJvcGVydHknKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWlucHV0LmZpbGVzWzBdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmaWxlID0gaW5wdXQuZmlsZXNbMF07XG4gICAgICAgICAgICBmciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgICBmci5vbmxvYWQgPSByZWNlaXZlZFRleHQ7XG4gICAgICAgICAgICBmci5yZWFkQXNUZXh0KGZpbGUpO1xuXG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlY2VpdmVkVGV4dChlKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZS50YXJnZXQucmVzdWx0KTtcbiAgICAgICAgICAgICAgICBpbnB1dC52YWx1ZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbn1cbiIsIm1vZHVsZS5leHBvcnRzPXtcbiAgXCJ0b29sYmFyXCI6IHtcbiAgICBcIm5ld0RpYWdyYW1cIjogXCJOZXVlcyBEaWFncmFtbVwiLFxuICAgIFwib3BlbkRpYWdyYW1cIjogXCJEaWFncmFtbSDDtmZmbmVuXCIsXG4gICAgXCJzYXZlRGlhZ3JhbVwiOiBcIkFrdHVlbGxlcyBEaWFncmFtbSBzcGVpY2hlcm5cIixcbiAgICBcImV4cG9ydFwiOntcbiAgICAgIFwibGFiZWxcIjogXCJFeHBvcnRpZXJlbiBuYWNoXCIsXG4gICAgICBcInBuZ1wiOiBcIlBuZ1wiLFxuICAgICAgXCJzdmdcIjogXCJTdmdcIixcbiAgICAgIFwicGRmXCI6IFwiUGRmXCJcbiAgICB9LFxuICAgIFwibGF5b3V0XCI6e1xuICAgICAgXCJsYWJlbFwiOiBcIkxheW91dFwiLFxuICAgICAgXCJtYW51YWxcIjogXCJNYW51YWxcIixcbiAgICAgIFwidHJlZVwiOiBcIkJhdW1cIixcbiAgICAgIFwiY2x1c3RlclwiOiBcIkNsdXN0ZXJcIlxuICAgIH0sXG4gICAgXCJvYmplY3RpdmVSdWxlXCI6e1xuICAgICAgXCJsYWJlbFwiOiBcIlJlZ2VsXCIsXG4gICAgICBcIm9wdGlvbnNcIjoge1xuICAgICAgICBcImV4cGVjdGVkLXZhbHVlLW1heGltaXphdGlvblwiOlwibWF4XCIsXG4gICAgICAgIFwiZXhwZWN0ZWQtdmFsdWUtbWluaW1pemF0aW9uXCI6XCJtaW5cIixcbiAgICAgICAgXCJtYXhpLW1pblwiOlwibWF4aS1taW5cIixcbiAgICAgICAgXCJtYXhpLW1heFwiOlwibWF4aS1tYXhcIixcbiAgICAgICAgXCJtaW5pLW1pblwiOlwibWluaS1taW5cIixcbiAgICAgICAgXCJtaW5pLW1heFwiOlwibWluaS1tYXhcIlxuICAgICAgfVxuICAgIH0sXG4gICAgXCJ1bmRvXCI6IFwiUsO8Y2tnw6RuZ2lnIG1hY2hlblwiLFxuICAgIFwicmVkb1wiOiBcIldpZWRlcmhvbGVuXCIsXG4gICAgXCJzZXR0aW5nc1wiOiBcIkVpbnN0ZWxsdW5nZW5cIixcbiAgICBcImFib3V0XCI6IFwiw5xiZXJcIixcbiAgICBcInJlY29tcHV0ZVwiOiBcIk5ldSBCZXJlY2huZW5cIlxuICB9LFxuICBcIm5vZGVcIjp7XG4gICAgXCJuYW1lXCI6IFwiQmVzY2hyZWlidW5nXCJcbiAgfSxcbiAgXCJlZGdlXCI6e1xuICAgIFwibmFtZVwiOiBcIkJlc2NocmVpYnVuZ1wiLFxuICAgIFwicGF5b2ZmXCI6IFwiQXVzemFobHVuZ1wiLFxuICAgIFwicHJvYmFiaWxpdHlcIjogXCJXYWhyc2NoZWlubGljaGtlaXRcIlxuXG4gIH0sXG4gIFwidGV4dFwiOntcbiAgICBcInZhbHVlXCI6IFwiVGV4dFwiXG4gIH0sXG4gIFwiY29udGV4dE1lbnVcIjp7XG4gICAgXCJtYWluXCI6e1xuICAgICAgXCJhZGREZWNpc2lvbk5vZGVcIjogXCJFbnRzY2hlaWR1bmdza25vdGVuIGhpbnp1ZsO8Z2VuXCIsXG4gICAgICBcImFkZENoYW5jZU5vZGVcIjogXCJadWZhbGwgS25vdGVuIGhpbnp1ZsO8Z2VuXCIsXG4gICAgICBcImFkZFRleHRcIjogXCJUZXh0IGhpbnp1ZsO8Z2VuIFwiLFxuICAgICAgXCJwYXN0ZVwiOiBcIkVpbmbDvGdlblwiLFxuICAgICAgXCJzZWxlY3RBbGxOb2Rlc1wiOiBcIkFsbGUgS25vdGVuIGF1c3fDpGhsZW5cIlxuICAgIH0sXG4gICAgXCJub2RlXCI6e1xuICAgICAgXCJjb3B5XCI6IFwiS29waWVyZW5cIixcbiAgICAgIFwiY3V0XCI6IFwiQXVzc2NobmVpZGVuXCIsXG4gICAgICBcInBhc3RlXCI6IFwiRWluZsO8Z2VuXCIsXG4gICAgICBcImRlbGV0ZVwiOiBcIkzDtnNjaGVuXCIsXG4gICAgICBcImFkZERlY2lzaW9uTm9kZVwiOiBcIkVudHNjaGVpZHVuZ3Nrbm90ZW4gaGluenVmw7xnZW5cIixcbiAgICAgIFwiYWRkQ2hhbmNlTm9kZVwiOiBcIlp1ZmFsbCBLbm90ZW4gaGluenVmw7xnZW5cIixcbiAgICAgIFwiYWRkVGVybWluYWxOb2RlXCI6IFwiRW5ka25vdHRlbiBoaW56dWbDvGdlblwiLFxuICAgICAgXCJjb252ZXJ0XCI6e1xuICAgICAgICBcImRlY2lzaW9uXCI6IFwiQWxzIEVudHNjaGVpZHVuZ3Nrbm90ZW5cIixcbiAgICAgICAgXCJjaGFuY2VcIjogXCJBbHMgWnVmYWxsIEtub3RlblwiLFxuICAgICAgICBcInRlcm1pbmFsXCI6IFwiQWxzIEVuZGtub3RlblwiXG5cbiAgICAgIH0sXG4gICAgICBcInNlbGVjdFN1YnRyZWVcIjogXCJUZWlsYmF1bSB3w6RobGVuXCIsXG4gICAgICBcImZsaXBTdWJ0cmVlXCI6IFwiVGVpbGJhdW0gdW1kcmVoZW5cIlxuICAgIH0sXG4gICAgXCJlZGdlXCI6e1xuICAgICAgXCJpbmplY3REZWNpc2lvbk5vZGVcIjogXCJFbnRzY2hlaWR1bmdza25vdGVuIEluaml6aWVyZW5cIixcbiAgICAgIFwiaW5qZWN0Q2hhbmNlTm9kZVwiOiBcIlp1ZmFsbCBLbm90ZW4gSW5qaXppZXJlblwiXG4gICAgfSxcbiAgICBcInRleHRcIjp7XG4gICAgICBcImRlbGV0ZVwiOiBcIkzDtnNjaGVuXCJcbiAgICB9XG4gIH0sXG4gIFwic2V0dGluZ3NEaWFsb2dcIjp7XG4gICAgXCJ0aXRsZVwiOiBcIkVpbnN0ZWxsdW5nZW5cIixcbiAgICBcImdlbmVyYWxcIjp7XG4gICAgICBcInRpdGxlXCI6IFwiQWxsZ2VtZWluXCIsXG4gICAgICBcImZvbnRTaXplXCI6IFwiU2NocmlmdGdyw7bDn2VcIixcbiAgICAgIFwiZm9udEZhbWlseVwiOiBcIlNjaHJpZnRmYW1pbGllXCIsXG4gICAgICBcImZvbnRXZWlnaHRcIjogXCJTY2hyaWZ0Z2V3aWNodFwiLFxuICAgICAgXCJmb250U3R5bGVcIjogXCJTY2hyaWZ0c3RpbFwiLFxuICAgICAgXCJudW1iZXJGb3JtYXRMb2NhbGVcIjogXCJaYWhsZW5mb3JtYXQgR2ViaWV0c3NjaGVtYVwiXG4gICAgfSxcbiAgICBcInBheW9mZlwiOntcbiAgICAgIFwidGl0bGVcIjogXCJBdXN6YWhsdW5nIFphaGxlbmZvcm1hdFwiLFxuICAgICAgXCJjdXJyZW5jeVwiOiBcIlfDpGhydW5nXCIsXG4gICAgICBcImN1cnJlbmN5RGlzcGxheVwiOiBcIlfDpGhydW5nc2FuemVpZ2VcIixcbiAgICAgIFwic3R5bGVcIjogXCJTdGlsXCIsXG4gICAgICBcIm1pbmltdW1GcmFjdGlvbkRpZ2l0c1wiOiBcIk1pbmltYWxlIEJydWNoemFobGVuXCIsXG4gICAgICBcIm1heGltdW1GcmFjdGlvbkRpZ2l0c1wiOiBcIk1heGltYWxlIEJydWNoemFobGVuXCIsXG4gICAgICBcInVzZUdyb3VwaW5nXCI6IFwiR3J1cHBpZXJ1bmcgU2VwYXJhdG9yZW4gdmVyd2VuZGVuXCJcbiAgICB9LFxuICAgIFwicHJvYmFiaWxpdHlcIjp7XG4gICAgICBcInRpdGxlXCI6IFwiV2FocnNjaGVpbmxpY2hrZWl0IFphaGxlbmZvcm1hdFwiLFxuICAgICAgXCJzdHlsZVwiOiBcIlN0aWxcIixcbiAgICAgIFwibWluaW11bUZyYWN0aW9uRGlnaXRzXCI6IFwiTWluaW1hbGUgQnJ1Y2h6YWhsZW5cIixcbiAgICAgIFwibWF4aW11bUZyYWN0aW9uRGlnaXRzXCI6IFwiTWF4aW1hbGUgQnJ1Y2h6YWhsZW5cIixcbiAgICAgIFwiZm9udFNpemVcIjogXCJTY2hyaWZ0Z3LDtsOfZVwiLFxuICAgICAgXCJjb2xvclwiOiBcIkZhcmJlXCJcbiAgICB9LFxuICAgIFwibm9kZVwiOntcbiAgICAgIFwidGl0bGVcIjogXCJLbm90ZW5cIixcbiAgICAgIFwic3Ryb2tlV2lkdGhcIjogXCJTdHJpY2hicmVpdGVcIixcbiAgICAgIFwib3B0aW1hbFwiOntcbiAgICAgICAgXCJ0aXRsZVwiOiBcIk9wdGltYWxcIixcbiAgICAgICAgXCJzdHJva2VcIjogXCJGYXJiZVwiLFxuICAgICAgICBcInN0cm9rZVdpZHRoXCI6IFwiU3RyaWNoYnJlaXRlXCJcbiAgICAgIH0sXG4gICAgICBcImxhYmVsXCI6IHtcbiAgICAgICAgXCJ0aXRsZVwiOiBcIkJlc2NocmVpYnVuZ1wiLFxuICAgICAgICBcImZvbnRTaXplXCI6IFwiQmVzY2hyZWlidW5nIFNjaHJpZnRncsO2w59lXCIsXG4gICAgICAgIFwiY29sb3JcIjogXCJCZXNjaHJlaWJ1bmdzZmFyYmVcIlxuICAgICAgfSxcbiAgICAgIFwicGF5b2ZmXCI6IHtcbiAgICAgICAgXCJ0aXRsZVwiOiBcIkF1c3phaGx1bmdcIixcbiAgICAgICAgXCJmb250U2l6ZVwiOiBcIlNjaHJpZnRncsO2w59lXCIsXG4gICAgICAgIFwiY29sb3JcIjogXCJGYXJiZVwiLFxuICAgICAgICBcIm5lZ2F0aXZlQ29sb3JcIjogXCJOZWdhdGl2ZSBGYXJiZVwiXG4gICAgICB9LFxuICAgICAgXCJkZWNpc2lvblwiOiB7XG4gICAgICAgIFwidGl0bGVcIjogXCJFbnRzY2hlaWR1bmdza25vdGVuXCIsXG4gICAgICAgIFwiZmlsbFwiOiBcIkbDvGxsZmFyYmVcIixcbiAgICAgICAgXCJzdHJva2VcIjogXCJTdHJpY2hmYXJiZVwiLFxuICAgICAgICBcInNlbGVjdGVkXCI6IHtcbiAgICAgICAgICBcImZpbGxcIjogXCJBdXNnZXfDpGhsdGUgRsO8bGxmYXJiZVwiXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcImNoYW5jZVwiOiB7XG4gICAgICAgIFwidGl0bGVcIjogXCJadWZhbGwgS25vdGVuXCIsXG4gICAgICAgIFwiZmlsbFwiOiBcIkbDvGxsZmFyYmVcIixcbiAgICAgICAgXCJzdHJva2VcIjogXCJTdHJpY2hmYXJiZVwiLFxuICAgICAgICBcInNlbGVjdGVkXCI6IHtcbiAgICAgICAgICBcImZpbGxcIjogXCJBdXNnZXfDpGhsdGUgRsO8bGxmYXJiZVwiXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcInRlcm1pbmFsXCI6e1xuICAgICAgICBcInRpdGxlXCI6IFwiRW5ka25vdGVuXCIsXG4gICAgICAgIFwiZmlsbFwiOiBcIkbDvGxsZmFyYmVcIixcbiAgICAgICAgXCJzdHJva2VcIjogXCJTdHJpY2hmYXJiZVwiLFxuICAgICAgICBcInNlbGVjdGVkXCI6IHtcbiAgICAgICAgICBcImZpbGxcIjogXCJBdXNnZXfDpGhsdGUgRsO8bGxmYXJiZVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwicGF5b2ZmXCI6IHtcbiAgICAgICAgICBcInRpdGxlXCI6IFwiQXVzemFobHVuZ1wiLFxuICAgICAgICAgIFwiZm9udFNpemVcIjogXCJTY2hyaWZ0Z3LDtsOfZVwiLFxuICAgICAgICAgIFwiY29sb3JcIjogXCJGYXJiZVwiLFxuICAgICAgICAgIFwibmVnYXRpdmVDb2xvclwiOiBcIk5lZ2F0aXZlIEZhcmJlXCJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgXCJlZGdlXCI6e1xuICAgICAgXCJ0aXRsZVwiOiBcIiBad2VpZ1wiLFxuICAgICAgXCJzdHJva2VcIjogXCJGYXJiZVwiLFxuICAgICAgXCJzdHJva2VXaWR0aFwiOiBcIlN0cmljaGJyZWl0ZVwiLFxuICAgICAgXCJvcHRpbWFsXCI6e1xuICAgICAgICBcInRpdGxlXCI6IFwiT3B0aW1hbFwiLFxuICAgICAgICBcInN0cm9rZVwiOiBcIkZhcmJlXCIsXG4gICAgICAgIFwic3Ryb2tlV2lkdGhcIjogXCJTdHJpY2hicmVpdGVcIlxuICAgICAgfSxcbiAgICAgIFwic2VsZWN0ZWRcIjp7XG4gICAgICAgIFwidGl0bGVcIjogXCJBdXNnZXfDpGhsdFwiLFxuICAgICAgICBcInN0cm9rZVwiOiBcIkZhcmJlXCIsXG4gICAgICAgIFwic3Ryb2tlV2lkdGhcIjogXCJTdHJpY2hicmVpdGVcIlxuICAgICAgfSxcbiAgICAgIFwibGFiZWxcIjoge1xuICAgICAgICBcInRpdGxlXCI6IFwiQmVzY2hyZWlidW5nXCIsXG4gICAgICAgIFwiZm9udFNpemVcIjogXCJTY2hyaWZ0Z3LDtsOfZVwiLFxuICAgICAgICBcImNvbG9yXCI6IFwiRmFyYmVcIlxuICAgICAgfSxcbiAgICAgIFwicGF5b2ZmXCI6e1xuICAgICAgICBcInRpdGxlXCI6IFwiQXVzemFobHVuZ1wiLFxuICAgICAgICBcImZvbnRTaXplXCI6IFwiU2NocmlmdGdyw7bDn2VcIixcbiAgICAgICAgXCJjb2xvclwiOiBcIkZhcmJlXCIsXG4gICAgICAgIFwibmVnYXRpdmVDb2xvclwiOiBcIk5lZ2F0aXZlIEZhcmJlXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIFwiZGlhZ3JhbVRpdGxlXCI6e1xuICAgICAgXCJ0aXRsZVwiOiBcIkRpYWdyYW1tdGl0ZWxcIixcbiAgICAgIFwiZm9udFNpemVcIjogXCJTY2hyaWZ0Z3LDtsOfZVwiLFxuICAgICAgXCJmb250V2VpZ2h0XCI6IFwiU2NocmlmdGdld2ljaHRcIixcbiAgICAgIFwiZm9udFN0eWxlXCI6IFwiU2NocmlmdHN0aWxcIixcbiAgICAgIFwiY29sb3JcIjogXCJGYXJiZVwiLFxuICAgICAgXCJtYXJnaW5cIjp7XG4gICAgICAgIFwidGl0bGVcIjogXCJSYW5kXCIsXG4gICAgICAgIFwidG9wXCI6IFwiT2JlblwiLFxuICAgICAgICBcImJvdHRvbVwiOiBcIlVudGVuXCJcbiAgICAgIH0sXG4gICAgICBcImRlc2NyaXB0aW9uXCI6e1xuICAgICAgICBcInRpdGxlXCI6IFwiVW50ZXJ0aXRlbCAoRGlhZ3JhbW1iZXNjaHJlaWJ1bmcpXCIsXG4gICAgICAgIFwic2hvd1wiOiBcIkFuemVpZ2VuXCIsXG4gICAgICAgIFwiZm9udFNpemVcIjogXCJTY2hyaWZ0Z3LDtsOfZVwiLFxuICAgICAgICBcImZvbnRXZWlnaHRcIjogXCJTY2hyaWZ0Z2V3aWNodFwiLFxuICAgICAgICBcImZvbnRTdHlsZVwiOiBcIlNjaHJpZnRzdGlsXCIsXG4gICAgICAgIFwiY29sb3JcIjogXCJGYXJiZVwiLFxuICAgICAgICBcIm1hcmdpblRvcFwiOiBcIlJhbmQgT2JlblwiXG4gICAgICB9XG4gICAgfSxcbiAgICBcIm90aGVyXCI6e1xuICAgICAgXCJ0aXRsZVwiOiBcIldlaXRlcmVcIixcbiAgICAgIFwiZGlzYWJsZUFuaW1hdGlvbnNcIjogXCJBbmltYXRpb25lbiBEZWFrdGl2aWVyZW5cIixcbiAgICAgIFwiZm9yY2VGdWxsRWRnZVJlZHJhd1wiOiBcIkVyendpbmd0IHZvbGxzdMOkbmRpZ2UgTmV1emVpY2hudW5nIGRlciBad2VpZ2VcIixcbiAgICAgIFwiaGlkZUxhYmVsc1wiOiBcIlZlcnN0ZWNrZSBCZXNjaHJlaWJ1bmdcIixcbiAgICAgIFwiaGlkZVBheW9mZnNcIjogXCJWZXJzdGVja2UgQXVzemFobHVuZ2VuXCIsXG4gICAgICBcImhpZGVQcm9iYWJpbGl0aWVzXCI6IFwiVmVyc3RlY2tlIFdhaHJzY2hlaW5saWNoa2VpdGVuXCIsXG4gICAgICBcInJhd1wiOiBcIlJhdVwiXG4gICAgfVxuICB9LFxuICBcImFib3V0RGlhbG9nXCI6e1xuICAgIFwidGl0bGVcIjogXCLDnGJlclwiXG4gIH0sXG4gIFwiaGVscFwiOntcbiAgICBcImhlYWRlclwiOiBcIkhpbGZlXCIsXG4gICAgXCJtb3VzZVwiOiB7XG4gICAgICBcImhlYWRlclwiOlwiTWF1c2FrdGlvbmVuOlwiLFxuICAgICAgXCJsaXN0XCI6e1xuICAgICAgICBcIjFcIjogXCJMaW5rZSBNYXVzdGFzdGU6IEtub3Rlbi9ad2VpZyBBdXN3YWhsXCIsXG4gICAgICAgIFwiMlwiOiBcIlJlY2h0ZSBNYXVzdGFzdGU6IEtvbnRleHRtZW7DvCAoSGluenVmw7xnZW4gLyBNYW5pcHVsaWVyZW4gdm9uIEtub3RlbilcIixcbiAgICAgICAgXCIzXCI6IFwiTGlua2UgTWF1cyBEb3BwZWxrbGljazogS29udGV4dG1lbsO8XCJcbiAgICAgIH1cbiAgICB9LFxuICAgIFwia2V5Ym9hcmRcIjoge1xuICAgICAgXCJoZWFkZXJcIjpcIlRhc3RhdHVyOlwiLFxuICAgICAgXCJsaXN0XCI6e1xuICAgICAgICBcIjFcIjogXCJEZWw6IGF1c2dld8OkaGx0ZSBLbm90ZW4gTMO2c2NoZW5cIixcbiAgICAgICAgXCIyXCI6IFwiQ3RybC1DL1g6IGF1c2dld8OkaGx0ZSBLbm90ZW4gS29waWVyZW4vQXVzc2NobmVpZGVuXCIsXG4gICAgICAgIFwiM1wiOiBcIkN0cmwtVjoga29waWVydGUgS25vdGVuIGFscyBUZWlsYmF1bSBhdXNnZXfDpGhsdGVzIEtub3RlbnMgZWluZsO8Z2VuXCIsXG4gICAgICAgIFwiNFwiOiBcIkN0cmwtWS9aOiBSw7xja2fDpG5naWcvV2llZGVyaG9sZW5cIixcbiAgICAgICAgXCI1XCI6IFwiQ3RybC1BbHQtRC9DL1Q6IE5ldWUgRW50c2NoZWlkdW5ncy9adWZhbGwvRW5kc2tub3RlbiBhbHMgVW50ZXJrbm90ZW4gdm9uIDxzdHJvbmc+YXVzZ2V3w6RobHRlbSBLbm90ZW48L3N0cm9uZz5cIixcbiAgICAgICAgXCI2XCI6IFwiQ3RybC1BbHQtRC9DOiBOZXVlIEVudHNjaGVpZHVuZ3MvWnVmYWxsIEtub3RlbiBpbiA8c3Ryb25nPmF1c2dld8OkaGx0ZW4gWndlaWcgPC9zdHJvbmc+IEluaml6aWVyZW5cIlxuICAgICAgfVxuICAgIH0sXG4gICAgXCJkb2NzXCI6IFwiRGllIERva3VtZW50YXRpb24gdm9uIFNpbHZlckRlY2lzaW9ucyBpc3QgdW50ZXIgPGEgaHJlZj1cXFwiaHR0cHM6Ly9naXRodWIuY29tL1NpbHZlckRlY2lzaW9ucy9TaWx2ZXJEZWNpc2lvbnMvd2lraS9Eb2N1bWVudGF0aW9uXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+aGVyZTwvYT4gdmVyZsO8Z2JhclwiXG4gIH0sXG4gIFwiZGVmaW5pdGlvbnNEaWFsb2dcIjp7XG4gICAgXCJ0aXRsZVwiOiBcIlZhcmlhYmxlbmRlZmluaXRpb25lblwiLFxuICAgIFwiYnV0dG9uc1wiOntcbiAgICAgIFwicmVjYWxjdWxhdGVcIjogXCJOZXUgYmVyZWNobmVuXCJcbiAgICB9LFxuICAgIFwiZXZhbHVhdGVkVmFyaWFibGVzXCI6IFwiQXVzZ2V3ZXJ0ZXRlIFZhcmlhYmxlblwiXG4gIH0sXG4gIFwic2lkZWJhckRlZmluaXRpb25zXCI6e1xuICAgIFwiaGVhZGVyXCI6IFwiVmFyaWFibGVuXCIsXG4gICAgXCJjb2RlXCI6IFwiQ29kZVwiLFxuICAgIFwiYnV0dG9uc1wiOntcbiAgICAgIFwib3BlbkRpYWxvZ1wiIDogXCJEaWFsb2cgw5ZmZm5lblwiLFxuICAgICAgXCJyZWNhbGN1bGF0ZVwiOiBcIk5ldSBiZXJlY2huZW5cIlxuICAgIH0sXG4gICAgXCJldmFsdWF0ZWRWYXJpYWJsZXNcIjogXCJBdXNnZXdlcnRldGUgVmFyaWFibGVuXCJcbiAgfSxcbiAgXCJsYXlvdXRPcHRpb25zXCI6e1xuICAgIFwiaGVhZGVyXCI6IFwiTGF5b3V0XCIsXG4gICAgXCJtYXJnaW5Ib3Jpem9udGFsXCI6IFwiSG9yaXpvbnRhbGVyIFJhbmRcIixcbiAgICBcIm1hcmdpblZlcnRpY2FsXCI6IFwiVmVydGlrYWxlciBSYW5kXCIsXG4gICAgXCJub2RlU2l6ZVwiOiBcIktub3Rlbmdyw7bDn2VcIixcbiAgICBcImVkZ2VTbGFudFdpZHRoTWF4XCI6IFwiS2FudGVuc2NocsOkZ2UgKG1heClcIixcbiAgICBcImdyaWRXaWR0aFwiOiBcIkJyZWl0ZVwiLFxuICAgIFwiZ3JpZEhlaWdodFwiOiBcIkjDtmhlXCJcbiAgfSxcbiAgXCJkaWFncmFtRGV0YWlsc1wiOntcbiAgICBcImhlYWRlclwiOiBcIkVpbnplbGhlaXRlblwiLFxuICAgIFwidGl0bGVcIiA6IFwiVGl0ZWxcIixcbiAgICBcImRlc2NyaXB0aW9uXCIgOiBcIkJlc2NocmVpYnVuZ1wiXG4gIH0sXG4gIFwib2JqZWN0UHJvcGVydGllc1wiOntcbiAgICBcImhlYWRlclwiOntcbiAgICAgIFwibm9kZVwiOntcbiAgICAgICAgXCJkZWNpc2lvblwiOlwiRW50c2NoZWlkdW5nc2tub3RlblwiLFxuICAgICAgICBcImNoYW5jZVwiOlwiWnVmYWxsIEtub3RlblwiLFxuICAgICAgICBcInRlcm1pbmFsXCI6XCJFbmRrbm90ZW5cIlxuICAgICAgfSxcbiAgICAgIFwiZWRnZVwiOiBcIlp3ZWlnXCIsXG4gICAgICBcInRleHRcIjogXCJTY2h3aW1tZW5kZXIgVGV4dFwiXG4gICAgfSxcbiAgICBcImNoaWxkcmVuUHJvcGVydGllc1wiOntcbiAgICAgIFwibm9kZVwiOntcbiAgICAgICAgXCJoZWFkZXJcIjogXCJWZXJiaW5kdW5nZW5cIixcbiAgICAgICAgXCJjaGlsZFwiOiB7XG4gICAgICAgICAgXCJoZWFkZXJcIjogXCJad2VpZyAje3tudW1iZXJ9fVwiXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIFwidmFsaWRhdGlvblwiOntcbiAgICBcImluY29tcGxldGVQYXRoXCI6IFwiUGZhZCwgZGVyIG5pY2h0IG1pdCBkZW0gRW5ka25vdGVuIGVuZGV0XCIsXG4gICAgXCJwcm9iYWJpbGl0eURvTm90U3VtVXBUbzFcIjogXCJEaWUgU3VtbWUgZGVyIFdhaHJzY2hlaW5saWNoa2VpdGVuIGlzdCBuaWNodCBnbGVpY2ggMVwiLFxuICAgIFwiaW52YWxpZFByb2JhYmlsaXR5XCI6IFwiVW5nw7xsdGlnZSBXYWhyc2NoZWlubGljaGtlaXQgaW0gWndlaWcgI3t7bnVtYmVyfX1cIixcbiAgICBcImludmFsaWRQYXlvZmZcIjogXCJVbmfDvGx0aWdlIEF1c3phaGx1bmcgaW4gWndlaWcgI3t7bnVtYmVyfX1cIlxuICB9LFxuICBcImdyb3dsXCI6e1xuICAgIFwiYnJ1c2hEaXNhYmxlZFwiOiBcIkF1c3dhaGxiw7xyc3RlIGRlYWt0aXZpZXJ0XCIsXG4gICAgXCJicnVzaEVuYWJsZWRcIjogXCJBdXN3YWhsYsO8cnN0ZSBha3RpdmllcnRcIlxuICB9LFxuICBcInRvb2x0aXBcIjp7XG4gICAgXCJub2RlXCI6e1xuICAgICAgXCJwYXlvZmZcIjogXCJBdXN6YWhsdW5nXCIsXG4gICAgICBcImFnZ3JlZ2F0ZWRQYXlvZmZcIjogXCJBZ2dyZWdpZXJ0ZSBBdXN6YWhsdW5nXCIsXG4gICAgICBcInByb2JhYmlsaXR5VG9FbnRlclwiOiBcIldhaHJzY2hlaW5saWNoa2VpdFwiXG4gICAgfSxcbiAgICBcImVkZ2VcIjp7XG4gICAgICBcInBheW9mZlwiOiBcIkF1c3phaGx1bmc6IHt7dmFsdWV9fVwiLFxuICAgICAgXCJwcm9iYWJpbGl0eVwiOiBcIldhaHJzY2hlaW5saWNoa2VpdDoge3t2YWx1ZX19XCJcbiAgICB9XG4gIH0sXG4gIFwiY29uZmlybVwiOntcbiAgICBcIm5ld0RpYWdyYW1cIjogXCJNw7ZjaHRlbiBTaWUgZGFzIGFrdHVlbGxlIERpYWdyYW1tIHdpcmtsaWNoIGzDtnNjaGVuPyBBbGxlIG5pY2h0IGdlc3BlaWNoZXJ0ZW4gRGF0ZW4gd2VyZGVuIHZlcmxvcmVuLlwiLFxuICAgIFwib3BlbkRpYWdyYW1cIjogXCJTaW5kIFNpZSBzaWNoZXI/IEFsbGUgbmljaHQgZ2VzcGVpY2hlcnRlbiBEaWFncmFtbWRhdGVuIHdlcmRlbiB2ZXJsb3Jlbi5cIixcbiAgICBcImJlZm9yZXVubG9hZFwiOiBcIlNpbmQgU2llIHNpY2hlciwgZGFzcyBTaWUgU2lsdmVyRGVjaXNpb25zIHNjaGxpZcOfZW4gbcO2Y2h0ZW4/IEFsbGUgbmljaHQgZ2VzcGVpY2hlcnRlbiBEaWFncmFtbWRhdGVuIHdlcmRlbiB2ZXJsb3Jlbi5cIlxuICB9LFxuICBcImVycm9yXCI6e1xuICAgIFwianNvblBhcnNlXCI6IFwiRmVobGVyIGJlaW0gQW5hbHlzaWVyZW4gZGVyIERhdGVpIVwiLFxuICAgIFwiZmlsZUFwaU5vdFN1cHBvcnRlZFwiOlwiRGllIERhdGVpLUFQSSB3aXJkIGluIGRpZXNlbSBCcm93c2VyIG5vY2ggbmljaHQgdW50ZXJzdMO8dHp0LlwiLFxuICAgIFwiaW5wdXRGaWxlc1Byb3BlcnR5XCI6XCJJaHIgQnJvd3NlciBzY2hlaW50IGRpZSBgZmlsZXNgLUVpZ2Vuc2NoYWZ0IGRlciBEYXRlaWVpbmdhYmVuIG5pY2h0IHp1IHVudGVyc3TDvHR6ZW4uXCIsXG4gICAgXCJub3RTaWx2ZXJEZWNpc2lvbnNGaWxlXCI6XCJLZWluZSBTaWx2ZXJEZWNpc2lvbnMtRGF0ZWkhXCIsXG4gICAgXCJpbmNvcnJlY3RWZXJzaW9uRm9ybWF0XCI6IFwiRmFsc2NoZXMgRm9ybWF0IGRlciBWZXJzaW9uc3plaWNoZW5mb2xnZSFcIixcbiAgICBcImZpbGVWZXJzaW9uTmV3ZXJUaGFuQXBwbGljYXRpb25WZXJzaW9uXCI6IFwiVmVyc2lvbiBkZXIgRGF0ZWkgaXN0IG5ldWVyIGFscyBWZXJzaW9uIGRlcyBTb2Z0d2FyZXMuIEVpbmlnZSBGdW5rdGlvbmVuIG3DtmdsaWNoZXJ3ZWlzZSBmZWhsZW4uXCIsXG4gICAgXCJvYmplY3RpdmVDb21wdXRhdGlvbkZhaWx1cmVcIjogXCJGZWhsZXIgYmVpbSBCZXJlY2huZW4gdm9uIE9iamVrdGl2ZW4hXCIsXG4gICAgXCJkaWFncmFtRHJhd2luZ0ZhaWx1cmVcIjogXCJGZWhsZXIgYmVpbSBaZWljaG5lbiBkZXMgRGlhZ3JhbW1zIVwiLFxuICAgIFwibWFsZm9ybWVkRGF0YVwiOlwiRmVobGVyIGJlaW0gTGVzZW4gZGVyIEJhdW1kYXRlbiFcIixcbiAgICBcInBuZ0V4cG9ydE5vdFN1cHBvcnRlZFwiOiBcIkRlciBFeHBvcnQgbmFjaCBQTkcgd2lyZCBpbiBJaHJlbSBCcm93c2VyIG5pY2h0IHVudGVyc3TDvHR6dC5cIixcbiAgICBcInBuZ0V4cG9ydE5vdFN1cHBvcnRlZElFXCI6IFwiRGVyIEV4cG9ydCBuYWNoIFBORyB3aXJkIGluIEludGVybmV0IEV4cGxvcmVyIG5pY2h0IHVudGVyc3TDvHR6dC5cIixcbiAgICBcInN2Z0V4cG9ydE5vdFN1cHBvcnRlZFwiOiBcIkRlciBFeHBvcnQgbmFjaCBTVkcgd2lyZCBpbiBJaHJlbSBCcm93c2VyIG5pY2h0IHVudGVyc3TDvHR6dC5cIixcbiAgICBcInBkZkV4cG9ydE5vdFN1cHBvcnRlZFwiOiBcIkRlciBFeHBvcnQgbmFjaCBQREYgd2lyZCBpbiBJaHJlbSBCcm93c2VyIG5pY2h0IHVudGVyc3TDvHR6dC5cIixcbiAgICBcImluY29ycmVjdFBheW9mZk51bWJlckZvcm1hdE9wdGlvbnNcIjogXCJGYWxzY2hlIEF1c3phaGx1bmdzZm9ybWF0IE9wdGlvbmVuXCIsXG4gICAgXCJpbmNvcnJlY3RQcm9iYWJpbGl0eU51bWJlckZvcm1hdE9wdGlvbnNcIjogXCJGYWxzY2hlIFdhaHJzY2hlaW5saWNoa2VpdHNmb3JtYXQgT3B0aW9uZW5cIixcbiAgICBcImluY29ycmVjdE51bWJlckZvcm1hdE9wdGlvbnNcIjogXCJGYWxzY2hlIFphaGxlbmZvcm1hdCwgZGllIFN0YW5kYXJkZWluc3RlbGx1bmdlbiBhbmdld2VuZGV0LlwiLFxuICAgIFwianNQREZpc05vdEluY2x1ZGVkXCI6IFwianNQREYgaXN0IG5pY2h0IGVudGhhbHRlbiFcIixcbiAgICBcInNlcnZlclNpZGVFeHBvcnRSZXF1ZXN0RmFpbHVyZVwiOiBcIkV4cG9ydCBTZXJ2ZXIgQW5mcmFnZSBmZWhsZ2VzY2hsYWdlbiFcIlxuICB9XG59XG4iLCJtb2R1bGUuZXhwb3J0cz17XG4gIFwidG9vbGJhclwiOiB7XG4gICAgXCJuZXdEaWFncmFtXCI6IFwiTmV3IGRpYWdyYW1cIixcbiAgICBcIm9wZW5EaWFncmFtXCI6IFwiT3BlbiBleGlzdGluZyBkaWFncmFtXCIsXG4gICAgXCJzYXZlRGlhZ3JhbVwiOiBcIlNhdmUgY3VycmVudCBkaWFncmFtXCIsXG4gICAgXCJleHBvcnRcIjp7XG4gICAgICBcImxhYmVsXCI6IFwiRXhwb3J0IHRvXCIsXG4gICAgICBcInBuZ1wiOiBcIlBuZ1wiLFxuICAgICAgXCJzdmdcIjogXCJTdmdcIixcbiAgICAgIFwicGRmXCI6IFwiUGRmXCJcbiAgICB9LFxuICAgIFwibGF5b3V0XCI6e1xuICAgICAgXCJsYWJlbFwiOiBcIkxheW91dFwiLFxuICAgICAgXCJtYW51YWxcIjogXCJNYW51YWxcIixcbiAgICAgIFwidHJlZVwiOiBcIlRyZWVcIixcbiAgICAgIFwiY2x1c3RlclwiOiBcIkNsdXN0ZXJcIlxuICAgIH0sXG4gICAgXCJvYmplY3RpdmVSdWxlXCI6e1xuICAgICAgXCJsYWJlbFwiOiBcIlJ1bGVcIixcbiAgICAgIFwib3B0aW9uc1wiOiB7XG4gICAgICAgIFwiZXhwZWN0ZWQtdmFsdWUtbWF4aW1pemF0aW9uXCI6XCJtYXhcIixcbiAgICAgICAgXCJleHBlY3RlZC12YWx1ZS1taW5pbWl6YXRpb25cIjpcIm1pblwiLFxuICAgICAgICBcIm1heGktbWluXCI6XCJtYXhpLW1pblwiLFxuICAgICAgICBcIm1heGktbWF4XCI6XCJtYXhpLW1heFwiLFxuICAgICAgICBcIm1pbmktbWluXCI6XCJtaW5pLW1pblwiLFxuICAgICAgICBcIm1pbmktbWF4XCI6XCJtaW5pLW1heFwiXG4gICAgICB9XG4gICAgfSxcbiAgICBcInVuZG9cIjogXCJVbmRvXCIsXG4gICAgXCJyZWRvXCI6IFwiUmVkb1wiLFxuICAgIFwic2V0dGluZ3NcIjogXCJTZXR0aW5nc1wiLFxuICAgIFwiYWJvdXRcIjogXCJBYm91dFwiLFxuICAgIFwic2Vuc2l0aXZpdHlBbmFseXNpc1wiOiBcIlNlbnNpdGl2aXR5IGFuYWx5c2lzXCIsXG4gICAgXCJyZWNvbXB1dGVcIjogXCJSZWNvbXB1dGVcIlxuICB9LFxuICBcIm5vZGVcIjp7XG4gICAgXCJuYW1lXCI6IFwiTGFiZWxcIlxuICB9LFxuICBcImVkZ2VcIjp7XG4gICAgXCJuYW1lXCI6IFwiTGFiZWxcIixcbiAgICBcInBheW9mZlwiOiBcIlBheW9mZlwiLFxuICAgIFwicHJvYmFiaWxpdHlcIjogXCJQcm9iYWJpbGl0eVwiXG5cbiAgfSxcbiAgXCJ0ZXh0XCI6e1xuICAgIFwidmFsdWVcIjogXCJUZXh0XCJcbiAgfSxcbiAgXCJjb250ZXh0TWVudVwiOntcbiAgICBcIm1haW5cIjp7XG4gICAgICBcImFkZERlY2lzaW9uTm9kZVwiOiBcIkFkZCBEZWNpc2lvbiBOb2RlXCIsXG4gICAgICBcImFkZENoYW5jZU5vZGVcIjogXCJBZGQgQ2hhbmNlIE5vZGVcIixcbiAgICAgIFwiYWRkVGV4dFwiOiBcIkFkZCBUZXh0XCIsXG4gICAgICBcInBhc3RlXCI6IFwiUGFzdGVcIixcbiAgICAgIFwic2VsZWN0QWxsTm9kZXNcIjogXCJTZWxlY3QgYWxsIG5vZGVzXCJcbiAgICB9LFxuICAgIFwibm9kZVwiOntcbiAgICAgIFwiY29weVwiOiBcIkNvcHlcIixcbiAgICAgIFwiY3V0XCI6IFwiQ3V0XCIsXG4gICAgICBcInBhc3RlXCI6IFwiUGFzdGVcIixcbiAgICAgIFwiZGVsZXRlXCI6IFwiRGVsZXRlXCIsXG4gICAgICBcImFkZERlY2lzaW9uTm9kZVwiOiBcIkFkZCBEZWNpc2lvbiBOb2RlXCIsXG4gICAgICBcImFkZENoYW5jZU5vZGVcIjogXCJBZGQgQ2hhbmNlIE5vZGVcIixcbiAgICAgIFwiYWRkVGVybWluYWxOb2RlXCI6IFwiQWRkIFRlcm1pbmFsIE5vZGVcIixcbiAgICAgIFwiY29udmVydFwiOntcbiAgICAgICAgXCJkZWNpc2lvblwiOiBcIkFzIERlY2lzaW9uIE5vZGVcIixcbiAgICAgICAgXCJjaGFuY2VcIjogXCJBcyBDaGFuY2UgTm9kZVwiLFxuICAgICAgICBcInRlcm1pbmFsXCI6IFwiQXMgVGVybWluYWwgTm9kZVwiXG5cbiAgICAgIH0sXG4gICAgICBcInNlbGVjdFN1YnRyZWVcIjogXCJTZWxlY3Qgc3VidHJlZVwiLFxuICAgICAgXCJmbGlwU3VidHJlZVwiOiBcIkZsaXAgc3VidHJlZVwiXG4gICAgfSxcbiAgICBcImVkZ2VcIjp7XG4gICAgICBcImluamVjdERlY2lzaW9uTm9kZVwiOiBcIkluamVjdCBEZWNpc2lvbiBOb2RlXCIsXG4gICAgICBcImluamVjdENoYW5jZU5vZGVcIjogXCJJbmplY3QgQ2hhbmNlIE5vZGVcIlxuICAgIH0sXG4gICAgXCJ0ZXh0XCI6e1xuICAgICAgXCJkZWxldGVcIjogXCJEZWxldGVcIlxuICAgIH1cbiAgfSxcbiAgXCJzZW5zaXRpdml0eUFuYWx5c2lzRGlhbG9nXCI6e1xuICAgIFwidGl0bGVcIjogXCJTZW5zaXRpdml0eSBhbmFseXNpc1wiLFxuICAgIFwiYnV0dG9uc1wiOiB7XG4gICAgICBcInJ1bkpvYlwiOiBcIlJ1blwiLFxuICAgICAgXCJzdG9wSm9iXCI6IFwiU3RvcFwiLFxuICAgICAgXCJ0ZXJtaW5hdGVKb2JcIjogXCJUZXJtaW5hdGVcIixcbiAgICAgIFwicmVzdW1lSm9iXCI6IFwiUmVzdW1lXCIsXG4gICAgICBcImRvd25sb2FkQ3N2XCI6IFwiRG93bmxvYWQgQ1NWXCIsXG4gICAgICBcImJhY2tcIjogXCJCYWNrXCIsXG4gICAgICBcImNsZWFyXCI6IFwiQ2xlYXJcIlxuICAgIH1cbiAgfSxcbiAgXCJqb2JQYXJhbWV0ZXJzQnVpbGRlclwiOiB7XG4gICAgXCJidXR0b25zXCI6IHtcbiAgICAgIFwicmVtb3ZlUGFyYW1ldGVyVmFsdWVcIjogXCJSZW1vdmVcIixcbiAgICAgIFwiYWRkUGFyYW1ldGVyVmFsdWVcIjogXCJBZGRcIlxuICAgIH1cbiAgfSxcbiAgXCJqb2JSZXN1bHRUYWJsZVwiOntcbiAgICBcInRvb2x0aXBcIjoge1xuICAgICAgXCJtdWx0aXBsZVBvbGljaWVzSW5DZWxsXCI6IFwie3tudW1iZXJ9fSBwb2xpY2llc1wiXG4gICAgfSxcbiAgICBcInBpdm90XCI6IHtcbiAgICAgIFwiYWdncmVnYXRvcnNcIjp7XG4gICAgICAgIFwibWF4aW11bVwiOiBcIk1heGltdW1cIixcbiAgICAgICAgXCJtaW5pbXVtXCI6IFwiTWluaW11bVwiXG4gICAgICB9LFxuICAgICAgXCJyZW5kZXJlcnNcIjp7XG4gICAgICAgIFwiaGVhdG1hcFwiOiBcIkhlYXRtYXBcIlxuICAgICAgfVxuICAgIH0sXG4gICAgXCJwb2xpY3lQcmV2aWV3XCI6IFwicG9saWN5IHByZXZpZXdcIlxuICB9LFxuICBcImpvYlwiOntcbiAgICBcInNlbnNpdGl2aXR5LWFuYWx5c2lzXCI6e1xuICAgICAgXCJuYW1lXCI6IFwiTi13YXkgc2Vuc2l0aXZpdHkgYW5hbHlzaXNcIixcbiAgICAgIFwicGFyYW1cIjp7XG4gICAgICAgIFwicnVsZU5hbWVcIjogXCJSdWxlIG5hbWVcIixcbiAgICAgICAgXCJleHRlbmRlZFBvbGljeURlc2NyaXB0aW9uXCI6IHtcbiAgICAgICAgICBcImxhYmVsXCI6IFwiRXh0ZW5kZWQgcG9saWN5IGRlc2NyaXB0aW9uXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJ2YXJpYWJsZXNcIjoge1xuICAgICAgICAgIFwibGFiZWxcIjogXCJWYXJpYWJsZXNcIixcbiAgICAgICAgICBcIm5hbWVcIjoge1xuICAgICAgICAgICAgXCJsYWJlbFwiOiBcIk5hbWVcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJtaW5cIjoge1xuICAgICAgICAgICAgXCJsYWJlbFwiOiBcIk1pblwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIm1heFwiOiB7XG4gICAgICAgICAgICBcImxhYmVsXCI6IFwiTWF4XCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwibGVuZ3RoXCI6IHtcbiAgICAgICAgICAgIFwibGFiZWxcIjogXCJMZW5ndGhcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzdGVwXCI6IHtcbiAgICAgICAgICAgIFwibGFiZWxcIjogXCJTdGVwXCJcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcImVycm9yc1wiOntcbiAgICAgICAgXCJjb21wdXRhdGlvbnNcIjogXCJFcnJvciBpbiBzZW5zaXRpdml0eSBhbmFseXNpcyBjb21wdXRhdGlvbnMgZm9yIHRoZSBmb2xsb3dpbmcgcGFyYW1ldGVyczpcIlxuICAgICAgfSxcbiAgICAgIFwid2FybmluZ3NcIjoge1xuICAgICAgICBcImxhcmdlU2NlbmFyaW9zTnVtYmVyXCI6IFwiTnVtYmVyIG9mIGRlZmluZWQgc2NlbmFyaW9zIGxhcmdlciB0aGFuIHt7bnVtYmVyRm9ybWF0dGVkfX0uIFNlbnNpdGl2aXR5IGFuYWx5c2lzIG1pZ2h0IGZhaWwgdG8gY29tcHV0ZSBvciBiZSB2ZXJ5IHNsb3cuXCIsXG4gICAgICAgIFwibGFyZ2VQYXJhbWV0ZXJzTnVtYmVyXCI6IFwiTnVtYmVyIG9mIHBhcmFtZXRlcnMgbGFyZ2VyIHRoYW4ge3tudW1iZXJ9fS4gU2Vuc2l0aXZpdHkgYW5hbHlzaXMgZGlzcGxheSBtaWdodCBmYWlsIG9yIGJlIHZlcnkgc2xvdy5cIlxuICAgICAgfVxuICAgIH0sXG4gICAgXCJwcm9iYWJpbGlzdGljLXNlbnNpdGl2aXR5LWFuYWx5c2lzXCI6e1xuICAgICAgXCJuYW1lXCI6IFwiUHJvYmFiaWxpc3RpYyBzZW5zaXRpdml0eSBhbmFseXNpc1wiLFxuICAgICAgXCJwYXJhbVwiOntcbiAgICAgICAgXCJydWxlTmFtZVwiOiBcIlJ1bGUgbmFtZVwiLFxuICAgICAgICBcIm51bWJlck9mUnVuc1wiOiB7XG4gICAgICAgICAgXCJsYWJlbFwiOiBcIk51bWJlciBvZiBydW5zXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJleHRlbmRlZFBvbGljeURlc2NyaXB0aW9uXCI6IHtcbiAgICAgICAgICBcImxhYmVsXCI6IFwiRXh0ZW5kZWQgcG9saWN5IGRlc2NyaXB0aW9uXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJ2YXJpYWJsZXNcIjoge1xuICAgICAgICAgIFwibGFiZWxcIjogXCJWYXJpYWJsZXNcIixcbiAgICAgICAgICBcIm5hbWVcIjoge1xuICAgICAgICAgICAgXCJsYWJlbFwiOiBcIk5hbWVcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJmb3JtdWxhXCI6IHtcbiAgICAgICAgICAgIFwibGFiZWxcIjogXCJGb3JtdWxhXCIsXG4gICAgICAgICAgICBcImhlbHBcIjogXCJTZWxlY3QgZm9ybXVsYSB0ZW1scGxhdGUgZnJvbSB0aGUgbWVudSBvciB3cml0ZSBjdXN0b20gY29kZVwiXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJlcnJvcnNcIjp7XG4gICAgICAgIFwiY29tcHV0YXRpb25zXCI6IFwiRXJyb3IgaW4gc2Vuc2l0aXZpdHkgYW5hbHlzaXMgY29tcHV0YXRpb25zIGZvciB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6XCIsXG4gICAgICAgIFwicGFyYW0tY29tcHV0YXRpb25cIjogXCJFcnJvciBjb21wdXRpbmcgcGFyYW1ldGVyIHZhbHVlczpcIlxuICAgICAgfSxcbiAgICAgIFwid2FybmluZ3NcIjoge1xuICAgICAgICBcImxhcmdlU2NlbmFyaW9zTnVtYmVyXCI6IFwiTnVtYmVyIG9mIGRlZmluZWQgc2NlbmFyaW9zIGxhcmdlciB0aGFuIHt7bnVtYmVyRm9ybWF0dGVkfX0uIFNlbnNpdGl2aXR5IGFuYWx5c2lzIG1pZ2h0IGZhaWwgdG8gY29tcHV0ZSBvciBiZSB2ZXJ5IHNsb3cuXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIFwiZXJyb3JzXCI6e1xuICAgICAgXCJnZW5lcmljXCI6IFwiRXJyb3IgaW4gc2Vuc2l0aXZpdHkgYW5hbHlzaXMgY29tcHV0YXRpb25zOiB7e21lc3NhZ2V9fVwiXG4gICAgfVxuICB9LFxuICBcInNldHRpbmdzRGlhbG9nXCI6e1xuICAgIFwidGl0bGVcIjogXCJTZXR0aW5nc1wiLFxuICAgIFwiZ2VuZXJhbFwiOntcbiAgICAgIFwidGl0bGVcIjogXCJHZW5lcmFsXCIsXG4gICAgICBcImZvbnRTaXplXCI6IFwiRm9udCBzaXplXCIsXG4gICAgICBcImZvbnRGYW1pbHlcIjogXCJGb250IGZhbWlseVwiLFxuICAgICAgXCJmb250V2VpZ2h0XCI6IFwiRm9udCB3ZWlnaHRcIixcbiAgICAgIFwiZm9udFN0eWxlXCI6IFwiRm9udCBzdHlsZVwiLFxuICAgICAgXCJudW1iZXJGb3JtYXRMb2NhbGVcIjogXCJOdW1iZXIgZm9ybWF0IGxvY2FsZVwiXG4gICAgfSxcbiAgICBcInBheW9mZlwiOntcbiAgICAgIFwidGl0bGVcIjogXCJQYXlvZmYgbnVtYmVyIGZvcm1hdFwiLFxuICAgICAgXCJjdXJyZW5jeVwiOiBcIkN1cnJlbmN5XCIsXG4gICAgICBcImN1cnJlbmN5RGlzcGxheVwiOiBcIkN1cnJlbmN5IGRpc3BsYXlcIixcbiAgICAgIFwic3R5bGVcIjogXCJTdHlsZVwiLFxuICAgICAgXCJtaW5pbXVtRnJhY3Rpb25EaWdpdHNcIjogXCJNaW5pbXVtIGZyYWN0aW9uIGRpZ2l0c1wiLFxuICAgICAgXCJtYXhpbXVtRnJhY3Rpb25EaWdpdHNcIjogXCJNYXhpbXVtIGZyYWN0aW9uIGRpZ2l0c1wiLFxuICAgICAgXCJ1c2VHcm91cGluZ1wiOiBcIlVzZSBncm91cGluZyBzZXBhcmF0b3JzXCJcbiAgICB9LFxuICAgIFwicHJvYmFiaWxpdHlcIjp7XG4gICAgICBcInRpdGxlXCI6IFwiUHJvYmFiaWxpdHkgbnVtYmVyIGZvcm1hdFwiLFxuICAgICAgXCJzdHlsZVwiOiBcIlN0eWxlXCIsXG4gICAgICBcIm1pbmltdW1GcmFjdGlvbkRpZ2l0c1wiOiBcIk1pbmltdW0gZnJhY3Rpb24gZGlnaXRzXCIsXG4gICAgICBcIm1heGltdW1GcmFjdGlvbkRpZ2l0c1wiOiBcIk1heGltdW0gZnJhY3Rpb24gZGlnaXRzXCIsXG4gICAgICBcImZvbnRTaXplXCI6IFwiRm9udCBzaXplXCIsXG4gICAgICBcImNvbG9yXCI6IFwiQ29sb3JcIlxuICAgIH0sXG4gICAgXCJub2RlXCI6e1xuICAgICAgXCJ0aXRsZVwiOiBcIk5vZGVcIixcbiAgICAgIFwic3Ryb2tlV2lkdGhcIjogXCJTdHJva2Ugd2lkdGhcIixcbiAgICAgIFwib3B0aW1hbFwiOntcbiAgICAgICAgXCJ0aXRsZVwiOiBcIk9wdGltYWxcIixcbiAgICAgICAgXCJzdHJva2VcIjogXCJDb2xvclwiLFxuICAgICAgICBcInN0cm9rZVdpZHRoXCI6IFwiU3Ryb2tlIHdpZHRoXCJcbiAgICAgIH0sXG4gICAgICBcImxhYmVsXCI6IHtcbiAgICAgICAgXCJ0aXRsZVwiOiBcIkxhYmVsXCIsXG4gICAgICAgIFwiZm9udFNpemVcIjogXCJMYWJlbCBmb250IHNpemVcIixcbiAgICAgICAgXCJjb2xvclwiOiBcIkxhYmVsIGNvbG9yXCJcbiAgICAgIH0sXG4gICAgICBcInBheW9mZlwiOiB7XG4gICAgICAgIFwidGl0bGVcIjogXCJQYXlvZmZcIixcbiAgICAgICAgXCJmb250U2l6ZVwiOiBcIkZvbnQgc2l6ZVwiLFxuICAgICAgICBcImNvbG9yXCI6IFwiQ29sb3JcIixcbiAgICAgICAgXCJuZWdhdGl2ZUNvbG9yXCI6IFwiTmVnYXRpdmUgY29sb3JcIlxuICAgICAgfSxcbiAgICAgIFwiZGVjaXNpb25cIjoge1xuICAgICAgICBcInRpdGxlXCI6IFwiRGVjaXNpb24gTm9kZVwiLFxuICAgICAgICBcImZpbGxcIjogXCJGaWxsIGNvbG9yXCIsXG4gICAgICAgIFwic3Ryb2tlXCI6IFwiU3Ryb2tlIGNvbG9yXCIsXG4gICAgICAgIFwic2VsZWN0ZWRcIjoge1xuICAgICAgICAgIFwiZmlsbFwiOiBcIlNlbGVjdGVkIGZpbGwgY29sb3JcIlxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJjaGFuY2VcIjoge1xuICAgICAgICBcInRpdGxlXCI6IFwiQ2hhbmNlIE5vZGVcIixcbiAgICAgICAgXCJmaWxsXCI6IFwiRmlsbCBjb2xvclwiLFxuICAgICAgICBcInN0cm9rZVwiOiBcIlN0cm9rZSBjb2xvclwiLFxuICAgICAgICBcInNlbGVjdGVkXCI6IHtcbiAgICAgICAgICBcImZpbGxcIjogXCJTZWxlY3RlZCBmaWxsIGNvbG9yXCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwidGVybWluYWxcIjp7XG4gICAgICAgIFwidGl0bGVcIjogXCJUZXJtaW5hbCBOb2RlXCIsXG4gICAgICAgIFwiZmlsbFwiOiBcIkZpbGwgY29sb3JcIixcbiAgICAgICAgXCJzdHJva2VcIjogXCJTdHJva2UgY29sb3JcIixcbiAgICAgICAgXCJzZWxlY3RlZFwiOiB7XG4gICAgICAgICAgXCJmaWxsXCI6IFwiU2VsZWN0ZWQgZmlsbCBjb2xvclwiXG4gICAgICAgIH0sXG4gICAgICAgIFwicGF5b2ZmXCI6IHtcbiAgICAgICAgICBcInRpdGxlXCI6IFwiUGF5b2ZmXCIsXG4gICAgICAgICAgXCJmb250U2l6ZVwiOiBcIkZvbnQgc2l6ZVwiLFxuICAgICAgICAgIFwiY29sb3JcIjogXCJDb2xvclwiLFxuICAgICAgICAgIFwibmVnYXRpdmVDb2xvclwiOiBcIk5lZ2F0aXZlIGNvbG9yXCJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgXCJlZGdlXCI6e1xuICAgICAgXCJ0aXRsZVwiOiBcIkVkZ2VcIixcbiAgICAgIFwic3Ryb2tlXCI6IFwiQ29sb3JcIixcbiAgICAgIFwic3Ryb2tlV2lkdGhcIjogXCJTdHJva2Ugd2lkdGhcIixcbiAgICAgIFwib3B0aW1hbFwiOntcbiAgICAgICAgXCJ0aXRsZVwiOiBcIk9wdGltYWxcIixcbiAgICAgICAgXCJzdHJva2VcIjogXCJDb2xvclwiLFxuICAgICAgICBcInN0cm9rZVdpZHRoXCI6IFwiU3Ryb2tlIHdpZHRoXCJcbiAgICAgIH0sXG4gICAgICBcInNlbGVjdGVkXCI6e1xuICAgICAgICBcInRpdGxlXCI6IFwiU2VsZWN0ZWRcIixcbiAgICAgICAgXCJzdHJva2VcIjogXCJDb2xvclwiLFxuICAgICAgICBcInN0cm9rZVdpZHRoXCI6IFwiU3Ryb2tlIHdpZHRoXCJcbiAgICAgIH0sXG4gICAgICBcImxhYmVsXCI6IHtcbiAgICAgICAgXCJ0aXRsZVwiOiBcIkxhYmVsXCIsXG4gICAgICAgIFwiZm9udFNpemVcIjogXCJGb250IHNpemVcIixcbiAgICAgICAgXCJjb2xvclwiOiBcIkNvbG9yXCJcbiAgICAgIH0sXG4gICAgICBcInBheW9mZlwiOntcbiAgICAgICAgXCJ0aXRsZVwiOiBcIlBheW9mZlwiLFxuICAgICAgICBcImZvbnRTaXplXCI6IFwiRm9udCBzaXplXCIsXG4gICAgICAgIFwiY29sb3JcIjogXCJDb2xvclwiLFxuICAgICAgICBcIm5lZ2F0aXZlQ29sb3JcIjogXCJOZWdhdGl2ZSBjb2xvclwiXG4gICAgICB9XG4gICAgfSxcbiAgICBcImRpYWdyYW1UaXRsZVwiOntcbiAgICAgIFwidGl0bGVcIjogXCJEaWFncmFtIHRpdGxlXCIsXG4gICAgICBcImZvbnRTaXplXCI6IFwiRm9udCBzaXplXCIsXG4gICAgICBcImZvbnRXZWlnaHRcIjogXCJGb250IHdlaWdodFwiLFxuICAgICAgXCJmb250U3R5bGVcIjogXCJGb250IHN0eWxlXCIsXG4gICAgICBcImNvbG9yXCI6IFwiQ29sb3JcIixcbiAgICAgIFwibWFyZ2luXCI6e1xuICAgICAgICBcInRpdGxlXCI6IFwiTWFyZ2luXCIsXG4gICAgICAgIFwidG9wXCI6IFwiVG9wXCIsXG4gICAgICAgIFwiYm90dG9tXCI6IFwiQm90dG9tXCJcbiAgICAgIH0sXG4gICAgICBcImRlc2NyaXB0aW9uXCI6e1xuICAgICAgICBcInRpdGxlXCI6IFwiU3VidGl0bGUgKGRpYWdyYW0gZGVzY3JpcHRpb24pXCIsXG4gICAgICAgIFwic2hvd1wiOiBcIlNob3dcIixcbiAgICAgICAgXCJmb250U2l6ZVwiOiBcIkZvbnQgc2l6ZVwiLFxuICAgICAgICBcImZvbnRXZWlnaHRcIjogXCJGb250IHdlaWdodFwiLFxuICAgICAgICBcImZvbnRTdHlsZVwiOiBcIkZvbnQgc3R5bGVcIixcbiAgICAgICAgXCJjb2xvclwiOiBcIkNvbG9yXCIsXG4gICAgICAgIFwibWFyZ2luVG9wXCI6IFwiTWFyZ2luIHRvcFwiXG4gICAgICB9XG4gICAgfSxcbiAgICBcIm90aGVyXCI6e1xuICAgICAgXCJ0aXRsZVwiOiBcIk90aGVyXCIsXG4gICAgICBcImRpc2FibGVBbmltYXRpb25zXCI6IFwiRGlzYWJsZSBhbmltYXRpb25zXCIsXG4gICAgICBcImZvcmNlRnVsbEVkZ2VSZWRyYXdcIjogXCJGb3JjZSBmdWxsIHJlZHJhdyBvZiBlZGdlc1wiLFxuICAgICAgXCJoaWRlTGFiZWxzXCI6IFwiSGlkZSBsYWJlbHNcIixcbiAgICAgIFwiaGlkZVBheW9mZnNcIjogXCJIaWRlIHBheW9mZnNcIixcbiAgICAgIFwiaGlkZVByb2JhYmlsaXRpZXNcIjogXCJIaWRlIHByb2JhYmlsaXRpZXNcIixcbiAgICAgIFwicmF3XCI6IFwiUmF3XCJcbiAgICB9XG4gIH0sXG4gIFwiYWJvdXREaWFsb2dcIjp7XG4gICAgXCJ0aXRsZVwiOiBcIkFib3V0XCJcbiAgfSxcbiAgXCJoZWxwXCI6e1xuICAgIFwiaGVhZGVyXCI6IFwiSGVscFwiLFxuICAgIFwibW91c2VcIjoge1xuICAgICAgXCJoZWFkZXJcIjpcIk1vdXNlIGFjdGlvbnM6XCIsXG4gICAgICBcImxpc3RcIjp7XG4gICAgICAgIFwiMVwiOiBcImxlZnQgbW91c2UgYnV0dG9uOiBub2RlL2VkZ2Ugc2VsZWN0aW9uXCIsXG4gICAgICAgIFwiMlwiOiBcInJpZ2h0IG1vdXNlIGJ1dHRvbjogY29udGV4dCBtZW51IChhZGRpbmcvbWFuaXB1bGF0aW5nIG5vZGVzKVwiLFxuICAgICAgICBcIjNcIjogXCJsZWZ0IG1vdXNlIGRiY2xpY2s6IGNvbnRleHQgbWVudVwiXG4gICAgICB9XG4gICAgfSxcbiAgICBcImtleWJvYXJkXCI6IHtcbiAgICAgIFwiaGVhZGVyXCI6XCJLZXlib2FyZDpcIixcbiAgICAgIFwibGlzdFwiOntcbiAgICAgICAgXCIxXCI6IFwiRGVsOiBkZWxldGUgc2VsZWN0ZWQgbm9kZXNcIixcbiAgICAgICAgXCIyXCI6IFwiQ3RybC1DL1g6IGNvcHkvY3V0IHNlbGVjdGVkIG5vZGVzXCIsXG4gICAgICAgIFwiM1wiOiBcIkN0cmwtVjogcGFzdGUgY29waWVkIG5vZGVzIGFzIGEgc3VidHJlZSBvZiBhIHNlbGVjdGVkIG5vZGVcIixcbiAgICAgICAgXCI0XCI6IFwiQ3RybC1ZL1o6IHVuZG8vcmVkb1wiLFxuICAgICAgICBcIjVcIjogXCJDdHJsLUFsdC1EL0MvVDogYWRkIG5ldyBEZWNpc2lvbi9DaGFuY2UvVGVybWluYWwgc3Vibm9kZSBvZiBhIDxzdHJvbmc+c2VsZWN0ZWQgbm9kZTwvc3Ryb25nPlwiLFxuICAgICAgICBcIjZcIjogXCJDdHJsLUFsdC1EL0M6IGluamVjdCBuZXcgRGVjaXNpb24vQ2hhbmNlIG5vZGUgaW50byBhIDxzdHJvbmc+c2VsZWN0ZWQgZWRnZTwvc3Ryb25nPlwiXG4gICAgICB9XG4gICAgfSxcbiAgICBcImRvY3NcIjogXCJEb2N1bWVudGF0aW9uIG9mIFNpbHZlckRlY2lzaW9ucyBpcyBhdmFpbGFibGUgPGEgaHJlZj1cXFwiaHR0cHM6Ly9naXRodWIuY29tL1NpbHZlckRlY2lzaW9ucy9TaWx2ZXJEZWNpc2lvbnMvd2lraS9Eb2N1bWVudGF0aW9uXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+aGVyZTwvYT5cIlxuICB9LFxuICBcImRlZmluaXRpb25zRGlhbG9nXCI6e1xuICAgIFwidGl0bGVcIjogXCJWYXJpYWJsZSBkZWZpbml0aW9uc1wiLFxuICAgIFwiYnV0dG9uc1wiOntcbiAgICAgIFwicmVjYWxjdWxhdGVcIjogXCJSZWNhbGN1bGF0ZVwiXG4gICAgfSxcbiAgICBcImV2YWx1YXRlZFZhcmlhYmxlc1wiOiBcIkV2YWx1YXRlZCB2YXJpYWJsZXNcIlxuICB9LFxuICBcInNpZGViYXJEZWZpbml0aW9uc1wiOntcbiAgICBcImhlYWRlclwiOiBcIlZhcmlhYmxlc1wiLFxuICAgIFwiY29kZVwiOiBcIkNvZGVcIixcbiAgICBcImJ1dHRvbnNcIjp7XG4gICAgICBcIm9wZW5EaWFsb2dcIiA6IFwiT3BlbiBkaWFsb2dcIixcbiAgICAgIFwicmVjYWxjdWxhdGVcIjogXCJSZWNhbGN1bGF0ZVwiXG4gICAgfSxcbiAgICBcImV2YWx1YXRlZFZhcmlhYmxlc1wiOiBcIkV2YWx1YXRlZCB2YXJpYWJsZXNcIlxuICB9LFxuICBcImxheW91dE9wdGlvbnNcIjp7XG4gICAgXCJoZWFkZXJcIjogXCJMYXlvdXRcIixcbiAgICBcIm1hcmdpbkhvcml6b250YWxcIjogXCJIb3Jpem9udGFsIE1hcmdpblwiLFxuICAgIFwibWFyZ2luVmVydGljYWxcIjogXCJWZXJ0aWNhbCBNYXJnaW5cIixcbiAgICBcIm5vZGVTaXplXCI6IFwiTm9kZSBzaXplXCIsXG4gICAgXCJlZGdlU2xhbnRXaWR0aE1heFwiOiBcIkVkZ2Ugc2xhbnQgKG1heClcIixcbiAgICBcImdyaWRXaWR0aFwiOiBcIldpZHRoXCIsXG4gICAgXCJncmlkSGVpZ2h0XCI6IFwiSGVpZ2h0XCJcbiAgfSxcbiAgXCJkaWFncmFtRGV0YWlsc1wiOntcbiAgICBcImhlYWRlclwiOiBcIkRldGFpbHNcIixcbiAgICBcInRpdGxlXCIgOiBcIlRpdGxlXCIsXG4gICAgXCJkZXNjcmlwdGlvblwiIDogXCJEZXNjcmlwdGlvblwiXG4gIH0sXG4gIFwib2JqZWN0UHJvcGVydGllc1wiOntcbiAgICBcImhlYWRlclwiOntcbiAgICAgIFwibm9kZVwiOntcbiAgICAgICAgXCJkZWNpc2lvblwiOlwiRGVjaXNpb24gTm9kZVwiLFxuICAgICAgICBcImNoYW5jZVwiOlwiQ2hhbmNlIE5vZGVcIixcbiAgICAgICAgXCJ0ZXJtaW5hbFwiOlwiVGVybWluYWwgTm9kZVwiXG4gICAgICB9LFxuICAgICAgXCJlZGdlXCI6IFwiRWRnZVwiLFxuICAgICAgXCJ0ZXh0XCI6IFwiRmxvYXRpbmcgdGV4dFwiXG4gICAgfSxcbiAgICBcImNoaWxkcmVuUHJvcGVydGllc1wiOntcbiAgICAgIFwibm9kZVwiOntcbiAgICAgICAgXCJoZWFkZXJcIjogXCJDb25uZWN0aW9uc1wiLFxuICAgICAgICBcImNoaWxkXCI6IHtcbiAgICAgICAgICBcImhlYWRlclwiOiBcIkVkZ2UgI3t7bnVtYmVyfX1cIlxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBcInZhbGlkYXRpb25cIjp7XG4gICAgXCJpbmNvbXBsZXRlUGF0aFwiOiBcIlBhdGggbm90IGVuZGluZyB3aXRoIHRlcm1pbmFsIG5vZGVcIixcbiAgICBcInByb2JhYmlsaXR5RG9Ob3RTdW1VcFRvMVwiOiBcIlByb2JhYmlsaXRpZXMgZG8gbm90IHN1bSB1cCB0byAxXCIsXG4gICAgXCJpbnZhbGlkUHJvYmFiaWxpdHlcIjogXCJJbnZhbGlkIHByb2JhYmlsaXR5IGluIGVkZ2UgI3t7bnVtYmVyfX1cIixcbiAgICBcImludmFsaWRQYXlvZmZcIjogXCJJbnZhbGlkIHBheW9mZiBpbiBlZGdlICN7e251bWJlcn19XCJcbiAgfSxcbiAgXCJncm93bFwiOntcbiAgICBcImJydXNoRGlzYWJsZWRcIjogXCJTZWxlY3Rpb24gYnJ1c2ggZGlzYWJsZWRcIixcbiAgICBcImJydXNoRW5hYmxlZFwiOiBcIlNlbGVjdGlvbiBicnVzaCBlbmFibGVkXCJcbiAgfSxcbiAgXCJ0b29sdGlwXCI6e1xuICAgIFwibm9kZVwiOntcbiAgICAgIFwicGF5b2ZmXCI6IFwiUGF5b2ZmXCIsXG4gICAgICBcImFnZ3JlZ2F0ZWRQYXlvZmZcIjogXCJBZ2dyZWdhdGVkIFBheW9mZlwiLFxuICAgICAgXCJwcm9iYWJpbGl0eVRvRW50ZXJcIjogXCJQcm9iYWJpbGl0eSB0byBlbnRlclwiXG4gICAgfSxcbiAgICBcImVkZ2VcIjp7XG4gICAgICBcInBheW9mZlwiOiBcIlBheW9mZjoge3t2YWx1ZX19XCIsXG4gICAgICBcInByb2JhYmlsaXR5XCI6IFwiUHJvYmFiaWxpdHk6IHt7dmFsdWV9fVwiXG4gICAgfVxuICB9LFxuICBcImNvbmZpcm1cIjp7XG4gICAgXCJuZXdEaWFncmFtXCI6IFwiRG8geW91IHJlYWxseSB3YW50IHRvIGNsZWFyIGN1cnJlbnQgZGlhZ3JhbT8gQWxsIHVuc2F2ZWQgZGF0YSB3aWxsIGJlIGxvc3QuXCIsXG4gICAgXCJvcGVuRGlhZ3JhbVwiOiBcIkFyZSB5b3Ugc3VyZT8gQWxsIHVuc2F2ZWQgZGlhZ3JhbSBkYXRhIHdpbGwgYmUgbG9zdC5cIixcbiAgICBcImJlZm9yZXVubG9hZFwiOiBcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBjbG9zZSBTaWx2ZXJEZWNpc2lvbnM/IEFsbCB1bnNhdmVkIGRpYWdyYW0gZGF0YSB3aWxsIGJlIGxvc3QuXCJcbiAgfSxcbiAgXCJlcnJvclwiOntcbiAgICBcImpzb25QYXJzZVwiOiBcIkVycm9yIHBhcnNpbmcgZmlsZSFcIixcbiAgICBcImZpbGVBcGlOb3RTdXBwb3J0ZWRcIjpcIlRoZSBmaWxlIEFQSSBpc24ndCBzdXBwb3J0ZWQgb24gdGhpcyBicm93c2VyIHlldC5cIixcbiAgICBcImlucHV0RmlsZXNQcm9wZXJ0eVwiOlwiWW91ciBicm93c2VyIGRvZXNuJ3Qgc2VlbSB0byBzdXBwb3J0IHRoZSBgZmlsZXNgIHByb3BlcnR5IG9mIGZpbGUgaW5wdXRzLlwiLFxuICAgIFwibm90U2lsdmVyRGVjaXNpb25zRmlsZVwiOlwiTm90IGEgU2lsdmVyRGVjaXNpb25zIGZpbGUhXCIsXG4gICAgXCJpbmNvcnJlY3RWZXJzaW9uRm9ybWF0XCI6IFwiSW5jb3JyZWN0IGZvcm1hdCBvZiB2ZXJzaW9uIHN0cmluZyFcIixcbiAgICBcImZpbGVWZXJzaW9uTmV3ZXJUaGFuQXBwbGljYXRpb25WZXJzaW9uXCI6IFwiVmVyc2lvbiBpbiBmaWxlIGlzIG5ld2VyIHRoYW4gdmVyc2lvbiBvZiB0aGUgYXBwbGljYXRpb24uIFNvbWUgZmVhdHVyZXMgbWF5IGJlIG1pc3NpbmcuXCIsXG4gICAgXCJvYmplY3RpdmVDb21wdXRhdGlvbkZhaWx1cmVcIjogXCJFcnJvciB3aGlsZSBjb21wdXRpbmcgb2JqZWN0aXZlIVwiLFxuICAgIFwiZGlhZ3JhbURyYXdpbmdGYWlsdXJlXCI6IFwiRXJyb3Igd2hpbGUgZHJhd2luZyBkaWFncmFtIVwiLFxuICAgIFwibWFsZm9ybWVkRGF0YVwiOlwiRXJyb3IgcmVhZGluZyB0cmVlIGRhdGEhXCIsXG4gICAgXCJwbmdFeHBvcnROb3RTdXBwb3J0ZWRcIjogXCJFeHBvcnQgdG8gUE5HIGlzIG5vdCBzdXBwb3J0ZWQgaW4geW91ciBicm93c2VyLlwiLFxuICAgIFwicG5nRXhwb3J0Tm90U3VwcG9ydGVkSUVcIjogXCJFeHBvcnQgdG8gUE5HIG5vdCBzdXBwb3J0ZWQgaW4gSW50ZXJuZXQgRXhwbG9yZXIuXCIsXG4gICAgXCJzdmdFeHBvcnROb3RTdXBwb3J0ZWRcIjogXCJFeHBvcnQgdG8gU1ZHIGlzIG5vdCBzdXBwb3J0ZWQgaW4geW91ciBicm93c2VyLlwiLFxuICAgIFwicGRmRXhwb3J0Tm90U3VwcG9ydGVkXCI6IFwiRXhwb3J0IHRvIFBERiBpcyBub3Qgc3VwcG9ydGVkIGluIHlvdXIgYnJvd3Nlci5cIixcbiAgICBcImluY29ycmVjdFBheW9mZk51bWJlckZvcm1hdE9wdGlvbnNcIjogXCJJbmNvcnJlY3QgcGF5b2ZmIG51bWJlciBmb3JtYXQgb3B0aW9uc1wiLFxuICAgIFwiaW5jb3JyZWN0UHJvYmFiaWxpdHlOdW1iZXJGb3JtYXRPcHRpb25zXCI6IFwiSW5jb3JyZWN0IHByb2JhYmlsaXR5IG51bWJlciBmb3JtYXQgb3B0aW9uc1wiLFxuICAgIFwiaW5jb3JyZWN0TnVtYmVyRm9ybWF0T3B0aW9uc1wiOiBcIkluY29ycmVjdCBudW1iZXIgZm9ybWF0IG9wdGlvbnMsIHVzaW5nIGRlZmF1bHQuXCIsXG4gICAgXCJqc1BERmlzTm90SW5jbHVkZWRcIjogXCJqc1BERiBpcyBub3QgaW5jbHVkZWQhXCIsXG4gICAgXCJzZXJ2ZXJTaWRlRXhwb3J0UmVxdWVzdEZhaWx1cmVcIjogXCJFeHBvcnQgU2VydmVyIHJlcXVlc3QgZmFpbGVkIVwiXG4gIH1cbn1cbiIsIm1vZHVsZS5leHBvcnRzPXtcbiAgXCJ0b29sYmFyXCI6IHtcbiAgICBcIm5ld0RpYWdyYW1cIjogXCJOb3V2ZWF1IGRpYWdyYW1tZVwiLFxuICAgIFwib3BlbkRpYWdyYW1cIjogXCJPdXZyaXIgbGUgZGlhZ3JhbW1lIGV4aXN0YW50XCIsXG4gICAgXCJzYXZlRGlhZ3JhbVwiOiBcIkVucmVnaXN0cmVyIGxlIGRpYWdyYW1tZSBhY3R1ZWxcIixcbiAgICBcImV4cG9ydFwiOntcbiAgICAgIFwibGFiZWxcIjogXCJFeHBvcnRlciB2ZXJzXCIsXG4gICAgICBcInBuZ1wiOiBcIlBuZ1wiLFxuICAgICAgXCJzdmdcIjogXCJTdmdcIixcbiAgICAgIFwicGRmXCI6IFwiUGRmXCJcbiAgICB9LFxuICAgIFwibGF5b3V0XCI6e1xuICAgICAgXCJsYWJlbFwiOiBcIkRpc3Bvc2l0aW9uXCIsXG4gICAgICBcIm1hbnVhbFwiOiBcIk1hbnVlbFwiLFxuICAgICAgXCJ0cmVlXCI6IFwiQXJicmVcIixcbiAgICAgIFwiY2x1c3RlclwiOiBcIkdyYXBwZVwiXG4gICAgfSxcbiAgICBcIm9iamVjdGl2ZVJ1bGVcIjp7XG4gICAgICBcImxhYmVsXCI6IFwiUmVnbGVcIixcbiAgICAgIFwib3B0aW9uc1wiOiB7XG4gICAgICAgIFwiZXhwZWN0ZWQtdmFsdWUtbWF4aW1pemF0aW9uXCI6XCJtYXhcIixcblx0XCJleHBlY3RlZC12YWx1ZS1taW5pbWl6YXRpb25cIjpcIm1pblwiLFxuICAgICAgICBcIm1heGktbWluXCI6XCJtYXhpLW1pblwiLFxuICAgICAgICBcIm1heGktbWF4XCI6XCJtYXhpLW1heFwiLFxuXHRcIm1pbmktbWluXCI6XCJtaW5pLW1pblwiLFxuICAgICAgICBcIm1pbmktbWF4XCI6XCJtaW5pLW1heFwiXG4gICAgICB9XG4gICAgfSxcbiAgICBcInVuZG9cIjogXCJBbm51bGVyXCIsXG4gICAgXCJyZWRvXCI6IFwiUmVmYWlyZVwiLFxuICAgIFwic2V0dGluZ3NcIjogXCJQYXJhbWV0cmVzXCIsXG4gICAgXCJhYm91dFwiOiBcIkEgcHJvcG9zXCIsXG4gICAgXCJyZWNvbXB1dGVcIjogXCJSZWNhbGN1bGVyXCJcbiAgfSxcbiAgXCJub2RlXCI6e1xuICAgIFwibmFtZVwiOiBcIsOJdGlxdWV0dGVcIlxuICB9LFxuICBcImVkZ2VcIjp7XG4gICAgXCJuYW1lXCI6IFwiw4l0aXF1ZXR0ZVwiLFxuICAgIFwicGF5b2ZmXCI6IFwiQXZhbnRhZ2VcIixcbiAgICBcInByb2JhYmlsaXR5XCI6IFwiUHJvYmFiaWxpdMOpXCJcblxuICB9LFxuICBcInRleHRcIjp7XG4gICAgXCJ2YWx1ZVwiOiBcIlRleHRlXCJcbiAgfSxcbiAgXCJjb250ZXh0TWVudVwiOntcbiAgICBcIm1haW5cIjp7XG4gICAgICBcImFkZERlY2lzaW9uTm9kZVwiOiBcIkFqb3V0ZXIgbm91ZCBkZSBkw6ljaXNpb25cIixcbiAgICAgIFwiYWRkQ2hhbmNlTm9kZVwiOiBcIkFqb3V0ZXIgbm91ZCBhbMOpYXRvaXJlXCIsXG4gICAgICBcImFkZFRleHRcIjogXCJBam91dGVyIGR1IHRleHRlXCIsXG4gICAgICBcInBhc3RlXCI6IFwiQ29sbGVyXCIsXG4gICAgICBcInNlbGVjdEFsbE5vZGVzXCI6IFwiU8OpbGVjdGlvbm5lciB0b3VzIGxlcyBub3Vkc1wiXG4gICAgfSxcbiAgICBcIm5vZGVcIjp7XG4gICAgICBcImNvcHlcIjogXCJDb3BpZVwiLFxuICAgICAgXCJjdXRcIjogXCJDb3VwZXJcIixcbiAgICAgIFwicGFzdGVcIjogXCJDb2xsZXJcIixcbiAgICAgIFwiZGVsZXRlXCI6IFwiRWZmYWNlclwiLFxuICAgICAgXCJhZGREZWNpc2lvbk5vZGVcIjogXCJBam91dGVyIG5vdWQgZGUgZMOpY2lzaW9uXCIsXG4gICAgICBcImFkZENoYW5jZU5vZGVcIjogXCJBam91dGVyIG5vdWQgYWzDqWF0b2lyZVwiLFxuICAgICAgXCJhZGRUZXJtaW5hbE5vZGVcIjogXCJBam91dGVyIHVuIG5vZXVkIHRlcm1pbmFsXCIsXG4gICAgICBcImNvbnZlcnRcIjp7XG4gICAgICAgIFwiZGVjaXNpb25cIjogXCJDb21tZSBub3VkIGRlIGTDqWNpc2lvblwiLFxuICAgICAgICBcImNoYW5jZVwiOiBcIkNvbW1lIG5vdWQgYWzDqWF0b2lyZVwiLFxuICAgICAgICBcInRlcm1pbmFsXCI6IFwiQ29tbWUgdW4gbm9ldWQgdGVybWluYWxcIlxuXG4gICAgICB9LFxuICAgICAgXCJzZWxlY3RTdWJ0cmVlXCI6IFwiU8OpbGVjdGlvbm5lciB1bmUgc291cy1hcmJvcmVzY2VuY2VcIixcbiAgICAgIFwiZmxpcFN1YnRyZWVcIjogXCJCYXNjdWxlciBzb3VzLWFyYnJlXCJcbiAgICB9LFxuICAgIFwiZWRnZVwiOntcbiAgICAgIFwiaW5qZWN0RGVjaXNpb25Ob2RlXCI6IFwiSW5qZWN0ZXIgdW4gbm9ldWQgZGUgZMOpY2lzaW9uXCIsXG4gICAgICBcImluamVjdENoYW5jZU5vZGVcIjogXCJJbmplY3RlciB1biBub2V1ZCBkZSBjaGFuY2VcIlxuICAgIH0sXG4gICAgXCJ0ZXh0XCI6e1xuICAgICAgXCJkZWxldGVcIjogXCJFZmZhY2VyXCJcbiAgICB9XG4gIH0sXG4gIFwiam9iUmVzdWx0VGFibGVcIjp7XG4gICAgXCJ0b29sdGlwXCI6IHtcbiAgICAgIFwibXVsdGlwbGVQb2xpY2llc0luQ2VsbFwiOiBcInt7bnVtYmVyfX0gcG9saWNpZXNcIlxuICAgIH0sXG4gICAgXCJwaXZvdFwiOiB7XG4gICAgICBcImFnZ3JlZ2F0b3JzXCI6e1xuICAgICAgICBcIm1heGltdW1cIjogXCJNYXhpbXVtXCIsXG4gICAgICAgIFwibWluaW11bVwiOiBcIk1pbmltdW1cIlxuICAgICAgfSxcbiAgICAgIFwicmVuZGVyZXJzXCI6e1xuICAgICAgICBcImhlYXRtYXBcIjogXCJDYXJ0ZSBkZSBjaGFsZXVyXCJcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIFwic2V0dGluZ3NEaWFsb2dcIjp7XG4gICAgXCJ0aXRsZVwiOiBcIlBhcmFtZXRyZXNcIixcbiAgICBcImdlbmVyYWxcIjp7XG4gICAgICBcInRpdGxlXCI6IFwiR8OpbsOpcmFsXCIsXG4gICAgICBcImZvbnRTaXplXCI6IFwiVGFpbGxlIGRlIGxhIHBvbGljZVwiLFxuICAgICAgXCJmb250RmFtaWx5XCI6IFwiRmFtaWxsZSBkZSBwb2xpY2VcIixcbiAgICAgIFwiZm9udFdlaWdodFwiOiBcIlBvaWQgZGUgbGEgcG9saWNlXCIsXG4gICAgICBcImZvbnRTdHlsZVwiOiBcIlN0eWxlIGRlIHBvbGljZVwiLFxuICAgICAgXCJudW1iZXJGb3JtYXRMb2NhbGVcIjogXCJmb3JtYXQgbG9jYWwgZGUgbnVtw6lyb3RhdGlvblwiXG4gICAgfSxcbiAgICBcInBheW9mZlwiOntcbiAgICAgIFwidGl0bGVcIjogXCJGb3JtYXQgZGUgbGEgbnVtw6lyb3RhdGlvbiBkZXMgYXZhbnRhZ2VzXCIsXG4gICAgICBcImN1cnJlbmN5XCI6IFwiRGV2aXNlXCIsXG4gICAgICBcImN1cnJlbmN5RGlzcGxheVwiOiBcIkFmZmljaGFnZSBkZSBsYSBkZXZpc2VcIixcbiAgICAgIFwic3R5bGVcIjogXCJTdHlsZVwiLFxuICAgICAgXCJtaW5pbXVtRnJhY3Rpb25EaWdpdHNcIjogXCJOb21icmUgbWluaW11bSBkZSBmcmFjdGlvbnNcIixcbiAgICAgIFwibWF4aW11bUZyYWN0aW9uRGlnaXRzXCI6IFwiTm9tYnJlIG1heGltdW0gZGUgZnJhY3Rpb25zXCIsXG4gICAgICBcInVzZUdyb3VwaW5nXCI6IFwiVXRpbGlzZXIgZGVzIHPDqXBhcmF0ZXVycyBkZSByZWdyb3VwZW1lbnRcIlxuICAgIH0sXG4gICAgXCJwcm9iYWJpbGl0eVwiOntcbiAgICAgIFwidGl0bGVcIjogXCJGb3JtYXQgZGUgbGEgbnVtw6lyb3RhdGlvIGRlcyBwcm9iYWJpbGl0w6lzXCIsXG4gICAgICBcInN0eWxlXCI6IFwiU3R5bGVcIixcbiAgICAgIFwibWluaW11bUZyYWN0aW9uRGlnaXRzXCI6IFwiTm9tYnJlIG1pbmltdW0gZGUgZnJhY3Rpb25zXCIsXG4gICAgICBcIm1heGltdW1GcmFjdGlvbkRpZ2l0c1wiOiBcIk5vbWJyZSBtYXhpbXVtIGRlIGZyYWN0aW9uc1wiLFxuICAgICAgXCJmb250U2l6ZVwiOiBcIlRhaWxsZSBkZSBwb2xpY2VcIixcbiAgICAgIFwiY29sb3JcIjogXCJDb3VsZXVyXCJcbiAgICB9LFxuICAgIFwibm9kZVwiOntcbiAgICAgIFwidGl0bGVcIjogXCJOb3VkXCIsXG4gICAgICBcInN0cm9rZVdpZHRoXCI6IFwiTGFyZ2V1ciBkZSB0cmFpdFwiLFxuICAgICAgXCJvcHRpbWFsXCI6e1xuICAgICAgICBcInRpdGxlXCI6IFwiT3B0aW1hbFwiLFxuICAgICAgICBcInN0cm9rZVwiOiBcIkNvdWxldXJcIixcbiAgICAgICAgXCJzdHJva2VXaWR0aFwiOiBcIkxhcmdldXIgZGUgdHJhaXRcIlxuICAgICAgfSxcbiAgICAgIFwibGFiZWxcIjoge1xuICAgICAgICBcInRpdGxlXCI6IFwiw4l0aXF1ZXR0ZVwiLFxuICAgICAgICBcImZvbnRTaXplXCI6IFwiVGFpbGxlIGRlIGxhIHBvbGljZSBkZSBsJ8OpdGlxdWV0dGVcIixcbiAgICAgICAgXCJjb2xvclwiOiBcIkNvdWxldXIgZGUgbCfDqXRpcXVldHRlXCJcbiAgICAgIH0sXG4gICAgICBcInBheW9mZlwiOiB7XG4gICAgICAgIFwidGl0bGVcIjogXCJBdmFudGFnZVwiLFxuICAgICAgICBcImZvbnRTaXplXCI6IFwiVGFpbGxlIGRlIGxhIHBvbGljZVwiLFxuICAgICAgICBcImNvbG9yXCI6IFwiQ291bGV1clwiLFxuICAgICAgICBcIm5lZ2F0aXZlQ29sb3JcIjogXCJOw6lnYXRpZiBjb3VsZXVyXCJcbiAgICAgIH0sXG4gICAgICBcImRlY2lzaW9uXCI6IHtcbiAgICAgICAgXCJ0aXRsZVwiOiBcIk5vZXVkIGTDqWNpc2lvbm5lbFwiLFxuICAgICAgICBcImZpbGxcIjogXCJMYSBjb3VsZXVyIGRlIHJlbXBsaXNzYWdlXCIsXG4gICAgICAgIFwic3Ryb2tlXCI6IFwiQ291bGV1ciBkZSB0cmFpdFwiLFxuICAgICAgICBcInNlbGVjdGVkXCI6IHtcbiAgICAgICAgICBcImZpbGxcIjogXCJDb3VsZXVyIGRlIHJlbXBsaXNzYWdlIHPDqWxlY3Rpb25uw6llXCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwiY2hhbmNlXCI6IHtcbiAgICAgICAgXCJ0aXRsZVwiOiBcIk5vdWQgYWzDqWF0b2lyZVwiLFxuICAgICAgICBcImZpbGxcIjogXCJMYSBjb3VsZXVyIGRlIHJlbXBsaXNzYWdlXCIsXG4gICAgICAgIFwic3Ryb2tlXCI6IFwiQ291bGV1ciBkZSBjb3Vyc2VcIixcbiAgICAgICAgXCJzZWxlY3RlZFwiOiB7XG4gICAgICAgICAgXCJmaWxsXCI6IFwiQ291bGV1ciBkZSByZW1wbGlzc2FnZSBzw6lsZWN0aW9ubsOpXCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwidGVybWluYWxcIjp7XG4gICAgICAgIFwidGl0bGVcIjogXCJOb2V1ZCB0ZXJtaW5hbFwiLFxuICAgICAgICBcImZpbGxcIjogXCJDb3VsZXVyIGRlIHJlbXBsaXNzYWdlXCIsXG4gICAgICAgIFwic3Ryb2tlXCI6IFwiQ291bGV1ciBkZSBjb3Vyc2VcIixcbiAgICAgICAgXCJzZWxlY3RlZFwiOiB7XG4gICAgICAgICAgXCJmaWxsXCI6IFwiQ291bGV1ciBkZSByZW1wbGlzc2FnZSBzw6lsZWN0aW9ubsOpXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJwYXlvZmZcIjoge1xuICAgICAgICAgIFwidGl0bGVcIjogXCJBdmFudGFnZVwiLFxuICAgICAgICAgIFwiZm9udFNpemVcIjogXCJUYWlsbGUgZGUgbGEgcG9saWNlXCIsXG4gICAgICAgICAgXCJjb2xvclwiOiBcIkNvdWxldXJcIixcbiAgICAgICAgICBcIm5lZ2F0aXZlQ29sb3JcIjogXCJOw6lnYXRpZiBjb3VsZXVyXCJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgXCJlZGdlXCI6e1xuICAgICAgXCJ0aXRsZVwiOiBcIkJvcmRcIixcbiAgICAgIFwic3Ryb2tlXCI6IFwiQ291bGV1clwiLFxuICAgICAgXCJzdHJva2VXaWR0aFwiOiBcIkxhcmdldXIgZGUgdHJhaXRcIixcbiAgICAgIFwib3B0aW1hbFwiOntcbiAgICAgICAgXCJ0aXRsZVwiOiBcIk9wdGltYWxcIixcbiAgICAgICAgXCJzdHJva2VcIjogXCJDb3VsZXVyXCIsXG4gICAgICAgIFwic3Ryb2tlV2lkdGhcIjogXCJMYXJnZXVyIGRlIHRyYWl0XCJcbiAgICAgIH0sXG4gICAgICBcInNlbGVjdGVkXCI6e1xuICAgICAgICBcInRpdGxlXCI6IFwiQ2hvaXNpXCIsXG4gICAgICAgIFwic3Ryb2tlXCI6IFwiQ291bGV1clwiLFxuICAgICAgICBcInN0cm9rZVdpZHRoXCI6IFwiTGFyZ2V1ciBkZSB0cmFpdFwiXG4gICAgICB9LFxuICAgICAgXCJsYWJlbFwiOiB7XG4gICAgICAgIFwidGl0bGVcIjogXCLDiXRpcXVldHRlXCIsXG4gICAgICAgIFwiZm9udFNpemVcIjogXCJUYWlsbGUgZGUgbGEgcG9saWNlXCIsXG4gICAgICAgIFwiY29sb3JcIjogXCJDb3VsZXVyXCJcbiAgICAgIH0sXG4gICAgICBcInBheW9mZlwiOntcbiAgICAgICAgXCJ0aXRsZVwiOiBcIkF2YW50YWdlXCIsXG4gICAgICAgIFwiZm9udFNpemVcIjogXCJUYWlsbGUgZGUgbGEgcG9saWNlXCIsXG4gICAgICAgIFwiY29sb3JcIjogXCJDb3VsZXVyXCIsXG4gICAgICAgIFwibmVnYXRpdmVDb2xvclwiOiBcIk7DqWdhdGlmIGNvdWxldXJcIlxuICAgICAgfVxuICAgIH0sXG4gICAgXCJkaWFncmFtVGl0bGVcIjp7XG4gICAgICBcInRpdGxlXCI6IFwiVGl0cmUgZHUgZGlhZ3JhbW1lXCIsXG4gICAgICBcImZvbnRTaXplXCI6IFwiVGFpbGxlIGRlIGxhIHBvbGljZVwiLFxuICAgICAgXCJmb250V2VpZ2h0XCI6IFwiUG9pZHMgZGUgbGEgcG9saWNlXCIsXG4gICAgICBcImZvbnRTdHlsZVwiOiBcIlN0eWxlIGRlIGxhIHBvbGljZVwiLFxuICAgICAgXCJjb2xvclwiOiBcIkNvdWxldXJcIixcbiAgICAgIFwibWFyZ2luXCI6e1xuICAgICAgICBcInRpdGxlXCI6IFwiTWFyZ2VcIixcbiAgICAgICAgXCJ0b3BcIjogXCJIYXV0IGR1IGRpYWdyYW1tZVwiLFxuICAgICAgICBcImJvdHRvbVwiOiBcIkJhcyBkdSBkaWFncmFtbWVcIlxuICAgICAgfSxcbiAgICAgIFwiZGVzY3JpcHRpb25cIjp7XG4gICAgICAgIFwidGl0bGVcIjogXCJTb3VzLXRpdHJlIChkZXNjcmlwdGlvbiBkdSBkaWFncmFtbWUpXCIsXG4gICAgICAgIFwic2hvd1wiOiBcIkFmZmljaGVyXCIsXG4gICAgICAgIFwiZm9udFNpemVcIjogXCJUYWlsbGUgZGUgbGEgcG9saWNlXCIsXG4gICAgICAgIFwiZm9udFdlaWdodFwiOiBcIlBvaWRzIGRlIGxhIHBvbGljZVwiLFxuICAgICAgICBcImZvbnRTdHlsZVwiOiBcIlN0eWxlIGRlIHBvbGljZVwiLFxuICAgICAgICBcImNvbG9yXCI6IFwiQ291bGV1clwiLFxuICAgICAgICBcIm1hcmdpblRvcFwiOiBcIkhhdXQgZHUgbWFyZ2VcIlxuICAgICAgfVxuICAgIH0sXG4gICAgXCJvdGhlclwiOntcbiAgICAgIFwidGl0bGVcIjogXCJBdXRyZVwiLFxuICAgICAgXCJkaXNhYmxlQW5pbWF0aW9uc1wiOiBcIkTDqXNhY3RpdmVyIGxlcyBhbmltYXRpb25zXCIsXG4gICAgICBcImZvcmNlRnVsbEVkZ2VSZWRyYXdcIjogXCJGb3JjZXIgbGUgcmVkZXNzaW5hZ2UgY29tcGxldCBkZXMgYm9yZHNcIixcbiAgICAgIFwiaGlkZUxhYmVsc1wiOiBcIk1hc3F1ZXIgbGVzIMOpdGlxdWV0dGVzXCIsXG4gICAgICBcImhpZGVQYXlvZmZzXCI6IFwiTWFzcXVlciBsZXMgcGFpZW1lbnRzXCIsXG4gICAgICBcImhpZGVQcm9iYWJpbGl0aWVzXCI6IFwiTWFzcXVlciBsZXMgcHJvYmFiaWxpdMOpc1wiLFxuICAgICAgXCJyYXdcIjogXCJCcnV0XCJcbiAgICB9XG4gIH0sXG4gIFwiYWJvdXREaWFsb2dcIjp7XG4gICAgXCJ0aXRsZVwiOiBcIkEgcHJvcG9zXCJcbiAgfSxcbiAgXCJoZWxwXCI6e1xuICAgIFwiaGVhZGVyXCI6IFwiQWlkZVwiLFxuICAgIFwibW91c2VcIjoge1xuICAgICAgXCJoZWFkZXJcIjpcIkFjdGlvbnMgZGUgbGEgc291cmlzOlwiLFxuICAgICAgXCJsaXN0XCI6e1xuICAgICAgICBcIjFcIjogXCJCb3V0b24gZ2F1Y2hlIGRlIGxhIHNvdXJpczogc8OpbGVjdGlvbiBkdSBub3VkL2JvcmRcIixcbiAgICAgICAgXCIyXCI6IFwiQm91dG9uIGRyb2l0IGRlIGxhIHNvdXJpczogbWVudSBjb250ZXh0dWVsIChham91dC9tYW5pcHVsYXRpb24gZGVzIG5vdWRzKVwiLFxuICAgICAgICBcIjNcIjogXCJEb3VibGUgY2xpYyBnYXVjaGUgZGUgbGEgc291cmlzOiBtZW51IGNvbnRleHR1ZWxcIlxuICAgICAgfVxuICAgIH0sXG4gICAgXCJrZXlib2FyZFwiOiB7XG4gICAgICBcImhlYWRlclwiOlwiUmFjY291cmNpcyBjbGF2aWVyOlwiLFxuICAgICAgXCJsaXN0XCI6e1xuICAgICAgICBcIjFcIjogXCJTdXBwcmltZXI6IGVmZmFjZXIgbGVzIG5vdWRzIHPDqWxlY3Rpb25uw6lzXCIsXG4gICAgICAgIFwiMlwiOiBcIkN0cmwtQy9YOiBjb3BpZXIvY291cGVyIGxlcyBub3VkcyBzw6lsZWN0aW9ubsOpc1wiLFxuICAgICAgICBcIjNcIjogXCJDdHJsLVY6IGNvbGxlciBsZXMgbm91ZHMgY29wacOpcyBjb21tZSB1biBzb3VzLWFyYnJlIGQndW4gbm91ZCBzw6lsZWN0aW9ubsOpXCIsXG4gICAgICAgIFwiNFwiOiBcIkN0cmwtWS9aOiBhbm51bGVyL3JlZmFpcmVcIixcbiAgICAgICAgXCI1XCI6IFwiQ3RybC1BbHQtRC9DL1Q6IGFqb3V0ZXIgdW4gbm91dmVhdSBzb3VzLW5vdWQgZGUgZMOpY2lzaW9uL2Fsw6lhdG9pcmUvdGVybWluYWwgZCd1biA8c3Ryb25nPm5vdWQgc8OpbGVjdGlvbm7DqTwvc3Ryb25nPlwiLFxuICAgICAgICBcIjZcIjogXCJDdHJsLUFsdC1EL0M6IGluamVjdGVyIHVuIG5vdXZlYXUgbm9ldWQgZGUgZMOpY2lzaW9uL2Fsw6lhdG9pcmUgZGFucyB1biA8c3Ryb25nPmJvcmQgc8OpbGVjdGlvbm7DqTwvc3Ryb25nPlwiXG4gICAgICB9XG4gICAgfSxcbiAgICBcImRvY3NcIjogXCJMYSBkb2N1bWVudGF0aW9uIGRlIFNpbHZlckRlY2lzaW9ucyBlc3QgZGlzcG9uaWJsZSAgPGEgaHJlZj1cXFwiaHR0cHM6Ly9naXRodWIuY29tL1NpbHZlckRlY2lzaW9ucy9TaWx2ZXJEZWNpc2lvbnMvd2lraS9Eb2N1bWVudGF0aW9uXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+aWNpPC9hPlwiXG4gIH0sXG4gIFwiZGVmaW5pdGlvbnNEaWFsb2dcIjp7XG4gICAgXCJ0aXRsZVwiOiBcIkTDqWZpbml0aW9ucyBkZXMgdmFyaWFibGVzXCIsXG4gICAgXCJidXR0b25zXCI6e1xuICAgICAgXCJyZWNhbGN1bGF0ZVwiOiBcIlJlY2FsY3VsZXJcIlxuICAgIH0sXG4gICAgXCJldmFsdWF0ZWRWYXJpYWJsZXNcIjogXCJWYXJpYWJsZXMgw6l2YWx1w6llc1wiXG4gIH0sXG4gIFwic2lkZWJhckRlZmluaXRpb25zXCI6e1xuICAgIFwiaGVhZGVyXCI6IFwiVmFyaWFibGVzXCIsXG4gICAgXCJjb2RlXCI6IFwiQ29kZVwiLFxuICAgIFwiYnV0dG9uc1wiOntcbiAgICAgIFwib3BlbkRpYWxvZ1wiIDogXCJPdXZyaXIgbGEgYm/DrnRlIGRlIGRpYWxvZ3VlXCIsXG4gICAgICBcInJlY2FsY3VsYXRlXCI6IFwiUmVjYWxjdWxlclwiXG4gICAgfSxcbiAgICBcImV2YWx1YXRlZFZhcmlhYmxlc1wiOiBcIlZhcmlhYmxlcyDDqXZhbHXDqWVzXCJcbiAgfSxcbiAgXCJsYXlvdXRPcHRpb25zXCI6e1xuICAgIFwiaGVhZGVyXCI6IFwiRGlzcG9zaXRpb25cIixcbiAgICBcIm1hcmdpbkhvcml6b250YWxcIjogXCJNYXJnZSBob3Jpem9udGFsZVwiLFxuICAgIFwibWFyZ2luVmVydGljYWxcIjogXCJNYXJnZSB2ZXJ0aWNhbGVcIixcbiAgICBcIm5vZGVTaXplXCI6IFwiVGFpbGxlIGR1IG5vZXVkXCIsXG4gICAgXCJlZGdlU2xhbnRXaWR0aE1heFwiOiBcIkluY2xpbmFpc29uIGR1IGJvcmQgKG1heC4pXCIsXG4gICAgXCJncmlkV2lkdGhcIjogXCJMYXJnZXVyXCIsXG4gICAgXCJncmlkSGVpZ2h0XCI6IFwiVGFpbGxlXCJcbiAgfSxcbiAgXCJkaWFncmFtRGV0YWlsc1wiOntcbiAgICBcImhlYWRlclwiOiBcIkTDqXRhaWxzXCIsXG4gICAgXCJ0aXRsZVwiIDogXCJUaXRyZVwiLFxuICAgIFwiZGVzY3JpcHRpb25cIiA6IFwiRGVzY3JpcHRpb25cIlxuICB9LFxuICBcIm9iamVjdFByb3BlcnRpZXNcIjp7XG4gICAgXCJoZWFkZXJcIjp7XG4gICAgICBcIm5vZGVcIjp7XG4gICAgICAgIFwiZGVjaXNpb25cIjpcIk5vZXVkIGRlIGTDqWNpc2lvblwiLFxuICAgICAgICBcImNoYW5jZVwiOlwiTm91ZCBhbMOpYXRvaXJlXCIsXG4gICAgICAgIFwidGVybWluYWxcIjpcIk5vZXVkIHRlcm1pbmFsXCJcbiAgICAgIH0sXG4gICAgICBcImVkZ2VcIjogXCJCb3JkXCIsXG4gICAgICBcInRleHRcIjogXCJUZXh0ZSBmbG90dGFudFwiXG4gICAgfSxcbiAgICBcImNoaWxkcmVuUHJvcGVydGllc1wiOntcbiAgICAgIFwibm9kZVwiOntcbiAgICAgICAgXCJoZWFkZXJcIjogXCJMZXMgY29ubmV4aW9uc1wiLFxuICAgICAgICBcImNoaWxkXCI6IHtcbiAgICAgICAgICBcImhlYWRlclwiOiBcIkJvcmQgI3t7bnVtYmVyfX1cIlxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBcInZhbGlkYXRpb25cIjp7XG4gICAgXCJpbmNvbXBsZXRlUGF0aFwiOiBcIlBhcmNvdXJzIG5vbiB0ZXJtaW7DqSBwYXIgbm9ldWQgdGVybWluYWxcIixcbiAgICBcInByb2JhYmlsaXR5RG9Ob3RTdW1VcFRvMVwiOiBcIkxhIHNvbW1lIGRlcyBwcm9iYWJpbGl0w6lzIG4nZXN0IHBhcyAxIG91IHBsdXNcIixcbiAgICBcImludmFsaWRQcm9iYWJpbGl0eVwiOiBcIlByb2JhYmlsaXTDqSBpbnZhbGlkZSAtIGxlIGJvcmQgI3t7bnVtYmVyfX1cIixcbiAgICBcImludmFsaWRQYXlvZmZcIjogXCJBdmFudGFnZSBpbnZhbGlkZSAtIGxlIGJvcmQgI3t7bnVtYmVyfX1cIlxuICB9LFxuICBcImdyb3dsXCI6e1xuICAgIFwiYnJ1c2hEaXNhYmxlZFwiOiBcIkJyb3NzZSBkZSBzw6lsZWN0aW9uIGTDqXNhY3RpdsOpZVwiLFxuICAgIFwiYnJ1c2hFbmFibGVkXCI6IFwiQnJvc3NlIGRlIHPDqWxlY3Rpb24gYWN0aXbDqWVcIlxuICB9LFxuICBcInRvb2x0aXBcIjp7XG4gICAgXCJub2RlXCI6e1xuICAgICAgXCJwYXlvZmZcIjogXCJBdmFudGFnZVwiLFxuICAgICAgXCJhZ2dyZWdhdGVkUGF5b2ZmXCI6IFwiQXZhbnRhZ2UgYWdyw6lnw6lcIixcbiAgICAgIFwicHJvYmFiaWxpdHlUb0VudGVyXCI6IFwiUHJvYmFiaWxpdMOpIGQnZW50csOpZVwiXG4gICAgfSxcbiAgICBcImVkZ2VcIjp7XG4gICAgICBcInBheW9mZlwiOiBcIkF2YW50YWdlOiB7e3ZhbHVlfX1cIixcbiAgICAgIFwicHJvYmFiaWxpdHlcIjogXCJQcm9iYWJpbGl0w6k6IHt7dmFsdWV9fVwiXG4gICAgfVxuICB9LFxuICBcImNvbmZpcm1cIjp7XG4gICAgXCJuZXdEaWFncmFtXCI6IFwiVm91bGV6LXZvdXMgdnJhaW1lbnQgZWZmYWNlciBsZSBkaWFncmFtbWUgYWN0dWVsPyBUb3V0ZXMgbGVzIGRvbm7DqWVzIG5vbiBlbnJlZ2lzdHLDqWVzIHNlcm9udCBwZXJkdWVzLlwiLFxuICAgIFwib3BlbkRpYWdyYW1cIjogXCJFdGVzLXZvdXMgc3VyPyBUb3V0ZXMgbGVzIGRvbm7DqWVzIGRlIGRpYWdyYW1tZSBub24gZW5yZWdpc3Ryw6llcyBzZXJvbnQgcGVyZHVlcy5cIixcbiAgICBcImJlZm9yZXVubG9hZFwiOiBcIlZvdWxlei12b3VzIHZyYWltZW50IGZlcm1lciBTaWx2ZXJEZWNpc2lvbnM/IFRvdXRlcyBsZXMgZG9ubsOpZXMgZGUgZGlhZ3JhbW1lIG5vbiBlbnJlZ2lzdHLDqWVzIHNlcm9udCBwZXJkdWVzLlwiXG4gIH0sXG4gIFwiZXJyb3JcIjp7XG4gICAgXCJqc29uUGFyc2VcIjogXCJFcnJldXIgbG9ycyBkZSBsJ2FuYWx5c2UgZHUgZmljaGllciFcIixcbiAgICBcImZpbGVBcGlOb3RTdXBwb3J0ZWRcIjpcIkwnQVBJIGR1IGZpY2hpZXIgbidlc3QgcGFzIGVuY29yZSBwcmlzZSBlbiBjaGFyZ2Ugc3VyIGNlIG5hdmlnYXRldXIuXCIsXG4gICAgXCJpbnB1dEZpbGVzUHJvcGVydHlcIjpcIlZvdHJlIG5hdmlnYXRldXIgbmUgc2VtYmxlIHBhcyBwcmVuZHJlIGVuIGNoYXJnZSBsYSBwcm9wcmnDqXTDqSBgZmljaGllcnNgLlwiLFxuICAgIFwibm90U2lsdmVyRGVjaXNpb25zRmlsZVwiOlwiUGFzIGRlIGZpY2hpZXJzIFNpbHZlckRlY2lzaW9ucyFcIixcbiAgICBcImluY29ycmVjdFZlcnNpb25Gb3JtYXRcIjogXCJGb3JtYXQgaW5jb3JyZWN0IGRlIGxhIGNoYcOubmUgZGUgdmVyc2lvbiFcIixcbiAgICBcImZpbGVWZXJzaW9uTmV3ZXJUaGFuQXBwbGljYXRpb25WZXJzaW9uXCI6IFwiTGEgdmVyc2lvbiBkYW5zIGxlIGZpY2hpZXIgZXN0IHBsdXMgcsOpY2VudGUgcXVlIGxhIHZlcnNpb24gZGUgbCdhcHBsaWNhdGlvbi4gQ2VydGFpbmVzIGZvbmN0aW9ubmFsaXTDqXMgcGV1dmVudCDDqnRyZSBtYW5xdWFudGVzLlwiLFxuICAgIFwib2JqZWN0aXZlQ29tcHV0YXRpb25GYWlsdXJlXCI6IFwiRXJyZXVyIGVuIGNhbGN1bGFudCBsJ29iamVjdGlmIVwiLFxuICAgIFwiZGlhZ3JhbURyYXdpbmdGYWlsdXJlXCI6IFwiRXJyZXVyIGxvcnMgZHUgZGVzc2luIGRpYWdyYW1tZSFcIixcbiAgICBcIm1hbGZvcm1lZERhdGFcIjpcIkVycmV1ciBsb3JzIGRlIGxhIGxlY3R1cmUgZGVzIGRvbm7DqWVzIGFyYm9yZXNjZW50ZXMhXCIsXG4gICAgXCJwbmdFeHBvcnROb3RTdXBwb3J0ZWRcIjogXCJMJ2V4cG9ydGF0aW9uIHZlcnMgUE5HIG4nZXN0IHBhcyBwcmlzZSBlbiBjaGFyZ2UgZGFucyB2b3RyZSBuYXZpZ2F0ZXVyLlwiLFxuICAgIFwicG5nRXhwb3J0Tm90U3VwcG9ydGVkSUVcIjogXCJFeHBvcnRlciB2ZXJzIFBORyBuJ2VzdCBwYXMgcHJpcyBlbiBjaGFyZ2UgZGFucyBJbnRlcm5ldCBFeHBsb3Jlci5cIixcbiAgICBcInN2Z0V4cG9ydE5vdFN1cHBvcnRlZFwiOiBcIkwnZXhwb3J0YXRpb24gdmVycyBTVkcgbidlc3QgcGFzIHByaXNlIGVuIGNoYXJnZSBwYXIgdm90cmUgbmF2aWdhdGV1ci5cIixcbiAgICBcInBkZkV4cG9ydE5vdFN1cHBvcnRlZFwiOiBcIkwnZXhwb3J0YXRpb24gYXUgZm9ybWF0IFBERiBuJ2VzdCBwYXMgcHJpc2UgZW4gY2hhcmdlIHBhciB2b3RyZSBuYXZpZ2F0ZXVyLlwiLFxuICAgIFwiaW5jb3JyZWN0UGF5b2ZmTnVtYmVyRm9ybWF0T3B0aW9uc1wiOiBcIkwnb3B0aW9uIGRlIGZvcm1hdCBkZSBudW3DqXJvdGF0aW9uIGRlcyBhdmFudGFnZXMgY2hpb3NpZSBlc3QgaW5jb3JyZWN0ZS5cIixcbiAgICBcImluY29ycmVjdFByb2JhYmlsaXR5TnVtYmVyRm9ybWF0T3B0aW9uc1wiOiBcIkwnb3B0aW9uIGRlIGZvcm1hdCBkZSBudW3DqXJvdGF0aW9uIGRlcyBwcm9iYWJpbGl0w6lzIGNoaW9zaWUgZXN0IGluY29ycmVjdGUuXCIsXG4gICAgXCJpbmNvcnJlY3ROdW1iZXJGb3JtYXRPcHRpb25zXCI6IFwiTCdvcHRpb24gZGUgZm9ybWF0IGRlIG51bcOpcm90YXRpb24gY2hvaXNpZSBlc3QgaW5jb3JyZWN0ZS5cIixcbiAgICBcImpzUERGaXNOb3RJbmNsdWRlZFwiOiBcIkpzUERGIG4nZXN0IHBhcyBpbmNsdXMhXCIsXG4gICAgXCJzZXJ2ZXJTaWRlRXhwb3J0UmVxdWVzdEZhaWx1cmVcIjogXCJMYSBkZW1hbmRlIGRlIHTDqWzDqWNoYXJnZW1lbnQgYXUgc2VydmV1ciBhIMOpY2hvdcOpIVwiXG4gIH1cbn1cbiIsImltcG9ydCBpMThuZXh0IGZyb20gJ2kxOG5leHQnO1xuaW1wb3J0ICogYXMgZW4gZnJvbSAnLi9lbi5qc29uJ1xuaW1wb3J0ICogYXMgcGwgZnJvbSAnLi9wbC5qc29uJ1xuaW1wb3J0ICogYXMgaXQgZnJvbSAnLi9pdC5qc29uJ1xuaW1wb3J0ICogYXMgZGUgZnJvbSAnLi9kZS5qc29uJ1xuaW1wb3J0ICogYXMgZnIgZnJvbSAnLi9mci5qc29uJ1xuXG5leHBvcnQgY2xhc3MgaTE4bntcblxuICAgIHN0YXRpYyBsYW5ndWFnZTtcblxuICAgIHN0YXRpYyBpbml0KGxuZyl7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaTE4bi5sYW5ndWFnZSA9IGxuZztcbiAgICAgICAgaTE4bmV4dC5pbml0KHtcbiAgICAgICAgICAgIGxuZzogbG5nLFxuICAgICAgICAgICAgZmFsbGJhY2tMbmc6ICdlbicsXG4gICAgICAgICAgICByZXNvdXJjZXM6IHtcbiAgICAgICAgICAgICAgICBlbjoge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbjogZW5cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHBsOiB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uOiBwbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb246IGl0XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkZToge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbjogZGVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZyOiB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uOiBmclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgKGVyciwgdCkgPT4ge1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgdChrZXksIG9wdCl7XG4gICAgICAgIHJldHVybiBpMThuZXh0LnQoa2V5LCBvcHQpXG4gICAgfVxufVxuIiwibW9kdWxlLmV4cG9ydHM9e1xuICBcInRvb2xiYXJcIjoge1xuICAgIFwibmV3RGlhZ3JhbVwiOiBcIk51b3ZvIGRpYWdyYW1tYVwiLFxuICAgIFwib3BlbkRpYWdyYW1cIjogXCJBcHJpIGRpYWdyYW1tYSBlc2lzdG50ZVwiLFxuICAgIFwic2F2ZURpYWdyYW1cIjogXCJTYWx2YSBpbCBkaWFncmFtbWEgY29yZW50ZVwiLFxuICAgIFwiZXhwb3J0XCI6e1xuICAgICAgXCJsYWJlbFwiOiBcIkVzcG9ydGEgaW5cIixcbiAgICAgIFwicG5nXCI6IFwiUG5nXCIsXG4gICAgICBcInN2Z1wiOiBcIlN2Z1wiLFxuICAgICAgXCJwZGZcIjogXCJQZGZcIlxuICAgIH0sXG4gICAgXCJsYXlvdXRcIjp7XG4gICAgICBcImxhYmVsXCI6IFwiRGlzcG9zaXppb25lXCIsXG4gICAgICBcIm1hbnVhbFwiOiBcIk1hbnVhbGVcIixcbiAgICAgIFwidHJlZVwiOiBcIkFsYmVyb1wiLFxuICAgICAgXCJjbHVzdGVyXCI6IFwiR3JhcHBvbG9cIlxuICAgIH0sXG4gICAgXCJvYmplY3RpdmVSdWxlXCI6e1xuICAgICAgXCJsYWJlbFwiOiBcIlJlZ29sYVwiLFxuICAgICAgXCJvcHRpb25zXCI6IHtcbiAgICAgICAgXCJleHBlY3RlZC12YWx1ZS1tYXhpbWl6YXRpb25cIjpcIm1heFwiLFxuICAgICAgICBcImV4cGVjdGVkLXZhbHVlLW1pbmltaXphdGlvblwiOlwibWluXCIsXG4gICAgICAgIFwibWF4aS1taW5cIjpcIm1heC1taW5cIixcbiAgICAgICAgXCJtYXhpLW1heFwiOlwibWF4LW1heFwiLFxuICAgICAgICBcIm1pbmktbWluXCI6XCJtaW4tbWluXCIsXG4gICAgICAgIFwibWluaS1tYXhcIjpcIm1pbi1tYXhcIlxuICAgICAgfVxuICAgIH0sXG4gICAgXCJ1bmRvXCI6IFwiUmlwcmlzdGluYVwiLFxuICAgIFwicmVkb1wiOiBcIlJpcGV0aVwiLFxuICAgIFwic2V0dGluZ3NcIjogXCJTZXR0YWdnaVwiLFxuICAgIFwiYWJvdXRcIjogXCJEaVwiLFxuICAgIFwicmVjb21wdXRlXCI6IFwiUmljYWxjb2xhXCJcbiAgfSxcbiAgXCJub2RlXCI6e1xuICAgIFwibmFtZVwiOiBcIkV0aWNoZXR0YVwiXG4gIH0sXG4gIFwiZWRnZVwiOntcbiAgICBcIm5hbWVcIjogXCJFdGljZWh0dGFcIixcbiAgICBcInBheW9mZlwiOiBcIlNhbGRvXCIsXG4gICAgXCJwcm9iYWJpbGl0eVwiOiBcIlByb2JhYmlsaXTDoFwiXG5cbiAgfSxcbiAgXCJ0ZXh0XCI6e1xuICAgIFwidmFsdWVcIjogXCJUZXN0b1wiXG4gIH0sXG4gIFwiY29udGV4dE1lbnVcIjp7XG4gICAgXCJtYWluXCI6e1xuICAgICAgXCJhZGREZWNpc2lvbk5vZGVcIjogXCJBZ2dpdW5naSB1biBub2RvIGRpIGRlY2lzaW9uZVwiLFxuICAgICAgXCJhZGRDaGFuY2VOb2RlXCI6IFwiQWdnaXVuZ2kgdW4gbm9kbyBvcHBvcnR1bml0w6BcIixcbiAgICAgIFwiYWRkVGV4dFwiOiBcIkFnZ2l1bmdpIHRlc3RvXCIsXG4gICAgICBcInBhc3RlXCI6IFwiSW5jb2xsYVwiLFxuICAgICAgXCJzZWxlY3RBbGxOb2Rlc1wiOiBcIlNlbGV6aW9uYSB0dXR0aSBpIG5vZGlcIlxuICAgIH0sXG4gICAgXCJub2RlXCI6e1xuICAgICAgXCJjb3B5XCI6IFwiQ29waWFcIixcbiAgICAgIFwiY3V0XCI6IFwiVGFnbGlhXCIsXG4gICAgICBcInBhc3RlXCI6IFwiSW5jb2xsYVwiLFxuICAgICAgXCJkZWxldGVcIjogXCJDYW5jZWxsYVwiLFxuICAgICAgXCJhZGREZWNpc2lvbk5vZGVcIjogXCJBZ2dpdW5naSB1biBub2RvIGRpIGRlY2lzaW9uZVwiLFxuICAgICAgXCJhZGRDaGFuY2VOb2RlXCI6IFwiQWdnaXVuZ2kgdW4gbm9kbyBvcHBvcnR1bml0w6BcIixcbiAgICAgIFwiYWRkVGVybWluYWxOb2RlXCI6IFwiQWdnaXVuZ2kgdW4gbm9kbyB0ZXJtaW5hbGVcIixcbiAgICAgIFwiY29udmVydFwiOntcbiAgICAgICAgXCJkZWNpc2lvblwiOiBcIkNvbWUgRGVjaXNpb24gTm9kZVwiLFxuICAgICAgICBcImNoYW5jZVwiOiBcIkNvbWUgQ2hhbmNlIE5vZGVcIixcbiAgICAgICAgXCJ0ZXJtaW5hbFwiOiBcIkNvbWUgVGVybWluYWwgTm9kZVwiXG5cbiAgICAgIH0sXG5cbiAgICAgIFwic2VsZWN0U3VidHJlZVwiOiBcIlNlbGV6aW9uYSBTb3R0by1hbGJlcm9cIixcbiAgICAgIFwiZmxpcFN1YnRyZWVcIjogXCJSaWJhbHRhIHNvdHRvLWFsYmVyb1wiXG4gICAgfSxcbiAgICBcImVkZ2VcIjp7XG4gICAgICBcImluamVjdERlY2lzaW9uTm9kZVwiOiBcIkluaWV0dGEgbm9kbyBkaSBkZWNpc2lvbmVcIixcbiAgICAgIFwiaW5qZWN0Q2hhbmNlTm9kZVwiOiBcIkluaWV0dGEgbm9kbyBvcHBvcnR1bml0w6BcIlxuICAgIH0sXG4gICAgXCJ0ZXh0XCI6e1xuICAgICAgXCJkZWxldGVcIjogXCJDYW5jZWxsYVwiXG4gICAgfVxuICB9LFxuICBcImpvYlJlc3VsdFRhYmxlXCI6e1xuICAgIFwidG9vbHRpcFwiOiB7XG4gICAgICBcIm11bHRpcGxlUG9saWNpZXNJbkNlbGxcIjogXCJ7e251bWJlcn19IHBvbGljaWVzXCJcbiAgICB9LFxuICAgIFwicGl2b3RcIjoge1xuICAgICAgXCJhZ2dyZWdhdG9yc1wiOntcbiAgICAgICAgXCJtYXhpbXVtXCI6IFwiTWFzc2ltb1wiLFxuICAgICAgICBcIm1pbmltdW1cIjogXCJNaW5pbW9cIlxuICAgICAgfSxcbiAgICAgIFwicmVuZGVyZXJzXCI6e1xuICAgICAgICBcImhlYXRtYXBcIjogXCJNYXBwYSBkaSBjYWxvcmVcIlxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgXCJzZXR0aW5nc0RpYWxvZ1wiOntcbiAgICBcInRpdGxlXCI6IFwiU2V0dGFnZ2lcIixcbiAgICBcImdlbmVyYWxcIjp7XG4gICAgICBcInRpdGxlXCI6IFwiR2VuZXJhbGVcIixcbiAgICAgIFwiZm9udFNpemVcIjogXCJEaW1lbnNpb25lIGZvbnRcIixcbiAgICAgIFwiZm9udEZhbWlseVwiOiBcIkZhbWlnbGlhIGZvbnRcIixcbiAgICAgIFwiZm9udFdlaWdodFwiOiBcIlBlc28gZGVsIGZvbnRcIixcbiAgICAgIFwiZm9udFN0eWxlXCI6IFwiU3RpbGUgZm9udFwiLFxuICAgICAgXCJudW1iZXJGb3JtYXRMb2NhbGVcIjogXCJGb3JtYXRvIG51bWVybyBsb2NhbGVcIlxuICAgIH0sXG4gICAgXCJwYXlvZmZcIjp7XG4gICAgICBcInRpdGxlXCI6IFwiRm9ybWF0byBzYWxkb1wiLFxuICAgICAgXCJjdXJyZW5jeVwiOiBcIlZhbHV0YVwiLFxuICAgICAgXCJjdXJyZW5jeURpc3BsYXlcIjogXCJWaXN1YWxpenphemlvbmUgdmFsdXRhXCIsXG4gICAgICBcInN0eWxlXCI6IFwiU3RpbGVcIixcbiAgICAgIFwibWluaW11bUZyYWN0aW9uRGlnaXRzXCI6IFwiTnVtZXJvIG1pbmltbyBjaWZyZSBmcmF6aW9uZVwiLFxuICAgICAgXCJtYXhpbXVtRnJhY3Rpb25EaWdpdHNcIjogXCJOdW1lcm8gbWFzc2ltbyBjaWZyZSBmcmF6aW9uZVwiLFxuICAgICAgXCJ1c2VHcm91cGluZ1wiOiBcIlVzYSBzZXBhcmF0b3JpIGRpIGdydXBwb1wiXG4gICAgfSxcbiAgICBcInByb2JhYmlsaXR5XCI6e1xuICAgICAgXCJ0aXRsZVwiOiBcIkZvcm1hdG8gcHJvYmFiaWxpdMOgXCIsXG4gICAgICBcInN0eWxlXCI6IFwiU3RpbGVcIixcbiAgICAgIFwibWluaW11bUZyYWN0aW9uRGlnaXRzXCI6IFwiTnVtZXJvIG1pbmltbyBjaWZyZSBmcmF6aW9uZVwiLFxuICAgICAgXCJtYXhpbXVtRnJhY3Rpb25EaWdpdHNcIjogXCJOdW1lcm8gbWFzc2ltbyBjaWZyZSBmcmF6aW9uZVwiLFxuICAgICAgXCJmb250U2l6ZVwiOiBcIkRpbWVuc2lvbmUgZm9udFwiLFxuICAgICAgXCJjb2xvclwiOiBcIkNvbG9yZVwiXG4gICAgfSxcbiAgICBcIm5vZGVcIjp7XG4gICAgICBcInRpdGxlXCI6IFwiTm9kb1wiLFxuICAgICAgXCJzdHJva2VXaWR0aFwiOiBcIlNwZXNzb3JlIGxpbmVhXCIsXG4gICAgICBcIm9wdGltYWxcIjp7XG4gICAgICAgIFwidGl0bGVcIjogXCJPdHRpbWFsZVwiLFxuICAgICAgICBcInN0cm9rZVwiOiBcIkNvbG9yZVwiLFxuICAgICAgICBcInN0cm9rZVdpZHRoXCI6IFwiU3Blc3NvcmUgbGluZWFcIlxuICAgICAgfSxcbiAgICAgIFwibGFiZWxcIjoge1xuICAgICAgICBcInRpdGxlXCI6IFwiRXRpY2hldHRhXCIsXG4gICAgICAgIFwiZm9udFNpemVcIjogXCJEaW1lbnNpb25lIGZvbnQgZXRpY2hldHRhXCIsXG4gICAgICAgIFwiY29sb3JcIjogXCJDb2xvcmUgZXRpY2hldHRhXCJcbiAgICAgIH0sXG4gICAgICBcInBheW9mZlwiOiB7XG4gICAgICAgIFwidGl0bGVcIjogXCJTYWxkb1wiLFxuICAgICAgICBcImZvbnRTaXplXCI6IFwiRGltZW5zaW9uZSBmb250XCIsXG4gICAgICAgIFwiY29sb3JcIjogXCJDb2xvcmVcIixcbiAgICAgICAgXCJuZWdhdGl2ZUNvbG9yXCI6IFwiQ29sb3JlIG5lZ2F0aXZvXCJcbiAgICAgIH0sXG4gICAgICBcImRlY2lzaW9uXCI6IHtcbiAgICAgICAgXCJ0aXRsZVwiOiBcIk5vZG8gZGljaXNpb25lXCIsXG4gICAgICAgIFwiZmlsbFwiOiBcIkNvbG9yZSByaWVtcGltZW50b1wiLFxuICAgICAgICBcInN0cm9rZVwiOiBcIkNvbG9yZSBsaW5lYVwiLFxuICAgICAgICBcInNlbGVjdGVkXCI6IHtcbiAgICAgICAgICBcImZpbGxcIjogXCJDb2xvcmUgcmllbXBpbWVudG8gc2VsZXppb25hdG9cIlxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJjaGFuY2VcIjoge1xuICAgICAgICBcInRpdGxlXCI6IFwiTm9kbyBvcHBvcnR1bml0w6BcIixcbiAgICAgICAgXCJmaWxsXCI6IFwiQ29sb3JlIHJpZW1waW1lbnRvXCIsXG4gICAgICAgIFwic3Ryb2tlXCI6IFwiQ29sb3JlIGxpbmVhXCIsXG4gICAgICAgIFwic2VsZWN0ZWRcIjoge1xuICAgICAgICAgIFwiZmlsbFwiOiBcIkNvbG9yZSByaWVtcGltZW50byBzZWxlemlvbmF0b1wiXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcInRlcm1pbmFsXCI6e1xuICAgICAgICBcInRpdGxlXCI6IFwiTm9kbyB0ZXJtaW5hbGVcIixcbiAgICAgICAgXCJmaWxsXCI6IFwiQ29sb3JlIHJpZW1waW1lbnRvXCIsXG4gICAgICAgIFwic3Ryb2tlXCI6IFwiQ29sb3JlIGxpbmVhXCIsXG4gICAgICAgIFwic2VsZWN0ZWRcIjoge1xuICAgICAgICAgIFwiZmlsbFwiOiBcIkNvbG9yZSByaWVtcGltZW50byBzZWxlemlvbmF0b1wiXG4gICAgICAgIH0sXG4gICAgICAgIFwicGF5b2ZmXCI6IHtcbiAgICAgICAgICBcInRpdGxlXCI6IFwiU2FsZG9cIixcbiAgICAgICAgICBcImZvbnRTaXplXCI6IFwiRGltZW5zaW9uZSBmb250XCIsXG4gICAgICAgICAgXCJjb2xvclwiOiBcIkNvbG9yZVwiLFxuICAgICAgICAgIFwibmVnYXRpdmVDb2xvclwiOiBcIkNvbG9yZSBuZWdhdGl2b1wiXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIFwiZWRnZVwiOntcbiAgICAgIFwidGl0bGVcIjogXCJSYW1vXCIsXG4gICAgICBcInN0cm9rZVwiOiBcIkNvbG9yZVwiLFxuICAgICAgXCJzdHJva2VXaWR0aFwiOiBcIkxhcmdoZXp6YSBsaW5lYVwiLFxuICAgICAgXCJvcHRpbWFsXCI6e1xuICAgICAgICBcInRpdGxlXCI6IFwiT3R0aW1hbGVcIixcbiAgICAgICAgXCJzdHJva2VcIjogXCJDb2xvcmVcIixcbiAgICAgICAgXCJzdHJva2VXaWR0aFwiOiBcIkxhcmdoZXp6YSBsaW5lYVwiXG4gICAgICB9LFxuICAgICAgXCJzZWxlY3RlZFwiOntcbiAgICAgICAgXCJ0aXRsZVwiOiBcIlNlbGV6aW9uYXRvXCIsXG4gICAgICAgIFwic3Ryb2tlXCI6IFwiQ29sb3JlXCIsXG4gICAgICAgIFwic3Ryb2tlV2lkdGhcIjogXCJMYXJnaGV6emEgbGluZWFcIlxuICAgICAgfSxcbiAgICAgIFwibGFiZWxcIjoge1xuICAgICAgICBcInRpdGxlXCI6IFwiRXRpY2hldHRhXCIsXG4gICAgICAgIFwiZm9udFNpemVcIjogXCJEaW1lbnNpb25lIGZvbnRcIixcbiAgICAgICAgXCJjb2xvclwiOiBcIkNvbG9yZVwiXG4gICAgICB9LFxuICAgICAgXCJwYXlvZmZcIjp7XG4gICAgICAgIFwidGl0bGVcIjogXCJTYWxkb1wiLFxuICAgICAgICBcImZvbnRTaXplXCI6IFwiRGltZW5zaW9uZSBmb250XCIsXG4gICAgICAgIFwiY29sb3JcIjogXCJDb2xvcmVcIixcbiAgICAgICAgXCJuZWdhdGl2ZUNvbG9yXCI6IFwiQ29sb3JlIG5lZ2F0aXZvXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIFwiZGlhZ3JhbVRpdGxlXCI6e1xuICAgICAgXCJ0aXRsZVwiOiBcIlRpdG9sbyBkaWFncmFtbWFcIixcbiAgICAgIFwiZm9udFNpemVcIjogXCJEaW1lbnNpb25lIGZvbnRcIixcbiAgICAgIFwiZm9udFdlaWdodFwiOiBcIlBlc28gZGVsIGZvbnRcIixcbiAgICAgIFwiZm9udFN0eWxlXCI6IFwiU3RpbGUgZm9udFwiLFxuICAgICAgXCJjb2xvclwiOiBcIkNvbG9yZVwiLFxuICAgICAgXCJtYXJnaW5cIjp7XG4gICAgICAgIFwidGl0bGVcIjogXCJNYXJnaW5lXCIsXG4gICAgICAgIFwidG9wXCI6IFwiU3VwZXJpb3JlXCIsXG4gICAgICAgIFwiYm90dG9tXCI6IFwiSW5mZXJpb3JlXCJcbiAgICAgIH0sXG4gICAgICBcImRlc2NyaXB0aW9uXCI6e1xuICAgICAgICBcInRpdGxlXCI6IFwiU290dG8tdGl0b2xvIChkZXNjcml6aW9uZSBkaWFncmFtbWEpXCIsXG4gICAgICAgIFwic2hvd1wiOiBcIk1vc3RyYVwiLFxuICAgICAgICBcImZvbnRTaXplXCI6IFwiRGltZW5zaW9uZSBmb250XCIsXG4gICAgICAgIFwiZm9udFdlaWdodFwiOiBcIlBlc28gZGVsIGZvbnRcIixcbiAgICAgICAgXCJmb250U3R5bGVcIjogXCJTdGlsZSBmb250XCIsXG4gICAgICAgIFwiY29sb3JcIjogXCJDb2xvcmVcIixcbiAgICAgICAgXCJtYXJnaW5Ub3BcIjogXCJNYXJnaW5lIHN1cGVyaW9yZVwiXG4gICAgICB9XG4gICAgfSxcbiAgICBcIm90aGVyXCI6e1xuICAgICAgXCJ0aXRsZVwiOiBcIkFsdHJvXCIsXG4gICAgICBcImRpc2FibGVBbmltYXRpb25zXCI6IFwiRGlzYWJpbGl0YSBhbmltYXppb25lXCIsXG4gICAgICBcImZvcmNlRnVsbEVkZ2VSZWRyYXdcIjogXCJGb3J6YSByaWRpc2Vnbm8gZGVpIHJhbWlcIixcbiAgICAgIFwiaGlkZUxhYmVsc1wiOiBcIk5hc2NvbmRpIGxlIGV0aWNoZXR0ZVwiLFxuICAgICAgXCJoaWRlUGF5b2Zmc1wiOiBcIk5hc2NvbmRpIHNhbGRvXCIsXG4gICAgICBcImhpZGVQcm9iYWJpbGl0aWVzXCI6IFwiTmFzY29uZGkgbGUgcHJvYmFiaWxpdMOgXCIsXG4gICAgICBcInJhd1wiOiBcIk5vbiBlbGFib3JhdG9cIlxuICAgIH1cbiAgfSxcbiAgXCJhYm91dERpYWxvZ1wiOntcbiAgICBcInRpdGxlXCI6IFwiSW5mb3JtYXppb25pXCJcbiAgfSxcbiAgXCJoZWxwXCI6e1xuICAgIFwiaGVhZGVyXCI6IFwiQWl1dG9cIixcbiAgICBcIm1vdXNlXCI6IHtcbiAgICAgIFwiaGVhZGVyXCI6XCJBemlvbmkgbW91c2U6XCIsXG4gICAgICBcImxpc3RcIjp7XG4gICAgICAgIFwiMVwiOiBcIkJvdHRvbmUgc2luaXN0cm86IHNlbGV6aW9uZSBub2RvL3JhbW9cIixcbiAgICAgICAgXCIyXCI6IFwiQm90dG9uZSBkZXN0cm86IG1lbnUgZGkgY29udGVzdG8gKGFnZ2l1bnRhL21hbmlwb2xhemlvbmUgbm9kaSlcIixcbiAgICAgICAgXCIzXCI6IFwiRG9wcGlvIGNsaWNrIGJvdHRvbmUgc2luaXN0cm86IG1lbnUgZGkgY29udGVzdG9cIlxuICAgICAgfVxuICAgIH0sXG4gICAgXCJrZXlib2FyZFwiOiB7XG4gICAgICBcImhlYWRlclwiOlwiU2NvcmNpYXRvaWUgdGFzdGllcmE6XCIsXG4gICAgICBcImxpc3RcIjp7XG4gICAgICAgIFwiMVwiOiBcIkRlbDogY2FuY2VsbGEgbm9kaSBzZWxlemlvbmF0aVwiLFxuICAgICAgICBcIjJcIjogXCJDdHJsLUMvWDogY29waWEvdGFnbGlhIG5vZGkgc2VsZXppb25hdGlcIixcbiAgICAgICAgXCIzXCI6IFwiQ3RybC1WOiBpbmNvbGxhIG5vZGkgY29waWF0aSBjb21lIHNvdHRvLWFsYmVybyBkaSB1biBub2RvIHNlbGV6aW9uYXRvXCIsXG4gICAgICAgIFwiNFwiOiBcIkN0cmwtWS9aOiByaXByaXN0aW5hL3JpcGV0aVwiLFxuICAgICAgICBcIjVcIjogXCJDdHJsLUFsdC1EL0MvVDogYWdnaXVuZ2kgbnVvdm8gc290dG9ub2RvIERlY2lzaW9uZS9PcHBvcnR1bml0w6AvVGVybWluYWxlIGRpIHVuIDxzdHJvbmc+bm9kbyBzZWxlemlvbmF0bzwvc3Ryb25nPlwiLFxuICAgICAgICBcIjZcIjogXCJDdHJsLUFsdC1EL0M6IGluaWV0dGEgdW4gbnVvdm8gbm9kbyBEZWNpc2lvbmUvT3Bwb3J0dW5pdMOgIGluIHVuIDxzdHJvbmc+cmFtbyBzZWxlemlvbmF0bzwvc3Ryb25nPlwiXG4gICAgICB9XG4gICAgfSxcbiAgICBcImRvY3NcIjogXCJMYSBkb2N1bWVudGF6aW9uZSBkaSBTaWx2ZXJEZWNpc2lvbnMgZSBkaXNwb25pYmlsZSA8YSBocmVmPVxcXCJodHRwczovL2dpdGh1Yi5jb20vU2lsdmVyRGVjaXNpb25zL1NpbHZlckRlY2lzaW9ucy93aWtpL0RvY3VtZW50YXRpb25cXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5xdWk8L2E+XCJcbiAgfSxcbiAgXCJkZWZpbml0aW9uc0RpYWxvZ1wiOntcbiAgICBcInRpdGxlXCI6IFwiRGVmaW5pemlvbmkgZGVsbGUgdmFyaWFiaWxpXCIsXG4gICAgXCJidXR0b25zXCI6e1xuICAgICAgXCJyZWNhbGN1bGF0ZVwiOiBcIlJpY2FsY29sYXJlXCJcbiAgICB9LFxuICAgIFwiZXZhbHVhdGVkVmFyaWFibGVzXCI6IFwiVmFyaWFiaWxpIHZhbHV0YXRlXCJcbiAgfSxcbiAgXCJzaWRlYmFyRGVmaW5pdGlvbnNcIjp7XG4gICAgXCJoZWFkZXJcIjogXCJWYXJpYWJpbGlcIixcbiAgICBcImNvZGVcIjogXCJDb2RpY2VcIixcbiAgICBcImJ1dHRvbnNcIjp7XG4gICAgICBcIm9wZW5EaWFsb2dcIiA6IFwiQXByaSBpbCBkaWFsb2dvXCIsXG4gICAgICBcInJlY2FsY3VsYXRlXCI6IFwiUmljYWxjb2xhcmVcIlxuICAgIH0sXG4gICAgXCJldmFsdWF0ZWRWYXJpYWJsZXNcIjogXCJWYXJpYWJpbGkgdmFsdXRhdGVcIlxuICB9LFxuICBcImxheW91dE9wdGlvbnNcIjp7XG4gICAgXCJoZWFkZXJcIjogXCJEaXNwb3NpemlvbmVcIixcbiAgICBcIm1hcmdpbkhvcml6b250YWxcIjogXCJNYXJnaW5lIG9yaXp6b250YWxlXCIsXG4gICAgXCJtYXJnaW5WZXJ0aWNhbFwiOiBcIk1hcmdpbmUgdmVydGljYWxlXCIsXG4gICAgXCJub2RlU2l6ZVwiOiBcIkRpbWVuc2lvbmUgbm9kb1wiLFxuICAgIFwiZWRnZVNsYW50V2lkdGhNYXhcIjogXCJJbmNsaW5hemlvbmUgbm9kb1wiLFxuICAgIFwiZ3JpZFdpZHRoXCI6IFwiTGFyZ2hlenphXCIsXG4gICAgXCJncmlkSGVpZ2h0XCI6IFwiQWx0ZXp6YVwiXG4gIH0sXG4gIFwiZGlhZ3JhbURldGFpbHNcIjp7XG4gICAgXCJoZWFkZXJcIjogXCJEZXR0YWdsaVwiLFxuICAgIFwidGl0bGVcIiA6IFwiVGl0b2xvXCIsXG4gICAgXCJkZXNjcmlwdGlvblwiIDogXCJEZXNjcml6aW9uZVwiXG4gIH0sXG4gIFwib2JqZWN0UHJvcGVydGllc1wiOntcbiAgICBcImhlYWRlclwiOntcbiAgICAgIFwibm9kZVwiOntcbiAgICAgICAgXCJkZWNpc2lvblwiOlwiTm9kbyBkZWNpc2lvbmVcIixcbiAgICAgICAgXCJjaGFuY2VcIjpcIk5vZG8gb3Bwb3J0dW5pdMOgXCIsXG4gICAgICAgIFwidGVybWluYWxcIjpcIk5vZG8gdGVybWluYWxlXCJcbiAgICAgIH0sXG4gICAgICBcImVkZ2VcIjogXCJSYW1vXCIsXG4gICAgICBcInRleHRcIjogXCJUZXN0byBtb2JpbGVcIlxuICAgIH0sXG4gICAgXCJjaGlsZHJlblByb3BlcnRpZXNcIjp7XG4gICAgICBcIm5vZGVcIjp7XG4gICAgICAgIFwiaGVhZGVyXCI6IFwiQ29ubmVzc2lvbmlcIixcbiAgICAgICAgXCJjaGlsZFwiOiB7XG4gICAgICAgICAgXCJoZWFkZXJcIjogXCJSYW1vICN7e251bWJlcn19XCJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgXCJ2YWxpZGF0aW9uXCI6e1xuICAgIFwiaW5jb21wbGV0ZVBhdGhcIjogXCJQZXJjb3JzbyBzZW56YSBub2RvIHRlcm1pbmFsZVwiLFxuICAgIFwicHJvYmFiaWxpdHlEb05vdFN1bVVwVG8xXCI6IFwiTGEgc29tbWEgZGVsbGUgcHJvYmFiaWxpdMOgIMOoIGRpdmVyc2EgZGEgMVwiLFxuICAgIFwiaW52YWxpZFByb2JhYmlsaXR5XCI6IFwiUHJvYmFiaWxpdMOgIG5vbiB2YWxpZGEgLSBib3JkbyAje3tudW1iZXJ9fVwiLFxuICAgIFwiaW52YWxpZFBheW9mZlwiOiBcIlNhbGRvIG5vbiB2YWxpZG8gLSBib3JkbyAje3tudW1iZXJ9fVwiXG4gIH0sXG4gIFwiZ3Jvd2xcIjp7XG4gICAgXCJicnVzaERpc2FibGVkXCI6IFwiU2VsZXppb25lIHBlbm5lbGxvIGRpc2FiaWxpdGF0YVwiLFxuICAgIFwiYnJ1c2hFbmFibGVkXCI6IFwiU2VsZXppb25lIHBlbm5lbGxvIGFiaWxpdGF0YVwiXG4gIH0sXG4gIFwidG9vbHRpcFwiOntcbiAgICBcIm5vZGVcIjp7XG4gICAgICBcInBheW9mZlwiOiBcIlNhbGRvXCIsXG4gICAgICBcImFnZ3JlZ2F0ZWRQYXlvZmZcIjogXCJTYWxkbyBhZ2dyZWdhdG9cIixcbiAgICAgIFwicHJvYmFiaWxpdHlUb0VudGVyXCI6IFwiUHJvYmFiaWxpdMOgIGRhIGluc2VyaXJlXCJcbiAgICB9LFxuICAgIFwiZWRnZVwiOntcbiAgICAgIFwicGF5b2ZmXCI6IFwiU2FsZG86IHt7dmFsdWV9fVwiLFxuICAgICAgXCJwcm9iYWJpbGl0eVwiOiBcIlByb2JhYmlsaXTDoDoge3t2YWx1ZX19XCJcbiAgICB9XG4gIH0sXG4gIFwiY29uZmlybVwiOntcbiAgICBcIm5ld0RpYWdyYW1cIjogXCJWdW9pIGRhdnZlcm8gY2FuY2VsbGFyZSBpbGRpYWdyYW1tYSBjb3JyZW50ZSA/IFR1dHRpIGkgZGF0aSBub24gc2FsdmF0aSBzYXJhbm5vIHBlcnNpLlwiLFxuICAgIFwib3BlbkRpYWdyYW1cIjogXCJTZWkgc2ljdXJvPyBUdXR0aSBpIGRhdGkgbm9uIHNhbHZhdGkgc2FyYW5ubyBwZXJzaS5cIixcbiAgICBcImJlZm9yZXVubG9hZFwiOiBcIlNlaSBzaWN1cm8gZGkgdm9sZXIgdXNjaXJlIGRhIFNpbHZlckRlY2lzaW9ucyA/VHV0dGkgaSBkYXRpIG5vbiBzYWx2YXRpIHNhcmFubm8gcGVyc2kuXCJcbiAgfSxcbiAgXCJlcnJvclwiOntcbiAgICBcImpzb25QYXJzZVwiOiBcIkVycm9yZSBhbmFsaXp6YW5kbyBpbCBmaWxlICFcIixcbiAgICBcImZpbGVBcGlOb3RTdXBwb3J0ZWRcIjpcImwnQVBJIGRpIHF1ZXN0byBmaWxlIG5vbiDDqCBhbmNvcmEgc3VwcG9ydGF0YSBpbiBxdWVzdG8gYnJvd3Nlci4gIFwiLFxuICAgIFwiaW5wdXRGaWxlc1Byb3BlcnR5XCI6XCJJbCB0dW8gYnJvd3NlciBub24gc2VtYnJhIHN1cHBvcnRhcmUgbGEgcHJvcHJpZXRhIGRlbCBmaWxlIGRpIGlucHV0LlwiLFxuICAgIFwibm90U2lsdmVyRGVjaXNpb25zRmlsZVwiOlwiTm9uIMOoIHVuIGZpbGUgU2lsdmVyRGVjaXNpb25zICFcIixcbiAgICBcImluY29ycmVjdFZlcnNpb25Gb3JtYXRcIjogXCJGb3JtYXRvIG5vbiBjb3JyZXR0byBkZWxsYSBzZXJpZSBkaSB2ZXJzaW9uZSFcIixcbiAgICBcImZpbGVWZXJzaW9uTmV3ZXJUaGFuQXBwbGljYXRpb25WZXJzaW9uXCI6IFwiTGEgdmVyc2lvbmUgaW4gZmlsZSDDqCBwacO5IHJlY2VudGUgcmlzcGV0dG8gYWxsYSB2ZXJzaW9uZSBkZWxsJ2FwcGxpY2F6aW9uZS4gQWxjdW5lIGZ1bnppb25hbGl0w6AgcG9zc29ubyBlc3NlcmUgaW5kaXNwb25pYmlsaS5cIixcbiAgICBcIm9iamVjdGl2ZUNvbXB1dGF0aW9uRmFpbHVyZVwiOiBcIkVycm9yZSBkdXJhbnRlIGlsIGNhbGNvbG8gb2JpZXR0aXZvIVwiLFxuICAgIFwiZGlhZ3JhbURyYXdpbmdGYWlsdXJlXCI6IFwiRXJyb3JlIGR1cmFudGUgaWwgZGlzZWdubyBkZWxsYSBkaWFncmFtbWEhXCIsXG4gICAgXCJtYWxmb3JtZWREYXRhXCI6XCJFcnJvcmUgZHVyYW50ZSBsYSBsZXR0dXJhIGRlaSBkYXRpIGRlbGwnYWxiZXJvICFcIixcbiAgICBcInBuZ0V4cG9ydE5vdFN1cHBvcnRlZFwiOiBcIkwnZXNwb3J0IGluIGZvcm1hdG8gUE5HIG5vbiDDqCBzdXBwb3J0YXRhIG5lbCB0dW8gYnJvd3Nlci5cIixcbiAgICBcInBuZ0V4cG9ydE5vdFN1cHBvcnRlZElFXCI6IFwiTCdlc3BvcnQgaW4gZm9ybWF0byBQTkcgbm9uIMOoIHN1cHBvcnRhdGEgaW4gSW50ZXJuZXQgRXhwbG9yZXIuXCIsXG4gICAgXCJzdmdFeHBvcnROb3RTdXBwb3J0ZWRcIjogXCJMJ2VzcG9ydCBpbiBmb3JtYXRvIFNWRyBub24gw6ggc3VwcG9ydGF0YSBuZWwgdHVvIGJyb3dzZXIuXCIsXG4gICAgXCJwZGZFeHBvcnROb3RTdXBwb3J0ZWRcIjogXCJMJ2VzcG9ydCBpbiBmb3JtYXRvIFBERiBub24gw6ggc3VwcG9ydGF0YSBuZWwgdHVvIGJyb3dzZXIuXCIsXG4gICAgXCJpbmNvcnJlY3RQYXlvZmZOdW1iZXJGb3JtYXRPcHRpb25zXCI6IFwiT3B6aW9uaSBwZXIgaWwgZm9ybWF0byBkZWkgc2FsZGkgbm9uIGNvcnJldHRlLlwiLFxuICAgIFwiaW5jb3JyZWN0UHJvYmFiaWxpdHlOdW1iZXJGb3JtYXRPcHRpb25zXCI6IFwiT3B6aW9uaSBwZXIgaWwgZm9ybWF0byBkZWxsZSBwcm9iYWJpbGl0w6Agbm9uIGNvcnJldHRlLlwiLFxuICAgIFwiaW5jb3JyZWN0TnVtYmVyRm9ybWF0T3B0aW9uc1wiOiBcIk9wemlvbmkgcGVyIGlsIGZvcm1hdG8gZGVpIG51bWVyaSBub24gY29ycmV0dGUsIHV0aWxpenpvIGRlbCBkZWZhdWx0LlwiLFxuICAgIFwianNQREZpc05vdEluY2x1ZGVkXCI6IFwianNQREYgbm9uIGluY2x1c28gIVwiLFxuICAgIFwic2VydmVyU2lkZUV4cG9ydFJlcXVlc3RGYWlsdXJlXCI6IFwiUmljaGllc3RhIGRpIGV4cG9ydCBmYWxsaXRhIGxhdG8gc2VydmVyICFcIlxuICB9XG59XG5cbiIsIm1vZHVsZS5leHBvcnRzPXtcbiAgXCJ0b29sYmFyXCI6IHtcbiAgICBcIm5ld0RpYWdyYW1cIjogXCJOb3d5IGRpYWdyYW1cIixcbiAgICBcIm9wZW5EaWFncmFtXCI6IFwiT3R3w7NyeiBkaWFncmFtXCIsXG4gICAgXCJzYXZlRGlhZ3JhbVwiOiBcIlphcGlzeiBkaWFncmFtXCIsXG4gICAgXCJleHBvcnRcIjp7XG4gICAgICBcImxhYmVsXCI6IFwiRWtzcG9ydFwiLFxuICAgICAgXCJwbmdcIjogXCJQbmdcIixcbiAgICAgIFwic3ZnXCI6IFwiU3ZnXCIsXG4gICAgICBcInBkZlwiOiBcIlBkZlwiXG4gICAgfSxcbiAgICBcImxheW91dFwiOntcbiAgICAgIFwibGFiZWxcIjogXCJVa8WCYWRcIixcbiAgICAgIFwibWFudWFsXCI6IFwiUsSZY3pueVwiLFxuICAgICAgXCJ0cmVlXCI6IFwiRHJ6ZXdvXCIsXG4gICAgICBcImNsdXN0ZXJcIjogXCJaZ3J1cG93YW55XCJcbiAgICB9LFxuICAgIFwib2JqZWN0aXZlUnVsZVwiOntcbiAgICAgIFwibGFiZWxcIjogXCJSZWd1xYJhXCIsXG4gICAgICBcIm9wdGlvbnNcIjoge1xuICAgICAgICBcImV4cGVjdGVkLXZhbHVlLW1heGltaXphdGlvblwiOlwibWFrc2ltdW1cIixcbiAgICAgICAgXCJleHBlY3RlZC12YWx1ZS1taW5pbWl6YXRpb25cIjpcIm1pbmltdW1cIixcbiAgICAgICAgXCJtYXhpLW1pblwiOlwibWF4aS1taW5cIixcbiAgICAgICAgXCJtYXhpLW1heFwiOlwibWF4aS1tYXhcIixcbiAgICAgICAgXCJtaW5pLW1pblwiOlwibWluaS1taW5cIixcbiAgICAgICAgXCJtaW5pLW1heFwiOlwibWluaS1tYXhcIlxuICAgICAgfVxuICAgIH0sXG4gICAgXCJ1bmRvXCI6IFwiQ29mbmlqXCIsXG4gICAgXCJyZWRvXCI6IFwiUG9uw7N3XCIsXG4gICAgXCJzZXR0aW5nc1wiOiBcIlVzdGF3aWVuaWFcIixcbiAgICBcImFib3V0XCI6IFwiSW5mb3JtYWNqZVwiLFxuICAgIFwic2Vuc2l0aXZpdHlBbmFseXNpc1wiOiBcIkFuYWxpemEgd3JhxbxsaXdvxZtjaVwiLFxuICAgIFwicmVjb21wdXRlXCI6IFwiUHJ6ZWxpY3pcIlxuICB9LFxuICBcIm5vZGVcIjp7XG4gICAgXCJuYW1lXCI6IFwiRXR5a2lldGFcIlxuICB9LFxuICBcImVkZ2VcIjp7XG4gICAgXCJuYW1lXCI6IFwiRXR5a2lldGFcIixcbiAgICBcInBheW9mZlwiOiBcIld5cMWCYXRhXCIsXG4gICAgXCJwcm9iYWJpbGl0eVwiOiBcIlByYXdkb3BvZG9iaWXFhHN0d29cIlxuXG4gIH0sXG4gIFwidGV4dFwiOntcbiAgICBcInZhbHVlXCI6IFwiVGVrc3RcIlxuICB9LFxuICBcImNvbnRleHRNZW51XCI6e1xuICAgIFwibWFpblwiOntcbiAgICAgIFwiYWRkRGVjaXNpb25Ob2RlXCI6IFwiRG9kYWogV8SZemXFgiBEZWN5enlqbnlcIixcbiAgICAgIFwiYWRkQ2hhbmNlTm9kZVwiOiBcIkRvZGFqIFfEmXplxYIgTG9zb3d5XCIsXG4gICAgICBcImFkZFRleHRcIjogXCJEb2RhaiBUZWtzdFwiLFxuICAgICAgXCJwYXN0ZVwiOiBcIldrbGVqXCIsXG4gICAgICBcInNlbGVjdEFsbE5vZGVzXCI6IFwiWmF6bmFjeiB3c3p5c3RraWUgd8SZesWCeVwiXG4gICAgfSxcbiAgICBcIm5vZGVcIjp7XG4gICAgICBcImNvcHlcIjogXCJLb3BpdWpcIixcbiAgICAgIFwiY3V0XCI6IFwiV3l0bmlqXCIsXG4gICAgICBcInBhc3RlXCI6IFwiV2tsZWpcIixcbiAgICAgIFwiZGVsZXRlXCI6IFwiVXN1xYRcIixcbiAgICAgIFwiYWRkRGVjaXNpb25Ob2RlXCI6IFwiRG9kYWogV8SZemXFgiBEZWN5enlqbnlcIixcbiAgICAgIFwiYWRkQ2hhbmNlTm9kZVwiOiBcIkRvZGFqIFfEmXplxYIgTG9zb3d5XCIsXG4gICAgICBcImFkZFRlcm1pbmFsTm9kZVwiOiBcIkRvZGFqIFfEmXplxYIgS2/FhGNvd3lcIixcbiAgICAgIFwiY29udmVydFwiOntcbiAgICAgICAgXCJkZWNpc2lvblwiOiBcIkpha28gV8SZemXFgiBEZWN5enlqbnlcIixcbiAgICAgICAgXCJjaGFuY2VcIjogXCJKYWtvIFfEmXplxYIgTG9zb3d5XCIsXG4gICAgICAgIFwidGVybWluYWxcIjogXCJKYWtvIFfEmXplxYIgS2/FhGNvd3lcIlxuICAgICAgfSxcbiAgICAgIFwic2VsZWN0U3VidHJlZVwiOiBcIlphem5hY3ogcG9kZHJ6ZXdvXCIsXG4gICAgICBcImZsaXBTdWJ0cmVlXCI6IFwiUHJ6ZXdyw7PEhyBwb2Rkcnpld29cIlxuICAgIH0sXG4gICAgXCJlZGdlXCI6e1xuICAgICAgXCJpbmplY3REZWNpc2lvbk5vZGVcIjogXCJXc3RyenlrbmlqIFfEmXplxYIgRGVjeXp5am55XCIsXG4gICAgICBcImluamVjdENoYW5jZU5vZGVcIjogXCJXc3RyenlrbmlqIFfEmXplxYIgTG9zb3d5XCJcbiAgICB9LFxuICAgIFwidGV4dFwiOntcbiAgICAgIFwiZGVsZXRlXCI6IFwiVXN1xYRcIlxuICAgIH1cbiAgfSxcbiAgXCJzZW5zaXRpdml0eUFuYWx5c2lzRGlhbG9nXCI6e1xuICAgIFwidGl0bGVcIjogXCJBbmFsaXphIHdyYcW8bGl3b8WbY2lcIixcbiAgICBcImJ1dHRvbnNcIjoge1xuICAgICAgXCJydW5Kb2JcIjogXCJVcnVjaG9tXCIsXG4gICAgICBcInN0b3BKb2JcIjogXCJaYXRyenltYWpcIixcbiAgICAgIFwidGVybWluYXRlSm9iXCI6IFwiWmFrb8WEY3pcIixcbiAgICAgIFwicmVzdW1lSm9iXCI6IFwiV3puw7N3XCIsXG4gICAgICBcImRvd25sb2FkQ3N2XCI6IFwiUG9iaWVyeiBDU1ZcIixcbiAgICAgIFwiYmFja1wiOiBcIldzdGVjelwiLFxuICAgICAgXCJjbGVhclwiOiBcIld5Y3p5xZvEh1wiXG4gICAgfVxuICB9LFxuICBcImpvYlBhcmFtZXRlcnNCdWlsZGVyXCI6IHtcbiAgICBcImJ1dHRvbnNcIjoge1xuICAgICAgXCJyZW1vdmVQYXJhbWV0ZXJWYWx1ZVwiOiBcIlVzdcWEXCIsXG4gICAgICBcImFkZFBhcmFtZXRlclZhbHVlXCI6IFwiRG9kYWpcIlxuICAgIH1cbiAgfSxcbiAgXCJqb2JSZXN1bHRUYWJsZVwiOntcbiAgICBcInRvb2x0aXBcIjoge1xuICAgICAgXCJtdWx0aXBsZVBvbGljaWVzSW5DZWxsXCI6IFwie3tudW1iZXJ9fSBwb2xpdHlrXCJcbiAgICB9LFxuICAgIFwicGl2b3RcIjoge1xuICAgICAgXCJhZ2dyZWdhdG9yc1wiOntcbiAgICAgICAgXCJtYXhpbXVtXCI6IFwiTWFrc2ltdW1cIixcbiAgICAgICAgXCJtaW5pbXVtXCI6IFwiTWluaW11bVwiXG4gICAgICB9LFxuICAgICAgXCJyZW5kZXJlcnNcIjp7XG4gICAgICAgIFwiaGVhdG1hcFwiOiBcIk1hcGEgY2llcGxuYVwiXG4gICAgICB9XG4gICAgfSxcbiAgICBcInBvbGljeVByZXZpZXdcIjogXCJwb2RnbMSFZCBwb2xpdHlraVwiXG4gIH0sXG4gIFwiam9iXCI6e1xuICAgIFwic2Vuc2l0aXZpdHktYW5hbHlzaXNcIjp7XG4gICAgICBcIm5hbWVcIjogXCJBbmFsaXphIHdyYcW8bGl3b8WbY2kgTi1jenlubmlrb3dhXCIsXG4gICAgICBcInBhcmFtXCI6e1xuICAgICAgICBcInJ1bGVOYW1lXCI6IFwiTmF6d2EgcmVndcWCeVwiLFxuICAgICAgICBcImV4dGVuZGVkUG9saWN5RGVzY3JpcHRpb25cIjoge1xuICAgICAgICAgIFwibGFiZWxcIjogXCJSb3pzemVyem9ueSBvcGlzIHBvbGl0eWtpXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJ2YXJpYWJsZXNcIjoge1xuICAgICAgICAgIFwibGFiZWxcIjogXCJabWllbm5lXCIsXG4gICAgICAgICAgXCJuYW1lXCI6IHtcbiAgICAgICAgICAgIFwibGFiZWxcIjogXCJOYXp3YVwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIm1pblwiOiB7XG4gICAgICAgICAgICBcImxhYmVsXCI6IFwiTWluaW11bVwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIm1heFwiOiB7XG4gICAgICAgICAgICBcImxhYmVsXCI6IFwiTWFrc2ltdW1cIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJsZW5ndGhcIjoge1xuICAgICAgICAgICAgXCJsYWJlbFwiOiBcIkTFgnVnb8WbxIdcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzdGVwXCI6IHtcbiAgICAgICAgICAgIFwibGFiZWxcIjogXCJLcm9rXCJcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcImVycm9yc1wiOntcbiAgICAgICAgXCJjb21wdXRhdGlvbnNcIjogXCJCxYLEhWQgdyBvYmxpY3plbmlhY2ggYW5hbGl6eSB3cmHFvGxpd2/Fm2NpIGRsYSBuYXN0xJlwdWrEhWN5Y2ggcGFyYW1ldHLDs3c6XCJcbiAgICAgIH0sXG4gICAgICBcIndhcm5pbmdzXCI6IHtcbiAgICAgICAgXCJsYXJnZVNjZW5hcmlvc051bWJlclwiOiBcIkxpY3piYSB6ZGVmaW5pb3dhbnljaCBzY2VuYXJpdXN6eSB3acSZa3N6YSBuacW8IHt7bnVtYmVyRm9ybWF0dGVkfX0uIFd5bGljemVuaWUgYW5hbGl6eSB3cmHFvGxpd2/Fm2NpIG1vxbxlIHNpxJkgbmllIHBvd2llxZvEhyBsdWIgYnnEhyBiYXJkem8gcG93b2xuZS5cIixcbiAgICAgICAgXCJsYXJnZVBhcmFtZXRlcnNOdW1iZXJcIjogXCJMaWN6YmEgcGFyYW1ldHLDs3cgd2nEmWtzemEgbmnFvCB7e251bWJlcn19LiBXecWbd2lldGxlbmllIGFuYWxpenkgd3JhxbxsaXdvxZtjaSBtb8W8ZSBzacSZIG5pZSBwb3dpZcWbxIcgbHViIGJ5xIcgYmFyZHpvIHBvd29sbmUuXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIFwicHJvYmFiaWxpc3RpYy1zZW5zaXRpdml0eS1hbmFseXNpc1wiOntcbiAgICAgIFwibmFtZVwiOiBcIlByb2JhYmlsaXN0eWN6bmEgYW5hbGl6YSB3cmHFvGxpd2/Fm2NpXCIsXG4gICAgICBcInBhcmFtXCI6e1xuICAgICAgICBcInJ1bGVOYW1lXCI6IFwiTmF6d2EgcmVndcWCeVwiLFxuICAgICAgICBcIm51bWJlck9mUnVuc1wiOiB7XG4gICAgICAgICAgXCJsYWJlbFwiOiBcIkxpY3piYSBwb3d0w7NyemXFhFwiXG4gICAgICAgIH0sXG4gICAgICAgIFwiZXh0ZW5kZWRQb2xpY3lEZXNjcmlwdGlvblwiOiB7XG4gICAgICAgICAgXCJsYWJlbFwiOiBcIlJvenN6ZXJ6b255IG9waXMgcmVndcWCeVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwidmFyaWFibGVzXCI6IHtcbiAgICAgICAgICBcImxhYmVsXCI6IFwiWm1pZW5uZVwiLFxuICAgICAgICAgIFwibmFtZVwiOiB7XG4gICAgICAgICAgICBcImxhYmVsXCI6IFwiTmF6d2FcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJmb3JtdWxhXCI6IHtcbiAgICAgICAgICAgIFwibGFiZWxcIjogXCJGb3JtdcWCYVwiLFxuICAgICAgICAgICAgXCJoZWxwXCI6IFwiV3liaWVyeiB3esOzciBmb3JtdcWCeSB6IG1lbnUgbHViIHdwaXN6IHfFgmFzbnkga29kXCJcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcImVycm9yc1wiOntcbiAgICAgICAgXCJjb21wdXRhdGlvbnNcIjogXCJCxYLEhWQgdyBvYmxpY3plbml1IGFuYWxpenkgd3JhxbxsaXdvxZtjaSBkbGEgbmFzdMSZcHVqxIVjeWNoIHBhcmFtZXRyw7N3OlwiLFxuICAgICAgICBcInBhcmFtLWNvbXB1dGF0aW9uXCI6IFwiQsWCxIVkIHcgd3lsaWN6YW5pdSB3YXJ0b8WbY2kgcGFyYW1ldHLDs3c6XCJcbiAgICAgIH0sXG4gICAgICBcIndhcm5pbmdzXCI6IHtcbiAgICAgICAgXCJsYXJnZVNjZW5hcmlvc051bWJlclwiOiBcIkxpY3piYSB6ZGVmaW5pb3dhbnljaCBzY2VuYXJpdXN6eSB3acSZa3N6YSBuacW8IHt7bnVtYmVyRm9ybWF0dGVkfX0uIFd5bGljemVuaWUgYW5hbGl6eSB3cmHFvGxpd2/Fm2NpIG1vxbxlIHNpxJkgbmllIHBvd2llxZvEhyBsdWIgYnnEhyBiYXJkem8gcG93b2xuZS5cIlxuICAgICAgfVxuICAgIH0sXG4gICAgXCJlcnJvcnNcIjp7XG4gICAgICBcImdlbmVyaWNcIjogXCJCxYLEhWQgdyBvYmxpY3plbmlhY2ggYW5hbGl6eSB3cmHFvGxpd2/Fm2NpOiB7e21lc3NhZ2V9fVwiXG4gICAgfVxuICB9LFxuICBcInNldHRpbmdzRGlhbG9nXCI6e1xuICAgIFwidGl0bGVcIjogXCJVc3Rhd2llbmlhXCIsXG4gICAgXCJnZW5lcmFsXCI6e1xuICAgICAgXCJ0aXRsZVwiOiBcIk9nw7NsbmVcIixcbiAgICAgIFwiZm9udFNpemVcIjogXCJSb3ptaWFyIGN6Y2lvbmtpXCIsXG4gICAgICBcImZvbnRGYW1pbHlcIjogXCJSb2R6aW5hIGN6Y2lvbmVrXCIsXG4gICAgICBcImZvbnRXZWlnaHRcIjogXCJXYWdhIGN6Y2lvbmtpXCIsXG4gICAgICBcImZvbnRTdHlsZVwiOiBcIlN0eWwgY3pjaW9ua2lcIixcbiAgICAgIFwibnVtYmVyRm9ybWF0TG9jYWxlXCI6IFwiS29kIGxva2FsaXphY2ppIGrEmXp5a293ZWogbGljemJcIlxuICAgIH0sXG4gICAgXCJwYXlvZmZcIjp7XG4gICAgICBcInRpdGxlXCI6IFwiRm9ybWF0IHd5cMWCYXR5XCIsXG4gICAgICBcImN1cnJlbmN5XCI6IFwiV2FsdXRhXCIsXG4gICAgICBcImN1cnJlbmN5RGlzcGxheVwiOiBcIld5xZt3aWV0bGFuaWUgd2FsdXR5XCIsXG4gICAgICBcInN0eWxlXCI6IFwiU3R5bFwiLFxuICAgICAgXCJtaW5pbXVtRnJhY3Rpb25EaWdpdHNcIjogXCJNaW5pbWFsbmEgbGljemJhIG1pZWpzYyBwbyBwcnplY2lua3VcIixcbiAgICAgIFwibWF4aW11bUZyYWN0aW9uRGlnaXRzXCI6IFwiTWFrc3ltYWxuYSBsaWN6YmEgbWllanNjIHBvIHByemVjaW5rdVwiLFxuICAgICAgXCJ1c2VHcm91cGluZ1wiOiBcIlNlcGFyYXRvcnkgZ3J1cG93YW5pYVwiXG4gICAgfSxcbiAgICBcInByb2JhYmlsaXR5XCI6e1xuICAgICAgXCJ0aXRsZVwiOiBcIkZvcm1hdCBwcmF3ZG9wb2RvYmllxYRzdHdhXCIsXG4gICAgICBcInN0eWxlXCI6IFwiU3R5bFwiLFxuICAgICAgXCJtaW5pbXVtRnJhY3Rpb25EaWdpdHNcIjogXCJNaW5pbWFsbmEgbGljemJhIG1pZWpzYyBwbyBwcnplY2lua3VcIixcbiAgICAgIFwibWF4aW11bUZyYWN0aW9uRGlnaXRzXCI6IFwiTWFrc3ltYWxuYSBsaWN6YmEgbWllanNjIHBvIHByemVjaW5rdVwiLFxuICAgICAgXCJmb250U2l6ZVwiOiBcIlJvem1pYXIgY3pjaW9ua2lcIixcbiAgICAgIFwiY29sb3JcIjogXCJLb2xvclwiXG4gICAgfSxcbiAgICBcIm5vZGVcIjp7XG4gICAgICBcInRpdGxlXCI6IFwiV8SZemXFglwiLFxuICAgICAgXCJzdHJva2VXaWR0aFwiOiBcIlN6ZXJva2/Fm8SHIGtyYXfEmWR6aVwiLFxuICAgICAgXCJvcHRpbWFsXCI6e1xuICAgICAgICBcInRpdGxlXCI6IFwiT3B0eW1hbG55XCIsXG4gICAgICAgIFwic3Ryb2tlXCI6IFwiS29sb3JcIixcbiAgICAgICAgXCJzdHJva2VXaWR0aFwiOiBcIlN6ZXJva2/Fm8SHIGtyYXfEmWR6aVwiXG4gICAgICB9LFxuICAgICAgXCJsYWJlbFwiOiB7XG4gICAgICAgIFwidGl0bGVcIjogXCJFdHlraWV0YVwiLFxuICAgICAgICBcImZvbnRTaXplXCI6IFwiUm96bWlhciBjemNpb25raSBldHlraWV0eVwiLFxuICAgICAgICBcImNvbG9yXCI6IFwiS29sb3IgZXR5a2lldHlcIlxuICAgICAgfSxcbiAgICAgIFwicGF5b2ZmXCI6IHtcbiAgICAgICAgXCJ0aXRsZVwiOiBcIld5cMWCYXRhXCIsXG4gICAgICAgIFwiZm9udFNpemVcIjogXCJSb3ptaWFyIGN6Y2lvbmtpXCIsXG4gICAgICAgIFwiY29sb3JcIjogXCJLb2xvclwiLFxuICAgICAgICBcIm5lZ2F0aXZlQ29sb3JcIjogXCJLb2xvciB3YXJ0b8WbY2kgdWplbW5lalwiXG4gICAgICB9LFxuICAgICAgXCJkZWNpc2lvblwiOiB7XG4gICAgICAgIFwidGl0bGVcIjogXCJXxJl6ZcWCIERlY3l6eWpueVwiLFxuICAgICAgICBcImZpbGxcIjogXCJLb2xvciB3eXBlxYJuaWVuaWFcIixcbiAgICAgICAgXCJzdHJva2VcIjogXCJLb2xvciBrcmF3xJlkemlcIixcbiAgICAgICAgXCJzZWxlY3RlZFwiOiB7XG4gICAgICAgICAgXCJmaWxsXCI6IFwiS29sb3Igd3lwZcWCbmllbmlhIHBvIHphem5hY3plbml1XCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwiY2hhbmNlXCI6IHtcbiAgICAgICAgXCJ0aXRsZVwiOiBcIlfEmXplxYIgTG9zb3d5XCIsXG4gICAgICAgIFwiZmlsbFwiOiBcIktvbG9yIHd5cGXFgm5pZW5pYVwiLFxuICAgICAgICBcInN0cm9rZVwiOiBcIktvbG9yIGtyYXfEmWR6aVwiLFxuICAgICAgICBcInNlbGVjdGVkXCI6IHtcbiAgICAgICAgICBcImZpbGxcIjogXCJLb2xvciB3eXBlxYJuaWVuaWEgcG8gemF6bmFjemVuaXVcIlxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJ0ZXJtaW5hbFwiOntcbiAgICAgICAgXCJ0aXRsZVwiOiBcIlfEmXplxYIgS2/FhGNvd3lcIixcbiAgICAgICAgXCJmaWxsXCI6IFwiS29sb3Igd3lwZcWCbmllbmlhXCIsXG4gICAgICAgIFwic3Ryb2tlXCI6IFwiS29sb3Iga3Jhd8SZZHppXCIsXG4gICAgICAgIFwic2VsZWN0ZWRcIjoge1xuICAgICAgICAgIFwiZmlsbFwiOiBcIktvbG9yIHd5cGXFgm5pZW5pYSBwbyB6YXpuYWN6ZW5pdVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwicGF5b2ZmXCI6IHtcbiAgICAgICAgICBcInRpdGxlXCI6IFwiV3lwxYJhdGFcIixcbiAgICAgICAgICBcImZvbnRTaXplXCI6IFwiUm96bWlhciBjemNpb25raVwiLFxuICAgICAgICAgIFwiY29sb3JcIjogXCJLb2xvclwiLFxuICAgICAgICAgIFwibmVnYXRpdmVDb2xvclwiOiBcIktvbG9yIHdhcnRvxZtjaSB1amVtbmVqXCJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgXCJlZGdlXCI6e1xuICAgICAgXCJ0aXRsZVwiOiBcIktyYXfEmWTFulwiLFxuICAgICAgXCJzdHJva2VcIjogXCJLb2xvclwiLFxuICAgICAgXCJzdHJva2VXaWR0aFwiOiBcIlN6ZXJva2/Fm8SHIGtyYXfEmWR6aVwiLFxuICAgICAgXCJvcHRpbWFsXCI6e1xuICAgICAgICBcInRpdGxlXCI6IFwiT3B0eW1hbG5hXCIsXG4gICAgICAgIFwic3Ryb2tlXCI6IFwiS29sb3JcIixcbiAgICAgICAgXCJzdHJva2VXaWR0aFwiOiBcIlN6ZXJva2/Fm8SHIGtyYXfEmWR6aVwiXG4gICAgICB9LFxuICAgICAgXCJzZWxlY3RlZFwiOntcbiAgICAgICAgXCJ0aXRsZVwiOiBcIlphem5hY3pvbmFcIixcbiAgICAgICAgXCJzdHJva2VcIjogXCJLb2xvclwiLFxuICAgICAgICBcInN0cm9rZVdpZHRoXCI6IFwiU3plcm9rb8WbxIcga3Jhd8SZZHppXCJcbiAgICAgIH0sXG4gICAgICBcImxhYmVsXCI6IHtcbiAgICAgICAgXCJ0aXRsZVwiOiBcIkV0eWtpZXRhXCIsXG4gICAgICAgIFwiZm9udFNpemVcIjogXCJSb3ptaWFyIGN6Y2lvbmtpXCIsXG4gICAgICAgIFwiY29sb3JcIjogXCJLb2xvclwiXG4gICAgICB9LFxuICAgICAgXCJwYXlvZmZcIjp7XG4gICAgICAgIFwidGl0bGVcIjogXCJXeXDFgmF0YVwiLFxuICAgICAgICBcImZvbnRTaXplXCI6IFwiUm96bWlhciBjemNpb25raVwiLFxuICAgICAgICBcImNvbG9yXCI6IFwiS29sb3JcIixcbiAgICAgICAgXCJuZWdhdGl2ZUNvbG9yXCI6IFwiS29sb3Igd2FydG/Fm2NpIHVqZW1uZWpcIlxuICAgICAgfVxuICAgIH0sXG4gICAgXCJkaWFncmFtVGl0bGVcIjp7XG4gICAgICBcInRpdGxlXCI6IFwiVHl0dcWCIGRpYWdyYW11XCIsXG4gICAgICBcImZvbnRTaXplXCI6IFwiUm96bWlhciBjemNpb25raVwiLFxuICAgICAgXCJmb250V2VpZ2h0XCI6IFwiV2FnYSBjemNpb25raVwiLFxuICAgICAgXCJmb250U3R5bGVcIjogXCJTdHlsIGN6Y2lvbmtpXCIsXG4gICAgICBcImNvbG9yXCI6IFwiS29sb3JcIixcbiAgICAgIFwibWFyZ2luXCI6e1xuICAgICAgICBcInRpdGxlXCI6IFwiTWFyZ2luZXNcIixcbiAgICAgICAgXCJ0b3BcIjogXCJHw7NybnlcIixcbiAgICAgICAgXCJib3R0b21cIjogXCJEb2xueVwiXG4gICAgICB9LFxuICAgICAgXCJkZXNjcmlwdGlvblwiOntcbiAgICAgICAgXCJ0aXRsZVwiOiBcIlBvZHR5dHXFgiAob3BpcyBkaWFncmFtdSlcIixcbiAgICAgICAgXCJzaG93XCI6IFwiV3nFm3dpZXRsXCIsXG4gICAgICAgIFwiZm9udFNpemVcIjogXCJSb3ptaWFyIGN6Y2lvbmtpXCIsXG4gICAgICAgIFwiZm9udFdlaWdodFwiOiBcIldhZ2EgY3pjaW9ua2lcIixcbiAgICAgICAgXCJmb250U3R5bGVcIjogXCJTdHlsIGN6Y2lvbmtpXCIsXG4gICAgICAgIFwiY29sb3JcIjogXCJLb2xvclwiLFxuICAgICAgICBcIm1hcmdpblRvcFwiOiBcIk1hcmdpbmVzIGfDs3JueVwiXG4gICAgICB9XG4gICAgfSxcbiAgICBcIm90aGVyXCI6e1xuICAgICAgXCJ0aXRsZVwiOiBcIklubmVcIixcbiAgICAgIFwiZGlzYWJsZUFuaW1hdGlvbnNcIjogXCJXecWCxIVjeiBhbmltYWNqZVwiLFxuICAgICAgXCJmb3JjZUZ1bGxFZGdlUmVkcmF3XCI6IFwiV3ltdcWbIHBlxYJuZSBwcnplcnlzb3d5d2FuaWUga3Jhd8SZZHppXCIsXG4gICAgICBcImhpZGVMYWJlbHNcIjogXCJVa3J5aiBldHlraWV0eVwiLFxuICAgICAgXCJoaWRlUGF5b2Zmc1wiOiBcIlVrcnlqIHd5cMWCYXR5XCIsXG4gICAgICBcImhpZGVQcm9iYWJpbGl0aWVzXCI6IFwiVWtyeWogcHJhd2RvcG9kb2JpZcWEc3R3YVwiLFxuICAgICAgXCJyYXdcIjogXCJTdXJvd3lcIlxuICAgIH1cbiAgfSxcbiAgXCJhYm91dERpYWxvZ1wiOntcbiAgICBcInRpdGxlXCI6IFwiSW5mb3JtYWNqZVwiXG4gIH0sXG4gIFwiaGVscFwiOntcbiAgICBcImhlYWRlclwiOiBcIlBvbW9jXCIsXG4gICAgXCJtb3VzZVwiOiB7XG4gICAgICBcImhlYWRlclwiOlwiQWtjamUgbXlzenk6XCIsXG4gICAgICBcImxpc3RcIjp7XG4gICAgICAgIFwiMVwiOiBcImxld3kga2xhd2lzeiBteXN6eTogd3liw7NyIHfEmXrFgmEva3Jhd8SZZHppXCIsXG4gICAgICAgIFwiMlwiOiBcInByYXd5IGtsYXdpc3ogbXlzenk6IG1lbnUga29udGVrc3Rvd2UgKGRvZGF3YW5pZS9tYW5pcHVsb3dhbmllIHfEmXrFgmFtaSlcIixcbiAgICAgICAgXCIzXCI6IFwicG9kd8Ozam5lIGtsaWtuacSZY2llIGxld3ltIHByenljaXNraWVtIG15c3p5OiBtZW51IGtvbnRla3N0b3dlXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIFwia2V5Ym9hcmRcIjoge1xuICAgICAgXCJoZWFkZXJcIjpcIlNrcsOzdHkga2xhd2lzem93ZTpcIixcbiAgICAgIFwibGlzdFwiOntcbiAgICAgICAgXCIxXCI6IFwiRGVsOiB1c3V3YW5pZSB3eWJyYW55Y2ggd8SZesWCw7N3XCIsXG4gICAgICAgIFwiMlwiOiBcIkN0cmwtQy9YOiBrb3Bpb3dhbmllL3d5Y2luYW5pZSB3eWJyYW55Y2ggd8SZesWCw7N3XCIsXG4gICAgICAgIFwiM1wiOiBcIkN0cmwtVjogd2tsZWogc2tvcGlvd2FuZSB3xJl6xYJ5IGpha28gcG9kZHJ6ZXdvIHd5YnJhbmVnbyB3xJl6xYJhXCIsXG4gICAgICAgIFwiNFwiOiBcIkN0cmwtWS9aOiBjb2ZuaWovcG9uw7N3XCIsXG4gICAgICAgIFwiNVwiOiBcIkN0cmwtQWx0LUQvQy9UOiBkb2RhaiBub3d5IHfEmXplxYIgRGVjeXp5am55L0xvc293eS9Lb8WEY293eSBqYWtvIGR6aWVja28gPHN0cm9uZz53eWJyYW5lZ28gd8SZesWCYTwvc3Ryb25nPlwiLFxuICAgICAgICBcIjZcIjogXCJDdHJsLUFsdC1EL0M6IFdzdHJ6eWtuaWogbm93eSB3xJl6ZcWCIERlY3l6eWpueS9Mb3Nvd3kgZG8gPHN0cm9uZz53eWJyYW5laiBrcmF3xJlkemk8L3N0cm9uZz5cIlxuICAgICAgfVxuICAgIH0sXG4gICAgXCJkb2NzXCI6IFwiRG9rdW1lbnRhY2phIFNpbHZlckRlY2lzaW9ucyBqZXN0IGRvc3TEmXBuYSA8YSBocmVmPVxcXCJodHRwczovL2dpdGh1Yi5jb20vU2lsdmVyRGVjaXNpb25zL1NpbHZlckRlY2lzaW9ucy93aWtpL0RvY3VtZW50YXRpb25cXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj50dXRhajwvYT5cIlxuICB9LFxuICBcImRlZmluaXRpb25zRGlhbG9nXCI6e1xuICAgIFwidGl0bGVcIjogXCJEZWZpbmljamUgem1pZW5ueWNoXCIsXG4gICAgXCJidXR0b25zXCI6e1xuICAgICAgXCJyZWNhbGN1bGF0ZVwiOiBcIlByemVsaWN6XCJcbiAgICB9LFxuICAgIFwiZXZhbHVhdGVkVmFyaWFibGVzXCI6IFwiV2FydG/Fm2NpIHptaWVubnljaFwiXG4gIH0sXG4gIFwic2lkZWJhckRlZmluaXRpb25zXCI6e1xuICAgIFwiaGVhZGVyXCI6IFwiWm1pZW5uZVwiLFxuICAgIFwiY29kZVwiOiBcIktvZFwiLFxuICAgIFwiYnV0dG9uc1wiOntcbiAgICAgIFwib3BlbkRpYWxvZ1wiIDogXCJPdHfDs3J6IG9rbm8gZGlhbG9nb3dlXCIsXG4gICAgICBcInJlY2FsY3VsYXRlXCI6IFwiUHJ6ZWxpY3pcIlxuICAgIH0sXG4gICAgXCJldmFsdWF0ZWRWYXJpYWJsZXNcIjogXCJXYXJ0b8WbY2kgem1pZW5ueWNoXCJcbiAgfSxcbiAgXCJsYXlvdXRPcHRpb25zXCI6e1xuICAgIFwiaGVhZGVyXCI6IFwiVWvFgmFkXCIsXG4gICAgXCJtYXJnaW5Ib3Jpem9udGFsXCI6IFwiTWFyZ2luZXMgdyBwb3ppb21pZVwiLFxuICAgIFwibWFyZ2luVmVydGljYWxcIjogXCJNYXJnaW5lcyB3IHBpb25pZVwiLFxuICAgIFwibm9kZVNpemVcIjogXCJSb3ptaWFyIHfEmXrFgmFcIixcbiAgICBcImVkZ2VTbGFudFdpZHRoTWF4XCI6IFwiU2tvcyBrcmF3xJlkemkgKG1ha3N5bWFsbnkpXCIsXG4gICAgXCJncmlkV2lkdGhcIjogXCJTemVyb2tvxZvEh1wiLFxuICAgIFwiZ3JpZEhlaWdodFwiOiBcIld5c29rb8WbxIdcIlxuICB9LFxuICBcImRpYWdyYW1EZXRhaWxzXCI6e1xuICAgIFwiaGVhZGVyXCI6IFwiU3pjemVnw7PFgnlcIixcbiAgICBcInRpdGxlXCIgOiBcIlR5dHXFglwiLFxuICAgIFwiZGVzY3JpcHRpb25cIiA6IFwiT3Bpc1wiXG4gIH0sXG4gIFwib2JqZWN0UHJvcGVydGllc1wiOntcbiAgICBcImhlYWRlclwiOntcbiAgICAgIFwibm9kZVwiOntcbiAgICAgICAgXCJkZWNpc2lvblwiOlwiV8SZemXFgiBEZWN5enlqbnlcIixcbiAgICAgICAgXCJjaGFuY2VcIjpcIlfEmXplxYIgTG9zb3d5XCIsXG4gICAgICAgIFwidGVybWluYWxcIjpcIlfEmXplxYIgS2/FhGNvd3lcIlxuICAgICAgfSxcbiAgICAgIFwiZWRnZVwiOiBcIktyYXfEmWTFulwiLFxuICAgICAgXCJ0ZXh0XCI6IFwiUMWCeXdhasSFY3kgdGVrc3RcIlxuICAgIH0sXG4gICAgXCJjaGlsZHJlblByb3BlcnRpZXNcIjp7XG4gICAgICBcIm5vZGVcIjp7XG4gICAgICAgIFwiaGVhZGVyXCI6IFwiUG/FgsSFY3plbmlhXCIsXG4gICAgICAgIFwiY2hpbGRcIjoge1xuICAgICAgICAgIFwiaGVhZGVyXCI6IFwiS3Jhd8SZZMW6ICN7e251bWJlcn19XCJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgXCJ2YWxpZGF0aW9uXCI6e1xuICAgIFwiaW5jb21wbGV0ZVBhdGhcIjogXCJPc3RhdG5pbSB3xJl6xYJlbSB3IMWbY2llxbxjZSBwb3dpbmllbiBiecSHIFfEmXplxYIgS2/FhGNvd3lcIixcbiAgICBcInByb2JhYmlsaXR5RG9Ob3RTdW1VcFRvMVwiOiBcIlByYXdkb3BvZG9iaWXFhHN0d2EgbmllIHN1bXVqxIUgc2llIGRvIDFcIixcbiAgICBcImludmFsaWRQcm9iYWJpbGl0eVwiOiBcIk5pZXBvcHJhd25lIHByYXdkb3BvZG9iaWXFhHN0d28gbmEga3Jhd8SZZHppICN7e251bWJlcn19XCIsXG4gICAgXCJpbnZhbGlkUGF5b2ZmXCI6IFwiTmllcG9wcmF3bmEgd3lwxYJhdGEgbmEga3Jhd8SZZHppICN7e251bWJlcn19XCJcbiAgfSxcbiAgXCJncm93bFwiOntcbiAgICBcImJydXNoRGlzYWJsZWRcIjogXCJaYXpuYWN6YW5pZSB3ecWCxIVjem9uZVwiLFxuICAgIFwiYnJ1c2hFbmFibGVkXCI6IFwiWmF6bmFjemFuaWUgd8WCxIVjem9uZVwiXG4gIH0sXG4gIFwidG9vbHRpcFwiOntcbiAgICBcIm5vZGVcIjp7XG4gICAgICBcInBheW9mZlwiOiBcIld5cMWCYXRhXCIsXG4gICAgICBcImFnZ3JlZ2F0ZWRQYXlvZmZcIjogXCJaYWdyZWdvd2FuYSBXeXDFgmF0YVwiLFxuICAgICAgXCJwcm9iYWJpbGl0eVRvRW50ZXJcIjogXCJQcmF3ZG9wb2RvYmllxYRzdHdvIHdlasWbY2lhXCJcbiAgICB9LFxuICAgIFwiZWRnZVwiOntcbiAgICAgIFwicGF5b2ZmXCI6IFwiV3lwxYJhdGE6IHt7dmFsdWV9fVwiLFxuICAgICAgXCJwcm9iYWJpbGl0eVwiOiBcIlByYXdkb3BvZG9iaWXFhHN0d286IHt7dmFsdWV9fVwiXG4gICAgfVxuICB9LFxuICBcImNvbmZpcm1cIjp7XG4gICAgXCJuZXdEaWFncmFtXCI6IFwiQ3p5IGplc3RlxZsgcGV3aWVuLCDFvGUgY2hjZXN6IHBvcnp1Y2nEhyBvYmVjbnkgZGlhZ3JhbT8gV3N6eXN0a2llIG5pZXphcGlzYW5lIHptaWFueSB6b3N0YW7EhSB1dHJhY29uZS5cIixcbiAgICBcIm9wZW5EaWFncmFtXCI6IFwiQ3p5IGplc3RlxZsgcGV3aWVuPyBXc3p5c3RraWUgbmllemFwaXNhbmUgem1pYW55IHpvc3RhbsSFIHV0cmFjb25lLlwiLFxuICAgIFwiYmVmb3JldW5sb2FkXCI6IFwiQ3p5IGplc3RlxZsgcGV3aWVuLCDFvGUgY2hjZXN6IHphbWtuxIXEhyBTaWx2ZXJEZWNpc2lvbnM/IFdzenlzdGtpZSBuaWV6YXBpc2FuZSB6bWlhbnkgem9zdGFuxIUgdXRyYWNvbmUuXCJcbiAgfSxcbiAgXCJlcnJvclwiOntcbiAgICBcImpzb25QYXJzZVwiOiBcIkLFgsSFZCBwcnpldHdhcnphbmlhIGRhbnljaCB6IHBsaWt1IVwiLFxuICAgIFwiZmlsZUFwaU5vdFN1cHBvcnRlZFwiOlwiRnVuY2tqYSAnZmlsZSBBUEknIG5pZSBqZXN0IHdzcGllcmFuYSB3IHRlaiBwcnplZ2zEhWRhcmNlIGludGVybmV0b3dlai5cIixcbiAgICBcImlucHV0RmlsZXNQcm9wZXJ0eVwiOlwiVHdvamUgcHJ6ZWdsxIVkYXJrYSBuaWUgd3NwaWVyYSBvcGNqaSBgcGxpa2lgIHByenkgb3R3aWVyYW5pdSBwbGlrdS5cIixcbiAgICBcIm5vdFNpbHZlckRlY2lzaW9uc0ZpbGVcIjpcIlBsaWsgbmllemdvZG55IHogZm9ybWF0ZW0gU2lsdmVyRGVjaXNpb25zIVwiLFxuICAgIFwiaW5jb3JyZWN0VmVyc2lvbkZvcm1hdFwiOiBcIk5pZXBvcHJhd255IGZvcm1hdCBjacSFZ3UgeiBudW1lcmVtIHdlcnNqaSFcIixcbiAgICBcImZpbGVWZXJzaW9uTmV3ZXJUaGFuQXBwbGljYXRpb25WZXJzaW9uXCI6IFwiV2Vyc2phIHBsaWt1IGplc3Qgbm93YXN6YSBuacW8IHdlcnNqYSBhcGxpa2FjamkuIE5pZWt0w7NyZSBmdW5rY2pvbmFsbm/Fm2NpIG1vZ8SFIGJ5xIcgbmllZG9zdMSZcG5lLlwiLFxuICAgIFwib2JqZWN0aXZlQ29tcHV0YXRpb25GYWlsdXJlXCI6IFwiQsWCxIVkIHBvZGN6YXMgd3lsaWN6YW5pYSBjZWx1IVwiLFxuICAgIFwiZGlhZ3JhbURyYXdpbmdGYWlsdXJlXCI6IFwiQsWCxIVkIHBvZGN6YXMgcnlzb3dhbmlhIGRpYWdyYW11IVwiLFxuICAgIFwibWFsZm9ybWVkRGF0YVwiOlwiQsWCxIVkIG9kY3p5dHUgZGFueWNoIGRyemV3YSFcIixcbiAgICBcInBuZ0V4cG9ydE5vdFN1cHBvcnRlZFwiOiBcIkVrc3BvcnQgZG8gb2JyYXp1IFBORyBuaWUgamVzdCB3c3BpZXJhbnkgdyBUd29qZWogcHJ6ZWdsxIVkYXJjZS5cIixcbiAgICBcInBuZ0V4cG9ydE5vdFN1cHBvcnRlZElFXCI6IFwiRWtzcG9ydCBkbyBvYnJhenUgUE5HIG5pZSBqZXN0IHdzcGllcmFueSB3IHByemVnbMSFZGFyY2UgSW50ZXJuZXQgRXhwbG9yZXIuXCIsXG4gICAgXCJzdmdFeHBvcnROb3RTdXBwb3J0ZWRcIjogXCJFa3Nwb3J0IGRvIG9icmF6dSBTVkcgbmllIGplc3Qgd3NwaWVyYW55IHcgVHdvamVqIHByemVnbMSFZGFyY2UuXCIsXG4gICAgXCJwZGZFeHBvcnROb3RTdXBwb3J0ZWRcIjogXCJFa3Nwb3J0IGRvIFBERiBuaWUgamVzdCB3c3BpZXJhbnkgdyBUd29qZWogcHJ6ZWdsxIVkYXJjZS5cIixcbiAgICBcImluY29ycmVjdFBheW9mZk51bWJlckZvcm1hdE9wdGlvbnNcIjogXCJOaWV3xYJhxZtjaXdlIHVzdGF3aWVuaWEgZGxhIGZvcm1hdHUgd3lwxYJhdHkuXCIsXG4gICAgXCJpbmNvcnJlY3RQcm9iYWJpbGl0eU51bWJlckZvcm1hdE9wdGlvbnNcIjogXCJOaWV3xYJhxZtjaXdlIHVzdGF3aWVuaWEgZGxhIGZvcm1hdHUgcHJhd2RvcG9kb2JpZcWEc3R3LlwiLFxuICAgIFwiaW5jb3JyZWN0TnVtYmVyRm9ybWF0T3B0aW9uc1wiOiBcIk5pZXfFgmHFm2Npd2UgdXN0YXdpb25vIGZvcm1hdG93YW5pZSBsaWN6Yi4gUHJ6eWrEmXRvIHVzdGF3aWVuaWEgZG9tecWbbG5lLlwiLFxuICAgIFwianNQREZpc05vdEluY2x1ZGVkXCI6IFwiTmllIHfFgsSFY3pvbm8ganNQREYhXCIsXG4gICAgXCJzZXJ2ZXJTaWRlRXhwb3J0UmVxdWVzdEZhaWx1cmVcIjogXCJOaWV1ZGFuZSB6YXB5dGFuaWUgZG8gc2Vyd2VyYSBleHBvcnR1IVwiXG4gIH1cbn1cbiIsInJlcXVpcmUoJ2VzNi1zZXQvaW1wbGVtZW50Jyk7XG5pbXBvcnQge0QzRXh0ZW5zaW9uc30gZnJvbSAnLi9kMy1leHRlbnNpb25zJ1xuaW1wb3J0IHtBcHB9IGZyb20gJy4vYXBwJ1xuaW1wb3J0IHt2ZXJzaW9ufSBmcm9tICcuLi9wYWNrYWdlLmpzb24nO1xuRDNFeHRlbnNpb25zLmV4dGVuZCgpO1xuXG5BcHAudmVyc2lvbiA9IHZlcnNpb247XG5tb2R1bGUuZXhwb3J0cyA9IEFwcDtcblxuXG5cblxuXG5cbiIsImltcG9ydCB7VGVtcGxhdGVzfSBmcm9tIFwiLi4vdGVtcGxhdGVzXCI7XG5pbXBvcnQge1BBUkFNRVRFUl9UWVBFfSBmcm9tIFwic2QtY29tcHV0YXRpb25zL3NyYy9qb2JzL2VuZ2luZS9qb2ItcGFyYW1ldGVyLWRlZmluaXRpb25cIjtcbmltcG9ydCB7bG9nfSBmcm9tICdzZC11dGlscydcbmltcG9ydCAqIGFzIGQzIGZyb20gXCIuLi9kM1wiO1xuaW1wb3J0IHtVdGlsc30gZnJvbSBcInNkLXV0aWxzXCI7XG5pbXBvcnQge2kxOG59IGZyb20gXCIuLi9pMThuL2kxOG5cIjtcbmltcG9ydCB7QXBwVXRpbHN9IGZyb20gXCIuLi9hcHAtdXRpbHNcIjtcbmltcG9ydCB7VG9vbHRpcH0gZnJvbSBcIi4uL3Rvb2x0aXBcIjtcbmltcG9ydCB7QXV0b2NvbXBsZXRlfSBmcm9tIFwiLi4vYXV0b2NvbXBsZXRlXCJcblxuZXhwb3J0IGNsYXNzIEpvYlBhcmFtZXRlcnNCdWlsZGVye1xuXG5cbiAgICBqb2JQYXJhbWV0ZXJzO1xuICAgIGhpZGRlblBhcmFtcztcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIsIGkxOG5QcmVmaXg9JycsIG9uQ2hhbmdlPSgpPT57fSl7XG4gICAgICAgIHRoaXMuY29udGFpbmVyPWNvbnRhaW5lcjtcbiAgICAgICAgdGhpcy5pMThuUHJlZml4ID0gaTE4blByZWZpeDtcbiAgICAgICAgdGhpcy5wYXJhbVR5cGVUb0lucHV0VHlwZSA9e307XG4gICAgICAgIHRoaXMucGFyYW1UeXBlVG9JbnB1dFR5cGVbUEFSQU1FVEVSX1RZUEUuQk9PTEVBTl0gPSAnY2hlY2tib3gnO1xuICAgICAgICB0aGlzLnBhcmFtVHlwZVRvSW5wdXRUeXBlW1BBUkFNRVRFUl9UWVBFLkRBVEVdID0gJ2RhdGUnO1xuICAgICAgICB0aGlzLnBhcmFtVHlwZVRvSW5wdXRUeXBlW1BBUkFNRVRFUl9UWVBFLklOVEVHRVJdID0gJ251bWJlcic7XG4gICAgICAgIHRoaXMucGFyYW1UeXBlVG9JbnB1dFR5cGVbUEFSQU1FVEVSX1RZUEUuTlVNQkVSXSA9ICdudW1iZXInO1xuICAgICAgICB0aGlzLnBhcmFtVHlwZVRvSW5wdXRUeXBlW1BBUkFNRVRFUl9UWVBFLlNUUklOR10gPSAndGV4dCc7XG4gICAgICAgIHRoaXMub25DaGFuZ2UgPSBvbkNoYW5nZTtcbiAgICB9XG5cblxuICAgIHNldEpvYlBhcmFtZXRlcnMoam9iTmFtZSwgam9iUGFyYW1ldGVycywgY3VzdG9tUGFyYW1zQ29uZmlnPXt9KXtcbiAgICAgICAgdGhpcy5qb2JOYW1lPWpvYk5hbWU7XG4gICAgICAgIHRoaXMuam9iUGFyYW1ldGVycyA9IGpvYlBhcmFtZXRlcnM7XG4gICAgICAgIHRoaXMuY3VzdG9tUGFyYW1zQ29uZmlnID0gY3VzdG9tUGFyYW1zQ29uZmlnO1xuICAgICAgICB0aGlzLmNsZWFuKCk7XG4gICAgICAgIHRoaXMuYnVpbGQodGhpcy5jb250YWluZXIsIHRoaXMuam9iUGFyYW1ldGVycy5kZWZpbml0aW9ucywgdGhpcy5qb2JQYXJhbWV0ZXJzLnZhbHVlcywgJycsIHRoaXMub25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGNsZWFuKCkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5odG1sKCcnKTtcbiAgICAgICAgdGhpcy5wcmlzdGluZSA9IHt9O1xuICAgICAgICB0aGlzLmN1c3RvbVZhbGlkYXRvcnMgPSB7fTtcbiAgICAgICAgdGhpcy5zdHJpY3RWYWxpZGF0aW9uKGZhbHNlKTtcbiAgICB9XG5cbiAgICB2YWxpZGF0ZShzdHJpY3RWYWxpZGF0aW9uID0gdHJ1ZSl7XG4gICAgICAgIHRoaXMuc3RyaWN0VmFsaWRhdGlvbihzdHJpY3RWYWxpZGF0aW9uKTtcbiAgICAgICAgdGhpcy5wcmlzdGluZSA9IHt9O1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZWxlY3RBbGwoJy5zZC1wcmlzdGluZScpLmNsYXNzZWQoJ3NkLXByaXN0aW5lJywgZmFsc2UpO1xuICAgICAgICB0aGlzLmNoZWNrQ3VzdG9tVmFsaWRhdG9ycygpO1xuICAgICAgICByZXR1cm4gdGhpcy5qb2JQYXJhbWV0ZXJzLnZhbGlkYXRlKCk7XG4gICAgfVxuXG4gICAgY2hlY2tDdXN0b21WYWxpZGF0b3JzKCl7XG4gICAgICAgIFV0aWxzLmZvck93bih0aGlzLmN1c3RvbVZhbGlkYXRvcnMsICh2YWwsIGtleSk9PntcbiAgICAgICAgICAgIHZhbCgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdHJpY3RWYWxpZGF0aW9uKGVuYWJsZWQ9dHJ1ZSl7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzZWQoJ3NkLXN0cmljdC12YWxpZGF0aW9uJywgZW5hYmxlZCk7XG4gICAgfVxuXG5cbiAgICBidWlsZChjb250YWluZXIsIGpvYlBhcmFtZXRlckRlZmluaXRpb25zLCBwYXJlbnRWYWx1ZU9iamVjdCwgIHBhcmVudFBhdGg9JycsIG9uQ2hhbmdlPSgpPT57fSwgb25JbnB1dD0oKT0+e30pe1xuICAgICAgICBjb250YWluZXIuaHRtbCgnJyk7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHBhcmFtcyA9IGNvbnRhaW5lci5zZWxlY3RBbGwoXCIuc2Qtam9iLXBhcmFtZXRlclwiKS5kYXRhKGpvYlBhcmFtZXRlckRlZmluaXRpb25zKTtcbiAgICAgICAgdmFyIHBhcmFtc0VudGVyID0gcGFyYW1zLmVudGVyKCkuYXBwZW5kU2VsZWN0b3IoJ2Rpdi5zZC1qb2ItcGFyYW1ldGVyJyk7XG5cbiAgICAgICAgcGFyYW1zRW50ZXIuaHRtbChkPT5UZW1wbGF0ZXMuZ2V0KCdqb2JQYXJhbWV0ZXInLCBkKSk7XG5cbiAgICAgICAgdmFyIHBhcmFtc01lcmdlID0gcGFyYW1zRW50ZXIubWVyZ2UocGFyYW1zKTtcbiAgICAgICAgcGFyYW1zTWVyZ2UuZWFjaChmdW5jdGlvbihkLGkpe1xuICAgICAgICAgICAgdmFyIHBhcmFtU2VsZWN0aW9uID0gZDMuc2VsZWN0KHRoaXMpO1xuICAgICAgICAgICAgdmFyIHBhdGggPSBwYXJlbnRQYXRoO1xuXG4gICAgICAgICAgICBpZihwYXRoKXtcbiAgICAgICAgICAgICAgICBwYXRoKz0nLic7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhdGggKz0gZC5uYW1lO1xuICAgICAgICAgICAgcGFyYW1TZWxlY3Rpb24uY2xhc3NlZCgnc2QtaGlkZGVuJywgVXRpbHMuZ2V0KHNlbGYuY3VzdG9tUGFyYW1zQ29uZmlnLCBwYXRoKycuaGlkZGVuJykpO1xuXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBwYXJlbnRWYWx1ZU9iamVjdFtkLm5hbWVdO1xuICAgICAgICAgICAgdmFyIHJlcGVhdGluZyA9IGQubWF4T2NjdXJzPjE7XG4gICAgICAgICAgICBpZih2YWx1ZT09dW5kZWZpbmVkKXtcbiAgICAgICAgICAgICAgICBpZihyZXBlYXRpbmcpe1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIHZpPTA7IHZpPGQubWluT2NjdXJzOyB2aSsrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnB1c2goc2VsZi5nZXRFbXB0eVZhbHVlKGQudHlwZSkpXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZT1VdGlscy5nZXQoc2VsZi5jdXN0b21QYXJhbXNDb25maWcsIHBhdGgrJy52YWx1ZScsIHNlbGYuZ2V0RW1wdHlWYWx1ZShkLnR5cGUpKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHBhcmVudFZhbHVlT2JqZWN0W2QubmFtZV09dmFsdWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKCFyZXBlYXRpbmcpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmJ1aWxkUGFyYW1ldGVyU2luZ2xlVmFsdWUocGFyYW1TZWxlY3Rpb24sIGQsIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiAoKT0+IHBhcmVudFZhbHVlT2JqZWN0W2QubmFtZV0sXG4gICAgICAgICAgICAgICAgICAgIHNldDogKHYpPT4gcGFyZW50VmFsdWVPYmplY3RbZC5uYW1lXT12XG4gICAgICAgICAgICAgICAgfSwgcGF0aCxvbkNoYW5nZSwgb25JbnB1dClcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHBhcmFtU2VsZWN0aW9uLmFwcGVuZFNlbGVjdG9yKFwiZGl2LnNkLWpvYi1wYXJhbWV0ZXItbmFtZVwiKS5odG1sKHNlbGYuZ2V0UGFyYW1OYW1lSTE4bihwYXRoKSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVzQ29udGFpbmVyID0gcGFyYW1TZWxlY3Rpb24uYXBwZW5kU2VsZWN0b3IoXCJkaXYuc2Qtam9iLXBhcmFtZXRlci12YWx1ZXNcIik7XG4gICAgICAgICAgICAgICAgdmFyIGFjdGlvbkJ1dHRvbnMgPSBwYXJhbVNlbGVjdGlvbi5hcHBlbmRTZWxlY3RvcihcImRpdi5zZC1hY3Rpb24tYnV0dG9uc1wiKTtcbiAgICAgICAgICAgICAgICB2YXIgYWRkQnV0dG9uID0gYWN0aW9uQnV0dG9ucy5hcHBlbmRTZWxlY3RvcignYnV0dG9uLnNkLWFkZC1qb2ItcGFyYW1ldGVyLXZhbHVlLWJ1dHRvbi5pY29uLWJ1dHRvbicpO1xuICAgICAgICAgICAgICAgIGFkZEJ1dHRvbi5hcHBlbmRTZWxlY3RvcihcImkubWF0ZXJpYWwtaWNvbnNcIikuaHRtbCgnYWRkJyk7XG5cblxuICAgICAgICAgICAgICAgIHBhcmFtU2VsZWN0aW9uLmNsYXNzZWQoJ2ludmFsaWQnLCAhZC52YWxpZGF0ZSh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIHZhciBjYWxsYmFja3MgPSB7fTtcbiAgICAgICAgICAgICAgICBjYWxsYmFja3Mub25WYWx1ZVJlbW92ZWQgPSBmdW5jdGlvbih2LGkpe1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYnVpbGRQYXJhbWV0ZXJWYWx1ZXModmFsdWVzQ29udGFpbmVyLCBkLCB2YWx1ZSwgcGF0aCxjYWxsYmFja3MpXG4gICAgICAgICAgICAgICAgICAgIGFkZEJ1dHRvbi5jbGFzc2VkKCdzZC1oaWRkZW4nLCB2YWx1ZS5sZW5ndGg+PWQubWF4T2NjdXJzKVxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3Mub25DaGFuZ2UoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5vbkNoYW5nZSA9ICgpID0+e1xuICAgICAgICAgICAgICAgICAgICBwYXJhbVNlbGVjdGlvbi5jbGFzc2VkKCdpbnZhbGlkJywgIWQudmFsaWRhdGUodmFsdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2UoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5vbklucHV0ID0gKCkgPT57XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtU2VsZWN0aW9uLmNsYXNzZWQoJ2ludmFsaWQnLCAhZC52YWxpZGF0ZSh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICBvbklucHV0KCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGFkZEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAuYXR0cigndGl0bGUnLCBpMThuLnQoJ2pvYlBhcmFtZXRlcnNCdWlsZGVyLmJ1dHRvbnMuYWRkUGFyYW1ldGVyVmFsdWUnKSlcbiAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ3NkLWhpZGRlbicsIHZhbHVlLmxlbmd0aD49ZC5tYXhPY2N1cnMpXG4gICAgICAgICAgICAgICAgICAgIC5vbignY2xpY2snLCAoKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUucHVzaChzZWxmLmdldEVtcHR5VmFsdWUoZC50eXBlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBVdGlscy5zZXQoc2VsZi5wcmlzdGluZSwgcGF0aCtcIltcIisodmFsdWUubGVuZ3RoLTEpK1wiXVwiLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYnVpbGRQYXJhbWV0ZXJWYWx1ZXModmFsdWVzQ29udGFpbmVyLCBkLCB2YWx1ZSwgcGF0aCwgY2FsbGJhY2tzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEJ1dHRvbi5jbGFzc2VkKCdzZC1oaWRkZW4nLCB2YWx1ZS5sZW5ndGg+PWQubWF4T2NjdXJzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5vbkNoYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuXG5cblxuICAgICAgICAgICAgICAgIHNlbGYuYnVpbGRQYXJhbWV0ZXJWYWx1ZXModmFsdWVzQ29udGFpbmVyLCBkLCB2YWx1ZSwgcGF0aCxjYWxsYmFja3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgYnVpbGRQYXJhbWV0ZXJWYWx1ZXMoY29udGFpbmVyLCBwYXJhbURlZmluaXRpb24sIHZhbHVlcywgcGF0aCwgY2FsbGJhY2tzKXtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBjb250YWluZXIuaHRtbChcIlwiKTtcblxuICAgICAgICB2YXIgcGFyYW1WYWx1ZXMgPSBjb250YWluZXIuc2VsZWN0QWxsKFwiLnNkLWpvYi1wYXJhbWV0ZXItdmFsdWVcIikuZGF0YSh2YWx1ZXMpO1xuXG4gICAgICAgIHBhcmFtVmFsdWVzLmV4aXQoKS5yZW1vdmUoKTtcbiAgICAgICAgdmFyIHBhcmFtVmFsdWVzRW50ZXIgPSBwYXJhbVZhbHVlcy5lbnRlcigpLmFwcGVuZFNlbGVjdG9yKCdkaXYuc2Qtam9iLXBhcmFtZXRlci12YWx1ZScpO1xuXG4gICAgICAgIHZhciBwYXJhbVZhbHVlc01lcmdlID0gcGFyYW1WYWx1ZXNFbnRlci5tZXJnZShwYXJhbVZhbHVlcyk7XG5cbiAgICAgICAgdmFyIGluZGV4VG9TZWxlY3Rpb24gPSB7fTtcblxuICAgICAgICB2YXIgY3VzdG9tVmFsaWRhdG9yID0gVXRpbHMuZ2V0KHNlbGYuY3VzdG9tUGFyYW1zQ29uZmlnLCBwYXRoKycuY3VzdG9tVmFsaWRhdG9yJyk7XG5cbiAgICAgICAgZnVuY3Rpb24gY2hlY2tDdXN0b21WYWxpZGF0b3IoKXtcbiAgICAgICAgICAgIGlmKGN1c3RvbVZhbGlkYXRvcil7XG4gICAgICAgICAgICAgICAgY3VzdG9tVmFsaWRhdG9yKHZhbHVlcykuZm9yRWFjaCgoaXNWYWxpZCwgaSk9PntcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGlvbiA9IGluZGV4VG9TZWxlY3Rpb25baV07XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5jbGFzc2VkKCdpbnZhbGlkJywgIXBhcmFtRGVmaW5pdGlvbi52YWxpZGF0ZVNpbmdsZVZhbHVlKHZhbHVlc1tpXSkpO1xuICAgICAgICAgICAgICAgICAgICBpZighaXNWYWxpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uLmNsYXNzZWQoJ2ludmFsaWQnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLmN1c3RvbVZhbGlkYXRvcnNbcGF0aF0gPSBjaGVja0N1c3RvbVZhbGlkYXRvcjtcblxuICAgICAgICBwYXJhbVZhbHVlc0VudGVyLmVhY2goZnVuY3Rpb24gKHZhbHVlLCBpKSB7XG4gICAgICAgICAgICB2YXIgZGVyaXZlZFZhbHVlVXBkYXRlcnMgPSBbXTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlRGVyaXZlZFZhbHVlcygpe1xuICAgICAgICAgICAgICAgIGRlcml2ZWRWYWx1ZVVwZGF0ZXJzLmZvckVhY2godXBkYXRlcj0+dXBkYXRlcih2YWx1ZXNbaV0pKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uID0gZDMuc2VsZWN0KHRoaXMpO1xuICAgICAgICAgICAgaW5kZXhUb1NlbGVjdGlvbltpXSA9IHNlbGVjdGlvbjtcblxuXG4gICAgICAgICAgICBpZiAoUEFSQU1FVEVSX1RZUEUuQ09NUE9TSVRFID09IHBhcmFtRGVmaW5pdGlvbi50eXBlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5lc3RlZFBhcmFtZXRlcnMgPSBzZWxlY3Rpb24uc2VsZWN0T3JBcHBlbmQoXCJkaXYuc2QtbmVzdGVkLXBhcmFtZXRlcnNcIik7XG4gICAgICAgICAgICAgICAgdmFyIG9uQ2hhbmdlID0gKCk9PntcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uLmNsYXNzZWQoJ2ludmFsaWQnLCAhcGFyYW1EZWZpbml0aW9uLnZhbGlkYXRlU2luZ2xlVmFsdWUodmFsdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tDdXN0b21WYWxpZGF0b3IoKTtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlRGVyaXZlZFZhbHVlcygpO1xuICAgICAgICAgICAgICAgICAgICBpZihjYWxsYmFja3Mub25DaGFuZ2Upe1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzLm9uQ2hhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciBvbklucHV0ID0gKCk9PntcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlRGVyaXZlZFZhbHVlcygpO1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb24uY2xhc3NlZCgnaW52YWxpZCcsICFwYXJhbURlZmluaXRpb24udmFsaWRhdGVTaW5nbGVWYWx1ZSh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICBjaGVja0N1c3RvbVZhbGlkYXRvcigpO1xuICAgICAgICAgICAgICAgICAgICBpZihjYWxsYmFja3Mub25JbnB1dCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3Mub25JbnB1dCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHNlbGYuYnVpbGQobmVzdGVkUGFyYW1ldGVycywgcGFyYW1EZWZpbml0aW9uLm5lc3RlZFBhcmFtZXRlcnMsIHZhbHVlLCBwYXRoLCBvbkNoYW5nZSwgb25JbnB1dCk7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uLmNsYXNzZWQoJ2ludmFsaWQnLCAhcGFyYW1EZWZpbml0aW9uLnZhbGlkYXRlU2luZ2xlVmFsdWUodmFsdWUpKTtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24uY2xhc3NlZCgnc2QtcHJpc3RpbmUnLCBVdGlscy5nZXQoc2VsZi5wcmlzdGluZSwgcGF0aCtcIltcIitpK1wiXVwiLCBmYWxzZSkpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgc2VsZi5idWlsZFBhcmFtZXRlclNpbmdsZVZhbHVlKHNlbGVjdGlvbiwgcGFyYW1EZWZpbml0aW9uLCB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogKCk9PiB2YWx1ZXNbaV0sXG4gICAgICAgICAgICAgICAgICAgIHNldDogKHYpPT4gdmFsdWVzW2ldPXZcbiAgICAgICAgICAgICAgICB9LCBwYXRoLCAoKT0+e1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVEZXJpdmVkVmFsdWVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrQ3VzdG9tVmFsaWRhdG9yKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmKGNhbGxiYWNrcy5vbkNoYW5nZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3Mub25DaGFuZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sKCk9PntcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlRGVyaXZlZFZhbHVlcygpO1xuICAgICAgICAgICAgICAgICAgICBjaGVja0N1c3RvbVZhbGlkYXRvcigpO1xuICAgICAgICAgICAgICAgICAgICBpZihjYWxsYmFja3Mub25JbnB1dCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3Mub25JbnB1dCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIHZhciBkZXJpdmVkVmFsdWVzQ29uZmlncyA9IFV0aWxzLmdldChzZWxmLmN1c3RvbVBhcmFtc0NvbmZpZywgcGF0aCsnLl9kZXJpdmVkVmFsdWVzJyk7XG4gICAgICAgICAgICBpZihkZXJpdmVkVmFsdWVzQ29uZmlncyl7XG4gICAgICAgICAgICAgICAgZGVyaXZlZFZhbHVlc0NvbmZpZ3MuZm9yRWFjaChkZXJpdmVkVmFsdWVDb25maWcgPT57XG4gICAgICAgICAgICAgICAgICAgIGxldCB1cGRhdGVyID0gc2VsZi5idWlsZERlcml2ZWRWYWx1ZShzZWxlY3Rpb24sIGRlcml2ZWRWYWx1ZUNvbmZpZywgcGF0aCk7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZXIodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBkZXJpdmVkVmFsdWVVcGRhdGVycy5wdXNoKHVwZGF0ZXIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIHZhciBhY3Rpb25CdXR0b25zID0gc2VsZWN0aW9uLmFwcGVuZFNlbGVjdG9yKFwiZGl2LnNkLWFjdGlvbi1idXR0b25zXCIpO1xuICAgICAgICAgICAgdmFyIHJlbW92ZUJ1dHRvbiA9IGFjdGlvbkJ1dHRvbnMuYXBwZW5kU2VsZWN0b3IoJ2J1dHRvbi5zZC1yZW1vdmUtam9iLXBhcmFtZXRlci12YWx1ZS1idXR0b24uaWNvbi1idXR0b24nKTtcbiAgICAgICAgICAgIHJlbW92ZUJ1dHRvbi5hcHBlbmRTZWxlY3RvcihcImkubWF0ZXJpYWwtaWNvbnNcIikuaHRtbCgncmVtb3ZlJylcbiAgICAgICAgICAgIHJlbW92ZUJ1dHRvblxuICAgICAgICAgICAgICAgIC5hdHRyKCd0aXRsZScsIGkxOG4udCgnam9iUGFyYW1ldGVyc0J1aWxkZXIuYnV0dG9ucy5yZW1vdmVQYXJhbWV0ZXJWYWx1ZScpKVxuICAgICAgICAgICAgICAgIC5jbGFzc2VkKCdzZC1oaWRkZW4nLCB2YWx1ZXMubGVuZ3RoPD1wYXJhbURlZmluaXRpb24ubWluT2NjdXJzKVxuICAgICAgICAgICAgICAgIC5vbignY2xpY2snLCAoZCk9PmNhbGxiYWNrcy5vblZhbHVlUmVtb3ZlZChkLGkpKVxuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNoZWNrQ3VzdG9tVmFsaWRhdG9yKCk7XG5cbiAgICAgICAgcGFyYW1WYWx1ZXNNZXJnZS5lYWNoKGZ1bmN0aW9uICh2YWx1ZSwgaSkge1xuXG4gICAgICAgIH0pO1xuXG5cbiAgICB9XG5cbiAgICBidWlsZERlcml2ZWRWYWx1ZShjb250YWluZXIsIGRlcml2ZWRWYWx1ZUNvbmZpZywgcGF0aCl7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICB2YXIgaW5wdXRJZCA9IFV0aWxzLmd1aWQoKTtcbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IGNvbnRhaW5lci5hcHBlbmRTZWxlY3RvcignZGl2LmlucHV0LWdyb3VwLnNkLWRlcml2ZWQtdmFsdWUnKTtcbiAgICAgICAgdmFyIG5hbWUgPSB0aGlzLmdldFBhcmFtTmFtZUkxOG4ocGF0aCsnLicrZGVyaXZlZFZhbHVlQ29uZmlnLm5hbWUpO1xuICAgICAgICB2YXIgaW5wdXQgPSBzZWxlY3Rpb24uYXBwZW5kKCdpbnB1dCcpLmF0dHIoJ3R5cGUnLCAndGV4dCcpLmF0dHIoXCJkaXNhYmxlZFwiLCBcImRpc2FibGVkXCIpO1xuXG4gICAgICAgIHNlbGVjdGlvbi5hcHBlbmRTZWxlY3Rvcignc3Bhbi5iYXInKTtcbiAgICAgICAgdmFyIGxhYmVsID0gc2VsZWN0aW9uLmFwcGVuZCgnbGFiZWwnKVxuICAgICAgICAgICAgLmF0dHIoJ2ZvcicsIGlucHV0SWQpXG4gICAgICAgICAgICAuaHRtbChuYW1lKTtcblxuICAgICAgICByZXR1cm4gKHBhcmFtVmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlucHV0Lm5vZGUoKS52YWx1ZSA9IGRlcml2ZWRWYWx1ZUNvbmZpZy52YWx1ZShwYXJhbVZhbHVlKTtcbiAgICAgICAgICAgIEFwcFV0aWxzLnVwZGF0ZUlucHV0Q2xhc3MoaW5wdXQpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBidWlsZFBhcmFtZXRlclNpbmdsZVZhbHVlKGNvbnRhaW5lciwgcGFyYW1EZWZpbml0aW9uLCB2YWx1ZUFjY2Vzc29yLCBwYXRoLCBvbkNoYW5nZSwgb25JbnB1dCl7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHRlbXAgPSB7fTtcblxuICAgICAgICB2YXIgaW5wdXRJZCA9IFV0aWxzLmd1aWQoKTtcbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IGNvbnRhaW5lci5hcHBlbmRTZWxlY3RvcignZGl2LmlucHV0LWdyb3VwJyk7XG4gICAgICAgIHNlbGVjdGlvbi5jbGFzc2VkKCdzZC1wYXJhbWV0ZXItJytwYXJhbURlZmluaXRpb24ubmFtZSwgdHJ1ZSk7XG4gICAgICAgIHZhciBoZWxwID0gdGhpcy5nZXRQYXJhbUhlbHBJMThuKHBhdGgpO1xuICAgICAgICBpZihoZWxwKSB7XG4gICAgICAgICAgICBsZXQgaGVscENvbnRhaW5lciA9IGNvbnRhaW5lci5hcHBlbmRTZWxlY3RvcignZGl2LnNkLWhlbHAtaWNvbicpO1xuICAgICAgICAgICAgaGVscENvbnRhaW5lci5odG1sKCc8aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+aW5mb19vdXRsaW5lPC9pPicpO1xuICAgICAgICAgICAgVG9vbHRpcC5hdHRhY2goaGVscENvbnRhaW5lciwgKGQpPT57XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhlbHA7XG4gICAgICAgICAgICB9LCA1LCAxNSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgb3B0aW9ucyA9IFV0aWxzLmdldChzZWxmLmN1c3RvbVBhcmFtc0NvbmZpZywgcGF0aCsnLm9wdGlvbnMnLCBudWxsKTtcblxuICAgICAgICB2YXIgaW5wdXRUeXBlID0gdGhpcy5wYXJhbVR5cGVUb0lucHV0VHlwZVtwYXJhbURlZmluaXRpb24udHlwZV07XG4gICAgICAgIHZhciBpbnB1dDtcbiAgICAgICAgaWYob3B0aW9ucyAmJiBvcHRpb25zLmxlbmd0aCl7XG4gICAgICAgICAgICBpbnB1dFR5cGUgPSAnc2VsZWN0JztcbiAgICAgICAgICAgIGlucHV0ID0gc2VsZWN0aW9uLmFwcGVuZCgnc2VsZWN0Jyk7XG4gICAgICAgICAgICB2YXIgb3B0aW9uc1NlbCA9IGlucHV0LnNlbGVjdEFsbChcIm9wdGlvblwiKS5kYXRhKFtudWxsXS5jb25jYXQob3B0aW9ucykpO1xuICAgICAgICAgICAgb3B0aW9uc1NlbC5lbnRlcigpLmFwcGVuZChcIm9wdGlvblwiKS5hdHRyKFwidmFsdWVcIiwgZD0+ZCkudGV4dChkPT5kKTtcblxuICAgICAgICAgICAgaWYoVXRpbHMuZ2V0KHNlbGYuY3VzdG9tUGFyYW1zQ29uZmlnLCBwYXRoKycub3B0aW9uc0F1dG9jb21wbGV0ZScsIG51bGwpKXtcbiAgICAgICAgICAgICAgICBsZXQgYXV0b2NvbXBsZXRlID0gbmV3IEF1dG9jb21wbGV0ZShpbnB1dCk7XG4gICAgICAgICAgICAgICAgaW5wdXQgPSBhdXRvY29tcGxldGUuZ2V0SW5wdXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBpbnB1dCA9IHNlbGVjdGlvbi5hcHBlbmQoJ2lucHV0JykuYXR0cigndHlwZScsIGlucHV0VHlwZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpbnB1dC5hdHRyKCdpZCcsIGlucHV0SWQpO1xuXG4gICAgICAgIGlucHV0LmNsYXNzZWQoJ3NkLWlucHV0JywgdHJ1ZSk7XG4gICAgICAgIGlucHV0Lm9uKCdpbnB1dCBjaGFuZ2UnLCBmdW5jdGlvbihkLCBpKXtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHNlbGYucGFyc2VJbnB1dCh0aGlzLnZhbHVlLCBwYXJhbURlZmluaXRpb24udHlwZSk7XG4gICAgICAgICAgICBpZihpbnB1dFR5cGU9PSdjaGVja2JveCcpe1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5jaGVja2VkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZighcGFyYW1EZWZpbml0aW9uLnZhbGlkYXRlU2luZ2xlVmFsdWUodmFsdWUpKXtcbiAgICAgICAgICAgICAgICBkMy5zZWxlY3QodGhpcykuY2xhc3NlZCgnaW52YWxpZCcsIHRydWUpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLmNsYXNzZWQoJ2ludmFsaWQnLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhbHVlQWNjZXNzb3Iuc2V0KHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChkMy5ldmVudC50eXBlID09ICdjaGFuZ2UnKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZDMuZXZlbnQudHlwZSA9PSAnaW5wdXQnKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9uSW5wdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgb25JbnB1dCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQXBwVXRpbHMudXBkYXRlSW5wdXRDbGFzcyhkMy5zZWxlY3QodGhpcykpO1xuICAgICAgICB9KS5lYWNoKGZ1bmN0aW9uKGQsIGkpe1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gdmFsdWVBY2Nlc3Nvci5nZXQoKTtcbiAgICAgICAgICAgIGlmKGlucHV0VHlwZT09J2NoZWNrYm94Jyl7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja2VkID0gdmFsdWVcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRlbXBbaV09e307XG4gICAgICAgICAgICB0ZW1wW2ldLnByaXN0aW5lVmFsID0gdmFsdWU7XG4gICAgICAgICAgICBkMy5zZWxlY3QodGhpcykuY2xhc3NlZCgnaW52YWxpZCcsICFwYXJhbURlZmluaXRpb24udmFsaWRhdGVTaW5nbGVWYWx1ZSh2YWx1ZSkpO1xuICAgICAgICAgICAgQXBwVXRpbHMudXBkYXRlSW5wdXRDbGFzcyhkMy5zZWxlY3QodGhpcykpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzZWxlY3Rpb24uYXBwZW5kU2VsZWN0b3IoJ3NwYW4uYmFyJyk7XG4gICAgICAgIHZhciBsYWJlbCA9IHNlbGVjdGlvbi5hcHBlbmQoJ2xhYmVsJylcbiAgICAgICAgICAgIC5hdHRyKCdmb3InLCBpbnB1dElkKVxuICAgICAgICAgICAgLmh0bWwoZD0+e1xuICAgICAgICAgICAgICAgIGxldCBsYWJlbCA9IHRoaXMuZ2V0UGFyYW1OYW1lSTE4bihwYXRoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGFiZWw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgaW5wdXQubm9kZSgpLnZhbHVlID0gdmFsdWVBY2Nlc3Nvci5nZXQoKTtcbiAgICB9XG5cbiAgICB2YWx1ZShwYXRoLCB2YWx1ZSl7XG4gICAgICAgIHJldHVybiB0aGlzLmpvYlBhcmFtZXRlcnMudmFsdWUocGF0aCwgdmFsdWUpO1xuICAgIH1cblxuICAgIHBhcnNlSW5wdXQodmFsdWUsIHBhcmFtZXRlclR5cGUpe1xuICAgICAgICBpZihwYXJhbWV0ZXJUeXBlPT09UEFSQU1FVEVSX1RZUEUuREFURSl7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUodmFsdWUpXG4gICAgICAgIH1cbiAgICAgICAgaWYocGFyYW1ldGVyVHlwZT09PVBBUkFNRVRFUl9UWVBFLk5VTUJFUiB8fCBwYXJhbWV0ZXJUeXBlPT09UEFSQU1FVEVSX1RZUEUuSU5URUdFUil7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIGdldEVtcHR5VmFsdWUocGFyYW1ldGVyVHlwZSl7XG4gICAgICAgIGlmKHBhcmFtZXRlclR5cGU9PT1QQVJBTUVURVJfVFlQRS5DT01QT1NJVEUpe1xuICAgICAgICAgICAgcmV0dXJuIHt9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBnZXRQYXJhbU5hbWVJMThuKHBhdGgpe1xuICAgICAgICByZXR1cm4gaTE4bi50KHRoaXMuaTE4blByZWZpeCsnLicrdGhpcy5qb2JOYW1lKycucGFyYW0uJytwYXRoKycubGFiZWwnKVxuICAgIH1cblxuICAgIGdldFBhcmFtSGVscEkxOG4ocGF0aCl7XG4gICAgICAgIGxldCBrZXkgPSB0aGlzLmkxOG5QcmVmaXgrJy4nK3RoaXMuam9iTmFtZSsnLnBhcmFtLicrcGF0aCsnLmhlbHAnO1xuICAgICAgICBsZXQgaGVscCA9IGkxOG4udChrZXkpO1xuICAgICAgICByZXR1cm4gaGVscCA9PT0ga2V5ID8gbnVsbCA6IGhlbHA7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtVdGlsc30gZnJvbSBcInNkLXV0aWxzXCI7XG5pbXBvcnQge2kxOG59IGZyb20gXCIuLi9pMThuL2kxOG5cIjtcbmltcG9ydCAqIGFzIGQzIGZyb20gXCIuLi9kM1wiO1xuaW1wb3J0IHtQaXZvdFRhYmxlfSBmcm9tIFwiLi4vcGl2b3QtdGFibGVcIjtcbnZhciBqUXVlcnkgPSByZXF1aXJlKCdqcXVlcnknKTtcblxuZXhwb3J0IGNsYXNzIEpvYlJlc3VsdFRhYmxlQ29uZmlnIHtcbiAgICBvblJvd1NlbGVjdGVkID0gKHJvd3MsIGluZGV4ZXMsIGV2ZW50KSA9PiB7fTtcbiAgICBjbGFzc05hbWUgPSAnJztcblxuICAgIHBpdm90VGFibGU7XG5cbiAgICBjb25zdHJ1Y3RvcihjdXN0b20pIHtcbiAgICAgICAgaWYgKGN1c3RvbSkge1xuICAgICAgICAgICAgVXRpbHMuZGVlcEV4dGVuZCh0aGlzLCBjdXN0b20pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgSm9iUmVzdWx0VGFibGUge1xuXG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyLCBjb25maWcpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMuY29uZmlnID0gbmV3IEpvYlJlc3VsdFRhYmxlQ29uZmlnKGNvbmZpZyk7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMucGl2b3RUYWJsZSA9IG5ldyBQaXZvdFRhYmxlKHRoaXMuY29udGFpbmVyLnNlbGVjdE9yQXBwZW5kKFwiZGl2LnNkLWpvYi1yZXN1bHQtdGFibGVcIikuY2xhc3NlZCh0aGlzLmNvbmZpZy5jbGFzc05hbWUsIHRydWUpKTtcbiAgICB9XG5cbiAgICBjbGlja0NhbGxiYWNrKGUsIHZhbHVlLCBmaWx0ZXJzLCBwaXZvdERhdGEpIHtcbiAgICAgICAgdmFyIHNlbGY9dGhpcztcbiAgICAgICAgdmFyIHNlbGVjdGVkSW5kZXhlcyA9IFtdO1xuICAgICAgICB2YXIgc2VsZWN0ZWRSb3dzID0gW11cbiAgICAgICAgcGl2b3REYXRhLmZvckVhY2hNYXRjaGluZ1JlY29yZChmaWx0ZXJzLCByZWNvcmQ9PiB7XG4gICAgICAgICAgICBzZWxlY3RlZEluZGV4ZXMucHVzaChyZWNvcmRbJyRyb3dJbmRleCddKTtcbiAgICAgICAgICAgIHNlbGVjdGVkUm93cy5wdXNoKGRhdGEuZGF0YVtyZWNvcmRbJyRyb3dJbmRleCddXSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZWxmLmNvbmZpZy5vblJvd1NlbGVjdGVkKHNlbGVjdGVkUm93cywgc2VsZWN0ZWRJbmRleGVzLCBlKVxuXG4gICAgfVxuXG4gICAgc2V0Q2xhc3NOYW1lKGNsYXNzTmFtZSl7XG4gICAgICAgIGlmKHRoaXMuY29uZmlnLmNsYXNzTmFtZSl7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zZWxlY3RPckFwcGVuZChcImRpdi5zZC1qb2ItcmVzdWx0LXRhYmxlXCIpLmNsYXNzZWQodGhpcy5jb25maWcuY2xhc3NOYW1lLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb250YWluZXIuc2VsZWN0T3JBcHBlbmQoXCJkaXYuc2Qtam9iLXJlc3VsdC10YWJsZVwiKS5jbGFzc2VkKHRoaXMuY29uZmlnLmNsYXNzTmFtZSwgdHJ1ZSlcbiAgICB9XG5cbiAgICBzZXREYXRhKGRhdGEsIGpvYlBhcmFtZXRlcnMsIGpvYiwgY29uZmlnKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIGRlcml2ZXJzID0galF1ZXJ5LnBpdm90VXRpbGl0aWVzLmRlcml2ZXJzO1xuICAgICAgICB2YXIgcGl2b3RPcHRpb25zID0ge1xuICAgICAgICAgICAgcm93czogZGF0YS5yb3dzLFxuICAgICAgICAgICAgdmFsczogZGF0YS52YWxzLFxuICAgICAgICAgICAgY29sczogZGF0YS5jb2xzLFxuICAgICAgICAgICAgaGlkZGVuQXR0cmlidXRlczogWyckcm93SW5kZXgnXSxcbiAgICAgICAgICAgIGFnZ3JlZ2F0b3JOYW1lOiB0aGlzLnBpdm90VGFibGUuZ2V0QWdncmVnYXRvck5hbWUoXCJtYXhpbXVtXCIpLFxuICAgICAgICAgICAgcmVuZGVyZXJPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgdGFibGU6IHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tDYWxsYmFjazogZnVuY3Rpb24gKGUsIHZhbHVlLCBmaWx0ZXJzLCBwaXZvdERhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2xpY2tDYWxsYmFjayhlLCB2YWx1ZSwgZmlsdGVycywgcGl2b3REYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaGVhdG1hcDoge1xuICAgICAgICAgICAgICAgICAgICBjb2xvclNjYWxlR2VuZXJhdG9yOiBmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXh0ZW50ID0gZDMuZXh0ZW50KHZhbHVlcylcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkb21haW4gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtaW4gPSBNYXRoLm1pbigwLCBleHRlbnRbMF0gfHwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF4ID0gTWF0aC5tYXgoMCwgZXh0ZW50WzFdIHx8IDApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5kb21haW4oW21pbiwgMCwgbWF4XSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmFuZ2UoW1wiIzRiNTNmZlwiLCBcIiNGRkZcIiwgXCIjRkYwMDAwXCJdKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbmRlcmVyTmFtZTogdGhpcy5waXZvdFRhYmxlLmdldFJlbmRlcmVyTmFtZShcImhlYXRtYXBcIilcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgcmVuZGVyZXJOYW1lOiAnY3VzdG9tJyxcbiAgICAgICAgICAgICByZW5kZXJlcnM6IHtcbiAgICAgICAgICAgICAnY3VzdG9tJzogZnVuY3Rpb24ocGl2b3REYXRhLCBvcHRpb25zKXtcbiAgICAgICAgICAgICBjb25zb2xlLmxvZyhwaXZvdERhdGEpXG4gICAgICAgICAgICAgfVxuICAgICAgICAgICAgIH0qL1xuXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYoY29uZmlnKXtcbiAgICAgICAgICAgIGlmKGNvbmZpZy5hZ2dyZWdhdG9yTmFtZSl7XG4gICAgICAgICAgICAgICAgcGl2b3RPcHRpb25zLmFnZ3JlZ2F0b3JOYW1lID0gY29uZmlnLmFnZ3JlZ2F0b3JOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoY29uZmlnLmFnZ3JlZ2F0b3JzKXtcbiAgICAgICAgICAgICAgICBwaXZvdE9wdGlvbnMuYWdncmVnYXRvcnMgPSBjb25maWcuYWdncmVnYXRvcnM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBpdm90VGFibGUudXBkYXRlKGRhdGEuZGF0YS5tYXAoKHIsIGkpPT5yLmNvbmNhdChpID8gIGktMSA6ICckcm93SW5kZXgnKSksIHBpdm90T3B0aW9ucyk7XG5cbiAgICAgICAgLy8gdGhpcy5kcmF3SGVhZGVycyhkYXRhLmhlYWRlcnMpO1xuICAgICAgICAvLyB0aGlzLmRyYXdSb3dzKGRhdGEucm93cylcbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgICB0aGlzLnBpdm90VGFibGUuY2xlYXIoKTtcbiAgICB9XG5cbiAgICBzaG93KHNob3c9dHJ1ZSl7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzZWQoJ3NkLWhpZGRlbicsICFzaG93KTtcbiAgICB9XG5cbiAgICBoaWRlKCl7XG4gICAgICAgIHRoaXMuc2hvdyhmYWxzZSk7XG4gICAgfVxuXG4gICAgY2xlYXJTZWxlY3Rpb24oKSB7XG4gICAgICAgIC8vIHRoaXMucmVzdWx0VGFibGUuc2VsZWN0QWxsKCcuc2Qtc2VsZWN0ZWQnKS5jbGFzc2VkKCdzZC1zZWxlY3RlZCcsIGZhbHNlKTtcbiAgICB9XG5cbn1cbiIsImltcG9ydCB7Sm9iUmVzdWx0VGFibGV9IGZyb20gXCIuL2pvYi1yZXN1bHQtdGFibGVcIjtcbmltcG9ydCB7UG9saWN5fSBmcm9tIFwic2QtY29tcHV0YXRpb25zL3NyYy9wb2xpY2llcy9wb2xpY3lcIjtcbmltcG9ydCB7bG9nfSBmcm9tIFwic2QtdXRpbHNcIjtcbmltcG9ydCB7aTE4bn0gZnJvbSBcIi4uL2kxOG4vaTE4blwiO1xudmFyIGpRdWVyeSA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuXG5cbmV4cG9ydCBjbGFzcyBQcm9iYWJpbGlzdGljU2Vuc2l0aXZpdHlBbmFseXNpc0pvYlJlc3VsdFRhYmxlIGV4dGVuZHMgSm9iUmVzdWx0VGFibGUge1xuXG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyLCBjb25maWcsIHBheW9mZk51bWJlckZvcm1hdHRlciwgcHJvYmFiaWxpdHlOdW1iZXJGb3JtYXR0ZXIpe1xuICAgICAgICBzdXBlcihjb250YWluZXIsIGNvbmZpZyk7XG4gICAgICAgIHRoaXMucGF5b2ZmTnVtYmVyRm9ybWF0dGVyID0gcGF5b2ZmTnVtYmVyRm9ybWF0dGVyO1xuICAgICAgICB0aGlzLnByb2JhYmlsaXR5TnVtYmVyRm9ybWF0dGVyID0gcHJvYmFiaWxpdHlOdW1iZXJGb3JtYXR0ZXI7XG4gICAgfVxuXG4gICAgc2V0RGF0YShqb2JSZXN1bHQsIGpvYlBhcmFtZXRlcnMsIGpvYikge1xuICAgICAgICB0aGlzLmpvYlJlc3VsdCA9IGpvYlJlc3VsdDtcbiAgICAgICAgdmFyIGRhdGEgPSB7cm93czogWydwb2xpY3knLCAnZXhwZWN0ZWQgdmFsdWUnLCAnbWVkaWFuJywgJ3N0YW5kYXJkIGRldmlhdGlvbicsICdiZXN0IHByb2JhYmlsaXR5J10sIGNvbHM6IFtdLCB2YWxzOiBbJ2V4cGVjdGVkIHZhbHVlJ10sIGRhdGE6IFtdfTtcblxuXG4gICAgICAgIGRhdGEuZGF0YS5wdXNoKFsncG9saWN5JywgJ2V4cGVjdGVkIHZhbHVlJywgJ21lZGlhbicsICdzdGFuZGFyZCBkZXZpYXRpb24nLCAnYmVzdCBwcm9iYWJpbGl0eSddKTtcbiAgICAgICAgam9iUmVzdWx0LnBvbGljaWVzLmZvckVhY2goKHBvbGljeSwgaSk9PiB7XG4gICAgICAgICAgICB2YXIgcm93ID0gW1xuICAgICAgICAgICAgICAgIFBvbGljeS50b1BvbGljeVN0cmluZyhwb2xpY3ksIGpvYlBhcmFtZXRlcnMudmFsdWVzLmV4dGVuZGVkUG9saWN5RGVzY3JpcHRpb24pLFxuICAgICAgICAgICAgICAgIHRoaXMucGF5b2ZmTnVtYmVyRm9ybWF0dGVyKGpvYlJlc3VsdC5leHBlY3RlZFZhbHVlc1tpXSksXG4gICAgICAgICAgICAgICAgdGhpcy5wYXlvZmZOdW1iZXJGb3JtYXR0ZXIoam9iUmVzdWx0Lm1lZGlhbnNbaV0pLFxuICAgICAgICAgICAgICAgIHRoaXMucGF5b2ZmTnVtYmVyRm9ybWF0dGVyKGpvYlJlc3VsdC5zdGFuZGFyZERldmlhdGlvbnNbaV0pLFxuICAgICAgICAgICAgICAgIHRoaXMucHJvYmFiaWxpdHlOdW1iZXJGb3JtYXR0ZXIoam9iUmVzdWx0LnBvbGljeUlzQmVzdFByb2JhYmlsaXRpZXNbaV0pXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgZGF0YS5kYXRhLnB1c2gocm93KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbG9nLnRyYWNlKGRhdGEpO1xuICAgICAgICBzdXBlci5zZXREYXRhKGRhdGEsIGpvYlBhcmFtZXRlcnMsIGpvYix7XG4gICAgICAgICAgICBhZ2dyZWdhdG9yTmFtZTogXCJlbXB0eVwiLFxuICAgICAgICAgICAgYWdncmVnYXRvcnM6e1xuICAgICAgICAgICAgICAgIGVtcHR5OiAoYXR0cmlidXRlQXJyYXkpPT4oZGF0YSwgcm93S2V5LCBjb2xLZXkpPT57XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXNoOiBmdW5jdGlvbihyZWNvcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBmdW5jdGlvbih4KSB7IHJldHVybiBpMThuLnQoJ2pvYlJlc3VsdFRhYmxlLnBvbGljeVByZXZpZXcnKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bUlucHV0czogMVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBjbGlja0NhbGxiYWNrKGUsIHZhbHVlLCBmaWx0ZXJzLCBwaXZvdERhdGEpIHtcbiAgICAgICAgdmFyIHNlbGY9dGhpcztcbiAgICAgICAgdmFyIHNlbGVjdGVkSW5kZXhlcyA9IFtdO1xuICAgICAgICB2YXIgc2VsZWN0ZWRSb3dzID0gW107XG4gICAgICAgIHBpdm90RGF0YS5mb3JFYWNoTWF0Y2hpbmdSZWNvcmQoZmlsdGVycywgcmVjb3JkPT4ge1xuICAgICAgICAgICAgc2VsZWN0ZWRJbmRleGVzLnB1c2gocmVjb3JkWyckcm93SW5kZXgnXSk7XG4gICAgICAgICAgICBzZWxlY3RlZFJvd3MucHVzaCh7cG9saWN5SW5kZXg6IHJlY29yZFsnJHJvd0luZGV4J119KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlbGYuY29uZmlnLm9uUm93U2VsZWN0ZWQoc2VsZWN0ZWRSb3dzLCBzZWxlY3RlZEluZGV4ZXMsIGUpXG5cbiAgICB9XG59XG4iLCJpbXBvcnQge0pvYlJlc3VsdFRhYmxlfSBmcm9tIFwiLi9qb2ItcmVzdWx0LXRhYmxlXCI7XG5pbXBvcnQge1V0aWxzfSBmcm9tIFwic2QtdXRpbHNcIlxuXG5cbmV4cG9ydCBjbGFzcyBTZW5zaXRpdml0eUFuYWx5c2lzSm9iUmVzdWx0VGFibGUgZXh0ZW5kcyBKb2JSZXN1bHRUYWJsZSB7XG5cbiAgICBzZXREYXRhKGpvYlJlc3VsdCwgam9iUGFyYW1ldGVycywgam9iKSB7XG4gICAgICAgIHRoaXMuam9iUmVzdWx0ID0gam9iUmVzdWx0O1xuXG4gICAgICAgIGpvYlBhcmFtZXRlcnMgPWpvYi5jcmVhdGVKb2JQYXJhbWV0ZXJzKFV0aWxzLmNsb25lRGVlcChqb2JQYXJhbWV0ZXJzLnZhbHVlcykpO1xuICAgICAgICBqb2JQYXJhbWV0ZXJzLnZhbHVlcy5yb3VuZFZhcmlhYmxlcyA9IHRydWU7XG4gICAgICAgIHZhciBjc3ZEQXRhID0gam9iLmpvYlJlc3VsdFRvQ3N2Um93cyhqb2JSZXN1bHQsIGpvYlBhcmFtZXRlcnMpO1xuXG4gICAgICAgIGlmIChjc3ZEQXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgY3N2REF0YVswXVswXSA9ICdwb2xpY3lcXG5udW1iZXInXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY29scyA9IFtdO1xuICAgICAgICBsZXQgdG90YWxJbkNvbE51bSA9IDE7XG5cbiAgICAgICAgam9iUGFyYW1ldGVycy52YWx1ZXMudmFyaWFibGVzLmZvckVhY2godj0+e1xuICAgICAgICAgICAgbGV0IF90b3RhbEluQ29sTnVtID0gdi5sZW5ndGggKiB0b3RhbEluQ29sTnVtO1xuICAgICAgICAgICAgaWYoKF90b3RhbEluQ29sTnVtPjEwMDApKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b3RhbEluQ29sTnVtPV90b3RhbEluQ29sTnVtO1xuICAgICAgICAgICAgY29scy5wdXNoKHYubmFtZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBkYXRhID0ge3Jvd3M6IFsncG9saWN5J10sIGNvbHM6IGNvbHMsIHZhbHM6IFsncGF5b2ZmJ10sIGRhdGE6IGNzdkRBdGF9O1xuICAgICAgICBzdXBlci5zZXREYXRhKGRhdGEpXG4gICAgfVxuXG4gICAgY2xpY2tDYWxsYmFjayhlLCB2YWx1ZSwgZmlsdGVycywgcGl2b3REYXRhKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHNlbGVjdGVkSW5kZXhlcyA9IFtdO1xuICAgICAgICB2YXIgc2VsZWN0ZWRSb3dzID0gW107XG4gICAgICAgIHBpdm90RGF0YS5mb3JFYWNoTWF0Y2hpbmdSZWNvcmQoZmlsdGVycywgcmVjb3JkPT4ge1xuICAgICAgICAgICAgc2VsZWN0ZWRJbmRleGVzLnB1c2gocmVjb3JkWyckcm93SW5kZXgnXSk7XG4gICAgICAgICAgICBzZWxlY3RlZFJvd3MucHVzaChzZWxmLmpvYlJlc3VsdC5yb3dzW3JlY29yZFsnJHJvd0luZGV4J11dKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlbGYuY29uZmlnLm9uUm93U2VsZWN0ZWQoc2VsZWN0ZWRSb3dzLCBzZWxlY3RlZEluZGV4ZXMsIGUpXG5cbiAgICB9XG59XG4iLCJpbXBvcnQgKiBhcyBkMyBmcm9tICcuL2QzJ1xuaW1wb3J0IHtpMThufSBmcm9tICcuL2kxOG4vaTE4bidcblxuaW1wb3J0IHtVdGlsc30gZnJvbSAnc2QtdXRpbHMnXG5pbXBvcnQge1RlbXBsYXRlc30gZnJvbSBcIi4vdGVtcGxhdGVzXCI7XG5cbmV4cG9ydCBjbGFzcyBMb2FkaW5nSW5kaWNhdG9ye1xuICAgIHN0YXRpYyBzaG93KG1lc3NhZ2U9Jycpe1xuICAgICAgICB2YXIgaHRtbCA9IFRlbXBsYXRlcy5nZXQoJ2xvYWRpbmdJbmRpY2F0b3InKTtcblxuICAgICAgICB2YXIgZyA9IGQzLnNlbGVjdCgnYm9keScpLnNlbGVjdE9yQXBwZW5kKCdkaXYuc2QtbG9hZGluZy1pbmRpY2F0b3ItY29udGFpbmVyJykuaHRtbChodG1sKS5zZWxlY3QoJy5zZC1sb2FkaW5nLWluZGljYXRvcicpLmNsYXNzZWQoJ3Zpc2libGUnLCB0cnVlKS5zdHlsZSgnZGlzcGxheScsICdibG9jaycpXG4gICAgfVxuXG4gICAgc3RhdGljIGhpZGUoKXtcbiAgICAgICAgbGV0IHNlbGVjdCA9IGQzLnNlbGVjdCgnLnNkLWxvYWRpbmctaW5kaWNhdG9yJyk7XG4gICAgICAgIHNlbGVjdC5jbGFzc2VkKCd2aXNpYmxlJywgZmFsc2UpO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBzZWxlY3Quc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpXG4gICAgICAgIH0sIDUwMClcblxuICAgIH1cbn1cbiIsImltcG9ydCB7VXRpbHMsIGxvZ30gZnJvbSAnc2QtdXRpbHMnO1xuaW1wb3J0IHtpMThufSBmcm9tIFwiLi9pMThuL2kxOG5cIjtcbnZhciBqUXVlcnkgPSByZXF1aXJlKCdqcXVlcnknKTtcblV0aWxzLmdldEdsb2JhbE9iamVjdCgpLmpRdWVyeSA9IGpRdWVyeTsgLy9GSVhNRVxucmVxdWlyZSgnanF1ZXJ5LXVpL3VpL2RhdGEnKTtcbnJlcXVpcmUoJ2pxdWVyeS11aS91aS9zY3JvbGwtcGFyZW50Jyk7XG5yZXF1aXJlKCdqcXVlcnktdWkvdWkvd2lkZ2V0Jyk7XG5yZXF1aXJlKCdqcXVlcnktdWkvdWkvd2lkZ2V0cy9tb3VzZScpO1xucmVxdWlyZSgnanF1ZXJ5LXVpL3VpL3dpZGdldHMvc29ydGFibGUnKTtcbnJlcXVpcmUoJ3Bpdm90dGFibGUnKTtcblxuXG4vLyBwaXZvdCBzaG93IHplcm8gaGFjayBzdGFydFxudmFyIG51bWJlckZvcm1hdCA9IGpRdWVyeS5waXZvdFV0aWxpdGllcy5udW1iZXJGb3JtYXQ7XG50cnl7XG4gICAgalF1ZXJ5LnBpdm90VXRpbGl0aWVzLm51bWJlckZvcm1hdCA9IGZ1bmN0aW9uKG9wdHMpe1xuICAgICAgICBpZighb3B0cyl7XG4gICAgICAgICAgICBvcHRzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgb3B0cy5zaG93WmVybyA9IHRydWU7XG4gICAgICAgIHJldHVybiBudW1iZXJGb3JtYXQob3B0cyk7XG4gICAgfTtcbn1jYXRjaCAoZSl7XG4gICAgbG9nLmVycm9yKCdFcnJvciB3aGVuIHBlcmZvcm1pbmcgcGl2b3R0YWJsZSBcInNob3cgemVyb1wiIGhhY2ssIHJldmVydGluZycpO1xuXG4gICAgdHJ5e1xuICAgICAgICBqUXVlcnkucGl2b3RVdGlsaXRpZXMubnVtYmVyRm9ybWF0ID0gbnVtYmVyRm9ybWF0O1xuICAgIH1jYXRjaCAoZSl7XG5cbiAgICB9XG59XG5cbnJlcXVpcmUoJ3Bpdm90dGFibGUvZGlzdC9waXZvdC5pdCcpO1xucmVxdWlyZSgncGl2b3R0YWJsZS9kaXN0L3Bpdm90LmRlJyk7XG5yZXF1aXJlKCdwaXZvdHRhYmxlL2Rpc3QvcGl2b3QuZnInKTtcblxuLy8gcGl2b3Qgc2hvdyB6ZXJvIGhhY2sgY29udGludWF0aW9uXG50cnl7XG4gICAgdmFyIG9yaWdBZ2dyZWdhdG9ycyA9IHt9O1xuICAgIFV0aWxzLmZvck93bihqUXVlcnkucGl2b3RVdGlsaXRpZXMubG9jYWxlcy5lbi5hZ2dyZWdhdG9ycywgKHZhbHVlLCBrZXksIG9iamVjdCk9PntcbiAgICAgICAgb3JpZ0FnZ3JlZ2F0b3JzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgb2JqZWN0W2tleV0gPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdmFyIGFyZ3MxID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgdHJ5e1xuICAgICAgICAgICAgICAgIGxldCByZXMxID0gdmFsdWUuYXBwbHkodGhpcywgYXJnczEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzID0gcmVzMSguLi5hcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZm9ybWF0XyA9IHJlcy5mb3JtYXQ7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5mb3JtYXQgPSBmdW5jdGlvbih4KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcmlnWCA9IHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZih4PT09MCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeCA9ICBcIjBcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0Xyh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1jYXRjaCAoZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nLmVycm9yKCdFcnJvciB3aGVuIHBlcmZvcm1pbmcgcGl2b3R0YWJsZSBcInNob3cgemVyb1wiIGhhY2sgKGZvcm1hdCBmdW5jIGNhbGwpLCByZXZlcnRpbmcnLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihmb3JtYXRfKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdF8ob3JpZ1gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZlcnRBZ2dyZWdhdG9ycygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9Y2F0Y2goZSl7XG4gICAgICAgICAgICAgICAgbG9nLmVycm9yKCdFcnJvciB3aGVuIHBlcmZvcm1pbmcgcGl2b3R0YWJsZSBcInNob3cgemVyb1wiIGhhY2ssIHJldmVydGluZycsIGUpO1xuICAgICAgICAgICAgICAgIHJldmVydEFnZ3JlZ2F0b3JzKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdBZ2dyZWdhdG9yc1trZXldKC4uLmFyZ3MxKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59Y2F0Y2ggKGUpe1xuICAgIGxvZy5lcnJvcignRXJyb3Igd2hlbiBwZXJmb3JtaW5nIHBpdm90dGFibGUgXCJzaG93IHplcm9cIiBoYWNrLCByZXZlcnRpbmcnLCBlKTtcbiAgICByZXZlcnRBZ2dyZWdhdG9ycygpO1xufVxuXG5mdW5jdGlvbiByZXZlcnRBZ2dyZWdhdG9ycygpe1xuICAgIHRyeSB7XG4gICAgICAgIFV0aWxzLmZvck93bihqUXVlcnkucGl2b3RVdGlsaXRpZXMubG9jYWxlcy5lbi5hZ2dyZWdhdG9ycywgKHZhbHVlLCBrZXksIG9iamVjdCk9PntcbiAgICAgICAgICAgIGxldCBvcmlnQWdncmVnYXRvciA9IG9yaWdBZ2dyZWdhdG9yc1trZXldO1xuICAgICAgICAgICAgaWYob3JpZ0FnZ3JlZ2F0b3Ipe1xuICAgICAgICAgICAgICAgIG9iamVjdFtrZXldID0gb3JpZ0FnZ3JlZ2F0b3JcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KTtcbiAgICB9Y2F0Y2goZSl7XG4gICAgICAgIGxvZy5lcnJvcignRXJyb3Igd2hlbiByZXZlcnRpbmcgYWdncmVnYXRvcnMnLCBlKVxuICAgIH1cbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vIGhhY2sgZW5kXG5cbmV4cG9ydCBjbGFzcyBQaXZvdFRhYmxle1xuXG4gICAgY29udGFpbmVyO1xuXG5cbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIsIG9wdGlvbnMsIGRhdGEpe1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9Y29udGFpbmVyO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmRhdGE9ZGF0YTtcbiAgICAgICAgaWYoZGF0YSl7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZShkYXRhLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZShkYXRhLCBvcHRpb25zKXtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgalF1ZXJ5KHRoaXMuY29udGFpbmVyLm5vZGUoKSkucGl2b3RVSShkYXRhLCBvcHRpb25zLCB0cnVlLCBpMThuLmxhbmd1YWdlKVxuICAgIH1cblxuICAgIGNsZWFyKCl7XG4gICAgICAgIGpRdWVyeSh0aGlzLmNvbnRhaW5lci5ub2RlKCkpLnBpdm90VUkoW10sIG51bGwsIHRydWUpXG4gICAgfVxuXG5cblxuICAgIGdldEFnZ3JlZ2F0b3JOYW1lKG5hbWUpe1xuICAgICAgICByZXR1cm4gaTE4bi50KFwiam9iUmVzdWx0VGFibGUucGl2b3QuYWdncmVnYXRvcnMuXCIrbmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICB9XG5cbiAgICBnZXRSZW5kZXJlck5hbWUobmFtZSl7XG4gICAgICAgIHJldHVybiBpMThuLnQoXCJqb2JSZXN1bHRUYWJsZS5waXZvdC5yZW5kZXJlcnMuXCIrbmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICB9XG59XG4iLCJpbXBvcnQge0RpYWxvZ30gZnJvbSBcIi4vZGlhbG9nXCI7XG5pbXBvcnQge0pvYlBhcmFtZXRlcnNCdWlsZGVyfSBmcm9tIFwiLi9qb2JzL2pvYi1wYXJhbWV0ZXJzLWJ1aWxkZXJcIjtcbmltcG9ydCB7VXRpbHMsIGxvZ30gZnJvbSBcInNkLXV0aWxzXCI7XG5pbXBvcnQge1RlbXBsYXRlc30gZnJvbSBcIi4vdGVtcGxhdGVzXCI7XG5pbXBvcnQge2kxOG59IGZyb20gXCIuL2kxOG4vaTE4blwiO1xuaW1wb3J0IHtBcHBVdGlsc30gZnJvbSBcIi4vYXBwLXV0aWxzXCI7XG5pbXBvcnQge1Rvb2x0aXB9IGZyb20gXCIuL3Rvb2x0aXBcIjtcbmltcG9ydCB7TG9hZGluZ0luZGljYXRvcn0gZnJvbSBcIi4vbG9hZGluZy1pbmRpY2F0b3JcIjtcbmltcG9ydCB7RXhwb3J0ZXJ9IGZyb20gXCIuL2V4cG9ydGVyXCI7XG5pbXBvcnQge1NlbnNpdGl2aXR5QW5hbHlzaXNKb2JSZXN1bHRUYWJsZX0gZnJvbSBcIi4vam9icy9zZW5zaXRpdml0eS1hbmFseXNpcy1yZXN1bHQtdGFibGVcIjtcbmltcG9ydCB7UHJvYmFiaWxpc3RpY1NlbnNpdGl2aXR5QW5hbHlzaXNKb2JSZXN1bHRUYWJsZX0gZnJvbSBcIi4vam9icy9wcm9iYWJpbGlzdGljLXNlbnNpdGl2aXR5LWFuYWx5c2lzLXJlc3VsdC10YWJsZVwiO1xuaW1wb3J0IHtQb2xpY3l9IGZyb20gXCJzZC1jb21wdXRhdGlvbnMvc3JjL3BvbGljaWVzL3BvbGljeVwiO1xuXG5leHBvcnQgY2xhc3MgU2Vuc2l0aXZpdHlBbmFseXNpc0RpYWxvZyBleHRlbmRzIERpYWxvZyB7XG4gICAgY29tcHV0YXRpb25zTWFuYWdlcjtcbiAgICBqb2JDb25maWd1cmF0aW9uQ29udGFpbmVyO1xuXG4gICAgam9iQ29uZmlndXJhdGlvbnMgPSBbXTtcbiAgICBqb2JJbnN0YW5jZU1hbmFnZXI7XG4gICAgam9iTmFtZVRvUGFyYW1WYWx1ZXMgPSB7fTtcblxuICAgIGNvbnN0cnVjdG9yKGFwcCkge1xuICAgICAgICBzdXBlcihhcHAuY29udGFpbmVyLnNlbGVjdCgnLnNkLXNlbnNpdGl2aXR5LWFuYWx5c2lzLWRpYWxvZycpLCBhcHApO1xuICAgICAgICB0aGlzLmNvbXB1dGF0aW9uc01hbmFnZXIgPSB0aGlzLmFwcC5jb21wdXRhdGlvbnNNYW5hZ2VyO1xuICAgICAgICAvLyB0aGlzLmluaXRKb2JDb25maWd1cmF0aW9ucygpO1xuXG4gICAgICAgIHRoaXMuam9iQ29uZmlndXJhdGlvbkNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLnNlbGVjdChcIi5zZC1zZW5zaXRpdml0eS1hbmFseXNpcy1qb2ItY29uZmlndXJhdGlvblwiKTtcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJCdWlsZGVyQ29udGFpbmVyID0gdGhpcy5qb2JDb25maWd1cmF0aW9uQ29udGFpbmVyLnNlbGVjdChcIi5zZC1qb2ItcGFyYW1ldGVycy1idWlsZGVyXCIpO1xuICAgICAgICB0aGlzLmpvYlBhcmFtZXRlcnNCdWlsZGVyID0gbmV3IEpvYlBhcmFtZXRlcnNCdWlsZGVyKHRoaXMucGFyYW1ldGVyQnVpbGRlckNvbnRhaW5lciwgJ2pvYicsICgpID0+IHRoaXMub25Kb2JQYXJhbWV0ZXJzQ2hhbmdlZCgpKTtcbiAgICAgICAgdGhpcy5wcm9ncmVzc0JhckNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLnNlbGVjdChcIi5zZC1qb2ItcHJvZ3Jlc3MtYmFyLWNvbnRhaW5lclwiKTtcbiAgICAgICAgdGhpcy5wcm9ncmVzc0JhciA9IHRoaXMucHJvZ3Jlc3NCYXJDb250YWluZXIuc2VsZWN0KFwiLnNkLXByb2dyZXNzLWJhclwiKTtcbiAgICAgICAgdGhpcy5qb2JSZXN1bHRzQ29udGFpbmVyID0gdGhpcy5jb250YWluZXIuc2VsZWN0KFwiLnNkLXNlbnNpdGl2aXR5LWFuYWx5c2lzLWpvYi1yZXN1bHRzXCIpO1xuXG4gICAgICAgIHRoaXMuZGVib3VuY2VkQ2hlY2tXYXJuaW5ncyA9IFV0aWxzLmRlYm91bmNlKCgpPT50aGlzLmNoZWNrV2FybmluZ3MoKSwgMjAwKTtcblxuICAgICAgICB0aGlzLmluaXRCdXR0b25zKCk7XG4gICAgfVxuXG4gICAgb25PcGVuKCkge1xuXG4gICAgICAgIHRoaXMuaW5pdEpvYkNvbmZpZ3VyYXRpb25zKCk7XG4gICAgICAgIGlmICghdGhpcy5qb2JTZWxlY3QpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdEpvYlNlbGVjdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHBheW9mZkNvbmYgPSBVdGlscy5jbG9uZURlZXAodGhpcy5hcHAuY29uZmlnLmZvcm1hdC5wYXlvZmYpO1xuICAgICAgICBwYXlvZmZDb25mLnN0eWxlID0gJ2RlY2ltYWwnO1xuICAgICAgICBwYXlvZmZDb25mLnVzZUdyb3VwaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGF5b2ZmTnVtYmVyRm9ybWF0ID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KCdlbicsIHBheW9mZkNvbmYpO1xuICAgICAgICAvLyB0aGlzLnBheW9mZk51bWJlckZvcm1hdCA9IHtcbiAgICAgICAgLy8gICAgIGZvcm1hdDogdiA9PiB0aGlzLmFwcC5jb21wdXRhdGlvbnNNYW5hZ2VyLmV4cHJlc3Npb25FbmdpbmUuY29uc3RydWN0b3IudG9GbG9hdCh2LCBwYXlvZmZDb25mLm1heGltdW1GcmFjdGlvbkRpZ2l0cylcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICB9XG5cbiAgICBvbkNsb3NlZCgpIHtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICBpZiAoIXRoaXMuam9iSW5zdGFuY2VNYW5hZ2VyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5qb2JJbnN0YW5jZU1hbmFnZXIudGVybWluYXRlKCk7XG4gICAgfVxuXG5cblxuICAgIG9uSm9iU2VsZWN0ZWQoam9iQ29uZmlnKSB7XG5cbiAgICAgICAgdGhpcy5jbGVhcldhcm5pbmdzKCk7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRKb2JDb25maWcgPSBqb2JDb25maWc7XG4gICAgICAgIGlmICgham9iQ29uZmlnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5qb2JTZWxlY3Qubm9kZSgpLnZhbHVlID0gam9iQ29uZmlnLmpvYk5hbWU7XG4gICAgICAgIGxldCBqb2JOYW1lID0gdGhpcy5zZWxlY3RlZEpvYkNvbmZpZy5qb2JOYW1lO1xuICAgICAgICB0aGlzLmpvYiA9IHRoaXMuY29tcHV0YXRpb25zTWFuYWdlci5nZXRKb2JCeU5hbWUoam9iTmFtZSk7XG5cbiAgICAgICAgdmFyIGpvYlBhcmFtc1ZhbHVlcyA9IHRoaXMuam9iTmFtZVRvUGFyYW1WYWx1ZXNbam9iTmFtZV0gfHwge307XG5cbiAgICAgICAgdGhpcy5zZXRKb2JQYXJhbXNWYWx1ZXMoam9iUGFyYW1zVmFsdWVzKVxuICAgIH1cblxuICAgIHJlZnJlc2hTZWxlY3RlZEpvYkNvbmZpZygpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRKb2JDb25maWcpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRKb2JDb25maWcgPSBVdGlscy5maW5kKHRoaXMuam9iQ29uZmlndXJhdGlvbnMsIChjKT0+Yy5qb2JOYW1lID09PSB0aGlzLnNlbGVjdGVkSm9iQ29uZmlnLmpvYk5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0Sm9iUGFyYW1zVmFsdWVzKGpvYlBhcmFtc1ZhbHVlcywgZGVsZXRlSWQgPSB0cnVlKSB7XG4gICAgICAgIGlmKCF0aGlzLmpvYil7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWZyZXNoU2VsZWN0ZWRKb2JDb25maWcoKTtcblxuICAgICAgICBpZihkZWxldGVJZCl7XG4gICAgICAgICAgICBkZWxldGUgam9iUGFyYW1zVmFsdWVzLmlkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuam9iUGFyYW1ldGVycyA9IHRoaXMuam9iLmNyZWF0ZUpvYlBhcmFtZXRlcnMoam9iUGFyYW1zVmFsdWVzKTtcblxuICAgICAgICB0aGlzLmpvYk5hbWVUb1BhcmFtVmFsdWVzW3RoaXMuam9iLm5hbWVdID0gdGhpcy5qb2JQYXJhbWV0ZXJzLnZhbHVlcztcblxuICAgICAgICB0aGlzLmpvYlBhcmFtZXRlcnNCdWlsZGVyLnNldEpvYlBhcmFtZXRlcnModGhpcy5qb2IubmFtZSwgdGhpcy5qb2JQYXJhbWV0ZXJzLCB0aGlzLnNlbGVjdGVkSm9iQ29uZmlnLmN1c3RvbVBhcmFtc0NvbmZpZyk7XG4gICAgfVxuXG4gICAgb25Kb2JQYXJhbWV0ZXJzQ2hhbmdlZCgpIHtcbiAgICAgICAgdGhpcy5kZWJvdW5jZWRDaGVja1dhcm5pbmdzKCk7XG5cbiAgICB9XG5cbiAgICBnZXRHbG9iYWxWYXJpYWJsZU5hbWVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHAuZGF0YU1vZGVsLmdldEdsb2JhbFZhcmlhYmxlTmFtZXModHJ1ZSk7XG4gICAgfVxuXG4gICAgaW5pdEpvYkNvbmZpZ3VyYXRpb25zKCkge1xuICAgICAgICB0aGlzLmpvYkNvbmZpZ3VyYXRpb25zLmxlbmd0aCA9IDA7XG4gICAgICAgIGxldCBFeHByZXNzaW9uRW5naW5lID0gdGhpcy5hcHAuZXhwcmVzc2lvbkVuZ2luZS5jb25zdHJ1Y3RvcjtcbiAgICAgICAgbGV0IGN1c3RvbVZhcmlhYmxlc1ZhbGlkYXRvciA9IHZhbHVlcyA9PiB7XG4gICAgICAgICAgICB2YXIgaXNWYWxpZEFycmF5ID0gW107XG5cbiAgICAgICAgICAgIHZhciBuYW1lcyA9IFtdO1xuICAgICAgICAgICAgdmFsdWVzLmZvckVhY2goKHYsIGkpPT57XG4gICAgICAgICAgICAgICAgdmFyIHZhbGlkID0gbmFtZXMuaW5kZXhPZih2Lm5hbWUpPDA7XG4gICAgICAgICAgICAgICAgbmFtZXMucHVzaCh2Lm5hbWUpO1xuICAgICAgICAgICAgICAgIGlzVmFsaWRBcnJheS5wdXNoKHZhbGlkKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gaXNWYWxpZEFycmF5O1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuam9iQ29uZmlndXJhdGlvbnMucHVzaCh7XG4gICAgICAgICAgICBqb2JOYW1lOiAnc2Vuc2l0aXZpdHktYW5hbHlzaXMnLFxuICAgICAgICAgICAgY3VzdG9tUGFyYW1zQ29uZmlnOiB7XG4gICAgICAgICAgICAgICAgJ2lkJzoge1xuICAgICAgICAgICAgICAgICAgICAvLyB2YWx1ZTogdW5kZWZpbmVkLCAvL2xlYXZlIGRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgIGhpZGRlbjogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ2ZhaWxPbkludmFsaWRUcmVlJzoge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgaGlkZGVuOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAncnVsZU5hbWUnOiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLmNvbXB1dGF0aW9uc01hbmFnZXIuZ2V0Q3VycmVudFJ1bGUoKS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBoaWRkZW46IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHZhcmlhYmxlczoge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLmdldEdsb2JhbFZhcmlhYmxlTmFtZXMoKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBfZGVyaXZlZFZhbHVlczpbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJzdGVwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICh2YXJpYWJsZSk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodmFyaWFibGUubWF4ID09IHVuZGVmaW5lZCB8fCB2YXJpYWJsZS5tYXg9PW51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHZhcmlhYmxlLm1pbiA9PSB1bmRlZmluZWQgfHwgdmFyaWFibGUubWluPT1udWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih2YXJpYWJsZS5sZW5ndGggPT0gdW5kZWZpbmVkIHx8IHZhcmlhYmxlLmxlbmd0aD09bnVsbCB8fCB2YXJpYWJsZS5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih2YXJpYWJsZS5taW4gPiB2YXJpYWJsZS5tYXgpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBFeHByZXNzaW9uRW5naW5lLnRvRmxvYXQoRXhwcmVzc2lvbkVuZ2luZS5kaXZpZGUoRXhwcmVzc2lvbkVuZ2luZS5zdWJ0cmFjdCh2YXJpYWJsZS5tYXgsIHZhcmlhYmxlLm1pbiksIHZhcmlhYmxlLmxlbmd0aC0xKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWNhdGNoKGUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tVmFsaWRhdG9yOiBjdXN0b21WYXJpYWJsZXNWYWxpZGF0b3JcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB3YXJuaW5nczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2xhcmdlU2NlbmFyaW9zTnVtYmVyJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiAxMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlckZvcm1hdHRlZDogXCIxMCwwMDBcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjaGVjazogZnVuY3Rpb24gKGpvYlBhcmFtZXRlcnMpIHsgLy8gY2FsbGVkIHdpdGggdGhpcyBzZXQgdG8gd2FybmluZyBjb25maWcgb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29tYmluYXRpb25zID0gam9iUGFyYW1ldGVycy52YWx1ZXMudmFyaWFibGVzLm1hcCh2ID0+IHYubGVuZ3RoKS5yZWR1Y2UoKGEsIGIpID0+IGEgKiAoYiB8fCAxKSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tYmluYXRpb25zID4gdGhpcy5kYXRhLm51bWJlclxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdsYXJnZVBhcmFtZXRlcnNOdW1iZXInLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IDIsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrOiBmdW5jdGlvbiAoam9iUGFyYW1ldGVycykgeyAvLyBjYWxsZWQgd2l0aCB0aGlzIHNldCB0byB3YXJuaW5nIGNvbmZpZyBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBqb2JQYXJhbWV0ZXJzLnZhbHVlcy52YXJpYWJsZXMubGVuZ3RoID4gdGhpcy5kYXRhLm51bWJlclxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICAgICAgLyp0aGlzLmpvYkNvbmZpZ3VyYXRpb25zLnB1c2goe1xuICAgICAgICAgam9iTmFtZTogJ3Rvcm5hZG8tZGlhZ3JhbScsXG4gICAgICAgICBjdXN0b21QYXJhbXNDb25maWc6IHtcbiAgICAgICAgICdpZCc6IHtcbiAgICAgICAgIGhpZGRlbjogdHJ1ZVxuICAgICAgICAgfSxcbiAgICAgICAgICdydWxlTmFtZSc6IHtcbiAgICAgICAgIHZhbHVlOiB0aGlzLmNvbXB1dGF0aW9uc01hbmFnZXIuZ2V0Q3VycmVudFJ1bGUoKS5uYW1lLFxuICAgICAgICAgaGlkZGVuOiB0cnVlXG4gICAgICAgICB9XG4gICAgICAgICB9XG4gICAgICAgICB9KTsqL1xuXG4gICAgICAgIHRoaXMuam9iQ29uZmlndXJhdGlvbnMucHVzaCh7XG4gICAgICAgICAgICBqb2JOYW1lOiAncHJvYmFiaWxpc3RpYy1zZW5zaXRpdml0eS1hbmFseXNpcycsXG4gICAgICAgICAgICBjdXN0b21QYXJhbXNDb25maWc6IHtcbiAgICAgICAgICAgICAgICAnaWQnOiB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGRlbjogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ2ZhaWxPbkludmFsaWRUcmVlJzoge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgaGlkZGVuOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAncnVsZU5hbWUnOiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLmNvbXB1dGF0aW9uc01hbmFnZXIuZ2V0Q3VycmVudFJ1bGUoKS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBoaWRkZW46IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHZhcmlhYmxlczoge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLmdldEdsb2JhbFZhcmlhYmxlTmFtZXMoKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmb3JtdWxhOntcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IEV4cHJlc3Npb25FbmdpbmUucmFuZG9tTWVudUxpc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zQXV0b2NvbXBsZXRlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbVZhbGlkYXRvcjogY3VzdG9tVmFyaWFibGVzVmFsaWRhdG9yXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHdhcm5pbmdzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnbGFyZ2VTY2VuYXJpb3NOdW1iZXInLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IDEwMDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyRm9ybWF0dGVkOiBcIjEwLDAwMFwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrOiBmdW5jdGlvbiAoam9iUGFyYW1ldGVycykgeyAvLyBjYWxsZWQgd2l0aCB0aGlzIHNldCB0byB3YXJuaW5nIGNvbmZpZyBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBqb2JQYXJhbWV0ZXJzLnZhbHVlcy5udW1iZXJPZlJ1bnMgPiB0aGlzLmRhdGEubnVtYmVyXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuXG4gICAgfVxuXG5cbiAgICBjaGVja1dhcm5pbmdzKCkge1xuICAgICAgICB0aGlzLmNsZWFyV2FybmluZ3MoKTtcbiAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkSm9iQ29uZmlnLndhcm5pbmdzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNlbGVjdGVkSm9iQ29uZmlnLndhcm5pbmdzLmZvckVhY2god2FybkNvbmY9PiB7XG4gICAgICAgICAgICBpZiAod2FybkNvbmYuY2hlY2suY2FsbCh3YXJuQ29uZiwgdGhpcy5qb2JQYXJhbWV0ZXJzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkV2FybmluZyh3YXJuQ29uZik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgY2xlYXJXYXJuaW5ncygpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc2VsZWN0KFwiLnNkLXNlbnNpdGl2aXR5LWFuYWx5c2lzLXdhcm5pbmdzXCIpLnNlbGVjdEFsbChcIipcIikucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgYWRkV2FybmluZyh3YXJuQ29uZikge1xuICAgICAgICBsZXQgbXNnID0gaTE4bi50KFwiam9iLlwiICsgdGhpcy5qb2IubmFtZSArIFwiLndhcm5pbmdzLlwiICsgd2FybkNvbmYubmFtZSwgd2FybkNvbmYuZGF0YSk7XG5cbiAgICAgICAgdmFyIG1zZ0hUTUwgPSBUZW1wbGF0ZXMuZ2V0KFwid2FybmluZ01lc3NhZ2VcIiwge1xuICAgICAgICAgICAgbWVzc2FnZTogbXNnXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZWxlY3QoXCIuc2Qtc2Vuc2l0aXZpdHktYW5hbHlzaXMtd2FybmluZ3NcIikuYXBwZW5kU2VsZWN0b3IoXCJkaXYuc2Qtc2Vuc2l0aXZpdHktYW5hbHlzaXMtd2FybmluZ1wiKS5odG1sKG1zZ0hUTUwpO1xuICAgIH1cblxuICAgIGluaXRKb2JTZWxlY3QoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5qb2JTZWxlY3QgPSB0aGlzLmNvbnRhaW5lci5zZWxlY3QoXCIuc2Qtam9iLXNlbGVjdC1pbnB1dC1ncm91cFwiKS5odG1sKFRlbXBsYXRlcy5nZXQoXCJzZWxlY3RJbnB1dEdyb3VwXCIsIHtcbiAgICAgICAgICAgIGlkOiBVdGlscy5ndWlkKCksXG4gICAgICAgICAgICBsYWJlbDogbnVsbCxcbiAgICAgICAgICAgIG5hbWU6IFwic2Qtam9iLXNlbGVjdFwiLFxuICAgICAgICAgICAgb3B0aW9uczogdGhpcy5qb2JDb25maWd1cmF0aW9ucy5tYXAoYz0+KHtcbiAgICAgICAgICAgICAgICBsYWJlbDogaTE4bi50KFwiam9iLlwiICsgYy5qb2JOYW1lICsgXCIubmFtZVwiKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogYy5qb2JOYW1lXG4gICAgICAgICAgICB9KSlcbiAgICAgICAgfSkpLnNlbGVjdChcInNlbGVjdFwiKS5vbignY2hhbmdlIGlucHV0JywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIHNlbGYub25Kb2JTZWxlY3RlZChVdGlscy5maW5kKHNlbGYuam9iQ29uZmlndXJhdGlvbnMsIGM9PmMuam9iTmFtZSA9PT0gdGhpcy52YWx1ZSkpXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGluaXRSZXN1bHRUYWJsZShyZXN1bHQpIHtcbiAgICAgICAgbGV0IGNvbmZpZyA9IHtcbiAgICAgICAgICAgIG9uUm93U2VsZWN0ZWQ6IChyb3dzLCBpbmRleGVzLCBlKT0+IHRoaXMub25SZXN1bHRSb3dTZWxlY3RlZChyb3dzLCBpbmRleGVzLCBlKSxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJzZC1cIiArIHRoaXMuam9iLm5hbWVcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXMucmVzdWx0VGFibGUpIHtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0VGFibGUuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0VGFibGUuc2V0Q2xhc3NOYW1lKFwic2QtXCIgKyB0aGlzLmpvYi5uYW1lKTtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0VGFibGUuaGlkZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuam9iLm5hbWUgPT0gXCJzZW5zaXRpdml0eS1hbmFseXNpc1wiKSB7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdFRhYmxlID0gbmV3IFNlbnNpdGl2aXR5QW5hbHlzaXNKb2JSZXN1bHRUYWJsZSh0aGlzLmpvYlJlc3VsdHNDb250YWluZXIuc2VsZWN0KFwiLnNkLWpvYi1yZXN1bHQtdGFibGUtY29udGFpbmVyXCIpLCBjb25maWcpO1xuICAgICAgICAgICAgdGhpcy5yZXN1bHRUYWJsZS5zZXREYXRhKHJlc3VsdCwgdGhpcy5qb2JQYXJhbWV0ZXJzLCB0aGlzLmpvYik7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdFRhYmxlLnNob3coKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmpvYi5uYW1lID09IFwicHJvYmFiaWxpc3RpYy1zZW5zaXRpdml0eS1hbmFseXNpc1wiKSB7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdFRhYmxlID0gbmV3IFByb2JhYmlsaXN0aWNTZW5zaXRpdml0eUFuYWx5c2lzSm9iUmVzdWx0VGFibGUodGhpcy5qb2JSZXN1bHRzQ29udGFpbmVyLnNlbGVjdChcIi5zZC1qb2ItcmVzdWx0LXRhYmxlLWNvbnRhaW5lclwiKSwgY29uZmlnLCAodikgPT4gdGhpcy5wYXlvZmZOdW1iZXJGb3JtYXQuZm9ybWF0KHYpLCAodikgPT4gdGhpcy5hcHAucHJvYmFiaWxpdHlOdW1iZXJGb3JtYXQuZm9ybWF0KHYpKTtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0VGFibGUuc2V0RGF0YShyZXN1bHQsIHRoaXMuam9iUGFyYW1ldGVycywgdGhpcy5qb2IpO1xuICAgICAgICAgICAgdGhpcy5yZXN1bHRUYWJsZS5zaG93KCk7XG5cbiAgICAgICAgfVxuXG5cbiAgICB9XG5cbiAgICBkaXNhYmxlQWN0aW9uQnV0dG9uc0FuZFNob3dMb2FkaW5nSW5kaWNhdG9yKGRpc2FibGUgPSB0cnVlKSB7XG4gICAgICAgIGlmIChkaXNhYmxlKSB7XG4gICAgICAgICAgICBMb2FkaW5nSW5kaWNhdG9yLnNob3coKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIExvYWRpbmdJbmRpY2F0b3IuaGlkZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnNlbGVjdCgnLnNkLXNlbnNpdGl2aXR5LWFuYWx5c2lzLWFjdGlvbi1idXR0b25zJykuc2VsZWN0QWxsKCdidXR0b24nKS5hdHRyKCdkaXNhYmxlZCcsIGRpc2FibGUgPyAnZGlzYWJsZWQnIDogdW5kZWZpbmVkKVxuICAgIH1cblxuICAgIGluaXRCdXR0b25zKCkge1xuICAgICAgICB0aGlzLnJ1bkpvYkJ1dHRvbiA9IHRoaXMuY29udGFpbmVyLnNlbGVjdChcIi5zZC1ydW4tam9iLWJ1dHRvblwiKS5vbignY2xpY2snLCAoKT0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5qb2JQYXJhbWV0ZXJzQnVpbGRlci52YWxpZGF0ZSgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kaXNhYmxlQWN0aW9uQnV0dG9uc0FuZFNob3dMb2FkaW5nSW5kaWNhdG9yKCk7XG4gICAgICAgICAgICB0aGlzLmNoZWNrV2FybmluZ3MoKTtcblxuICAgICAgICAgICAgdGhpcy5jb21wdXRhdGlvbnNNYW5hZ2VyLnJ1bkpvYldpdGhJbnN0YW5jZU1hbmFnZXIodGhpcy5qb2IubmFtZSwgdGhpcy5qb2JQYXJhbWV0ZXJzLnZhbHVlcywge1xuICAgICAgICAgICAgICAgIG9uSm9iU3RhcnRlZDogdGhpcy5vbkpvYlN0YXJ0ZWQsXG4gICAgICAgICAgICAgICAgb25Kb2JDb21wbGV0ZWQ6IHRoaXMub25Kb2JDb21wbGV0ZWQsXG4gICAgICAgICAgICAgICAgb25Kb2JGYWlsZWQ6IHRoaXMub25Kb2JGYWlsZWQsXG4gICAgICAgICAgICAgICAgb25Kb2JTdG9wcGVkOiB0aGlzLm9uSm9iU3RvcHBlZCxcbiAgICAgICAgICAgICAgICBvbkpvYlRlcm1pbmF0ZWQ6IHRoaXMub25Kb2JUZXJtaW5hdGVkLFxuICAgICAgICAgICAgICAgIG9uUHJvZ3Jlc3M6IHRoaXMub25Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICBjYWxsYmFja3NUaGlzQXJnOiB0aGlzXG4gICAgICAgICAgICB9KS50aGVuKGpvYkluc3RhbmNlTWFuYWdlcj0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmpvYkluc3RhbmNlTWFuYWdlciA9IGpvYkluc3RhbmNlTWFuYWdlcjtcbiAgICAgICAgICAgIH0pLmNhdGNoKGU9PiB7XG4gICAgICAgICAgICAgICAgbG9nLmVycm9yKGUpO1xuICAgICAgICAgICAgfSkudGhlbigoKT0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVBY3Rpb25CdXR0b25zQW5kU2hvd0xvYWRpbmdJbmRpY2F0b3IoZmFsc2UpO1xuICAgICAgICAgICAgfSlcblxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnJlc3VtZUpvYkJ1dHRvbiA9IHRoaXMuY29udGFpbmVyLnNlbGVjdChcIi5zZC1yZXN1bWUtam9iLWJ1dHRvblwiKS5vbignY2xpY2snLCAoKT0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5qb2JJbnN0YW5jZU1hbmFnZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRpc2FibGVBY3Rpb25CdXR0b25zQW5kU2hvd0xvYWRpbmdJbmRpY2F0b3IoKTtcbiAgICAgICAgICAgIHRoaXMuam9iSW5zdGFuY2VNYW5hZ2VyLnJlc3VtZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnN0b3BKb2JCdXR0b24gPSB0aGlzLmNvbnRhaW5lci5zZWxlY3QoXCIuc2Qtc3RvcC1qb2ItYnV0dG9uXCIpLm9uKCdjbGljaycsICgpPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmpvYkluc3RhbmNlTWFuYWdlcikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGlzYWJsZUFjdGlvbkJ1dHRvbnNBbmRTaG93TG9hZGluZ0luZGljYXRvcigpO1xuICAgICAgICAgICAgdGhpcy5qb2JJbnN0YW5jZU1hbmFnZXIuc3RvcCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnRlcm1pbmF0ZUpvYkJ1dHRvbiA9IHRoaXMuY29udGFpbmVyLnNlbGVjdChcIi5zZC10ZXJtaW5hdGUtam9iLWJ1dHRvblwiKS5vbignY2xpY2snLCAoKT0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5qb2JJbnN0YW5jZU1hbmFnZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnRlcm1pbmF0ZUpvYigpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmJhY2tCdXR0b24gPSB0aGlzLmNvbnRhaW5lci5zZWxlY3QoXCIuc2QtYmFjay1idXR0b24gXCIpLm9uKCdjbGljaycsICgpPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuam9iSW5zdGFuY2VNYW5hZ2VyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5qb2JJbnN0YW5jZU1hbmFnZXIudGVybWluYXRlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5kb3dubG9hZENzdkJ1dHRvbnMgPSB0aGlzLmNvbnRhaW5lci5zZWxlY3QoXCIuc2QtZG93bmxvYWQtY3N2LWJ1dHRvbiBcIikub24oJ2NsaWNrJywgKCk9PiB7XG4gICAgICAgICAgICB0aGlzLmRvd25sb2FkQ1NWKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuY2xlYXJCdXR0b24gPSB0aGlzLmNvbnRhaW5lci5zZWxlY3QoXCIuc2QtY2xlYXItYnV0dG9uIFwiKS5vbignY2xpY2snLCAoKT0+IHtcbiAgICAgICAgICAgIHRoaXMuY2xlYXIodHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGxvYWRTYXZlZFBhcmFtVmFsdWVzKGpvYk5hbWVUb1BhcmFtVmFsdWVzKXtcbiAgICAgICAgdGhpcy5qb2JOYW1lVG9QYXJhbVZhbHVlcyA9IGpvYk5hbWVUb1BhcmFtVmFsdWVzO1xuICAgICAgICB0aGlzLnNlbGVjdGVkSm9iQ29uZmlnID0gbnVsbDtcbiAgICAgICAgdGhpcy5qb2JQYXJhbWV0ZXJzID0gbnVsbDtcbiAgICB9XG5cblxuICAgIGNsZWFyKGNsZWFyUGFyYW1zID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5jbGVhclJlc3VsdHMoKTtcbiAgICAgICAgdGhpcy5jbGVhcldhcm5pbmdzKCk7XG4gICAgICAgIHRoaXMuc2V0UHJvZ3Jlc3MoMCk7XG4gICAgICAgIHRoaXMubWFya0FzRXJyb3IoZmFsc2UpO1xuXG4gICAgICAgIGlmICghdGhpcy5zZWxlY3RlZEpvYkNvbmZpZykge1xuICAgICAgICAgICAgdGhpcy5vbkpvYlNlbGVjdGVkKHRoaXMuam9iQ29uZmlndXJhdGlvbnNbMF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuam9iKSB7XG4gICAgICAgICAgICBpZiAoY2xlYXJQYXJhbXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmpvYk5hbWVUb1BhcmFtVmFsdWVzW3RoaXMuam9iLm5hbWVdID0ge307XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRKb2JQYXJhbXNWYWx1ZXMoe30pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmpvYlBhcmFtZXRlcnMudmFsdWVzLnJ1bGVOYW1lID0gdGhpcy5jb21wdXRhdGlvbnNNYW5hZ2VyLmdldEN1cnJlbnRSdWxlKCkubmFtZTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEpvYlBhcmFtc1ZhbHVlcyh0aGlzLmpvYlBhcmFtZXRlcnMudmFsdWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG5cbiAgICAgICAgQXBwVXRpbHMuc2hvdyh0aGlzLmpvYkNvbmZpZ3VyYXRpb25Db250YWluZXIpO1xuICAgICAgICBBcHBVdGlscy5zaG93KHRoaXMucnVuSm9iQnV0dG9uKTtcbiAgICAgICAgQXBwVXRpbHMuc2hvdyh0aGlzLmNsZWFyQnV0dG9uKTtcblxuICAgICAgICBBcHBVdGlscy5oaWRlKHRoaXMucmVzdW1lSm9iQnV0dG9uKTtcbiAgICAgICAgQXBwVXRpbHMuaGlkZSh0aGlzLnByb2dyZXNzQmFyQ29udGFpbmVyKTtcbiAgICAgICAgQXBwVXRpbHMuaGlkZSh0aGlzLnN0b3BKb2JCdXR0b24pO1xuICAgICAgICBBcHBVdGlscy5oaWRlKHRoaXMuZG93bmxvYWRDc3ZCdXR0b25zKTtcbiAgICAgICAgQXBwVXRpbHMuaGlkZSh0aGlzLnRlcm1pbmF0ZUpvYkJ1dHRvbik7XG4gICAgICAgIEFwcFV0aWxzLmhpZGUodGhpcy5qb2JSZXN1bHRzQ29udGFpbmVyKTtcbiAgICAgICAgQXBwVXRpbHMuaGlkZSh0aGlzLmJhY2tCdXR0b24pO1xuICAgICAgICB0aGlzLmRpc2FibGVBY3Rpb25CdXR0b25zQW5kU2hvd0xvYWRpbmdJbmRpY2F0b3IoZmFsc2UpO1xuICAgIH1cblxuICAgIGNsZWFyUmVzdWx0cygpIHtcbiAgICAgICAgaWYgKHRoaXMucmVzdWx0VGFibGUpIHtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0VGFibGUuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0VGFibGUuaGlkZSgpO1xuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIG9uSm9iU3RhcnRlZCgpIHtcbiAgICAgICAgQXBwVXRpbHMuaGlkZSh0aGlzLmpvYkNvbmZpZ3VyYXRpb25Db250YWluZXIpO1xuICAgICAgICBBcHBVdGlscy5oaWRlKHRoaXMucnVuSm9iQnV0dG9uKTtcbiAgICAgICAgQXBwVXRpbHMuaGlkZSh0aGlzLnJlc3VtZUpvYkJ1dHRvbik7XG4gICAgICAgIEFwcFV0aWxzLmhpZGUodGhpcy5iYWNrQnV0dG9uKTtcbiAgICAgICAgQXBwVXRpbHMuaGlkZSh0aGlzLmNsZWFyQnV0dG9uKTtcbiAgICAgICAgQXBwVXRpbHMuaGlkZSh0aGlzLmRvd25sb2FkQ3N2QnV0dG9ucyk7XG5cbiAgICAgICAgQXBwVXRpbHMuc2hvdyh0aGlzLnByb2dyZXNzQmFyQ29udGFpbmVyKTtcbiAgICAgICAgQXBwVXRpbHMuc2hvdyh0aGlzLnN0b3BKb2JCdXR0b24pO1xuICAgICAgICBBcHBVdGlscy5zaG93KHRoaXMudGVybWluYXRlSm9iQnV0dG9uKTtcblxuICAgICAgICB0aGlzLmRpc2FibGVBY3Rpb25CdXR0b25zQW5kU2hvd0xvYWRpbmdJbmRpY2F0b3IoZmFsc2UpO1xuICAgICAgICB0aGlzLm9uUHJvZ3Jlc3ModGhpcy5qb2JJbnN0YW5jZU1hbmFnZXIgPyB0aGlzLmpvYkluc3RhbmNlTWFuYWdlci5wcm9ncmVzcyA6IG51bGwpO1xuXG4gICAgfVxuXG5cbiAgICBvbkpvYkNvbXBsZXRlZChyZXN1bHQpIHtcbiAgICAgICAgQXBwVXRpbHMuc2hvdyh0aGlzLmpvYlJlc3VsdHNDb250YWluZXIpO1xuICAgICAgICBBcHBVdGlscy5zaG93KHRoaXMuYmFja0J1dHRvbik7XG4gICAgICAgIEFwcFV0aWxzLnNob3codGhpcy5kb3dubG9hZENzdkJ1dHRvbnMpO1xuXG4gICAgICAgIEFwcFV0aWxzLmhpZGUodGhpcy5wcm9ncmVzc0JhckNvbnRhaW5lcik7XG4gICAgICAgIEFwcFV0aWxzLmhpZGUodGhpcy5zdG9wSm9iQnV0dG9uKTtcbiAgICAgICAgQXBwVXRpbHMuaGlkZSh0aGlzLnRlcm1pbmF0ZUpvYkJ1dHRvbik7XG4gICAgICAgIEFwcFV0aWxzLmhpZGUodGhpcy5jbGVhckJ1dHRvbik7XG5cbiAgICAgICAgdGhpcy5kaXNhYmxlQWN0aW9uQnV0dG9uc0FuZFNob3dMb2FkaW5nSW5kaWNhdG9yKGZhbHNlKTtcbiAgICAgICAgdGhpcy5kaXNwbGF5UmVzdWx0KHJlc3VsdClcbiAgICB9XG5cbiAgICBkaXNwbGF5UmVzdWx0KHJlc3VsdCkge1xuICAgICAgICBsb2cuZGVidWcocmVzdWx0KTtcbiAgICAgICAgdGhpcy5yZXN1bHQgPSByZXN1bHQ7XG4gICAgICAgIHRoaXMuaW5pdFJlc3VsdFRhYmxlKHJlc3VsdCk7XG5cbiAgICB9XG5cbiAgICB0ZXJtaW5hdGVKb2IoKSB7XG4gICAgICAgIHRoaXMuZGlzYWJsZUFjdGlvbkJ1dHRvbnNBbmRTaG93TG9hZGluZ0luZGljYXRvcigpO1xuICAgICAgICB0aGlzLmpvYkluc3RhbmNlTWFuYWdlci50ZXJtaW5hdGUoKTtcbiAgICB9XG5cbiAgICBvbkpvYkZhaWxlZChlcnJvcnMpIHtcbiAgICAgICAgQXBwVXRpbHMuaGlkZSh0aGlzLnN0b3BKb2JCdXR0b24pO1xuICAgICAgICBBcHBVdGlscy5oaWRlKHRoaXMuYmFja0J1dHRvbik7XG4gICAgICAgIEFwcFV0aWxzLmhpZGUodGhpcy5kb3dubG9hZENzdkJ1dHRvbnMpO1xuICAgICAgICBBcHBVdGlscy5oaWRlKHRoaXMuY2xlYXJCdXR0b24pO1xuICAgICAgICB0aGlzLmRpc2FibGVBY3Rpb25CdXR0b25zQW5kU2hvd0xvYWRpbmdJbmRpY2F0b3IoZmFsc2UpO1xuICAgICAgICB0aGlzLm1hcmtBc0Vycm9yKCk7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gXCJcIjtcbiAgICAgICAgICAgIGVycm9ycy5mb3JFYWNoKChlLCBpKT0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaSkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgKz0gXCJcXG5cXG5cIjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgbXNnS2V5QmFzZSA9IFwiam9iLlwiICsgc2VsZi5qb2IubmFtZSArIFwiLmVycm9ycy5cIjtcbiAgICAgICAgICAgICAgICBsZXQgbXNnS2V5ID0gbXNnS2V5QmFzZSArIGUubWVzc2FnZTtcbiAgICAgICAgICAgICAgICBsZXQgbXNnID0gaTE4bi50KG1zZ0tleSwgZS5kYXRhKTtcbiAgICAgICAgICAgICAgICBpZiAobXNnID09PSBtc2dLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgbXNnID0gaTE4bi50KFwiam9iLmVycm9ycy5nZW5lcmljXCIsIGUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSArPSBtc2c7XG4gICAgICAgICAgICAgICAgaWYgKGUuZGF0YSAmJiBlLmRhdGEudmFyaWFibGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIFV0aWxzLmZvck93bihlLmRhdGEudmFyaWFibGVzLCAodmFsdWUsIGtleSk9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgKz0gXCJcXG5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSArPSBrZXkgKyBcIiA9IFwiICsgdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGFsZXJ0KGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICBzZWxmLnRlcm1pbmF0ZUpvYigpO1xuICAgICAgICB9LCAxMCk7XG5cbiAgICB9XG5cbiAgICBtYXJrQXNFcnJvcihlcnJvciA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NlZCgnc2Qtam9iLWVycm9yJywgZXJyb3IpO1xuICAgIH1cblxuICAgIG9uSm9iU3RvcHBlZCgpIHtcbiAgICAgICAgQXBwVXRpbHMuaGlkZSh0aGlzLnN0b3BKb2JCdXR0b24pO1xuICAgICAgICBBcHBVdGlscy5zaG93KHRoaXMucmVzdW1lSm9iQnV0dG9uKTtcbiAgICAgICAgdGhpcy5kaXNhYmxlQWN0aW9uQnV0dG9uc0FuZFNob3dMb2FkaW5nSW5kaWNhdG9yKGZhbHNlKTtcblxuICAgIH1cblxuICAgIG9uSm9iVGVybWluYXRlZCgpIHtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgIH1cblxuICAgIG9uUHJvZ3Jlc3MocHJvZ3Jlc3MpIHtcbiAgICAgICAgdGhpcy5zZXRQcm9ncmVzcyhwcm9ncmVzcylcbiAgICB9XG5cbiAgICBzZXRQcm9ncmVzcyhwcm9ncmVzcykge1xuICAgICAgICB2YXIgcGVyY2VudHMgPSAwO1xuICAgICAgICB2YXIgdmFsdWUgPSBcIjAlXCI7XG4gICAgICAgIGlmIChwcm9ncmVzcykge1xuICAgICAgICAgICAgdmFsdWUgPSBwcm9ncmVzcy5jdXJyZW50ICsgXCIgLyBcIiArIHByb2dyZXNzLnRvdGFsO1xuICAgICAgICAgICAgcGVyY2VudHMgPSBwcm9ncmVzcy5jdXJyZW50ICogMTAwIC8gcHJvZ3Jlc3MudG90YWw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnByb2dyZXNzQmFyLnN0eWxlKFwid2lkdGhcIiwgcGVyY2VudHMgKyBcIiVcIik7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3NCYXIuaHRtbCh2YWx1ZSlcbiAgICB9XG5cblxuICAgIG9uUmVzdWx0Um93U2VsZWN0ZWQocm93cywgaW5kZXhlcywgZXZlbnQpIHtcblxuICAgICAgICBpZiAoIXJvd3MubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcG9saWN5SW5kZXhlcyA9IHJvd3MubWFwKHI9PnIucG9saWN5SW5kZXgpLmZpbHRlcigodmFsdWUsIGluZGV4LCBzZWxmKT0+c2VsZi5pbmRleE9mKHZhbHVlKSA9PT0gaW5kZXgpO1xuXG4gICAgICAgIGlmIChwb2xpY3lJbmRleGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIFRvb2x0aXAuc2hvdyhpMThuLnQoJ2pvYlJlc3VsdFRhYmxlLnRvb2x0aXAubXVsdGlwbGVQb2xpY2llc0luQ2VsbCcsIHtudW1iZXI6IHBvbGljeUluZGV4ZXMubGVuZ3RofSksIDUsIDI4LCBldmVudCwgMjAwMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuXG4gICAgICAgIGxldCBwb2xpY3kgPSB0aGlzLnJlc3VsdC5wb2xpY2llc1twb2xpY3lJbmRleGVzWzBdXTtcbiAgICAgICAgbGV0IHRpdGxlID0gUG9saWN5LnRvUG9saWN5U3RyaW5nKHBvbGljeSwgZmFsc2UpO1xuXG4gICAgICAgIGlmKHJvd3MubGVuZ3RoPT0xKXtcblxuICAgICAgICAgICAgbGV0IHJvdyA9IHJvd3NbMF07XG4gICAgICAgICAgICBpZihyb3cudmFyaWFibGVzKXtcbiAgICAgICAgICAgICAgICB0aXRsZSA9ICcnO1xuICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0LnZhcmlhYmxlTmFtZXMuZm9yRWFjaCgodiwgaSk9PntcbiAgICAgICAgICAgICAgICAgICAgaWYoaSl7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSArPSBcIjsgXCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aXRsZSArPSB2ICsgXCIgPSBcIiArIHJvdy52YXJpYWJsZXNbaV07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFwcC5zaG93UG9saWN5UHJldmlldyh0aXRsZSwgcG9saWN5LCAoKT0+IHtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0VGFibGUuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICBkb3dubG9hZENTVigpIHtcbiAgICAgICAgRXhwb3J0ZXIuc2F2ZUFzQ1NWKHRoaXMuZ2V0Um93cygpKVxuICAgIH1cblxuICAgIGdldFJvd3MoKSB7XG4gICAgICAgIHZhciBwYXJhbXMgPSBVdGlscy5jbG9uZURlZXAodGhpcy5qb2JQYXJhbWV0ZXJzLnZhbHVlcyk7XG4gICAgICAgIHBhcmFtcy5leHRlbmRlZFBvbGljeURlc2NyaXB0aW9uID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzLmpvYi5qb2JSZXN1bHRUb0NzdlJvd3ModGhpcy5yZXN1bHQsIHRoaXMuam9iLmNyZWF0ZUpvYlBhcmFtZXRlcnMocGFyYW1zKSk7XG4gICAgfVxuXG5cbn1cbiIsImltcG9ydCAqIGFzIGQzIGZyb20gJy4vZDMnXG5pbXBvcnQge0RpYWxvZ30gZnJvbSAnLi9kaWFsb2cnXG5pbXBvcnQge2kxOG59IGZyb20gXCIuL2kxOG4vaTE4blwiO1xuaW1wb3J0IHtUZW1wbGF0ZXN9IGZyb20gXCIuL3RlbXBsYXRlc1wiO1xuaW1wb3J0IHtVdGlsc30gZnJvbSBcInNkLXV0aWxzXCI7XG5pbXBvcnQge0FwcFV0aWxzfSBmcm9tIFwiLi9hcHAtdXRpbHNcIjtcblxuZXhwb3J0IGNsYXNzIFNldHRpbmdzRGlhbG9nIGV4dGVuZHMgRGlhbG9ne1xuXG4gICAgZm9ybUdyb3Vwcz1bXTtcblxuICAgIHN0YXRpYyBmb250V2VpZ2h0T3B0aW9ucyA9IFsnbm9ybWFsJywgJ2JvbGQnLCAnbGlnaHRlcicsICdib2xkZXInXTtcbiAgICBzdGF0aWMgZm9udFN0eWxlT3B0aW9ucyA9IFsnbm9ybWFsJywgJ2l0YWxpYycsICdvYmxpcXVlJ107XG5cbiAgICBjb25zdHJ1Y3RvcihhcHApe1xuICAgICAgICBzdXBlcihhcHAuY29udGFpbmVyLnNlbGVjdCgnI3NkLXNldHRpbmdzLWRpYWxvZycpLCBhcHApO1xuXG4gICAgICAgIHZhciBncm91cCA9IG5ldyBGb3JtR3JvdXAoJ2dlbmVyYWwnLCAoKT0+IHtcbiAgICAgICAgICAgIGFwcC50cmVlRGVzaWduZXIudXBkYXRlQ3VzdG9tU3R5bGVzKCk7XG4gICAgICAgICAgICBhcHAudXBkYXRlTnVtYmVyRm9ybWF0cygpO1xuICAgICAgICB9KTtcbiAgICAgICAgZ3JvdXBcbiAgICAgICAgICAgIC5hZGRGaWVsZCgnZm9udEZhbWlseScsICd0ZXh0JywgYXBwLnRyZWVEZXNpZ25lciwgJ2NvbmZpZy5mb250RmFtaWx5JylcbiAgICAgICAgICAgIC5hZGRGaWVsZCgnZm9udFNpemUnLCAndGV4dCcsIGFwcC50cmVlRGVzaWduZXIsICdjb25maWcuZm9udFNpemUnKVxuICAgICAgICAgICAgLmFkZFNlbGVjdEZpZWxkKCdmb250V2VpZ2h0JywgYXBwLnRyZWVEZXNpZ25lciwgJ2NvbmZpZy5mb250V2VpZ2h0JywgU2V0dGluZ3NEaWFsb2cuZm9udFdlaWdodE9wdGlvbnMpXG4gICAgICAgICAgICAuYWRkU2VsZWN0RmllbGQoJ2ZvbnRTdHlsZScsIGFwcC50cmVlRGVzaWduZXIsICdjb25maWcuZm9udFN0eWxlJywgU2V0dGluZ3NEaWFsb2cuZm9udFN0eWxlT3B0aW9ucylcbiAgICAgICAgICAgIC5hZGRGaWVsZCgnbnVtYmVyRm9ybWF0TG9jYWxlJywgJ3RleHQnLCBhcHAsICdjb25maWcuZm9ybWF0LmxvY2FsZXMnLCB7dmFsaWRhdGU6ICh2KT0+e3RyeXtuZXcgSW50bC5OdW1iZXJGb3JtYXQodik7IHJldHVybiB0cnVlO31jYXRjaCAoZSl7cmV0dXJuIGZhbHNlfX19KTtcbiAgICAgICAgdGhpcy5mb3JtR3JvdXBzLnB1c2goZ3JvdXApO1xuXG5cbiAgICAgICAgdmFyIHBheW9mZkdyb3VwID0gbmV3IEZvcm1Hcm91cCgncGF5b2ZmJywgKCk9PmFwcC51cGRhdGVQYXlvZmZOdW1iZXJGb3JtYXQoKSk7XG4gICAgICAgIHBheW9mZkdyb3VwXG4gICAgICAgICAgICAuYWRkU2VsZWN0RmllbGQoJ3N0eWxlJywgYXBwLCAnY29uZmlnLmZvcm1hdC5wYXlvZmYuc3R5bGUnLCBbJ2N1cnJlbmN5JywgJ2RlY2ltYWwnXSlcbiAgICAgICAgICAgIC5hZGRTZWxlY3RGaWVsZCgnY3VycmVuY3lEaXNwbGF5JywgYXBwLCAnY29uZmlnLmZvcm1hdC5wYXlvZmYuY3VycmVuY3lEaXNwbGF5JywgWydzeW1ib2wnLCAnY29kZScsICduYW1lJ10pXG4gICAgICAgICAgICAuYWRkRmllbGQoJ2N1cnJlbmN5JywgJ3RleHQnLCBhcHAsICdjb25maWcuZm9ybWF0LnBheW9mZi5jdXJyZW5jeScsIHt2YWxpZGF0ZTogKHYpPT57dHJ5e25ldyBJbnRsLk51bWJlckZvcm1hdChbXSwge2N1cnJlbmN5OnZ9KTsgcmV0dXJuIHRydWU7fWNhdGNoIChlKXtyZXR1cm4gZmFsc2V9fX0pXG4gICAgICAgICAgICAuYWRkRmllbGQoJ21pbmltdW1GcmFjdGlvbkRpZ2l0cycsICdudW1iZXInLCBhcHAsICdjb25maWcuZm9ybWF0LnBheW9mZi5taW5pbXVtRnJhY3Rpb25EaWdpdHMnICwge3ZhbGlkYXRlOiAodik9Pnt0cnl7bmV3IEludGwuTnVtYmVyRm9ybWF0KFtdLCB7bWluaW11bUZyYWN0aW9uRGlnaXRzOnYsIG1heGltdW1GcmFjdGlvbkRpZ2l0czphcHAuY29uZmlnLmZvcm1hdC5wYXlvZmYubWF4aW11bUZyYWN0aW9uRGlnaXRzfSk7IHJldHVybiB0cnVlO31jYXRjaCAoZSl7cmV0dXJuIGZhbHNlfX19KVxuICAgICAgICAgICAgLmFkZEZpZWxkKCdtYXhpbXVtRnJhY3Rpb25EaWdpdHMnLCAnbnVtYmVyJywgYXBwLCAnY29uZmlnLmZvcm1hdC5wYXlvZmYubWF4aW11bUZyYWN0aW9uRGlnaXRzJywge3ZhbGlkYXRlOiAodik9Pnt0cnl7bmV3IEludGwuTnVtYmVyRm9ybWF0KFtdLCB7bWluaW11bUZyYWN0aW9uRGlnaXRzOmFwcC5jb25maWcuZm9ybWF0LnBheW9mZi5taW5pbXVtRnJhY3Rpb25EaWdpdHMsIG1heGltdW1GcmFjdGlvbkRpZ2l0czp2fSk7IHJldHVybiB0cnVlO31jYXRjaCAoZSl7cmV0dXJuIGZhbHNlfX19KVxuICAgICAgICAgICAgLmFkZEZpZWxkKCd1c2VHcm91cGluZycsICdjaGVja2JveCcsIGFwcCwgJ2NvbmZpZy5mb3JtYXQucGF5b2ZmLnVzZUdyb3VwaW5nJylcblxuICAgICAgICB0aGlzLmZvcm1Hcm91cHMucHVzaChwYXlvZmZHcm91cCk7XG5cbiAgICAgICAgZ3JvdXAgPSBuZXcgRm9ybUdyb3VwKCdwcm9iYWJpbGl0eScsICgpPT57XG4gICAgICAgICAgICBhcHAudXBkYXRlUHJvYmFiaWxpdHlOdW1iZXJGb3JtYXQoKTtcbiAgICAgICAgICAgIGFwcC50cmVlRGVzaWduZXIudXBkYXRlQ3VzdG9tU3R5bGVzKCkucmVkcmF3KCk7XG4gICAgICAgIH0pO1xuICAgICAgICBncm91cFxuICAgICAgICAgICAgLmFkZFNlbGVjdEZpZWxkKCdzdHlsZScsIGFwcCwgJ2NvbmZpZy5mb3JtYXQucHJvYmFiaWxpdHkuc3R5bGUnLCBbJ2RlY2ltYWwnLCAncGVyY2VudCddKVxuICAgICAgICAgICAgLmFkZEZpZWxkKCdtaW5pbXVtRnJhY3Rpb25EaWdpdHMnLCAnbnVtYmVyJywgYXBwLCAnY29uZmlnLmZvcm1hdC5wcm9iYWJpbGl0eS5taW5pbXVtRnJhY3Rpb25EaWdpdHMnLCB7dmFsaWRhdGU6ICh2KT0+e3RyeXtuZXcgSW50bC5OdW1iZXJGb3JtYXQoW10sIHttaW5pbXVtRnJhY3Rpb25EaWdpdHM6diwgbWF4aW11bUZyYWN0aW9uRGlnaXRzOmFwcC5jb25maWcuZm9ybWF0LnByb2JhYmlsaXR5Lm1heGltdW1GcmFjdGlvbkRpZ2l0c30pOyByZXR1cm4gdHJ1ZTt9Y2F0Y2ggKGUpe3JldHVybiBmYWxzZX19fSlcbiAgICAgICAgICAgIC5hZGRGaWVsZCgnbWF4aW11bUZyYWN0aW9uRGlnaXRzJywgJ251bWJlcicsIGFwcCwgJ2NvbmZpZy5mb3JtYXQucHJvYmFiaWxpdHkubWF4aW11bUZyYWN0aW9uRGlnaXRzJywge3ZhbGlkYXRlOiAodik9Pnt0cnl7bmV3IEludGwuTnVtYmVyRm9ybWF0KFtdLCB7bWluaW11bUZyYWN0aW9uRGlnaXRzOmFwcC5jb25maWcuZm9ybWF0LnByb2JhYmlsaXR5Lm1pbmltdW1GcmFjdGlvbkRpZ2l0cywgbWF4aW11bUZyYWN0aW9uRGlnaXRzOnZ9KTsgcmV0dXJuIHRydWU7fWNhdGNoIChlKXtyZXR1cm4gZmFsc2V9fX0pXG4gICAgICAgICAgICAuYWRkRmllbGQoJ2ZvbnRTaXplJywgJ3RleHQnLCBhcHAudHJlZURlc2lnbmVyLCAnY29uZmlnLnByb2JhYmlsaXR5LmZvbnRTaXplJylcbiAgICAgICAgICAgIC5hZGRGaWVsZCgnY29sb3InLCAnY29sb3InLCBhcHAudHJlZURlc2lnbmVyLCAnY29uZmlnLnByb2JhYmlsaXR5LmNvbG9yJyk7XG4gICAgICAgIHRoaXMuZm9ybUdyb3Vwcy5wdXNoKGdyb3VwKTtcblxuXG4gICAgICAgIHZhciBub2RlR3JvdXAgPSBuZXcgRm9ybUdyb3VwKCdub2RlJywgKCk9PmFwcC50cmVlRGVzaWduZXIudXBkYXRlQ3VzdG9tU3R5bGVzKCkucmVkcmF3KCkpO1xuICAgICAgICBub2RlR3JvdXBcbiAgICAgICAgICAgIC5hZGRGaWVsZCgnc3Ryb2tlV2lkdGgnLCAndGV4dCcsIGFwcC50cmVlRGVzaWduZXIsICdjb25maWcubm9kZS5zdHJva2VXaWR0aCcpO1xuXG4gICAgICAgIG5vZGVHcm91cC5hZGRHcm91cCgnb3B0aW1hbCcpXG4gICAgICAgICAgICAuYWRkRmllbGQoJ3N0cm9rZVdpZHRoJywgJ3RleHQnLCBhcHAudHJlZURlc2lnbmVyLCAnY29uZmlnLm5vZGUub3B0aW1hbC5zdHJva2VXaWR0aCcpXG4gICAgICAgICAgICAuYWRkRmllbGQoJ3N0cm9rZScsICdjb2xvcicsIGFwcC50cmVlRGVzaWduZXIsICdjb25maWcubm9kZS5vcHRpbWFsLnN0cm9rZScpO1xuXG4gICAgICAgIG5vZGVHcm91cC5hZGRHcm91cCgnbGFiZWwnKVxuICAgICAgICAgICAgLmFkZEZpZWxkKCdmb250U2l6ZScsICd0ZXh0JywgYXBwLnRyZWVEZXNpZ25lciwgJ2NvbmZpZy5ub2RlLmxhYmVsLmZvbnRTaXplJylcbiAgICAgICAgICAgIC5hZGRGaWVsZCgnY29sb3InLCAnY29sb3InLCBhcHAudHJlZURlc2lnbmVyLCAnY29uZmlnLm5vZGUubGFiZWwuY29sb3InKTtcblxuICAgICAgICBub2RlR3JvdXAuYWRkR3JvdXAoJ3BheW9mZicpXG4gICAgICAgICAgICAuYWRkRmllbGQoJ2ZvbnRTaXplJywgJ3RleHQnLCBhcHAudHJlZURlc2lnbmVyLCAnY29uZmlnLm5vZGUucGF5b2ZmLmZvbnRTaXplJylcbiAgICAgICAgICAgIC5hZGRGaWVsZCgnY29sb3InLCAnY29sb3InLCBhcHAudHJlZURlc2lnbmVyLCAnY29uZmlnLm5vZGUucGF5b2ZmLmNvbG9yJylcbiAgICAgICAgICAgIC5hZGRGaWVsZCgnbmVnYXRpdmVDb2xvcicsICdjb2xvcicsIGFwcC50cmVlRGVzaWduZXIsICdjb25maWcubm9kZS5wYXlvZmYubmVnYXRpdmVDb2xvcicpO1xuXG4gICAgICAgIHRoaXMuZm9ybUdyb3Vwcy5wdXNoKG5vZGVHcm91cCk7XG5cbiAgICAgICAgbm9kZUdyb3VwLmFkZEdyb3VwKCdkZWNpc2lvbicpXG4gICAgICAgICAgICAuYWRkRmllbGQoJ2ZpbGwnLCAnY29sb3InLCBhcHAudHJlZURlc2lnbmVyLCAnY29uZmlnLm5vZGUuZGVjaXNpb24uZmlsbCcpXG4gICAgICAgICAgICAuYWRkRmllbGQoJ3N0cm9rZScsICdjb2xvcicsIGFwcC50cmVlRGVzaWduZXIsICdjb25maWcubm9kZS5kZWNpc2lvbi5zdHJva2UnKVxuICAgICAgICAgICAgLmFkZEZpZWxkKCdzZWxlY3RlZC5maWxsJywgJ2NvbG9yJywgYXBwLnRyZWVEZXNpZ25lciwgJ2NvbmZpZy5ub2RlLmRlY2lzaW9uLnNlbGVjdGVkLmZpbGwnKTtcblxuXG4gICAgICAgIG5vZGVHcm91cC5hZGRHcm91cCgnY2hhbmNlJylcbiAgICAgICAgICAgIC5hZGRGaWVsZCgnZmlsbCcsICdjb2xvcicsIGFwcC50cmVlRGVzaWduZXIsICdjb25maWcubm9kZS5jaGFuY2UuZmlsbCcpXG4gICAgICAgICAgICAuYWRkRmllbGQoJ3N0cm9rZScsICdjb2xvcicsIGFwcC50cmVlRGVzaWduZXIsICdjb25maWcubm9kZS5jaGFuY2Uuc3Ryb2tlJylcbiAgICAgICAgICAgIC5hZGRGaWVsZCgnc2VsZWN0ZWQuZmlsbCcsICdjb2xvcicsIGFwcC50cmVlRGVzaWduZXIsICdjb25maWcubm9kZS5jaGFuY2Uuc2VsZWN0ZWQuZmlsbCcpO1xuXG4gICAgICAgIG5vZGVHcm91cC5hZGRHcm91cCgndGVybWluYWwnKVxuICAgICAgICAgICAgLmFkZEZpZWxkKCdmaWxsJywgJ2NvbG9yJywgYXBwLnRyZWVEZXNpZ25lciwgJ2NvbmZpZy5ub2RlLnRlcm1pbmFsLmZpbGwnKVxuICAgICAgICAgICAgLmFkZEZpZWxkKCdzdHJva2UnLCAnY29sb3InLCBhcHAudHJlZURlc2lnbmVyLCAnY29uZmlnLm5vZGUudGVybWluYWwuc3Ryb2tlJylcbiAgICAgICAgICAgIC5hZGRGaWVsZCgnc2VsZWN0ZWQuZmlsbCcsICdjb2xvcicsIGFwcC50cmVlRGVzaWduZXIsICdjb25maWcubm9kZS50ZXJtaW5hbC5zZWxlY3RlZC5maWxsJylcbiAgICAgICAgICAgIC5hZGRHcm91cCgncGF5b2ZmJylcbiAgICAgICAgICAgICAgICAuYWRkRmllbGQoJ2ZvbnRTaXplJywgJ3RleHQnLCBhcHAudHJlZURlc2lnbmVyLCAnY29uZmlnLm5vZGUudGVybWluYWwucGF5b2ZmLmZvbnRTaXplJylcbiAgICAgICAgICAgICAgICAuYWRkRmllbGQoJ2NvbG9yJywgJ2NvbG9yJywgYXBwLnRyZWVEZXNpZ25lciwgJ2NvbmZpZy5ub2RlLnRlcm1pbmFsLnBheW9mZi5jb2xvcicpXG4gICAgICAgICAgICAgICAgLmFkZEZpZWxkKCduZWdhdGl2ZUNvbG9yJywgJ2NvbG9yJywgYXBwLnRyZWVEZXNpZ25lciwgJ2NvbmZpZy5ub2RlLnRlcm1pbmFsLnBheW9mZi5uZWdhdGl2ZUNvbG9yJyk7XG5cblxuXG4gICAgICAgIHZhciBlZGdlR3JvdXAgPSBuZXcgRm9ybUdyb3VwKCdlZGdlJywgKCk9PmFwcC50cmVlRGVzaWduZXIudXBkYXRlQ3VzdG9tU3R5bGVzKCkucmVkcmF3KCkpXG4gICAgICAgICAgICAuYWRkRmllbGQoJ3N0cm9rZScsICdjb2xvcicsIGFwcC50cmVlRGVzaWduZXIsICdjb25maWcuZWRnZS5zdHJva2UnKVxuICAgICAgICAgICAgLmFkZEZpZWxkKCdzdHJva2VXaWR0aCcsICd0ZXh0JywgYXBwLnRyZWVEZXNpZ25lciwgJ2NvbmZpZy5lZGdlLnN0cm9rZVdpZHRoJyk7XG5cbiAgICAgICAgZWRnZUdyb3VwLmFkZEdyb3VwKCdvcHRpbWFsJylcbiAgICAgICAgICAgIC5hZGRGaWVsZCgnc3Ryb2tlV2lkdGgnLCAndGV4dCcsIGFwcC50cmVlRGVzaWduZXIsICdjb25maWcuZWRnZS5vcHRpbWFsLnN0cm9rZVdpZHRoJylcbiAgICAgICAgICAgIC5hZGRGaWVsZCgnc3Ryb2tlJywgJ2NvbG9yJywgYXBwLnRyZWVEZXNpZ25lciwgJ2NvbmZpZy5lZGdlLm9wdGltYWwuc3Ryb2tlJyk7XG5cbiAgICAgICAgZWRnZUdyb3VwLmFkZEdyb3VwKCdzZWxlY3RlZCcpXG4gICAgICAgICAgICAuYWRkRmllbGQoJ3N0cm9rZVdpZHRoJywgJ3RleHQnLCBhcHAudHJlZURlc2lnbmVyLCAnY29uZmlnLmVkZ2Uuc2VsZWN0ZWQuc3Ryb2tlV2lkdGgnKVxuICAgICAgICAgICAgLmFkZEZpZWxkKCdzdHJva2UnLCAnY29sb3InLCBhcHAudHJlZURlc2lnbmVyLCAnY29uZmlnLmVkZ2Uuc2VsZWN0ZWQuc3Ryb2tlJyk7XG5cbiAgICAgICAgZWRnZUdyb3VwLmFkZEdyb3VwKCdsYWJlbCcpXG4gICAgICAgICAgICAuYWRkRmllbGQoJ2ZvbnRTaXplJywgJ3RleHQnLCBhcHAudHJlZURlc2lnbmVyLCAnY29uZmlnLmVkZ2UubGFiZWwuZm9udFNpemUnKVxuICAgICAgICAgICAgLmFkZEZpZWxkKCdjb2xvcicsICdjb2xvcicsIGFwcC50cmVlRGVzaWduZXIsICdjb25maWcuZWRnZS5sYWJlbC5jb2xvcicpO1xuXG4gICAgICAgIGVkZ2VHcm91cC5hZGRHcm91cCgncGF5b2ZmJylcbiAgICAgICAgICAgIC5hZGRGaWVsZCgnZm9udFNpemUnLCAndGV4dCcsIGFwcC50cmVlRGVzaWduZXIsICdjb25maWcuZWRnZS5wYXlvZmYuZm9udFNpemUnKVxuICAgICAgICAgICAgLmFkZEZpZWxkKCdjb2xvcicsICdjb2xvcicsIGFwcC50cmVlRGVzaWduZXIsICdjb25maWcuZWRnZS5wYXlvZmYuY29sb3InKVxuICAgICAgICAgICAgLmFkZEZpZWxkKCduZWdhdGl2ZUNvbG9yJywgJ2NvbG9yJywgYXBwLnRyZWVEZXNpZ25lciwgJ2NvbmZpZy5lZGdlLnBheW9mZi5uZWdhdGl2ZUNvbG9yJyk7XG4gICAgICAgIHRoaXMuZm9ybUdyb3Vwcy5wdXNoKGVkZ2VHcm91cCk7XG5cblxuICAgICAgICB2YXIgdGl0bGVHcm91cCA9IG5ldyBGb3JtR3JvdXAoJ2RpYWdyYW1UaXRsZScsICgpPT5hcHAudHJlZURlc2lnbmVyLnVwZGF0ZUN1c3RvbVN0eWxlcygpLnJlZHJhdygpKTtcbiAgICAgICAgdGl0bGVHcm91cFxuICAgICAgICAgICAgLmFkZEZpZWxkKCdmb250U2l6ZScsICd0ZXh0JywgYXBwLnRyZWVEZXNpZ25lciwgJ2NvbmZpZy50aXRsZS5mb250U2l6ZScpXG4gICAgICAgICAgICAuYWRkU2VsZWN0RmllbGQoJ2ZvbnRXZWlnaHQnLCBhcHAudHJlZURlc2lnbmVyLCAnY29uZmlnLnRpdGxlLmZvbnRXZWlnaHQnLCBTZXR0aW5nc0RpYWxvZy5mb250V2VpZ2h0T3B0aW9ucylcbiAgICAgICAgICAgIC5hZGRTZWxlY3RGaWVsZCgnZm9udFN0eWxlJywgYXBwLnRyZWVEZXNpZ25lciwgJ2NvbmZpZy50aXRsZS5mb250U3R5bGUnLCBTZXR0aW5nc0RpYWxvZy5mb250U3R5bGVPcHRpb25zKVxuICAgICAgICAgICAgLmFkZEZpZWxkKCdjb2xvcicsICdjb2xvcicsIGFwcC50cmVlRGVzaWduZXIsICdjb25maWcudGl0bGUuY29sb3InKVxuXG4gICAgICAgIC5hZGRHcm91cCgnbWFyZ2luJylcbiAgICAgICAgICAgIC5hZGRGaWVsZCgndG9wJywgJ251bWJlcicsIGFwcC50cmVlRGVzaWduZXIsICdjb25maWcudGl0bGUubWFyZ2luLnRvcCcpXG4gICAgICAgICAgICAuYWRkRmllbGQoJ2JvdHRvbScsICdudW1iZXInLCBhcHAudHJlZURlc2lnbmVyLCAnY29uZmlnLnRpdGxlLm1hcmdpbi5ib3R0b20nKTtcblxuICAgICAgICB0aXRsZUdyb3VwXG4gICAgICAgICAgICAuYWRkR3JvdXAoJ2Rlc2NyaXB0aW9uJylcbiAgICAgICAgICAgIC5hZGRGaWVsZCgnc2hvdycsICdjaGVja2JveCcsIGFwcC50cmVlRGVzaWduZXIsICdjb25maWcuZGVzY3JpcHRpb24uc2hvdycpXG4gICAgICAgICAgICAuYWRkRmllbGQoJ2ZvbnRTaXplJywgJ3RleHQnLCBhcHAudHJlZURlc2lnbmVyLCAnY29uZmlnLmRlc2NyaXB0aW9uLmZvbnRTaXplJylcbiAgICAgICAgICAgIC5hZGRTZWxlY3RGaWVsZCgnZm9udFdlaWdodCcsIGFwcC50cmVlRGVzaWduZXIsICdjb25maWcuZGVzY3JpcHRpb24uZm9udFdlaWdodCcsIFNldHRpbmdzRGlhbG9nLmZvbnRXZWlnaHRPcHRpb25zKVxuICAgICAgICAgICAgLmFkZFNlbGVjdEZpZWxkKCdmb250U3R5bGUnLCBhcHAudHJlZURlc2lnbmVyLCAnY29uZmlnLmRlc2NyaXB0aW9uLmZvbnRTdHlsZScsIFNldHRpbmdzRGlhbG9nLmZvbnRTdHlsZU9wdGlvbnMpXG4gICAgICAgICAgICAuYWRkRmllbGQoJ2NvbG9yJywgJ2NvbG9yJywgYXBwLnRyZWVEZXNpZ25lciwgJ2NvbmZpZy5kZXNjcmlwdGlvbi5jb2xvcicpXG4gICAgICAgICAgICAuYWRkRmllbGQoJ21hcmdpblRvcCcsICdudW1iZXInLCBhcHAudHJlZURlc2lnbmVyLCAnY29uZmlnLmRlc2NyaXB0aW9uLm1hcmdpbi50b3AnKTtcblxuICAgICAgICB0aGlzLmZvcm1Hcm91cHMucHVzaCh0aXRsZUdyb3VwKTtcblxuICAgICAgICB2YXIgb3RoZXJHcm91cCA9IG5ldyBGb3JtR3JvdXAoJ290aGVyJywgKCk9PmFwcC50cmVlRGVzaWduZXIucmVkcmF3KCkpO1xuICAgICAgICBvdGhlckdyb3VwXG4gICAgICAgICAgICAuYWRkRmllbGQoJ2Rpc2FibGVBbmltYXRpb25zJywgJ2NoZWNrYm94JywgYXBwLnRyZWVEZXNpZ25lciwgJ2NvbmZpZy5kaXNhYmxlQW5pbWF0aW9ucycpXG4gICAgICAgICAgICAuYWRkRmllbGQoJ2ZvcmNlRnVsbEVkZ2VSZWRyYXcnLCAnY2hlY2tib3gnLCBhcHAudHJlZURlc2lnbmVyLCAnY29uZmlnLmZvcmNlRnVsbEVkZ2VSZWRyYXcnKVxuICAgICAgICAgICAgLmFkZEZpZWxkKCdoaWRlTGFiZWxzJywgJ2NoZWNrYm94JywgYXBwLnRyZWVEZXNpZ25lciwgJ2NvbmZpZy5oaWRlTGFiZWxzJylcbiAgICAgICAgICAgIC5hZGRGaWVsZCgnaGlkZVBheW9mZnMnLCAnY2hlY2tib3gnLCBhcHAudHJlZURlc2lnbmVyLCAnY29uZmlnLmhpZGVQYXlvZmZzJylcbiAgICAgICAgICAgIC5hZGRGaWVsZCgnaGlkZVByb2JhYmlsaXRpZXMnLCAnY2hlY2tib3gnLCBhcHAudHJlZURlc2lnbmVyLCAnY29uZmlnLmhpZGVQcm9iYWJpbGl0aWVzJylcbiAgICAgICAgICAgIC5hZGRGaWVsZCgncmF3JywgJ2NoZWNrYm94JywgYXBwLnRyZWVEZXNpZ25lciwgJ2NvbmZpZy5yYXcnKTtcblxuICAgICAgICB0aGlzLmZvcm1Hcm91cHMucHVzaChvdGhlckdyb3VwKTtcblxuICAgICAgICB0aGlzLmluaXRWaWV3KCk7XG5cbiAgICB9XG5cbiAgICBpbml0Rm9ybUdyb3Vwcyhjb250YWluZXIsIGRhdGEpe1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciB0ZW1wID0ge307XG4gICAgICAgIHZhciBmb3JtR3JvdXBzID0gY29udGFpbmVyLnNlbGVjdEFsbCgnZGl2LnNkLWZvcm0tZ3JvdXAnKS5maWx0ZXIoZnVuY3Rpb24oZCkgeyByZXR1cm4gdGhpcy5wYXJlbnROb2RlPT1jb250YWluZXIubm9kZSgpOyB9KS5kYXRhKGRhdGEpO1xuICAgICAgICB2YXIgZm9ybUdyb3Vwc0VudGVyID0gZm9ybUdyb3Vwcy5lbnRlcigpLmFwcGVuZFNlbGVjdG9yKCdkaXYuc2QtZm9ybS1ncm91cCcpLmF0dHIoJ2lkJywgZD0+ZC5pZCkuaHRtbChkPT5UZW1wbGF0ZXMuZ2V0KCdzZXR0aW5nc0RpYWxvZ0Zvcm1Hcm91cCcsIGQpKTtcbiAgICAgICAgZm9ybUdyb3Vwc0VudGVyLnNlbGVjdCgnLnRvZ2dsZS1idXR0b24nKS5vbignY2xpY2snLCAoZCkgPT4ge1xuICAgICAgICAgICAgdmFyIGcgPSBjb250YWluZXIuc2VsZWN0KCcjJytkLmlkKTtcbiAgICAgICAgICAgIGcuY2xhc3NlZCgnc2QtZXh0ZW5kZWQnLCAhZy5jbGFzc2VkKCdzZC1leHRlbmRlZCcpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGZvcm1Hcm91cHNNZXJnZSA9IGZvcm1Hcm91cHNFbnRlci5tZXJnZShmb3JtR3JvdXBzKTtcbiAgICAgICAgdmFyIGlucHV0R3JvdXBzID0gZm9ybUdyb3Vwc01lcmdlLnNlbGVjdCgnICAuc2QtZm9ybS1ncm91cC1jb250ZW50ID4gLnNkLWZvcm0tZ3JvdXAtaW5wdXRzJykuc2VsZWN0QWxsKCdkaXYuaW5wdXQtZ3JvdXAnKS5kYXRhKGQ9PmQuZmllbGRzKTtcblxuXG4gICAgICAgIHZhciBpbnB1dEdyb3Vwc0VudGVyID0gaW5wdXRHcm91cHMuZW50ZXIoKS5hcHBlbmRTZWxlY3RvcignZGl2LmlucHV0LWdyb3VwJykuaHRtbChkPT5kLnR5cGU9PSdzZWxlY3QnPyBUZW1wbGF0ZXMuZ2V0KCdzZWxlY3RJbnB1dEdyb3VwJywgZCk6VGVtcGxhdGVzLmdldCgnaW5wdXRHcm91cCcsIGQpKTtcblxuXG4gICAgICAgIGlucHV0R3JvdXBzRW50ZXIubWVyZ2UoaW5wdXRHcm91cHMpLnNlbGVjdCgnaW5wdXQsIHNlbGVjdCcpLm9uKCdjaGFuZ2UgaW5wdXQnLCBmdW5jdGlvbihkLGkpe1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgICAgIGlmKGQudHlwZT09J2NoZWNrYm94Jyl7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLmNoZWNrZWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGQudmFsaWRhdG9yICYmICFkLnZhbGlkYXRvci52YWxpZGF0ZSh2YWx1ZSkpe1xuICAgICAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS5jbGFzc2VkKCdpbnZhbGlkJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgaWYoZDMuZXZlbnQudHlwZT09J2NoYW5nZScpe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gZC52YWx1ZUFjY2Vzc29yLmdldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkMy5zZWxlY3QodGhpcykuY2xhc3NlZCgnaW52YWxpZCcsIGZhbHNlKTtcblxuICAgICAgICAgICAgZC52YWx1ZUFjY2Vzc29yLnNldCh2YWx1ZSk7XG4gICAgICAgICAgICBpZihkLnZhbHVlVXBkYXRlQ2FsbGJhY2spe1xuICAgICAgICAgICAgICAgIGQudmFsdWVVcGRhdGVDYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgQXBwVXRpbHMudXBkYXRlSW5wdXRDbGFzcyhkMy5zZWxlY3QodGhpcykpO1xuXG5cbiAgICAgICAgfSkuZWFjaChmdW5jdGlvbihkLCBpKXtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGQudmFsdWVBY2Nlc3Nvci5nZXQoKTtcbiAgICAgICAgICAgIGlmKGQudHlwZT09J2NoZWNrYm94Jyl7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja2VkID0gdmFsdWVcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRlbXBbaV09e307XG4gICAgICAgICAgICB0ZW1wW2ldLnByaXN0aW5lVmFsID0gdmFsdWU7XG4gICAgICAgICAgICBpZihkLnZhbGlkYXRvciAmJiAhZC52YWxpZGF0b3IudmFsaWRhdGUodmFsdWUpKXtcbiAgICAgICAgICAgICAgICBkMy5zZWxlY3QodGhpcykuY2xhc3NlZCgnaW52YWxpZCcsIHRydWUpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLmNsYXNzZWQoJ2ludmFsaWQnLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBBcHBVdGlscy51cGRhdGVJbnB1dENsYXNzKGQzLnNlbGVjdCh0aGlzKSk7XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9ybUdyb3Vwc01lcmdlLmVhY2goZnVuY3Rpb24oZCl7XG4gICAgICAgICAgICBzZWxmLmluaXRGb3JtR3JvdXBzKGQzLnNlbGVjdCh0aGlzKS5zZWxlY3QoJy5zZC1mb3JtLWdyb3VwLWNvbnRlbnQgPiAuc2QtZm9ybS1ncm91cC1jaGlsZC1ncm91cHMnKSwgZC5ncm91cHMpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpbml0VmlldygpIHtcbiAgICAgICAgdmFyIHRlbXAgPSB7fTtcbiAgICAgICAgdGhpcy5pbml0Rm9ybUdyb3Vwcyh0aGlzLmNvbnRhaW5lci5zZWxlY3QoJ2Zvcm0jc2Qtc2V0dGluZ3MtZm9ybScpLCB0aGlzLmZvcm1Hcm91cHMpO1xuXG4gICAgfVxuXG4gICAgb25PcGVuKCl7XG4gICAgICAgIHRoaXMuaW5pdFZpZXcoKTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNsYXNzIEZvcm1Hcm91cHtcbiAgICBpZDtcbiAgICBuYW1lO1xuICAgIGZpZWxkcz1bXTtcbiAgICBncm91cHM9W107XG4gICAgdmFsdWVVcGRhdGVDYWxsYmFjaztcblxuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHZhbHVlVXBkYXRlQ2FsbGJhY2spe1xuICAgICAgICB0aGlzLmlkID0gJ3NkLWZvcm0tZ3JvdXAtJytuYW1lLnJlcGxhY2UoL1xcLi9nLCAnLScpO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnZhbHVlVXBkYXRlQ2FsbGJhY2sgPSB2YWx1ZVVwZGF0ZUNhbGxiYWNrO1xuICAgIH1cblxuICAgIGFkZFNlbGVjdEZpZWxkKG5hbWUsIGNvbmZpZywgcGF0aCwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmFkZEZpZWxkKG5hbWUsICdzZWxlY3QnLCBjb25maWcsIHBhdGgsIG51bGwsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cblxuICAgIGFkZEZpZWxkKG5hbWUsIHR5cGUsIGNvbmZpZywgcGF0aCwgdmFsaWRhdG9yLCBvcHRpb25zKXtcbiAgICAgICAgdmFyIGZpZWxkSWQgPSB0aGlzLm5hbWUrXCItXCIrbmFtZTtcbiAgICAgICAgdmFyIGxhYmVsID0gaTE4bi50KFwic2V0dGluZ3NEaWFsb2cuXCIrdGhpcy5uYW1lK1wiLlwiK25hbWUpO1xuICAgICAgICB2YXIgY29uZmlnSW5wdXRGaWVsZCA9IG5ldyBDb25maWdJbnB1dEZpZWxkKGZpZWxkSWQsZmllbGRJZCwgdHlwZSxsYWJlbCwgY29uZmlnLCBwYXRoLCB2YWxpZGF0b3IsIG9wdGlvbnMpO1xuICAgICAgICBjb25maWdJbnB1dEZpZWxkLnZhbHVlVXBkYXRlQ2FsbGJhY2sgPSB0aGlzLnZhbHVlVXBkYXRlQ2FsbGJhY2s7XG4gICAgICAgIHRoaXMuZmllbGRzLnB1c2goY29uZmlnSW5wdXRGaWVsZCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGFkZEdyb3VwKG5hbWUpe1xuICAgICAgICB2YXIgZ3JvdXBOYW1lID0gdGhpcy5uYW1lKycuJytuYW1lO1xuICAgICAgICB2YXIgZ3JvdXAgPSBuZXcgRm9ybUdyb3VwKGdyb3VwTmFtZSwgdGhpcy52YWx1ZVVwZGF0ZUNhbGxiYWNrKTtcbiAgICAgICAgdGhpcy5ncm91cHMucHVzaChncm91cCk7XG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG59XG5cbmNsYXNzIFBhdGhWYWx1ZUFjY2Vzc29yIHtcbiAgICBzb3VyY2VPYmplY3Q7XG4gICAgcGF0aDtcbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2VPYmplY3QsIHBhdGgpe1xuICAgICAgICB0aGlzLnNvdXJjZU9iamVjdD1zb3VyY2VPYmplY3Q7XG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgfVxuXG4gICAgZ2V0KCl7XG4gICAgICAgIHJldHVybiBVdGlscy5nZXQodGhpcy5zb3VyY2VPYmplY3QsIHRoaXMucGF0aCk7XG4gICAgfVxuXG4gICAgc2V0KHYpe1xuICAgICAgICByZXR1cm4gVXRpbHMuc2V0KHRoaXMuc291cmNlT2JqZWN0LCB0aGlzLnBhdGgsIHYpO1xuICAgIH1cbn1cblxuY2xhc3MgSW5wdXRGaWVsZHtcbiAgICBuYW1lO1xuICAgIHR5cGU7XG4gICAgdmFsaWRhdG9yO1xuICAgIHZhbHVlQWNjZXNzb3I7XG5cbiAgICBpZDtcbiAgICBsYWJlbDtcbiAgICB2YWx1ZVVwZGF0ZUNhbGxiYWNrO1xuXG4gICAgY29uc3RydWN0b3IoaWQsIG5hbWUsIHR5cGUsIGxhYmVsLCB2YWx1ZUFjY2Vzc29yLCB2YWxpZGF0b3IsIG9wdGlvbnMpe1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnZhbHVlQWNjZXNzb3IgPSB2YWx1ZUFjY2Vzc29yO1xuICAgICAgICB0aGlzLnZhbGlkYXRvciA9IHZhbGlkYXRvcjtcbiAgICAgICAgdGhpcy5pZD1pZDtcbiAgICAgICAgdGhpcy5sYWJlbCA9IGxhYmVsO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cblxufVxuXG5cbmNsYXNzIENvbmZpZ0lucHV0RmllbGQgZXh0ZW5kcyBJbnB1dEZpZWxke1xuICAgIGNvbnN0cnVjdG9yKGlkLCBuYW1lLCB0eXBlLCBsYWJlbCwgc291cmNlT2JqZWN0LCBwYXRoLCB2YWxpZGF0b3IsIG9wdGlvbnMpe1xuICAgICAgICBzdXBlcihpZCwgbmFtZSwgdHlwZSwgbGFiZWwsIG5ldyBQYXRoVmFsdWVBY2Nlc3Nvcihzb3VyY2VPYmplY3QsIHBhdGgpLCB2YWxpZGF0b3IsIG9wdGlvbnMpO1xuICAgIH1cbn1cblxuIiwiaW1wb3J0ICogYXMgZDMgZnJvbSAnLi9kMydcbmltcG9ydCB7aTE4bn0gZnJvbSAnLi9pMThuL2kxOG4nXG5pbXBvcnQge1V0aWxzfSBmcm9tICdzZC11dGlscydcbmltcG9ydCB7QXBwVXRpbHN9IGZyb20gJy4vYXBwLXV0aWxzJ1xuaW1wb3J0IHtkb21haW4gYXMgbW9kZWx9IGZyb20gJ3NkLW1vZGVsJ1xuaW1wb3J0IHtQYXlvZmZJbnB1dFZhbGlkYXRvcn0gZnJvbSAnLi92YWxpZGF0aW9uL3BheW9mZi1pbnB1dC12YWxpZGF0b3InXG5pbXBvcnQge1Byb2JhYmlsaXR5SW5wdXRWYWxpZGF0b3J9IGZyb20gJy4vdmFsaWRhdGlvbi9wcm9iYWJpbGl0eS1pbnB1dC12YWxpZGF0b3InXG5pbXBvcnQge1RlbXBsYXRlc30gZnJvbSBcIi4vdGVtcGxhdGVzXCI7XG5pbXBvcnQge1Rvb2x0aXB9IGZyb20gXCIuL3Rvb2x0aXBcIjtcblxuZXhwb3J0IGNsYXNzIFNpZGViYXIge1xuXG4gICAgYXBwO1xuICAgIGNvbnRhaW5lcjtcbiAgICBkaXNwYXRjaCA9IGQzLmRpc3BhdGNoKFwicmVjb21wdXRlZFwiLCBcIm9iamVjdC11cGRhdGVkXCIpO1xuXG5cbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIsIGFwcCkge1xuICAgICAgICB0aGlzLmFwcCA9IGFwcDtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG5cbiAgICAgICAgdGhpcy5pbml0TGF5b3V0T3B0aW9ucygpO1xuICAgICAgICB0aGlzLmluaXREaWFncmFtRGV0YWlscygpO1xuICAgICAgICB0aGlzLmluaXREZWZpbml0aW9ucygpO1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignU2lsdmVyRGVjaXNpb25zUmVjb21wdXRlZEV2ZW50JywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChkYXRhLmRldGFpbCA9PT0gYXBwKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5kaXNwYXRjaC5jYWxsKFwicmVjb21wdXRlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2VsZi5kaXNwYXRjaC5vbihcIm9iamVjdC11cGRhdGVkXCIsIFV0aWxzLmRlYm91bmNlKChvYmplY3QsIGZpZWxkTmFtZSk9PiBzZWxmLmFwcC5vbk9iamVjdFVwZGF0ZWQob2JqZWN0LCBmaWVsZE5hbWUpLCAzNTApKTtcblxuICAgIH1cblxuICAgIGluaXRMYXlvdXRPcHRpb25zKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMubGF5b3V0T3B0aW9uc0NvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLnNlbGVjdCgnI2xheW91dC1vcHRpb25zJyk7XG4gICAgICAgIHRoaXMuYXV0b0xheW91dE9wdGlvbnNHcm91cCA9IHRoaXMubGF5b3V0T3B0aW9uc0NvbnRhaW5lci5zZWxlY3QoJyNhdXRvLWxheW91dC1vcHRpb25zJyk7XG4gICAgICAgIHRoaXMuZ3JpZFdpZHRoID0gdGhpcy5sYXlvdXRPcHRpb25zQ29udGFpbmVyLnNlbGVjdCgnaW5wdXQjZ3JpZC13aWR0aCcpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZWxmLmFwcC50cmVlRGVzaWduZXIubGF5b3V0LnNldEdyaWRXaWR0aChwYXJzZUludCh0aGlzLnZhbHVlKSk7XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5ncmlkSGVpZ2h0ID0gdGhpcy5sYXlvdXRPcHRpb25zQ29udGFpbmVyLnNlbGVjdCgnaW5wdXQjZ3JpZC1oZWlnaHQnKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2VsZi5hcHAudHJlZURlc2lnbmVyLmxheW91dC5zZXRHcmlkSGVpZ2h0KHBhcnNlSW50KHRoaXMudmFsdWUpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5ub2RlU2l6ZSA9IHRoaXMubGF5b3V0T3B0aW9uc0NvbnRhaW5lci5zZWxlY3QoJ2lucHV0I25vZGUtc2l6ZScpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZWxmLmFwcC50cmVlRGVzaWduZXIubGF5b3V0LnNldE5vZGVTaXplKHBhcnNlSW50KHRoaXMudmFsdWUpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5lZGdlU2xhbnRXaWR0aE1heCA9IHRoaXMubGF5b3V0T3B0aW9uc0NvbnRhaW5lci5zZWxlY3QoJ2lucHV0I2VkZ2Utc2xhbnQtd2lkdGgtbWF4Jykub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbGYuYXBwLnRyZWVEZXNpZ25lci5sYXlvdXQuc2V0RWRnZVNsYW50V2lkdGhNYXgocGFyc2VJbnQodGhpcy52YWx1ZSkpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLm1hcmdpbkhvcml6b250YWwgPSB0aGlzLmxheW91dE9wdGlvbnNDb250YWluZXIuc2VsZWN0KCdpbnB1dCNtYXJnaW4taG9yaXpvbnRhbCcpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbSA9IHt9O1xuICAgICAgICAgICAgbS5sZWZ0ID0gbS5yaWdodCA9IHBhcnNlSW50KHRoaXMudmFsdWUpO1xuICAgICAgICAgICAgc2VsZi5hcHAudHJlZURlc2lnbmVyLnNldE1hcmdpbihtKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubWFyZ2luVmVydGljYWwgPSB0aGlzLmxheW91dE9wdGlvbnNDb250YWluZXIuc2VsZWN0KCdpbnB1dCNtYXJnaW4tdmVydGljYWwnKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG0gPSB7fTtcbiAgICAgICAgICAgIG0udG9wID0gbS5ib3R0b20gPSBwYXJzZUludCh0aGlzLnZhbHVlKTtcbiAgICAgICAgICAgIHNlbGYuYXBwLnRyZWVEZXNpZ25lci5zZXRNYXJnaW4obSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNlbGYuYXBwLnRyZWVEZXNpZ25lci5sYXlvdXQub25BdXRvTGF5b3V0Q2hhbmdlZC5wdXNoKChsYXlvdXQpPT5zZWxmLnVwZGF0ZUxheW91dE9wdGlvbnMoKSk7XG5cbiAgICAgICAgdGhpcy5sYXlvdXRPcHRpb25zQ29udGFpbmVyLnNlbGVjdCgnLnRvZ2dsZS1idXR0b24nKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxheW91dE9wdGlvbnNDb250YWluZXIuY2xhc3NlZCgnc2QtZXh0ZW5kZWQnLCAhdGhpcy5sYXlvdXRPcHRpb25zQ29udGFpbmVyLmNsYXNzZWQoJ3NkLWV4dGVuZGVkJykpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnVwZGF0ZUxheW91dE9wdGlvbnMoKTtcbiAgICB9XG5cbiAgICB1cGRhdGVMYXlvdXRPcHRpb25zKCkge1xuICAgICAgICB0aGlzLm5vZGVTaXplLm5vZGUoKS52YWx1ZSA9IHRoaXMuYXBwLnRyZWVEZXNpZ25lci5jb25maWcubGF5b3V0Lm5vZGVTaXplO1xuICAgICAgICB0aGlzLmVkZ2VTbGFudFdpZHRoTWF4Lm5vZGUoKS52YWx1ZSA9IHRoaXMuYXBwLnRyZWVEZXNpZ25lci5jb25maWcubGF5b3V0LmVkZ2VTbGFudFdpZHRoTWF4O1xuICAgICAgICB0aGlzLm1hcmdpbkhvcml6b250YWwubm9kZSgpLnZhbHVlID0gdGhpcy5hcHAudHJlZURlc2lnbmVyLmNvbmZpZy5tYXJnaW4ubGVmdDtcbiAgICAgICAgdGhpcy5tYXJnaW5WZXJ0aWNhbC5ub2RlKCkudmFsdWUgPSB0aGlzLmFwcC50cmVlRGVzaWduZXIuY29uZmlnLm1hcmdpbi50b3A7XG4gICAgICAgIHRoaXMuZ3JpZFdpZHRoLm5vZGUoKS52YWx1ZSA9IHRoaXMuYXBwLnRyZWVEZXNpZ25lci5jb25maWcubGF5b3V0LmdyaWRXaWR0aDtcbiAgICAgICAgdGhpcy5ncmlkSGVpZ2h0Lm5vZGUoKS52YWx1ZSA9IHRoaXMuYXBwLnRyZWVEZXNpZ25lci5jb25maWcubGF5b3V0LmdyaWRIZWlnaHQ7XG4gICAgICAgIHRoaXMuYXV0b0xheW91dE9wdGlvbnNHcm91cC5jbGFzc2VkKCd2aXNpYmxlJywgIXRoaXMuYXBwLnRyZWVEZXNpZ25lci5sYXlvdXQuaXNNYW51YWxMYXlvdXQoKSk7XG4gICAgfVxuXG4gICAgaW5pdERpYWdyYW1EZXRhaWxzKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMuZGlhZ3JhbURldGFpbHNDb250YWluZXIgPSB0aGlzLmNvbnRhaW5lci5zZWxlY3QoJyNkaWFncmFtLWRldGFpbHMtYm94Jyk7XG4gICAgICAgIHRoaXMuZGlhZ3JhbURldGFpbHNDb250YWluZXIuY2xhc3NlZCgnc2QtaGlkZGVuJywgIXRoaXMuYXBwLmNvbmZpZy5zaG93RGV0YWlscyk7XG5cbiAgICAgICAgdGhpcy5kaWFncmFtRGV0YWlsc0NvbnRhaW5lci5zZWxlY3QoJy50b2dnbGUtYnV0dG9uJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kaWFncmFtRGV0YWlsc0NvbnRhaW5lci5jbGFzc2VkKCdzZC1leHRlbmRlZCcsICF0aGlzLmRpYWdyYW1EZXRhaWxzQ29udGFpbmVyLmNsYXNzZWQoJ3NkLWV4dGVuZGVkJykpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVEaWFncmFtRGV0YWlscygpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmRpYWdyYW1UaXRsZSA9IHRoaXMuZGlhZ3JhbURldGFpbHNDb250YWluZXIuc2VsZWN0KCdpbnB1dCNkaWFncmFtLXRpdGxlJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbGYuYXBwLnNldERpYWdyYW1UaXRsZSh0aGlzLnZhbHVlKTtcbiAgICAgICAgICAgIEFwcFV0aWxzLnVwZGF0ZUlucHV0Q2xhc3MoZDMuc2VsZWN0KHRoaXMpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5kaWFncmFtRGVzY3JpcHRpb24gPSB0aGlzLmRpYWdyYW1EZXRhaWxzQ29udGFpbmVyLnNlbGVjdCgndGV4dGFyZWEjZGlhZ3JhbS1kZXNjcmlwdGlvbicpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZWxmLmFwcC5zZXREaWFncmFtRGVzY3JpcHRpb24odGhpcy52YWx1ZSk7XG4gICAgICAgICAgICBBcHBVdGlscy51cGRhdGVJbnB1dENsYXNzKGQzLnNlbGVjdCh0aGlzKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBBcHBVdGlscy5lbGFzdGljVGV4dGFyZWEodGhpcy5kaWFncmFtRGVzY3JpcHRpb24pO1xuXG4gICAgICAgIHRoaXMudXBkYXRlRGlhZ3JhbURldGFpbHMoKTtcbiAgICB9XG5cbiAgICBpbml0RGVmaW5pdGlvbnMoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5kZWZpbml0aW9uc0NvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLnNlbGVjdCgnI3NkLXNpZGViYXItZGVmaW5pdGlvbnMnKTtcbiAgICAgICAgdGhpcy5kZWZpbml0aW9uc0NvbnRhaW5lci5jbGFzc2VkKCdzZC1oaWRkZW4nLCAhdGhpcy5hcHAuY29uZmlnLnNob3dEZWZpbml0aW9ucyk7XG4gICAgICAgIHRoaXMub25EZWZpbml0aW9uc0NvZGVDaGFuZ2VkID0gbnVsbDtcbiAgICAgICAgdGhpcy5kZWZpbml0aW9uc0NvbnRhaW5lci5zZWxlY3QoJy50b2dnbGUtYnV0dG9uJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kZWZpbml0aW9uc0NvbnRhaW5lci5jbGFzc2VkKCdzZC1leHRlbmRlZCcsICF0aGlzLmRlZmluaXRpb25zQ29udGFpbmVyLmNsYXNzZWQoJ3NkLWV4dGVuZGVkJykpO1xuICAgICAgICAgICAgQXBwVXRpbHMudXBkYXRlSW5wdXRDbGFzcyh0aGlzLmRlZmluaXRpb25zQ29kZSk7XG4gICAgICAgICAgICBBcHBVdGlscy5hdXRvUmVzaXplVGV4dGFyZWEodGhpcy5kZWZpbml0aW9uc0NvZGUubm9kZSgpKVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmRlZmluaXRpb25zQ29kZSA9IHRoaXMuZGVmaW5pdGlvbnNDb250YWluZXIuc2VsZWN0KCd0ZXh0YXJlYSNzZC1zaWRlYmFyLWRlZmluaXRpb25zLWNvZGUnKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHNlbGYub25EZWZpbml0aW9uc0NvZGVDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5vbkRlZmluaXRpb25zQ29kZUNoYW5nZWQodGhpcy52YWx1ZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEFwcFV0aWxzLnVwZGF0ZUlucHV0Q2xhc3MoZDMuc2VsZWN0KHRoaXMpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFRvb2x0aXAuYXR0YWNoKHRoaXMuZGVmaW5pdGlvbnNDb2RlLCAoZCk9PntcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmRlZmluaXRpb25zQ29kZS5hdHRyKCdkYXRhLWVycm9yLW1zZycpO1xuXG4gICAgICAgIH0sIDE1LCA1MCk7XG5cblxuICAgICAgICB0aGlzLmRlZmluaXRpb25zRXZhbHVhdGVkVmFsdWVzQ29udGFpbmVyID0gdGhpcy5jb250YWluZXIuc2VsZWN0KFwiI3NkLXNpZGViYXItZGVmaW5pdGlvbnMtZXZhbHVhdGVkLXZhbHVlc1wiKTtcblxuICAgICAgICB0aGlzLmRlZmluaXRpb25zQ29udGFpbmVyLnNlbGVjdCgnI3NkLXNpZGViYXItZGVmaW5pdGlvbnMtb3Blbi1kaWFsb2ctYnV0dG9uJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hcHAub3BlbkRlZmluaXRpb25zRGlhbG9nKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbnNDb250YWluZXIuc2VsZWN0KCcjc2Qtc2lkZWJhci1kZWZpbml0aW9ucy1yZWNhbGN1bGF0ZS1idXR0b24nKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFwcC5yZWNvbXB1dGUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgQXBwVXRpbHMuZWxhc3RpY1RleHRhcmVhKHRoaXMuZGVmaW5pdGlvbnNDb2RlKTtcbiAgICB9XG5cbiAgICB1cGRhdGVEZWZpbml0aW9ucyhkZWZpbml0aW9uc1NvdXJjZU9iamVjdCwgcmVhZE9ubHksIGNoYW5nZUNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbnNDb250YWluZXIuY2xhc3NlZCgnc2QtcmVhZC1vbmx5JywgcmVhZE9ubHkpO1xuICAgICAgICB0aGlzLm9uRGVmaW5pdGlvbnNDb2RlQ2hhbmdlZCA9IGNoYW5nZUNhbGxiYWNrO1xuICAgICAgICB0aGlzLmRlZmluaXRpb25zQ29kZS5ub2RlKCkudmFsdWUgPSBkZWZpbml0aW9uc1NvdXJjZU9iamVjdC5jb2RlO1xuICAgICAgICB0aGlzLmRlZmluaXRpb25zQ29kZS5jbGFzc2VkKCdpbnZhbGlkJywgISFkZWZpbml0aW9uc1NvdXJjZU9iamVjdC4kY29kZUVycm9yKTtcbiAgICAgICAgdGhpcy5kZWZpbml0aW9uc0NvZGUuYXR0cignZGF0YS1lcnJvci1tc2cnLCBkZWZpbml0aW9uc1NvdXJjZU9iamVjdC4kY29kZUVycm9yKTtcbiAgICAgICAgdmFyIGh0bWwgPSBUZW1wbGF0ZXMuZ2V0KCdldmFsdWF0ZWRWYXJpYWJsZXMnLCB7c2NvcGVWYXJpYWJsZXM6IFV0aWxzLmdldFZhcmlhYmxlc0FzTGlzdChkZWZpbml0aW9uc1NvdXJjZU9iamVjdC5leHByZXNzaW9uU2NvcGUpfSk7XG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbnNFdmFsdWF0ZWRWYWx1ZXNDb250YWluZXIuaHRtbChodG1sKTtcbiAgICAgICAgQXBwVXRpbHMudXBkYXRlSW5wdXRDbGFzcyh0aGlzLmRlZmluaXRpb25zQ29kZSk7XG4gICAgICAgIEFwcFV0aWxzLmF1dG9SZXNpemVUZXh0YXJlYSh0aGlzLmRlZmluaXRpb25zQ29kZS5ub2RlKCkpXG4gICAgfVxuXG4gICAgdXBkYXRlRGlhZ3JhbURldGFpbHMoKSB7XG4gICAgICAgIHRoaXMuZGlhZ3JhbVRpdGxlLm5vZGUoKS52YWx1ZSA9IHRoaXMuYXBwLmNvbmZpZy50aXRsZTtcbiAgICAgICAgQXBwVXRpbHMudXBkYXRlSW5wdXRDbGFzcyh0aGlzLmRpYWdyYW1UaXRsZSk7XG4gICAgICAgIHRoaXMuZGlhZ3JhbURlc2NyaXB0aW9uLm5vZGUoKS52YWx1ZSA9IHRoaXMuYXBwLmNvbmZpZy5kZXNjcmlwdGlvbjtcbiAgICAgICAgQXBwVXRpbHMudXBkYXRlSW5wdXRDbGFzcyh0aGlzLmRpYWdyYW1EZXNjcmlwdGlvbik7XG4gICAgICAgIEFwcFV0aWxzLmF1dG9SZXNpemVUZXh0YXJlYSh0aGlzLmRpYWdyYW1EZXNjcmlwdGlvbi5ub2RlKCkpXG4gICAgfVxuXG4gICAgZGlzcGxheU9iamVjdFByb3BlcnRpZXMob2JqZWN0KSB7XG4gICAgICAgIHRoaXMudXBkYXRlT2JqZWN0UHJvcGVydGllc1ZpZXcob2JqZWN0KTtcbiAgICB9XG5cbiAgICBoaWRlT2JqZWN0UHJvcGVydGllcygpIHtcblxuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZWxlY3QoJyNvYmplY3QtcHJvcGVydGllcycpLmNsYXNzZWQoJ3Zpc2libGUnLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnNlbGVjdEFsbCgnZGl2LmNoaWxkLW9iamVjdCcpLnJlbW92ZSgpO1xuXG4gICAgfVxuXG4gICAgdXBkYXRlT2JqZWN0UHJvcGVydGllc1ZpZXcob2JqZWN0KSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2gub24oXCIucmVjb21wdXRlZFwiLCBudWxsKTsgLy9yZW1vdmUgYWxsIGNhbGxiYWNrcyBmb3IgcmVjb21wdXRlZCBldmVudFxuICAgICAgICBpZiAoIW9iamVjdCkge1xuICAgICAgICAgICAgdGhpcy5oaWRlT2JqZWN0UHJvcGVydGllcygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG9iamVjdFByb3BzID0gdGhpcy5vYmplY3RQcm9wcyA9IHRoaXMuY29udGFpbmVyLnNlbGVjdCgnI29iamVjdC1wcm9wZXJ0aWVzJykuY2xhc3NlZCgndmlzaWJsZScsIHRydWUpO1xuICAgICAgICB2YXIgaGVhZGVyVGV4dCA9IFNpZGViYXIuZ2V0SGVhZGVyVGV4dEZvck9iamVjdChvYmplY3QpO1xuICAgICAgICBvYmplY3RQcm9wcy5zZWxlY3QoJy5oZWFkZXInKS5odG1sKGhlYWRlclRleHQpO1xuXG4gICAgICAgIHZhciBmaWVsZExpc3QgPSB0aGlzLmdldEZpZWxkTGlzdEZvck9iamVjdChvYmplY3QpO1xuICAgICAgICB0aGlzLnVwZGF0ZU9iamVjdEZpZWxkcyhvYmplY3QsIGZpZWxkTGlzdCwgb2JqZWN0UHJvcHMuc2VsZWN0KCcuY29udGVudCAubWFpbi1wcm9wZXJ0aWVzJykpO1xuXG5cbiAgICAgICAgdGhpcy51cGRhdGVPYmplY3RDaGlsZHJlblByb3BlcnRpZXMob2JqZWN0KTtcblxuICAgIH1cblxuICAgIHVwZGF0ZU9iamVjdENoaWxkcmVuUHJvcGVydGllcyhvYmplY3QpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgY2hpbGRPYmplY3RzID0gdGhpcy5nZXRDaGlsZE9iamVjdExpc3Qob2JqZWN0KTtcbiAgICAgICAgdmFyIG9iamVjdFR5cGUgPSBTaWRlYmFyLmdldE9iamVjdFR5cGUob2JqZWN0KTtcblxuICAgICAgICB2YXIgY2hpbGRQcm9wc1NlbGVjdG9yID0gdGhpcy5vYmplY3RQcm9wcy5zZWxlY3QoJy5jb250ZW50IC5jaGlsZHJlbi1wcm9wZXJ0aWVzJyk7XG5cbiAgICAgICAgY2hpbGRQcm9wc1NlbGVjdG9yLmNsYXNzZWQoJ3Zpc2libGUnLCBjaGlsZE9iamVjdHMubGVuZ3RoKTtcblxuICAgICAgICBjaGlsZFByb3BzU2VsZWN0b3Iuc2VsZWN0KCcuY2hpbGRyZW4tcHJvcGVydGllcy1oZWFkZXInKS50ZXh0KGkxOG4udCgnb2JqZWN0UHJvcGVydGllcy5jaGlsZHJlblByb3BlcnRpZXMuJyArIG9iamVjdFR5cGUgKyAnLmhlYWRlcicpKTtcbiAgICAgICAgdmFyIGNoaWxkcmVuQ29udGVudCA9IGNoaWxkUHJvcHNTZWxlY3Rvci5zZWxlY3QoJy5jaGlsZHJlbi1wcm9wZXJ0aWVzLWNvbnRlbnQnKTtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gY2hpbGRyZW5Db250ZW50LnNlbGVjdEFsbCgnZGl2LmNoaWxkLW9iamVjdCcpLmRhdGEoY2hpbGRPYmplY3RzLCAoZCwgaSk9PiBkLiRpZCB8fCBpKTtcbiAgICAgICAgdmFyIGNoaWxkcmVuRW50ZXIgPSBjaGlsZHJlbi5lbnRlcigpLmFwcGVuZFNlbGVjdG9yKCdkaXYuY2hpbGQtb2JqZWN0Jyk7XG4gICAgICAgIHZhciBjaGlsZHJlbk1lcmdlID0gY2hpbGRyZW5FbnRlci5tZXJnZShjaGlsZHJlbik7XG5cbiAgICAgICAgY2hpbGRyZW5NZXJnZS5lYWNoKHVwZGF0ZUNoaWxkT2JqZWN0UHJvcGVydGllcyk7XG5cbiAgICAgICAgY2hpbGRyZW4uZXhpdCgpLnJlbW92ZSgpO1xuXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUNoaWxkT2JqZWN0UHJvcGVydGllcyhjaGlsZCwgaSkge1xuICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IGQzLnNlbGVjdCh0aGlzKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5zZWxlY3RPckFwcGVuZCgnZGl2LmNoaWxkLWhlYWRlcicpLnRleHQoaTE4bi50KCdvYmplY3RQcm9wZXJ0aWVzLmNoaWxkcmVuUHJvcGVydGllcy4nICsgb2JqZWN0VHlwZSArICcuY2hpbGQuaGVhZGVyJywge251bWJlcjogaSArIDF9KSk7XG5cbiAgICAgICAgICAgIHZhciBmaWVsZExpc3QgPSBzZWxmLmdldEZpZWxkTGlzdEZvck9iamVjdChjaGlsZCk7XG4gICAgICAgICAgICBzZWxmLnVwZGF0ZU9iamVjdEZpZWxkcyhjaGlsZCwgZmllbGRMaXN0LCBjb250YWluZXIuc2VsZWN0T3JBcHBlbmQoJ2Rpdi5maWVsZC1saXN0JykpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0T2JqZWN0VHlwZShvYmplY3QpIHtcbiAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIG1vZGVsLk5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiAnbm9kZSc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIG1vZGVsLkVkZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiAnZWRnZSc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIG1vZGVsLlRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiAndGV4dCc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRIZWFkZXJUZXh0Rm9yT2JqZWN0KG9iamVjdCkge1xuICAgICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgbW9kZWwuTm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIGkxOG4udCgnb2JqZWN0UHJvcGVydGllcy5oZWFkZXIubm9kZS4nICsgb2JqZWN0LnR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBtb2RlbC5FZGdlKSB7XG4gICAgICAgICAgICByZXR1cm4gaTE4bi50KCdvYmplY3RQcm9wZXJ0aWVzLmhlYWRlci5lZGdlJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIG1vZGVsLlRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiBpMThuLnQoJ29iamVjdFByb3BlcnRpZXMuaGVhZGVyLnRleHQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgZ2V0Q2hpbGRPYmplY3RMaXN0KG9iamVjdCkge1xuICAgICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgbW9kZWwuTm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIG9iamVjdC5jaGlsZEVkZ2VzLnNvcnQoKGEsIGIpPT5hLmNoaWxkTm9kZS5sb2NhdGlvbi55IC0gYi5jaGlsZE5vZGUubG9jYXRpb24ueSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIG1vZGVsLkVkZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG5cbiAgICBnZXRGaWVsZExpc3RGb3JPYmplY3Qob2JqZWN0KSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIG1vZGVsLk5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBbe1xuICAgICAgICAgICAgICAgIG5hbWU6ICduYW1lJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAndGV4dGFyZWEnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8qIHtcbiAgICAgICAgICAgICAgICAgbmFtZTogJ2NvZGUnLFxuICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dGFyZWEnLFxuICAgICAgICAgICAgICAgICBvbkNoYW5nZTogKG9iamVjdCwgbmV3VmFsLCBvbGRWYWwpPT4gb2JqZWN0LiRjb2RlRGlydHkgPSB0cnVlLFxuICAgICAgICAgICAgICAgICBjdXN0b21PbklucHV0OiAob2JqZWN0LCBuZXdWYWwsIG9sZFZhbCk9PiBvYmplY3QuY29kZSA9IG5ld1ZhbFxuICAgICAgICAgICAgICAgICB9Ki9cbiAgICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgbW9kZWwuRWRnZSkge1xuICAgICAgICAgICAgdmFyIGxpc3QgPSBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnbmFtZScsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0YXJlYSdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3BheW9mZicsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBuZXcgUGF5b2ZmSW5wdXRWYWxpZGF0b3Ioc2VsZi5hcHAuZXhwcmVzc2lvbkVuZ2luZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgaWYgKG9iamVjdC5wYXJlbnROb2RlIGluc3RhbmNlb2YgbW9kZWwuQ2hhbmNlTm9kZSkge1xuICAgICAgICAgICAgICAgIGxpc3QucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdwcm9iYWJpbGl0eScsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBuZXcgUHJvYmFiaWxpdHlJbnB1dFZhbGlkYXRvcihzZWxmLmFwcC5leHByZXNzaW9uRW5naW5lKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbGlzdDtcblxuICAgICAgICB9XG4gICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBtb2RlbC5UZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gW3tcbiAgICAgICAgICAgICAgICBuYW1lOiAndmFsdWUnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0YXJlYSdcbiAgICAgICAgICAgIH1dXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgdXBkYXRlT2JqZWN0RmllbGRzKG9iamVjdCwgZmllbGRMaXN0LCBjb250YWluZXIpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cbiAgICAgICAgdmFyIG9iamVjdFR5cGUgPSBvYmplY3QgaW5zdGFuY2VvZiBtb2RlbC5Ob2RlID8gJ25vZGUnIDogb2JqZWN0IGluc3RhbmNlb2YgbW9kZWwuRWRnZSA/ICdlZGdlJyA6ICd0ZXh0JztcbiAgICAgICAgdmFyIGdldEZpZWxkSWQgPSBkPT4nb2JqZWN0LScgKyBvYmplY3QuJGlkICsgJy1maWVsZC0nICsgZC5uYW1lO1xuXG4gICAgICAgIHZhciBmaWVsZHMgPSBjb250YWluZXIuc2VsZWN0QWxsKCdkaXYub2JqZWN0LWZpZWxkJykuZGF0YShmaWVsZExpc3QpO1xuICAgICAgICB2YXIgdGVtcCA9IHt9O1xuICAgICAgICB2YXIgZmllbGRzRW50ZXIgPSBmaWVsZHMuZW50ZXIoKS5hcHBlbmRTZWxlY3RvcignZGl2Lm9iamVjdC1maWVsZCcpO1xuICAgICAgICB2YXIgZmllbGRzTWVyZ2UgPSBmaWVsZHNFbnRlci5tZXJnZShmaWVsZHMpO1xuXG4gICAgICAgIGZpZWxkc01lcmdlLmVhY2goZnVuY3Rpb24gKGQsIGkpIHtcbiAgICAgICAgICAgIHZhciBmaWVsZFNlbGVjdGlvbiA9IGQzLnNlbGVjdCh0aGlzKTtcbiAgICAgICAgICAgIGZpZWxkU2VsZWN0aW9uLmh0bWwoXCJcIik7XG5cbiAgICAgICAgICAgIHZhciBpbnB1dDtcbiAgICAgICAgICAgIGlmIChkLnR5cGUgPT0gJ3RleHRhcmVhJykge1xuICAgICAgICAgICAgICAgIGlucHV0ID0gZmllbGRTZWxlY3Rpb24uYXBwZW5kKCd0ZXh0YXJlYScpLmF0dHIoJ3Jvd3MnLCAxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5wdXQgPSBmaWVsZFNlbGVjdGlvbi5hcHBlbmQoJ2lucHV0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnB1dC5jbGFzc2VkKCdzZC1pbnB1dCcsIHRydWUpO1xuXG4gICAgICAgICAgICBmaWVsZFNlbGVjdGlvbi5hcHBlbmRTZWxlY3Rvcignc3Bhbi5iYXInKTtcbiAgICAgICAgICAgIGZpZWxkU2VsZWN0aW9uLmFwcGVuZCgnbGFiZWwnKTtcbiAgICAgICAgICAgIGZpZWxkU2VsZWN0aW9uLmNsYXNzZWQoJ2lucHV0LWdyb3VwJywgdHJ1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZpZWxkc01lcmdlLnNlbGVjdCgnbGFiZWwnKVxuICAgICAgICAgICAgLmF0dHIoJ2ZvcicsIGdldEZpZWxkSWQpXG4gICAgICAgICAgICAuaHRtbChkPT5pMThuLnQob2JqZWN0VHlwZSArICcuJyArIGQubmFtZSkpO1xuICAgICAgICBmaWVsZHNNZXJnZS5zZWxlY3QoJy5zZC1pbnB1dCcpXG4gICAgICAgICAgICAuYXR0cigndHlwZScsIGQ9PmQudHlwZSA9PSAndGV4dGFyZWEnID8gdW5kZWZpbmVkIDogZC50eXBlKVxuICAgICAgICAgICAgLmF0dHIoJ25hbWUnLCBkPT5kLm5hbWUpXG4gICAgICAgICAgICAuYXR0cignaWQnLCBnZXRGaWVsZElkKVxuICAgICAgICAgICAgLm9uKCdjaGFuZ2Uga2V5dXAnLCBmdW5jdGlvbiAoZCwgaSkge1xuICAgICAgICAgICAgICAgIHZhciBwcmV2VmFsdWUgPSBvYmplY3RbZC5uYW1lXTtcbiAgICAgICAgICAgICAgICB2YXIgaXNWYWxpZCA9ICFkLnZhbGlkYXRvciB8fCBkLnZhbGlkYXRvci52YWxpZGF0ZSh0aGlzLnZhbHVlLCBvYmplY3QsIGQubmFtZSk7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZC5uYW1lLCB0aGlzLnZhbHVlLCBpc1ZhbGlkKTtcbiAgICAgICAgICAgICAgICBvYmplY3Quc2V0U3ludGF4VmFsaWRpdHkoZC5uYW1lLCBpc1ZhbGlkKTtcblxuICAgICAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS5jbGFzc2VkKCdpbnZhbGlkJywgIW9iamVjdC5pc0ZpZWxkVmFsaWQoZC5uYW1lKSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZDMuZXZlbnQudHlwZSA9PSAnY2hhbmdlJyAmJiB0ZW1wW2ldLnByaXN0aW5lVmFsICE9IHRoaXMudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gb2JqZWN0W2QubmFtZV0gPSB0ZW1wW2ldLnByaXN0aW5lVmFsO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmFwcC5kYXRhTW9kZWwuc2F2ZVN0YXRlRnJvbVNuYXBzaG90KHRlbXBbaV0ucHJpc3RpbmVTdGF0ZVNuYXBzaG90KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQub25DaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGQub25DaGFuZ2Uob2JqZWN0LCB0aGlzLnZhbHVlLCB0ZW1wW2ldLnByaXN0aW5lVmFsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKChwcmV2VmFsdWUrXCJcIik9PXRoaXMudmFsdWUpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgQXBwVXRpbHMudXBkYXRlSW5wdXRDbGFzcyhkMy5zZWxlY3QodGhpcykpO1xuICAgICAgICAgICAgICAgIGlmIChkLmN1c3RvbU9uSW5wdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgZC5jdXN0b21PbklucHV0KG9iamVjdCwgdGhpcy52YWx1ZSwgdGVtcFtpXS5wcmlzdGluZVZhbClcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvYmplY3RbZC5uYW1lXSA9IHRoaXMudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZGlzcGF0Y2guY2FsbChcIm9iamVjdC11cGRhdGVkXCIsIHNlbGYsIG9iamVjdCwgZC5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm9uKCdmb2N1cycsIGZ1bmN0aW9uKGQsaSl7XG4gICAgICAgICAgICAgICAgdGVtcFtpXS5wcmlzdGluZVZhbCA9IHRoaXMudmFsdWU7XG4gICAgICAgICAgICAgICAgdGVtcFtpXS5wcmlzdGluZVN0YXRlU25hcHNob3QgPSBzZWxmLmFwcC5kYXRhTW9kZWwuY3JlYXRlU3RhdGVTbmFwc2hvdCgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IG9iamVjdFtkLm5hbWVdO1xuICAgICAgICAgICAgICAgIHRlbXBbaV0gPSB7fTtcbiAgICAgICAgICAgICAgICBpZiAoZC52YWxpZGF0b3IgJiYgIWQudmFsaWRhdG9yLnZhbGlkYXRlKHRoaXMudmFsdWUsIG9iamVjdCwgZC5uYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBkMy5zZWxlY3QodGhpcykuY2xhc3NlZCgnaW52YWxpZCcsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBvYmplY3Quc2V0U3ludGF4VmFsaWRpdHkoZC5uYW1lLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5zZXRTeW50YXhWYWxpZGl0eShkLm5hbWUsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICAgICAgdmFyIGNoZWNrRmllbGRTdGF0dXMgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdChfdGhpcykuY2xhc3NlZCgnaW52YWxpZCcsICFvYmplY3QuaXNGaWVsZFZhbGlkKGQubmFtZSkpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY2hlY2tGaWVsZFN0YXR1cygpO1xuXG4gICAgICAgICAgICAgICAgc2VsZi5kaXNwYXRjaC5vbihcInJlY29tcHV0ZWQuXCIrb2JqZWN0LiRpZCtcIi5cIitkLm5hbWUsIGNoZWNrRmllbGRTdGF0dXMpO1xuXG4gICAgICAgICAgICAgICAgQXBwVXRpbHMudXBkYXRlSW5wdXRDbGFzcyhkMy5zZWxlY3QodGhpcykpO1xuICAgICAgICAgICAgICAgIGlmIChkLnR5cGUgPT0gJ3RleHRhcmVhJykge1xuICAgICAgICAgICAgICAgICAgICBBcHBVdGlscy5lbGFzdGljVGV4dGFyZWEoZDMuc2VsZWN0KHRoaXMpKTtcbiAgICAgICAgICAgICAgICAgICAgQXBwVXRpbHMuYXV0b1Jlc2l6ZVRleHRhcmVhKGQzLnNlbGVjdCh0aGlzKS5ub2RlKCkpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICBmaWVsZHMuZXhpdCgpLnJlbW92ZSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7VXRpbHN9IGZyb20gXCJzZC11dGlsc1wiO1xuaW1wb3J0IHtpMThufSBmcm9tICcuL2kxOG4vaTE4bidcblxuZXhwb3J0IGNsYXNzIFRlbXBsYXRlc3tcblxuICAgIC8vVE9ETyBhdXRvbWF0ZVxuICAgIHN0YXRpYyBhYm91dF9kZSA9IHJlcXVpcmUoJy4vdGVtcGxhdGVzL2Fib3V0L2RlLmh0bWwnKTtcbiAgICBzdGF0aWMgYWJvdXRfZW4gPSByZXF1aXJlKCcuL3RlbXBsYXRlcy9hYm91dC9lbi5odG1sJyk7XG4gICAgc3RhdGljIGFib3V0X2ZyID0gcmVxdWlyZSgnLi90ZW1wbGF0ZXMvYWJvdXQvZnIuaHRtbCcpO1xuICAgIHN0YXRpYyBhYm91dF9pdCA9IHJlcXVpcmUoJy4vdGVtcGxhdGVzL2Fib3V0L2l0Lmh0bWwnKTtcbiAgICBzdGF0aWMgYWJvdXRfcGwgPSByZXF1aXJlKCcuL3RlbXBsYXRlcy9hYm91dC9wbC5odG1sJyk7XG5cbiAgICBzdGF0aWMgdG9vbGJhciA9IHJlcXVpcmUoJy4vdGVtcGxhdGVzL3Rvb2xiYXIuaHRtbCcpO1xuICAgIHN0YXRpYyBsYXlvdXRPcHRpb25zID0gcmVxdWlyZSgnLi90ZW1wbGF0ZXMvc2lkZWJhci9sYXlvdXRfb3B0aW9ucy5odG1sJyk7XG4gICAgc3RhdGljIG9iamVjdFByb3BlcnRpZXMgPSByZXF1aXJlKCcuL3RlbXBsYXRlcy9zaWRlYmFyL29iamVjdF9wcm9wZXJ0aWVzLmh0bWwnKTtcbiAgICBzdGF0aWMgZGlhZ3JhbURldGFpbHNCb3ggPSByZXF1aXJlKCcuL3RlbXBsYXRlcy9zaWRlYmFyL2RpYWdyYW1fZGV0YWlsc19ib3guaHRtbCcpO1xuICAgIHN0YXRpYyBldmFsdWF0ZWRWYXJpYWJsZXMgPSByZXF1aXJlKCcuL3RlbXBsYXRlcy9ldmFsdWF0ZWRfdmFyaWFibGVzLmh0bWwnKTtcbiAgICBzdGF0aWMgZGVmaW5pdGlvbnMgPSByZXF1aXJlKCcuL3RlbXBsYXRlcy9zaWRlYmFyL2RlZmluaXRpb25zLmh0bWwnKTtcbiAgICBzdGF0aWMgc2lkZWJhciA9IHJlcXVpcmUoJy4vdGVtcGxhdGVzL3NpZGViYXIvc2lkZWJhci5odG1sJyk7XG4gICAgc3RhdGljIHNldHRpbmdzRGlhbG9nID0gcmVxdWlyZSgnLi90ZW1wbGF0ZXMvc2V0dGluZ3NfZGlhbG9nLmh0bWwnKTtcbiAgICBzdGF0aWMgc2V0dGluZ3NEaWFsb2dGb3JtR3JvdXAgPSByZXF1aXJlKCcuL3RlbXBsYXRlcy9zZXR0aW5nc19kaWFsb2dfZm9ybV9ncm91cC5odG1sJyk7XG4gICAgc3RhdGljIGlucHV0R3JvdXAgPSByZXF1aXJlKCcuL3RlbXBsYXRlcy9pbnB1dF9ncm91cC5odG1sJyk7XG4gICAgc3RhdGljIHNlbGVjdElucHV0R3JvdXAgPSByZXF1aXJlKCcuL3RlbXBsYXRlcy9zZWxlY3RfaW5wdXRfZ3JvdXAuaHRtbCcpO1xuICAgIHN0YXRpYyBoZWxwID0gcmVxdWlyZSgnLi90ZW1wbGF0ZXMvaGVscC5odG1sJyk7XG4gICAgc3RhdGljIGFib3V0RGlhbG9nID0gcmVxdWlyZSgnLi90ZW1wbGF0ZXMvYWJvdXRfZGlhbG9nLmh0bWwnKTtcbiAgICBzdGF0aWMgZ3Jvd2wgPSByZXF1aXJlKCcuL3RlbXBsYXRlcy9ncm93bF9tZXNzYWdlLmh0bWwnKTtcbiAgICBzdGF0aWMgZGVmaW5pdGlvbnNEaWFsb2cgPSByZXF1aXJlKCcuL3RlbXBsYXRlcy9kZWZpbml0aW9uc19kaWFsb2cuaHRtbCcpO1xuICAgIHN0YXRpYyBzZW5zaXRpdml0eUFuYWx5c2lzRGlhbG9nID0gcmVxdWlyZSgnLi90ZW1wbGF0ZXMvc2Vuc2l0aXZpdHlfYW5hbHlzaXNfZGlhbG9nLmh0bWwnKTtcbiAgICBzdGF0aWMgam9iUGFyYW1ldGVyc0J1aWxkZXIgPSByZXF1aXJlKCcuL3RlbXBsYXRlcy9qb2JzL2pvYl9wYXJhbWV0ZXJzX2J1aWxkZXIuaHRtbCcpO1xuICAgIHN0YXRpYyBqb2JQYXJhbWV0ZXIgPSByZXF1aXJlKCcuL3RlbXBsYXRlcy9qb2JzL2pvYl9wYXJhbWV0ZXIuaHRtbCcpO1xuICAgIHN0YXRpYyBsb2FkaW5nSW5kaWNhdG9yID0gcmVxdWlyZSgnLi90ZW1wbGF0ZXMvbG9hZGluZ19pbmRpY2F0b3IuaHRtbCcpO1xuICAgIHN0YXRpYyBmdWxsc2NyZWVuUG9wdXAgPSByZXF1aXJlKCcuL3RlbXBsYXRlcy9mdWxsc2NyZWVuX3BvcHVwLmh0bWwnKTtcbiAgICBzdGF0aWMgd2FybmluZ01lc3NhZ2UgPSByZXF1aXJlKCcuL3RlbXBsYXRlcy93YXJuaW5nX21lc3NhZ2UuaHRtbCcpO1xuICAgIHN0YXRpYyBtYWluID0gcmVxdWlyZSgnLi90ZW1wbGF0ZXMvbWFpbi5odG1sJyk7XG5cbiAgICBzdGF0aWMgZ2V0KHRlbXBsYXRlTmFtZSwgdmFyaWFibGVzKXtcbiAgICAgICAgdmFyIGNvbXBpbGVkID0gVXRpbHMudGVtcGxhdGUoVGVtcGxhdGVzW3RlbXBsYXRlTmFtZV0seyAnaW1wb3J0cyc6IHsgJ2kxOG4nOiBpMThuLCAnVGVtcGxhdGVzJzogVGVtcGxhdGVzLCAnaW5jbHVkZSc6IGZ1bmN0aW9uKG4sIHYpIHtyZXR1cm4gVGVtcGxhdGVzLmdldChuLCB2KX0gfSB9KTtcbiAgICAgICAgaWYodmFyaWFibGVzKXtcbiAgICAgICAgICAgIHZhcmlhYmxlcy52YXJpYWJsZXMgPSB2YXJpYWJsZXM7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdmFyaWFibGVzID0ge3ZhcmlhYmxlczp7fX1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29tcGlsZWQodmFyaWFibGVzKVxuXG4gICAgfVxuXG4gICAgc3RhdGljIHN0eWxlUnVsZShzZWxlY3RvciwgcHJvcHMpe1xuICAgICAgICB2YXIgcyA9IHNlbGVjdG9yKyAneyc7XG4gICAgICAgIHByb3BzLmZvckVhY2gocD0+IHMrPVRlbXBsYXRlcy5zdHlsZVByb3AocFswXSwgcFsxXSkpO1xuICAgICAgICBzKz0nfSAnO1xuICAgICAgICByZXR1cm4gcztcbiAgICB9XG4gICAgc3RhdGljIHN0eWxlUHJvcChzdHlsZU5hbWUsIHZhcmlhYmxlTmFtZSl7XG4gICAgICAgIHJldHVybiAgc3R5bGVOYW1lKyc6IDwlPSAnK3ZhcmlhYmxlTmFtZSsnICU+OyAnXG4gICAgfVxuXG5cbiAgICBzdGF0aWMgdHJlZURlc2lnbmVyU2VsZWN0b3IgPSAnI3NpbHZlci1kZWNpc2lvbnMgc3ZnLnRyZWUtZGVzaWduZXInO1xuICAgIHN0YXRpYyBub2RlU2VsZWN0b3IodHlwZSwgY2xhenope1xuICAgICAgICB2YXIgcyA9IFRlbXBsYXRlcy50cmVlRGVzaWduZXJTZWxlY3RvcisnIC5ub2RlJztcbiAgICAgICAgaWYodHlwZSl7XG4gICAgICAgICAgICBzKz0nLicrdHlwZSsnLW5vZGUnO1xuICAgICAgICB9XG4gICAgICAgIGlmKGNsYXp6KXtcbiAgICAgICAgICAgIHMrPScuJytjbGF6ejtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcztcbiAgICB9XG4gICAgc3RhdGljIGVkZ2VTZWxlY3RvcihjbGF6eil7XG4gICAgICAgIHZhciBzID0gVGVtcGxhdGVzLnRyZWVEZXNpZ25lclNlbGVjdG9yKycgLmVkZ2UnO1xuICAgICAgICBpZihjbGF6eil7XG4gICAgICAgICAgICBzKz0nLicrY2xheno7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfVxuXG4gICAgc3RhdGljIHRyZWVEZXNpZ25lclN0eWxlcyA9XG5cbiAgICAgICAgVGVtcGxhdGVzLnN0eWxlUnVsZShUZW1wbGF0ZXMudHJlZURlc2lnbmVyU2VsZWN0b3IsW1xuICAgICAgICAgICAgWydmb250LXNpemUnLCAnZm9udFNpemUnXSxcbiAgICAgICAgICAgIFsnZm9udC1mYW1pbHknLCAnZm9udEZhbWlseSddLFxuICAgICAgICAgICAgWydmb250LXdlaWdodCcsICdmb250V2VpZ2h0J10sXG4gICAgICAgICAgICBbJ2ZvbnQtc3R5bGUnLCAnZm9udFN0eWxlJ11cbiAgICAgICAgXSkrXG4gICAgICAgIC8vICAgbm9kZVxuICAgICAgICBUZW1wbGF0ZXMuc3R5bGVSdWxlKFRlbXBsYXRlcy5ub2RlU2VsZWN0b3IoKSsnIHBhdGgnLFtcbiAgICAgICAgICAgIFsnZmlsbCcsICdub2RlLmZpbGwnXSxcbiAgICAgICAgICAgIFsnc3Ryb2tlLXdpZHRoJywgJ25vZGUuc3Ryb2tlV2lkdGgnXVxuICAgICAgICBdKStcbiAgICAgICAgVGVtcGxhdGVzLnN0eWxlUnVsZShUZW1wbGF0ZXMubm9kZVNlbGVjdG9yKCdkZWNpc2lvbicsICdvcHRpbWFsJykrJyBwYXRoLCAnK1RlbXBsYXRlcy5ub2RlU2VsZWN0b3IoJ2NoYW5jZScsICdvcHRpbWFsJykrJyBwYXRoLCcgK1RlbXBsYXRlcy5ub2RlU2VsZWN0b3IoJ3Rlcm1pbmFsJywgJ29wdGltYWwnKSsnIHBhdGgnLFtcbiAgICAgICAgICAgIFsnc3Ryb2tlJywgJ25vZGUub3B0aW1hbC5zdHJva2UnXSxcbiAgICAgICAgICAgIFsnc3Ryb2tlLXdpZHRoJywgJ25vZGUub3B0aW1hbC5zdHJva2VXaWR0aCddXG4gICAgICAgIF0pK1xuICAgICAgICBUZW1wbGF0ZXMuc3R5bGVSdWxlKFRlbXBsYXRlcy5ub2RlU2VsZWN0b3IoKSsnIC5sYWJlbCcsW1xuICAgICAgICAgICAgWydmb250LXNpemUnLCAnbm9kZS5sYWJlbC5mb250U2l6ZSddLFxuICAgICAgICAgICAgWydmaWxsJywgJ25vZGUubGFiZWwuY29sb3InXVxuICAgICAgICBdKStcbiAgICAgICAgVGVtcGxhdGVzLnN0eWxlUnVsZShUZW1wbGF0ZXMubm9kZVNlbGVjdG9yKCkrJyAucGF5b2ZmJyxbXG4gICAgICAgICAgICBbJ2ZvbnQtc2l6ZScsICdub2RlLnBheW9mZi5mb250U2l6ZSddLFxuICAgICAgICAgICAgWydmaWxsJywgJ25vZGUucGF5b2ZmLmNvbG9yJ10sXG4gICAgICAgIF0pK1xuICAgICAgICBUZW1wbGF0ZXMuc3R5bGVSdWxlKFRlbXBsYXRlcy5ub2RlU2VsZWN0b3IoKSsnIC5wYXlvZmYubmVnYXRpdmUnLFtcbiAgICAgICAgICAgIFsnZmlsbCcsICdub2RlLnBheW9mZi5uZWdhdGl2ZUNvbG9yJ10sXG4gICAgICAgIF0pK1xuXG4gICAgICAgIC8vICAgIGRlY2lzaW9uIG5vZGVcbiAgICAgICAgVGVtcGxhdGVzLnN0eWxlUnVsZShUZW1wbGF0ZXMubm9kZVNlbGVjdG9yKCdkZWNpc2lvbicpKycgcGF0aCcsW1xuICAgICAgICAgICAgWydmaWxsJywgJ25vZGUuZGVjaXNpb24uZmlsbCddLFxuICAgICAgICAgICAgWydzdHJva2UnLCAnbm9kZS5kZWNpc2lvbi5zdHJva2UnXVxuICAgICAgICBdKStcbiAgICAgICAgVGVtcGxhdGVzLnN0eWxlUnVsZShUZW1wbGF0ZXMubm9kZVNlbGVjdG9yKCdkZWNpc2lvbicsICdzZWxlY3RlZCcpKycgcGF0aCcsW1xuICAgICAgICAgICAgWydmaWxsJywgJ25vZGUuZGVjaXNpb24uc2VsZWN0ZWQuZmlsbCddXG4gICAgICAgIF0pK1xuXG4gICAgICAgIC8vICAgIGNoYW5jZSBub2RlXG4gICAgICAgIFRlbXBsYXRlcy5zdHlsZVJ1bGUoVGVtcGxhdGVzLm5vZGVTZWxlY3RvcignY2hhbmNlJykrJyBwYXRoJyxbXG4gICAgICAgICAgICBbJ2ZpbGwnLCAnbm9kZS5jaGFuY2UuZmlsbCddLFxuICAgICAgICAgICAgWydzdHJva2UnLCAnbm9kZS5jaGFuY2Uuc3Ryb2tlJ11cbiAgICAgICAgXSkrXG4gICAgICAgIFRlbXBsYXRlcy5zdHlsZVJ1bGUoVGVtcGxhdGVzLm5vZGVTZWxlY3RvcignY2hhbmNlJywgJ3NlbGVjdGVkJykrJyBwYXRoJyxbXG4gICAgICAgICAgICBbJ2ZpbGwnLCAnbm9kZS5jaGFuY2Uuc2VsZWN0ZWQuZmlsbCddXG4gICAgICAgIF0pK1xuXG4gICAgICAgIC8vICAgIHRlcm1pbmFsIG5vZGVcbiAgICAgICAgVGVtcGxhdGVzLnN0eWxlUnVsZShUZW1wbGF0ZXMubm9kZVNlbGVjdG9yKCd0ZXJtaW5hbCcpKycgcGF0aCcsW1xuICAgICAgICAgICAgWydmaWxsJywgJ25vZGUudGVybWluYWwuZmlsbCddLFxuICAgICAgICAgICAgWydzdHJva2UnLCAnbm9kZS50ZXJtaW5hbC5zdHJva2UnXVxuICAgICAgICBdKStcbiAgICAgICAgVGVtcGxhdGVzLnN0eWxlUnVsZShUZW1wbGF0ZXMubm9kZVNlbGVjdG9yKCd0ZXJtaW5hbCcsICdzZWxlY3RlZCcpKycgcGF0aCcsW1xuICAgICAgICAgICAgWydmaWxsJywgJ25vZGUudGVybWluYWwuc2VsZWN0ZWQuZmlsbCddXG4gICAgICAgIF0pK1xuICAgICAgICBUZW1wbGF0ZXMuc3R5bGVSdWxlKFRlbXBsYXRlcy5ub2RlU2VsZWN0b3IoJ3Rlcm1pbmFsJykrJyAuYWdncmVnYXRlZC1wYXlvZmYnLFtcbiAgICAgICAgICAgIFsnZm9udC1zaXplJywgJ25vZGUudGVybWluYWwucGF5b2ZmLmZvbnRTaXplJ10sXG4gICAgICAgICAgICBbJ2ZpbGwnLCAnbm9kZS50ZXJtaW5hbC5wYXlvZmYuY29sb3InXSxcbiAgICAgICAgXSkrXG4gICAgICAgIFRlbXBsYXRlcy5zdHlsZVJ1bGUoVGVtcGxhdGVzLm5vZGVTZWxlY3RvcigndGVybWluYWwnKSsnIC5hZ2dyZWdhdGVkLXBheW9mZi5uZWdhdGl2ZScsW1xuICAgICAgICAgICAgWydmaWxsJywgJ25vZGUudGVybWluYWwucGF5b2ZmLm5lZ2F0aXZlQ29sb3InXSxcbiAgICAgICAgXSkrXG5cblxuICAgICAgICAvL3Byb2JhYmlsaXR5XG4gICAgICAgIFRlbXBsYXRlcy5zdHlsZVJ1bGUoVGVtcGxhdGVzLnRyZWVEZXNpZ25lclNlbGVjdG9yKycgLm5vZGUgLnByb2JhYmlsaXR5LXRvLWVudGVyLCAnK1RlbXBsYXRlcy50cmVlRGVzaWduZXJTZWxlY3RvcisnIC5lZGdlIC5wcm9iYWJpbGl0eScsW1xuICAgICAgICAgICAgWydmb250LXNpemUnLCAncHJvYmFiaWxpdHkuZm9udFNpemUnXSxcbiAgICAgICAgICAgIFsnZmlsbCcsICdwcm9iYWJpbGl0eS5jb2xvciddXG4gICAgICAgIF0pK1xuXG4gICAgICAgIC8vZWRnZVxuICAgICAgICBUZW1wbGF0ZXMuc3R5bGVSdWxlKFRlbXBsYXRlcy5lZGdlU2VsZWN0b3IoKSsnIHBhdGgnLFtcbiAgICAgICAgICAgIFsnc3Ryb2tlJywgJ2VkZ2Uuc3Ryb2tlJ10sXG4gICAgICAgICAgICBbJ3N0cm9rZS13aWR0aCcsICdlZGdlLnN0cm9rZVdpZHRoJ11cbiAgICAgICAgXSkrXG4gICAgICAgIFRlbXBsYXRlcy5zdHlsZVJ1bGUoVGVtcGxhdGVzLnRyZWVEZXNpZ25lclNlbGVjdG9yKycgbWFya2VyI2Fycm93IHBhdGgnLFtcbiAgICAgICAgICAgIFsnZmlsbCcsICdlZGdlLnN0cm9rZSddLFxuICAgICAgICBdKStcbiAgICAgICAgVGVtcGxhdGVzLnN0eWxlUnVsZShUZW1wbGF0ZXMuZWRnZVNlbGVjdG9yKCdvcHRpbWFsJykrJyBwYXRoJyxbXG4gICAgICAgICAgICBbJ3N0cm9rZScsICdlZGdlLm9wdGltYWwuc3Ryb2tlJ10sXG4gICAgICAgICAgICBbJ3N0cm9rZS13aWR0aCcsICdlZGdlLm9wdGltYWwuc3Ryb2tlV2lkdGgnXVxuICAgICAgICBdKStcbiAgICAgICAgVGVtcGxhdGVzLnN0eWxlUnVsZShUZW1wbGF0ZXMudHJlZURlc2lnbmVyU2VsZWN0b3IrJyBtYXJrZXIjYXJyb3ctb3B0aW1hbCBwYXRoJyxbXG4gICAgICAgICAgICBbJ2ZpbGwnLCAnZWRnZS5vcHRpbWFsLnN0cm9rZSddLFxuICAgICAgICBdKStcblxuICAgICAgICBUZW1wbGF0ZXMuc3R5bGVSdWxlKFRlbXBsYXRlcy5lZGdlU2VsZWN0b3IoJ3NlbGVjdGVkJykrJyBwYXRoJyxbXG4gICAgICAgICAgICBbJ3N0cm9rZScsICdlZGdlLnNlbGVjdGVkLnN0cm9rZSddLFxuICAgICAgICAgICAgWydzdHJva2Utd2lkdGgnLCAnZWRnZS5zZWxlY3RlZC5zdHJva2VXaWR0aCddXG4gICAgICAgIF0pK1xuICAgICAgICBUZW1wbGF0ZXMuc3R5bGVSdWxlKFRlbXBsYXRlcy50cmVlRGVzaWduZXJTZWxlY3RvcisnIG1hcmtlciNhcnJvdy1zZWxlY3RlZCBwYXRoJyxbXG4gICAgICAgICAgICBbJ2ZpbGwnLCAnZWRnZS5zZWxlY3RlZC5zdHJva2UnXSxcbiAgICAgICAgXSkrXG5cbiAgICAgICAgVGVtcGxhdGVzLnN0eWxlUnVsZShUZW1wbGF0ZXMuZWRnZVNlbGVjdG9yKCkrJyAubGFiZWwnLFtcbiAgICAgICAgICAgIFsnZm9udC1zaXplJywgJ2VkZ2UubGFiZWwuZm9udFNpemUnXSxcbiAgICAgICAgICAgIFsnZmlsbCcsICdlZGdlLmxhYmVsLmNvbG9yJ11cbiAgICAgICAgXSkrXG5cbiAgICAgICAgVGVtcGxhdGVzLnN0eWxlUnVsZShUZW1wbGF0ZXMuZWRnZVNlbGVjdG9yKCkrJyAucGF5b2ZmJyxbXG4gICAgICAgICAgICBbJ2ZvbnQtc2l6ZScsICdlZGdlLnBheW9mZi5mb250U2l6ZSddLFxuICAgICAgICAgICAgWydmaWxsJywgJ2VkZ2UucGF5b2ZmLmNvbG9yJ10sXG4gICAgICAgIF0pK1xuICAgICAgICBUZW1wbGF0ZXMuc3R5bGVSdWxlKFRlbXBsYXRlcy5lZGdlU2VsZWN0b3IoKSsnIC5wYXlvZmYubmVnYXRpdmUnLFtcbiAgICAgICAgICAgIFsnZmlsbCcsICdlZGdlLnBheW9mZi5uZWdhdGl2ZUNvbG9yJ10sXG4gICAgICAgIF0pK1xuXG4gICAgICAgIFRlbXBsYXRlcy5zdHlsZVJ1bGUoVGVtcGxhdGVzLnRyZWVEZXNpZ25lclNlbGVjdG9yKycgLnNkLXRpdGxlLWNvbnRhaW5lciB0ZXh0LnNkLXRpdGxlJyxbXG4gICAgICAgICAgICBbJ2ZvbnQtc2l6ZScsICd0aXRsZS5mb250U2l6ZSddLFxuICAgICAgICAgICAgWydmb250LXdlaWdodCcsICd0aXRsZS5mb250V2VpZ2h0J10sXG4gICAgICAgICAgICBbJ2ZvbnQtc3R5bGUnLCAndGl0bGUuZm9udFN0eWxlJ10sXG4gICAgICAgICAgICBbJ2ZpbGwnLCAndGl0bGUuY29sb3InXVxuICAgICAgICBdKSArXG4gICAgICAgIFRlbXBsYXRlcy5zdHlsZVJ1bGUoVGVtcGxhdGVzLnRyZWVEZXNpZ25lclNlbGVjdG9yKycgLnNkLXRpdGxlLWNvbnRhaW5lciB0ZXh0LnNkLWRlc2NyaXB0aW9uJyxbXG4gICAgICAgICAgICBbJ2ZvbnQtc2l6ZScsICdkZXNjcmlwdGlvbi5mb250U2l6ZSddLFxuICAgICAgICAgICAgWydmb250LXdlaWdodCcsICdkZXNjcmlwdGlvbi5mb250V2VpZ2h0J10sXG4gICAgICAgICAgICBbJ2ZvbnQtc3R5bGUnLCAnZGVzY3JpcHRpb24uZm9udFN0eWxlJ10sXG4gICAgICAgICAgICBbJ2ZpbGwnLCAnZGVzY3JpcHRpb24uY29sb3InXVxuICAgICAgICBdKVxufVxuXG5cblxuXG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHA+XFxuICAgIDxzdHJvbmc+U2lsdmVyRGVjaXNpb25zIDwlPSB2ZXJzaW9uICU+IChnZWJhdXQgPCU9IGJ1aWxkVGltZXN0YW1wJT4pPC9zdHJvbmc+PGJyLz5PcGVuIFNvdXJjZSBFbnRzY2hlaWR1bmdzYmF1bSBTb2Z0d2FyZS5cXG48L3A+XFxuPHAgY2xhc3M9XFxcInNkLXByb2plY3QtdGVhbVxcXCI+XFxuICAgIFByb2pla3R0ZWFtOlxcbiAgICA8dWw+XFxuICAgICAgICA8bGk+PGEgaHJlZj1cXFwiaHR0cDovL2JvZ3VtaWxrYW1pbnNraS5wbC9cXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5Cb2d1bWnFgiBLYW1pxYRza2k8L2E+IChQcm9qZWt0bGVpdGVyKTwvbGk+XFxuICAgICAgICA8bGk+PGEgaHJlZj1cXFwiaHR0cHM6Ly9zenVmZWwucGwvXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+UHJ6ZW15c8WCYXcgU3p1ZmVsPC9hPiAoU3RlbGx2ZXJ0cmV0ZW5kZXIgUHJvamVrdGxlaXRlcik8L2xpPlxcbiAgICAgICAgPGxpPjxhIGhyZWY9XFxcImh0dHBzOi8vZ2l0aHViLmNvbS9td2FzaWx1a1xcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPk1pY2hhxYIgV2FzaWx1azwvYT4gKERlc2lnbmVyKTwvbGk+XFxuICAgICAgICA8bGk+PGEgaHJlZj1cXFwiaHR0cDovL3d3dy5taWNoYWxqYWt1YmN6eWsucGwvXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+TWljaGHFgiBKYWt1YmN6eWs8L2E+IChFbnR3aWNrbGVyKTwvbGk+XFxuICAgICAgICA8bGk+QW5uYSBXaWVydGxld3NrYSAoUHJvamVrdCBVbnRlcnN0w7x0enVuZyk8L2xpPlxcbiAgICAgICAgPGxpPk1hcmNpbiBDenVwcnluYSAoVGVzdGVyKTwvbGk+XFxuICAgIDwvdWw+XFxuPC9wPlxcbjxwPlxcbiAgICBEYXMgUHJvamVrdCB3aXJkIHZvbiBEZWNpc2lvbiBTdXBwb3J0IGFuZCBBbmFseXNpcyBEaXZpc2lvbiwgV2Fyc2F3IFNjaG9vbCBvZiBFY29ub21pY3MgZW50d2lja2VsdC48YnIvPlxcbiAgICBLb250YWt0OiBzaWx2ZXJkZWNpc2lvbnNAc2doLndhdy5wbFxcbjwvcD5cXG48cD5cXG4gICAgU2lsdmVyRGVjaXNpb25zIGlzdCBlaW4gZ2VtZWluc2NoYWZ0c2dldHJpZWJlbmVzIFByb2pla3QuIFNvbGx0ZW4gU2llIGVzIGbDvHIgSWhyZSBVbnRlcmljaHQsIEZvcnNjaHVuZyBvZGVyIGplZGUgYW5kZXJlIEFrdGl2aXTDpHQsIGRpZSBTaWUgbWl0IHVucyB0ZWlsZW4gbcO2Y2h0ZW4gdmVyd2VuZGVuLCB3aXIgd8O8cmRlbiB1bnMgZnJldWVuLCBlaW5lbiBMaW5rIHp1IElocmVuIEFrdGl2aXTDpHRlbiB6dSBkZXIgPGEgaHJlZj1cXFwiaHR0cHM6Ly9naXRodWIuY29tL1NpbHZlckRlY2lzaW9ucy9TaWx2ZXJEZWNpc2lvbnMvd2lraS9TaWx2ZXJEZWNpc2lvbnMtQ29tbXVuaXR5XFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+U2lsdmVyRGVjaXNpb25zIEdlbWVpbnNjaGFmdDwvYT4gU2VpdGUgaGluenVmw7xnZW4genUga8O2bm5lbi5cXG48L3A+XFxuPHA+XFxuICAgIFNvZnR3YXJlIHdpcmQgYWxzIFRlaWwgdm9uIDxhIGhyZWY9XFxcImh0dHA6Ly9yb3V0ZXRvcGEuZXUvXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+Uk9VVEUtVE8tUEE8L2E+IFByb2pla3QgZW50d2lja2VsdC4gRGllc2VzIFByb2pla3QgaGF0IMKgwqDCoMKgIE1pdHRlbCBhdXMgZGVtIEhvcml6b24gMjAyMCAoRm9yc2NodW5ncy0gdW5kIElubm92YXRpb25zcHJvZ3JhbW0gZGVyIEV1cm9ww6Rpc2NoZW4gVW5pb24pIGltIFJhaG1lbiBkZXIgRmluYW56aGlsZmV2ZXJlaW5iYXJ1bmcgTnIgNjQ1ODYwIGVyaGFsdGVuLiBaaWVsIGRpZXNlcyBQcm9qZWt0ZXMgaXN0IGVzLCBlaW5lIHRyYW5zcGFyZW50ZSBLb21tdW5pa2F0aW9uIHp3aXNjaGVuIGRlciDDtmZmZW50bGljaGVuIFZlcndhbHR1bmcgdW5kIGRlbiBCw7xyZ2VybiDDvGJlciBkYXMgVGhlbWEsIMO2ZmZlbnRsaWNoZSBEYXRlbiB1bmQgRW50c2NoZWlkdW5nc3Byb3plc3NlIHp1IHVudGVyc3TDvHR6ZW4uIFxcbjwvcD5cXG48cD5cXG4gICAgQWxsZSBRdWVsbGRhdGVpZW4gd2VyZGVuIHVudGVyIGRlbiBCZWRpbmd1bmdlbiBkZXIgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIFZlcnNpb24gMyBsaXplbnppZXJ0LlxcbjwvcD5cXG48cD5cXG4gICAgRsO8ciB3ZWl0ZXJlIEluZm9ybWF0aW9uZW4gYmVzdWNoZW4gU2llIGJpdHRlLCB1bnNlcmUgV2Vic2l0ZSB1bnRlciA8YSBocmVmPVxcXCJodHRwOi8vc2lsdmVyZGVjaXNpb25zLnBsL1xcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPmh0dHA6Ly9zaWx2ZXJkZWNpc2lvbnMucGwvPC9hPi5cXG48L3A+XFxuXCI7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHA+XFxuICAgIDxzdHJvbmc+U2lsdmVyRGVjaXNpb25zIDwlPSB2ZXJzaW9uICU+IChidWlsZCA8JT0gYnVpbGRUaW1lc3RhbXAlPik8L3N0cm9uZz48YnIvPkEgZnJlZSBhbmQgb3BlbiBzb3VyY2UgZGVjaXNpb24gdHJlZSBzb2Z0d2FyZS5cXG48L3A+XFxuPHAgY2xhc3M9XFxcInNkLXByb2plY3QtdGVhbVxcXCI+XFxuICAgIFByb2plY3QgdGVhbTpcXG4gICAgPHVsPlxcbiAgICAgICAgPGxpPjxhIGhyZWY9XFxcImh0dHA6Ly9ib2d1bWlsa2FtaW5za2kucGwvXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+Qm9ndW1pxYIgS2FtacWEc2tpPC9hPiAocHJvamVjdCBtYW5hZ2VyKTwvbGk+XFxuICAgICAgICA8bGk+PGEgaHJlZj1cXFwiaHR0cHM6Ly9zenVmZWwucGwvXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+UHJ6ZW15c8WCYXcgU3p1ZmVsPC9hPiAoZGVwdXR5IHByb2plY3QgbWFuYWdlcik8L2xpPlxcbiAgICAgICAgPGxpPjxhIGhyZWY9XFxcImh0dHBzOi8vZ2l0aHViLmNvbS9td2FzaWx1a1xcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPk1pY2hhxYIgV2FzaWx1azwvYT4gKGRldmVsb3Blcik8L2xpPlxcbiAgICAgICAgPGxpPjxhIGhyZWY9XFxcImh0dHA6Ly93d3cubWljaGFsamFrdWJjenlrLnBsL1xcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPk1pY2hhxYIgSmFrdWJjenlrPC9hPiAoZGVzaWduZXIpPC9saT5cXG4gICAgICAgIDxsaT5Bbm5hIFdpZXJ0bGV3c2thIChkb2N1bWVudGFsaXN0KTwvbGk+XFxuICAgICAgICA8bGk+TWFyY2luIEN6dXByeW5hICh0ZXN0ZXIpPC9saT5cXG4gICAgPC91bD5cXG48L3A+XFxuPHA+XFxuICAgIFRoZSBwcm9qZWN0IGlzIGRldmVsb3BlZCBhdCBEZWNpc2lvbiBTdXBwb3J0IGFuZCBBbmFseXNpcyBEaXZpc2lvbiwgV2Fyc2F3IFNjaG9vbCBvZiBFY29ub21pY3MuPGJyLz5cXG4gICAgQ29udGFjdDogc2lsdmVyZGVjaXNpb25zQHNnaC53YXcucGxcXG48L3A+XFxuPHA+XFxuICAgIFNpbHZlckRlY2lzaW9ucyBpcyBhIGNvbW11bml0eS1kcml2ZW4gcHJvamVjdCwgc28gaWYgeW91IHVzZSBpdCBmb3IgdGVhY2hpbmcsIHJlc2VhcmNoIG9yIGFueSBvdGhlciBhY3Rpdml0eSB0aGF0IHlvdSB3b3VsZCBiZSB3aWxsaW5nIHRvIHNoYXJlIHBsZWFzZSBsZXQgdXMga25vdy4gV2Ugd291bGQgYmUgZ2xhZCB0byBhZGQgYSBsaW5rIHRvIHlvdXIgYWN0aXZpdGllcyBvbiA8YSBocmVmPVxcXCJodHRwczovL2dpdGh1Yi5jb20vU2lsdmVyRGVjaXNpb25zL1NpbHZlckRlY2lzaW9ucy93aWtpL1NpbHZlckRlY2lzaW9ucy1Db21tdW5pdHlcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5TaWx2ZXJEZWNpc2lvbnMgQ29tbXVuaXR5PC9hPiBwYWdlLlxcbjwvcD5cXG48cD5cXG4gICAgU29mdHdhcmUgaXMgZGV2ZWxvcGVkIGFzIGEgcGFydCBvZiA8YSBocmVmPVxcXCJodHRwOi8vcm91dGV0b3BhLmV1L1xcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPlJPVVRFLVRPLVBBPC9hPiBQcm9qZWN0IHRoYXQgaGFzXFxuICAgIHJlY2VpdmVkIGZ1bmRpbmcgZnJvbSB0aGUgRXVyb3BlYW4gVW5pb27igJlzIEhvcml6b24gMjAyMCByZXNlYXJjaCBhbmQgaW5ub3ZhdGlvbiBwcm9ncmFtbWUgdW5kZXIgZ3JhbnQgYWdyZWVtZW50IE5vXFxuICAgIDY0NTg2MC4gSXRzIGFpbSBpcyB0byBhbGxvdyBhIHRyYW5zcGFyZW50IGNvbW11bmljYXRpb24gYmV0d2VlbiBwdWJsaWMgYWRtaW5pc3RyYXRpb24gYW5kIGNpdGl6ZW5zIHJlZ2FyZGluZyBwdWJsaWNcXG4gICAgZGF0YSBhYm91dCBkZWNpc2lvbiBtYWtpbmcgcHJvY2Vzc2VzIHBlcmZvcm1lZCBieSBwdWJsaWMgYWRtaW5pc3RyYXRpb24uXFxuPC9wPlxcbjxwPlxcbiAgICBBbGwgdGhlIHNvdXJjZSBmaWxlcyBhcmUgbGljZW5zZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAzLlxcbjwvcD5cXG48cD5cXG4gICAgRm9yIG1vcmUgaW5mb3JtYXRpb24gdmlzaXQgb3VyIHdlYnNpdGUgYXQgPGEgaHJlZj1cXFwiaHR0cDovL3NpbHZlcmRlY2lzaW9ucy5wbC9cXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5odHRwOi8vc2lsdmVyZGVjaXNpb25zLnBsLzwvYT4uXFxuPC9wPlxcblwiO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxwPlxcbiAgICA8c3Ryb25nPlNpbHZlckRlY2lzaW9ucyA8JT0gdmVyc2lvbiAlPiAoYnVpbGQgPCU9IGJ1aWxkVGltZXN0YW1wJT4pPC9zdHJvbmc+PGJyLz5VbiBsb2dpY2llbCBsaWJyZSBldCBvcGVuIHNvdXJjZSBwb3VyIGZhaXJlIHNvbiBwcm9wcmUgYXJicmUgZGUgZMOpY2lzaW9uLlxcbjwvcD5cXG5cXG48cCBjbGFzcz1cXFwic2QtcHJvamVjdC10ZWFtXFxcIj5cXG4gICAgRXF1aXBlIGR1IHByb2pldDpcXG4gICAgPHVsPlxcbiAgICAgICAgPGxpPjxhIGhyZWY9XFxcImh0dHA6Ly9ib2d1bWlsa2FtaW5za2kucGwvXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+Qm9ndW1pxYIgS2FtacWEc2tpPC9hPiAoY2hlZiBkZSBwcm9qZXQpPC9saT5cXG4gICAgICAgIDxsaT48YSBocmVmPVxcXCJodHRwczovL3N6dWZlbC5wbC9cXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5QcnplbXlzxYJhdyBTenVmZWw8L2E+IChjaGVmIGRlIHByb2pldCBhZGpvaW50KTwvbGk+XFxuICAgICAgICA8bGk+PGEgaHJlZj1cXFwiaHR0cHM6Ly9naXRodWIuY29tL213YXNpbHVrXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+TWljaGHFgiBXYXNpbHVrPC9hPiAoZMOpdmVsb3BwZXVyKTwvbGk+XFxuICAgICAgICA8bGk+PGEgaHJlZj1cXFwiaHR0cDovL3d3dy5taWNoYWxqYWt1YmN6eWsucGwvXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+TWljaGHFgiBKYWt1YmN6eWs8L2E+IChkZXNpZ25lcik8L2xpPlxcbiAgICAgICAgPGxpPkFubmEgV2llcnRsZXdza2EgKGRvY3VtZW50YWxpc3RlKTwvbGk+XFxuXFx0PGxpPk1hcmNpbiBDenVwcnluYSAodGVzdGV1cik8L2xpPlxcbiAgICA8L3VsPlxcbjwvcD5cXG48cD5cXG4gICAgTGUgcHJvamV0IGVzdCBjb27Dp3UgZXQgZMOpdmVsb3Bww6kgcGFyIGxhIERpdmlzaW9uIGRlIGwnYWlkZSDDoCBsYSBkw6ljaXNpb24gZXQgZGUgbCdhbmFseXNlLCDDoCBsJ8OJY29sZSBkJ8OpY29ub21pZSBkZSBWYXJzb3ZpZS4gPGJyLz5Db250YWN0OiBzaWx2ZXJkZWNpc2lvbnNAc2doLndhdy5wbFxcbjwvcD5cXG48cD5cXG4gICAgU2lsdmVyRGVjaXNpb25zIGVzdCB1biBwcm9qZXQgY29tbXVuYXV0YWlyZSwgZG9uYyBzaSB2b3VzIGwndXRpbGlzZXogcG91ciBsJ2Vuc2VpZ25lbWVudCwgbGEgcmVjaGVyY2hlIG91IHRvdXRlIGF1dHJlIGFjdGl2aXTDqSBxdWUgdm91cyBhaW1lcmlleiBwYXJ0YWdlciwgXFxuICAgIGZhaXRlcy1sZSBub3VzIHNhdm9pci4gTm91cyBzZXJpb25zIGhldXJldXggZCdham91dGVyIHVuIGxpZW4gdmVycyB2b3MgYWN0aXZpdMOpcyBzdXIgbGUgc2l0ZSB3ZWIgZGUgXFxuICAgIDxhIGhyZWY9XFxcImh0dHBzOi8vZ2l0aHViLmNvbS9TaWx2ZXJEZWNpc2lvbnMvU2lsdmVyRGVjaXNpb25zL3dpa2kvU2lsdmVyRGVjaXNpb25zLUNvbW11bml0eVxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPlNpbHZlckRlY2lzaW9ucyBDb21tdW5pdHk8L2E+LlxcbjwvcD5cXG48cD4gIFxcbiAgICBMZSBsb2dpY2llbCBlc3QgZMOpdmVsb3Bww6kgZGFucyBsZSBjYWRyZSBkdSBwcm9qZXQgPGEgaHJlZj1cXFwiaHR0cDovL3JvdXRldG9wYS5ldS9cXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5ST1VURS1UTy1QQTwvYT4sIFxcbiAgICBmaW5hbmPDqSBwYXIgbGUgcHJvZ3JhbW1lIGRlIHJlY2hlcmNoZSBldCBkJ2lubm92YXRpb24gSG9yaXpvbiAyMDIwIGRlIGwnVW5pb24gRXVyb3DDqWVubmUgZGFucyBsZSBjYWRyZSBkZSBsJ2FjY29yZCBkZSBzdWJ2ZW50aW9uIG7CsCA2NDU4NjAuIFxcbiAgICBTb24gb2JqZWN0aWYgZXN0IHBlcm1ldHRyZSB1bmUgY29tbXVuaWNhdGlvbiB0cmFuc3BhcmVudGUgZW50cmUgbCdhZG1pbmlzdHJhdGlvbiBwdWJsaXF1ZSBldCBsZXMgY2l0b3llbnMgXFxuICAgIGNvbmNlcm5hbnQgbGVzIGRvbm7DqWVzIHB1YmxpcXVlcyAoT3BlbiBEYXRhKSBldCBsYSBwcmlzZSBkZSBkw6ljaXNpb24gZGVzIGFkbWluaXN0cmF0aW9ucy4gIFxcbjwvcD5cXG48cD5cXG4gICAgVG91cyBsZXMgZmljaGllcnMgc291cmNlIHNvbnQgc291cyBsaWNlbmNlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMuXFxuPC9wPlxcbjxwPlxcbiAgICBQb3VyIHBsdXMgZCdpbmZvcm1hdGlvbnMsIHZpc2l0ZXogbm90cmUgc2l0ZSB3ZWIgw6AgPGEgaHJlZj1cXFwiaHR0cDovL3NpbHZlcmRlY2lzaW9ucy5wbC9cXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5odHRwOi8vc2lsdmVyZGVjaXNpb25zLnBsLzwvYT4uXFxuPC9wPlxcblxcblwiO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxwPlxcbiAgICA8c3Ryb25nPlNpbHZlckRlY2lzaW9ucyA8JT0gdmVyc2lvbiAlPiAoY29uc3RydXppb25lIDwlPSBidWlsZFRpbWVzdGFtcCU+KTwvc3Ryb25nPjxici8+XFxuICAgIFVuIFNvZnR3YXJlIE9wZW4gU291cmNlIEZyZWUgcGVyIGdlc3RpcmUgYWxiZXJpIGRpIGRlY2lzaW9uZS5cXG48L3A+XFxuPHAgY2xhc3M9XFxcInNkLXByb2plY3QtdGVhbVxcXCI+XFxuICAgIFRlYW0gZGkgcHJvZ2V0dG86XFxuICAgIDx1bD5cXG4gICAgICAgIDxsaT48YSBocmVmPVxcXCJodHRwOi8vYm9ndW1pbGthbWluc2tpLnBsL1xcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPkJvZ3VtacWCIEthbWnFhHNraTwvYT4gKHByb2plY3QgbWFuYWdlcik8L2xpPlxcbiAgICAgICAgPGxpPjxhIGhyZWY9XFxcImh0dHBzOi8vc3p1ZmVsLnBsL1xcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPlByemVteXPFgmF3IFN6dWZlbDwvYT4gKHZpY2UgcHJvamVjdCBtYW5hZ2VyKTwvbGk+XFxuICAgICAgICA8bGk+PGEgaHJlZj1cXFwiaHR0cHM6Ly9naXRodWIuY29tL213YXNpbHVrXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+TWljaGHFgiBXYXNpbHVrPC9hPiAoc3ZpbHVwcG8pPC9saT5cXG4gICAgICAgIDxsaT5NYXJjaW4gQ3p1cHJ5bmEgKHRlc3QpPC9saT5cXG4gICAgICAgIDxsaT48YSBocmVmPVxcXCJodHRwOi8vd3d3Lm1pY2hhbGpha3ViY3p5ay5wbC9cXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5NaWNoYcWCIEpha3ViY3p5azwvYT4gKHRlc3Rlcik8L2xpPlxcbiAgICAgICAgPGxpPkFubmEgV2llcnRsZXdza2EgKGRvY3VtZW50YXppb25lKTwvbGk+XFxuICAgIDwvdWw+XFxuPC9wPlxcbjxwPlxcbiAgICBJbCBwcm9nZXR0byDDqCBzdmlsdXBwYXRvIHByZXNzbyBsYSBEaXZpc2lvbmUg4oCcU3VwcG9ydG8gYWxsYSBkZWNpc2lvbmUgZWQgQW5hbGlzaeKAnSBkZWxsYSBTY3VvbGEgZGkgRWNvbm9taWEgZGVsbOKAmVVuaXZlcnNpdMOgIGRpIFZhcnNhdmlhLiA8YnIvPkNvbnRhdHRvOlxcbiAgICBzaWx2ZXJkZWNpc2lvbnNAc2doLndhdy5wbFxcbjwvcD5cXG48cD5cXG5TaWx2ZXJEZWNpc2lvbiDDqCB1biBQcm9nZXR0byBiYXNhdG8gc3UgZGkgdW5hIENvbXVuaXTDoCBkaSBzdmlsdXBwbywgc2UgbG8gdXRpbGl6emkgYSBzY29wbyBkaSBpbnNlZ25hbWVudG8sIHJpY2VyY2EgbyBhbHRyYSBhdHRpdml0w6AgY2hlIHZvcnJlc3RpIHJlbmRlcmUgbm90YSB0aWVuaWNpIGluZm9ybWF0aS4gU2FyZW1tbyBsaWV0aSBkaSBhZ2dpdW5nZXJlIHVuIDxhIGhyZWY9XFxcImh0dHBzOi8vZ2l0aHViLmNvbS9TaWx2ZXJEZWNpc2lvbnMvU2lsdmVyRGVjaXNpb25zL3dpa2kvU2lsdmVyRGVjaXNpb25zLUNvbW11bml0eVxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPmxpbms8L2E+IGFsbGEgdHVhIGF0dGl2aXTDoC5cXG48L3A+XFxuPHA+XFxuICAgIElsIHNvZnR3YXJlIMOoIHN2aWx1cHBhdG8gbmVsbOKAmWFtYml0byBkZWwgcHJvZ2V0dG8gPGEgaHJlZj1cXFwiaHR0cDovL3JvdXRldG9wYS5ldS9cXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5ST1VURS1UTy1QQTwvYT4gXFxuICAgIGZpbmFuemlhdG8gZGFsIHByb2dyYW1tYSBkaSByaWNlcmNhIGVkIGlubm92YXppb25lIEgyMDIwIGRlbGzigJkgVW5pb25lIEV1cm9wZWEgKGNvbnRyYXR0byBuLiA2NDU4NjApLiBcXG4gICAgU2NvcG8gZGVsIHByb2dldHRvIMOoIHF1ZWxsbyBkaSBwZXJtZXR0ZXJlIHVuYSBjb211bmljYXppb25lIHRyYXNwYXJlbnRlIHRyYSBQdWJibGljYSBBbW1pbmlzdHJhemlvbmUgZSBjaXR0YWRpbmkgXFxuICAgIHJpZ3VhcmRvIGFpIGRhdGkgcHViYmxpY2kgZWQgYWkgcHJvY2Vzc2kgZGkgZGVjaXNpb25lIHBvcnRhdGkgYXZhbnRpIGRhbGxhIHN0ZXNzYSBQdWJibGljYSBBbW1pbmlzdHJhemlvbmUuICAgIFxcbjwvcD5cXG48cD5cXG4gICAgVHV0dGkgaSBjb2RpY2kgc29yZ2VudGUgc29ubyByaWxhc2NpYXRpIHNlY29uZG8gaSB0ZXJtaW5pIGRlbGxhIGxpY2VuemEg4oCcR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gM1xcXCIuXFxuPC9wPlxcbjxwPlxcbiAgICBQZXIgbWFnZ2lvcmkgaW5mb3JtYXppb25pIHZpc2l0YSBpbCBzaXRvIDxhIGhyZWY9XFxcImh0dHA6Ly9zaWx2ZXJkZWNpc2lvbnMucGwvXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+aHR0cDovL3NpbHZlcmRlY2lzaW9ucy5wbC88L2E+LlxcbjwvcD5cXG5cXG5cIjtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8cD5cXG4gICAgPHN0cm9uZz5TaWx2ZXJEZWNpc2lvbnMgPCU9IHZlcnNpb24gJT4gKGJ1aWxkIDwlPSBidWlsZFRpbWVzdGFtcCU+KTwvc3Ryb25nPjxici8+XFxuICAgIE9wcm9ncmFtb3dhbmllIGRvIGFuYWxpenkgZHJ6ZXcgZGVjeXp5am55Y2ggdHlwdSBGcmVlIE9wZW4gU291cmNlLlxcbjwvcD5cXG48cCBjbGFzcz1cXFwic2QtcHJvamVjdC10ZWFtXFxcIj5cXG4gICAgWmVzcMOzxYIgcHJvamVrdG93eTpcXG4gICAgPHVsPlxcbiAgICAgICAgPGxpPjxhIGhyZWY9XFxcImh0dHA6Ly9ib2d1bWlsa2FtaW5za2kucGwvXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+Qm9ndW1pxYIgS2FtacWEc2tpPC9hPiAobWFuYWdlciBwcm9qZWt0dSk8L2xpPlxcbiAgICAgICAgPGxpPjxhIGhyZWY9XFxcImh0dHBzOi8vc3p1ZmVsLnBsL1xcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPlByemVteXPFgmF3IFN6dWZlbDwvYT4gKHphc3TEmXBjYSBtYW5hZ2VyYSBwcm9qZWt0dSk8L2xpPlxcbiAgICAgICAgPGxpPjxhIGhyZWY9XFxcImh0dHBzOi8vZ2l0aHViLmNvbS9td2FzaWx1a1xcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPk1pY2hhxYIgV2FzaWx1azwvYT4gKGRldmVsb3Blcik8L2xpPlxcbiAgICAgICAgPGxpPjxhIGhyZWY9XFxcImh0dHA6Ly93d3cubWljaGFsamFrdWJjenlrLnBsL1xcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPk1pY2hhxYIgSmFrdWJjenlrPC9hPiAocHJvamVrdGFudCk8L2xpPlxcbiAgICAgICAgPGxpPkFubmEgV2llcnRsZXdza2EgKGRva3VtZW50YWxpc3RrYSk8L2xpPlxcbiAgICAgICAgPGxpPk1hcmNpbiBDenVwcnluYSAodGVzdGVyKTwvbGk+XFxuICAgIDwvdWw+XFxuPC9wPlxcbjxwPlxcbiAgICBQcm9qZWt0IGplc3QgcmVhbGl6b3dhbnkgdyBaYWvFgmFkemllIFdzcG9tYWdhbmlhIGkgQW5hbGl6eSBEZWN5emppIHcgU3prb2xlIEfFgsOzd25laiBIYW5kbG93ZWogdyBXYXJzemF3aWUuPGJyLz5cXG4gICAgS29udGFrdDogc2lsdmVyZGVjaXNpb25zQHNnaC53YXcucGxcXG48L3A+XFxuPHA+XFxuICAgIFJvenfDs2ogU2lsdmVyRGVjaXNpb25zIHphbGXFvHkgb2QgcG90cnplYiB1xbx5dGtvd25pa8Ozdy4gVyB6d2nEhXprdSB6IHR5bSBqZcWbbGkgd3lrb3J6eXN0dWplc3ogamUgZG8gbmF1Y3phbmlhLCBiYWRhxYQgbHViIGlubnljaCBha3R5d25vxZtjaSwgbyBrdMOzcnljaCB6ZWNoY2VzeiBuYSBwb3dpZWR6aWXEhyBwcm9zaW15IG8ga29udGFrdC4gQnnFgm9ieSBuYW0gYmFyZHpvIG1pxYJvLCBqZcWbbGkgbW9nbGliecWbbXkgZG9kYcSHIGluZm9ybWFjasSZIG8gVHdvaWNoIGFrdHl3bm/Fm2NpYWNoIG5hIHN0cm9uaWUgPGEgaHJlZj1cXFwiaHR0cHM6Ly9naXRodWIuY29tL1NpbHZlckRlY2lzaW9ucy9TaWx2ZXJEZWNpc2lvbnMvd2lraS9TaWx2ZXJEZWNpc2lvbnMtQ29tbXVuaXR5XFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+U2lsdmVyRGVjaXNpb25zIENvbW11bml0eTwvYT4uXFxuPC9wPlxcbjxwPlxcbjxwPlxcbiAgICBPcHJvZ3JhbW93YW5pZSBqZXN0IHJvendpamFuZSB3IHJhbWFjaCBwcm9qZWt0dSA8YSBocmVmPVxcXCJodHRwOi8vcm91dGV0b3BhLmV1L1xcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPlJPVVRFLVRPLVBBPC9hPiAoPGVtPlJhaXNpbmdcXG4gICAgT3BlbiBhbmQgVXNlci1mcmllbmRseSBUcmFuc3BhcmVuY3ktRW5hYmxpbmcgVGVjaG5vbG9naWVzIGZvciBQdWJsaWMgQWRtaW5pc3RyYXRpb25zPC9lbT4pLFxcbiAgICBrdMOzcnkgamVzdCBmaW5hbnNvd2FueSB6ZSDFm3JvZGvDs3cgRXVyb3BlanNraWVnbyBQcm9ncmFtdSB3IFpha3Jlc2llIEJhZGHFhCBOYXVrb3d5Y2ggaSBJbm5vd2FjamkgSG9yaXpvbiAyMDIwIG5hXFxuICAgIHBvZHN0YXdpZSB1bW93eSBvIGRvdGFjasSZIG5yIDY0NTg2MC4gQ2VsZW0gcHJvamVrdHUgUk9VVEUtVE8tUEEgamVzdCB1bW/FvGxpd2llbmllIHByemVqcnp5c3RlaiBrb211bmlrYWNqaSBwb21pxJlkenlcXG4gICAgYWRtaW5pc3RyYWNqxIUgcHVibGljem7EhSBhIG1pZXN6a2HFhGNhbWkgdyB6YWtyZXNpZSBwdWJsaWN6bnljaCBkYW55Y2ggZG90eWN6xIVjeWNoIHByb2Nlc3UgcG9kZWptb3dhbmlhIHByemV6XFxuICAgIGFkbWluaXN0cmFjamUgcHVibGljem5lIGRlY3l6amkuXFxuPC9wPlxcbjxwPlxcbiAgICBXc3p5c3RraWUgcGxpa2kgxbpyw7NkxYJvd2Ugc8SFIGxpY2VuY2pvbm93YW5lIHpnb2RuaWUgemUgc8WCYWJzesSFIHBvd3N6ZWNobsSFIGxpY2VuY2rEhSBwdWJsaWN6bsSFIEdOVSAoR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMykuXFxuPC9wPlxcbjxwPlxcbiAgICBXacSZY2VqIGluZm9ybWFjamkgbW/FvG5hIHpuYWxlxbrEhyBuYSBzdHJvbmllIGludGVybmV0b3dlajogPGEgaHJlZj1cXFwiaHR0cDovL3NpbHZlcmRlY2lzaW9ucy5wbC9cXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5odHRwOi8vc2lsdmVyZGVjaXNpb25zLnBsLzwvYT4uXFxuPC9wPlxcblwiO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgaWQ9XFxcInNkLWFib3V0LWRpYWxvZ1xcXCIgY2xhc3M9XFxcInNkLW1vZGFsXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwic2QtbW9kYWwtY29udGVudFxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzZC1tb2RhbC1oZWFkZXJcXFwiPlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzZC1tb2RhbC1idXR0b24gc2QtY2xvc2UtbW9kYWxcXFwiPjxpIGNsYXNzPVxcXCJtYXRlcmlhbC1pY29uc1xcXCI+Y2xvc2U8L2k+PC9zcGFuPlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzZC1tb2RhbC1idXR0b24gc2QtZXh0ZW5kLW1vZGFsXFxcIj48aSBjbGFzcz1cXFwibWF0ZXJpYWwtaWNvbnNcXFwiPmZ1bGxzY3JlZW48L2k+PC9zcGFuPlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzZC1tb2RhbC1idXR0b24gc2Qtc2hyaW5rLW1vZGFsXFxcIj48aSBjbGFzcz1cXFwibWF0ZXJpYWwtaWNvbnNcXFwiPmZ1bGxzY3JlZW5fZXhpdDwvaT48L3NwYW4+XFxuICAgICAgICAgICAgPGgyPjwlPSBpMThuLnQoXFxcImFib3V0RGlhbG9nLnRpdGxlXFxcIiklPjwvaDI+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInNkLW1vZGFsLWJvZHlcXFwiPlxcbiAgICAgICAgICAgIDwlIGlmICggW1xcXCJkZVxcXCIsIFxcXCJlblxcXCIsIFxcXCJmclxcXCIsIFxcXCJpdFxcXCIsIFxcXCJwbFxcXCJdLmluZGV4T2YobG5nKSAhPT0gLTEpIHsgJT5cXG4gICAgICAgICAgICAgICAgPCU9IGluY2x1ZGUoJ2Fib3V0XycrbG5nLCB2YXJpYWJsZXMpICU+XFxuICAgICAgICAgICAgPCUgfSBlbHNlIHsgJT5cXG4gICAgICAgICAgICAgICAgPCU9IGluY2x1ZGUoJ2Fib3V0X2VuJywgdmFyaWFibGVzKSAlPlxcbiAgICAgICAgICAgIDwlIH0gJT5cXG5cXG4gICAgICAgICAgICA8JT0gaW5jbHVkZSgnaGVscCcsIHZhcmlhYmxlcykgJT5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG48L2Rpdj5cXG5cIjtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGlkPVxcXCJzZC1kZWZpbml0aW9ucy1kaWFsb2dcXFwiIGNsYXNzPVxcXCJzZC1tb2RhbFxcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcInNkLW1vZGFsLWNvbnRlbnRcXFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwic2QtbW9kYWwtaGVhZGVyXFxcIj5cXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwic2QtbW9kYWwtYnV0dG9uIHNkLWNsb3NlLW1vZGFsXFxcIj48aSBjbGFzcz1cXFwibWF0ZXJpYWwtaWNvbnNcXFwiPmNsb3NlPC9pPjwvc3Bhbj5cXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwic2QtbW9kYWwtYnV0dG9uIHNkLWV4dGVuZC1tb2RhbFxcXCI+PGkgY2xhc3M9XFxcIm1hdGVyaWFsLWljb25zXFxcIj5mdWxsc2NyZWVuPC9pPjwvc3Bhbj5cXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwic2QtbW9kYWwtYnV0dG9uIHNkLXNocmluay1tb2RhbFxcXCI+PGkgY2xhc3M9XFxcIm1hdGVyaWFsLWljb25zXFxcIj5mdWxsc2NyZWVuX2V4aXQ8L2k+PC9zcGFuPlxcbiAgICAgICAgICAgIDxoMj48JT0gaTE4bi50KFxcXCJkZWZpbml0aW9uc0RpYWxvZy50aXRsZVxcXCIpJT48L2gyPlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzZC1tb2RhbC1ib2R5XFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJkZWZpbml0aW9ucy1mb3JtXFxcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIGlkPVxcXCJzZC1kZWZpbml0aW9ucy1kaWFsb2ctZGVmaW5pdGlvbnMtY29kZVxcXCIgbmFtZT1cXFwic2QtZGVmaW5pdGlvbnMtY29kZVxcXCI+PC90ZXh0YXJlYT5cXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJiYXJcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZXZhbHVhdGVkLXZhcmlhYmxlcy1wcmV2aWV3XFxcIj5cXG4gICAgICAgICAgICAgICAgPGgzPjwlPSBpMThuLnQoJ2RlZmluaXRpb25zRGlhbG9nLmV2YWx1YXRlZFZhcmlhYmxlcycpJT46PC9oMz5cXG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cXFwic2QtZGVmaW5pdGlvbnMtZGlhbG9nLXZhcmlhYmxlLXZhbHVlc1xcXCI+PC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYWN0aW9uLWJ1dHRvbnNcXFwiPlxcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVxcXCJzZC1kZWZpbml0aW9ucy1kaWFsb2ctcmVjYWxjdWxhdGUtYnV0dG9uXFxcIiBjbGFzcz1cXFwiaWNvbi1idXR0b25cXFwiICB0aXRsZT1cXFwiPCU9IGkxOG4udCgnZGVmaW5pdGlvbnNEaWFsb2cuYnV0dG9ucy5yZWNhbGN1bGF0ZScpJT5cXFwiPjxpIGNsYXNzPVxcXCJtYXRlcmlhbC1pY29uc1xcXCI+cmVmcmVzaDwvaT48L2J1dHRvbj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG48L2Rpdj5cXG5cIjtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8dGFibGUgY2xhc3M9XFxcInNkLWV2YWx1YXRlZC12YXJpYWJsZXNcXFwiPlxcclxcbiAgICA8JSBmb3IoaT0wOyBpPHNjb3BlVmFyaWFibGVzLmxlbmd0aDsgKytpKSB7ICU+XFxyXFxuICAgIDx0cj5cXHJcXG4gICAgICAgIDx0ZD48JT0gc2NvcGVWYXJpYWJsZXNbaV0ua2V5ICU+PC90ZD5cXHJcXG4gICAgICAgIDx0ZD49PC90ZD5cXHJcXG4gICAgICAgIDx0ZD48JT0gc2NvcGVWYXJpYWJsZXNbaV0udmFsdWUgJT48L3RkPlxcclxcbiAgICA8L3RyPlxcclxcbiAgICA8JSB9ICU+XFxyXFxuPC90YWJsZT5cXHJcXG5cIjtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPVxcXCJzZC1mdWxsc2NyZWVuLXBvcHVwXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwic2QtcG9wdXAtaGVhZGVyXFxcIj5cXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzZC1jbG9zZS1wb3B1cFxcXCI+PGkgY2xhc3M9XFxcIm1hdGVyaWFsLWljb25zXFxcIj5jbG9zZTwvaT48L3NwYW4+XFxuICAgICAgICA8aDI+PCU9IHRpdGxlICU+PC9oMj5cXG4gICAgPC9kaXY+XFxuXFxuICAgIDxkaXYgY2xhc3M9XFxcInNkLXBvcHVwLWJvZHlcXFwiPlxcbiAgICAgICAgPCU9IGJvZHkgJT5cXG4gICAgPC9kaXY+XFxuPC9kaXY+XFxuXCI7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1cXFwic2QtZ3Jvd2wtbWVzc2FnZSA8JT10eXBlJT5cXFwiPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJzZC1ncm93bC1tZXNzYWdlLXRleHRcXFwiPlxcclxcbiAgICAgICAgPCU9IG1lc3NhZ2UgJT5cXHJcXG4gICAgPC9kaXY+XFxyXFxuPC9kaXY+XFxyXFxuXCI7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdj5cXHJcXG4gICAgPGgzPjwlPSBpMThuLnQoXFxcImhlbHAuaGVhZGVyXFxcIiklPjwvaDM+XFxyXFxuICAgIDxwPlxcclxcbiAgICAgICAgPCU9IGkxOG4udChcXFwiaGVscC5tb3VzZS5oZWFkZXJcXFwiKSU+XFxyXFxuICAgICAgICA8dWw+XFxyXFxuICAgICAgICAgICAgPGxpPjwlPSBpMThuLnQoXFxcImhlbHAubW91c2UubGlzdC4xXFxcIiklPjwvbGk+XFxyXFxuICAgICAgICAgICAgPGxpPjwlPSBpMThuLnQoXFxcImhlbHAubW91c2UubGlzdC4yXFxcIiklPjwvbGk+XFxyXFxuICAgICAgICAgICAgPGxpPjwlPSBpMThuLnQoXFxcImhlbHAubW91c2UubGlzdC4zXFxcIiklPjwvbGk+XFxyXFxuICAgICAgICA8L3VsPlxcclxcbiAgICA8L3A+XFxyXFxuICAgIDxwPlxcclxcbiAgICAgICAgPCU9IGkxOG4udChcXFwiaGVscC5rZXlib2FyZC5oZWFkZXJcXFwiKSU+XFxyXFxuICAgICAgICA8dWw+XFxyXFxuICAgICAgICAgICAgPGxpPjwlPSBpMThuLnQoXFxcImhlbHAua2V5Ym9hcmQubGlzdC4xXFxcIiklPjwvbGk+XFxyXFxuICAgICAgICAgICAgPGxpPjwlPSBpMThuLnQoXFxcImhlbHAua2V5Ym9hcmQubGlzdC4yXFxcIiklPjwvbGk+XFxyXFxuICAgICAgICAgICAgPGxpPjwlPSBpMThuLnQoXFxcImhlbHAua2V5Ym9hcmQubGlzdC4zXFxcIiklPjwvbGk+XFxyXFxuICAgICAgICAgICAgPGxpPjwlPSBpMThuLnQoXFxcImhlbHAua2V5Ym9hcmQubGlzdC40XFxcIiklPjwvbGk+XFxyXFxuICAgICAgICAgICAgPGxpPjwlPSBpMThuLnQoXFxcImhlbHAua2V5Ym9hcmQubGlzdC41XFxcIiklPjwvbGk+XFxyXFxuICAgICAgICAgICAgPGxpPjwlPSBpMThuLnQoXFxcImhlbHAua2V5Ym9hcmQubGlzdC42XFxcIiklPjwvbGk+XFxyXFxuICAgICAgICA8L3VsPlxcclxcbiAgICA8L3A+XFxyXFxuICAgIDxwPjwlPSBpMThuLnQoXFxcImhlbHAuZG9jc1xcXCIpJT48L3A+XFxyXFxuPC9kaXY+XFxyXFxuXCI7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGlucHV0IGlkPVxcXCI8JT0gaWQgJT5cXFwiIHR5cGU9XFxcIjwlPSB0eXBlICU+XFxcIiBuYW1lPVxcXCI8JT0gbmFtZSAlPlxcXCI+XFxyXFxuPHNwYW4gY2xhc3M9XFxcImJhclxcXCI+PC9zcGFuPlxcclxcbjxsYWJlbCBmb3I9XFxcIjwlPSBpZCAlPlxcXCI+PCU9IGxhYmVsICU+PC9sYWJlbD5cXHJcXG5cIjtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCJcXG5cIjtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPVxcXCJzZC1qb2ItcGFyYW1ldGVycy1idWlsZGVyXFxcIj5cXG5cXG48L2Rpdj5cXG5cIjtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPVxcXCJzZC1sb2FkaW5nLWluZGljYXRvclxcXCI+XFxyXFxuICAgIDxkaXY+PC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcInNkLXNwaW5uZXJcXFwiIHRpdGxlPVxcXCJsb2FkaW5nLi4uXFxcIj48L2Rpdj5cXHJcXG48L2Rpdj5cXHJcXG5cIjtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGlkPVxcXCJzaWx2ZXItZGVjaXNpb25zXFxcIiB0YWJpbmRleD1cXFwiMFxcXCI+XFxuICAgIDwlPSBpbmNsdWRlKCd0b29sYmFyJywgdmFyaWFibGVzKSAlPlxcbiAgICA8ZGl2IGlkPVxcXCJtYWluLXJlZ2lvblxcXCI+XFxuICAgICAgICA8JT0gaW5jbHVkZSgnc2lkZWJhcicsIHZhcmlhYmxlcykgJT5cXG4gICAgICAgIDxkaXYgaWQ9XFxcInRyZWUtZGVzaWduZXItY29udGFpbmVyXFxcIj48L2Rpdj5cXG4gICAgPC9kaXY+XFxuICAgIDxpbnB1dCB0eXBlPVxcXCJmaWxlXFxcIiBzdHlsZT1cXFwiZGlzcGxheTpub25lXFxcIiBpZD1cXFwic2QtZmlsZS1pbnB1dFxcXCIgYWNjZXB0PVxcXCIuanNvblxcXCIvPlxcbiAgICA8JT0gaW5jbHVkZSgnc2V0dGluZ3NEaWFsb2cnLCB2YXJpYWJsZXMpICU+XFxuICAgIDwlPSBpbmNsdWRlKCdhYm91dERpYWxvZycsIHZhcmlhYmxlcykgJT5cXG4gICAgPCU9IGluY2x1ZGUoJ2RlZmluaXRpb25zRGlhbG9nJywgdmFyaWFibGVzKSAlPlxcbiAgICA8JT0gaW5jbHVkZSgnc2Vuc2l0aXZpdHlBbmFseXNpc0RpYWxvZycsIHZhcmlhYmxlcykgJT5cXG48L2Rpdj5cXG5cIjtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c2VsZWN0IGlkPVxcXCI8JT0gaWQgJT5cXFwiIG5hbWU9XFxcIjwlPSBuYW1lICU+XFxcIj5cXG4gICAgPCUgZm9yKGk9MDsgaTxvcHRpb25zLmxlbmd0aDsgKytpKSB7ICU+XFxuICAgIDxvcHRpb24gdmFsdWU9XFxcIjwlIGlmIChvcHRpb25zW2ldLnZhbHVlICE9PSB1bmRlZmluZWQpeyAlPjwlPSBvcHRpb25zW2ldLnZhbHVlICU+PCV9IGVsc2UgeyAlPjwlPSBvcHRpb25zW2ldICU+PCV9JT5cXFwiPjwlIGlmIChvcHRpb25zW2ldLmxhYmVsICE9PSB1bmRlZmluZWQpeyAlPjwlPSBvcHRpb25zW2ldLmxhYmVsICU+PCV9IGVsc2UgeyAlPjwlPSBvcHRpb25zW2ldICU+PCV9JT48L29wdGlvbj5cXG4gICAgPCUgfSAlPlxcbjwvc2VsZWN0PlxcbjxzcGFuIGNsYXNzPVxcXCJiYXJcXFwiPjwvc3Bhbj5cXG48bGFiZWwgZm9yPVxcXCI8JT0gaWQgJT5cXFwiPjwlPSBsYWJlbCAlPjwvbGFiZWw+XFxuXCI7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1cXFwic2QtbW9kYWwgc2Qtc2Vuc2l0aXZpdHktYW5hbHlzaXMtZGlhbG9nXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwic2QtbW9kYWwtY29udGVudFxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzZC1tb2RhbC1oZWFkZXJcXFwiPlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzZC1tb2RhbC1idXR0b24gc2QtY2xvc2UtbW9kYWxcXFwiPjxpIGNsYXNzPVxcXCJtYXRlcmlhbC1pY29uc1xcXCI+Y2xvc2U8L2k+PC9zcGFuPlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzZC1tb2RhbC1idXR0b24gc2QtZXh0ZW5kLW1vZGFsXFxcIj48aSBjbGFzcz1cXFwibWF0ZXJpYWwtaWNvbnNcXFwiPmZ1bGxzY3JlZW48L2k+PC9zcGFuPlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzZC1tb2RhbC1idXR0b24gc2Qtc2hyaW5rLW1vZGFsXFxcIj48aSBjbGFzcz1cXFwibWF0ZXJpYWwtaWNvbnNcXFwiPmZ1bGxzY3JlZW5fZXhpdDwvaT48L3NwYW4+XFxuXFxuICAgICAgICAgICAgPGgyPjwlPSBpMThuLnQoXFxcInNlbnNpdGl2aXR5QW5hbHlzaXNEaWFsb2cudGl0bGVcXFwiKSU+PC9oMj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwic2QtbW9kYWwtYm9keVxcXCI+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwic2Qtc2Vuc2l0aXZpdHktYW5hbHlzaXMtam9iLWNvbmZpZ3VyYXRpb25cXFwiPlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzZC1qb2Itc2VsZWN0LWlucHV0LWdyb3VwIGlucHV0LWdyb3VwXFxcIj48L2Rpdj5cXG4gICAgICAgICAgICAgICAgPCU9IGluY2x1ZGUoJ2pvYlBhcmFtZXRlcnNCdWlsZGVyJywgdmFyaWFibGVzKSAlPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInNkLXNlbnNpdGl2aXR5LWFuYWx5c2lzLXdhcm5pbmdzXFxcIj5cXG5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzZC1qb2ItcHJvZ3Jlc3MtYmFyLWNvbnRhaW5lciBzZC1wcm9ncmVzcy1iYXItY29udGFpbmVyIHNkLWhpZGRlblxcXCI+PGRpdiBjbGFzcz1cXFwic2QtcHJvZ3Jlc3MtYmFyXFxcIj48L2Rpdj48L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzZC1zZW5zaXRpdml0eS1hbmFseXNpcy1qb2ItcmVzdWx0cyBzZC1oaWRkZW5cXFwiPlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzZC1qb2ItcmVzdWx0LXRhYmxlLWNvbnRhaW5lclxcXCI+PC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwic2Qtc2Vuc2l0aXZpdHktYW5hbHlzaXMtYWN0aW9uLWJ1dHRvbnNcXFwiPlxcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJzZC10ZXJtaW5hdGUtam9iLWJ1dHRvbiBzZC1oaWRkZW5cXFwiPjwlPSBpMThuLnQoJ3NlbnNpdGl2aXR5QW5hbHlzaXNEaWFsb2cuYnV0dG9ucy50ZXJtaW5hdGVKb2InKSU+PC9idXR0b24+XFxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XFxcInNkLXN0b3Atam9iLWJ1dHRvbiBzZC1oaWRkZW5cXFwiPjwlPSBpMThuLnQoJ3NlbnNpdGl2aXR5QW5hbHlzaXNEaWFsb2cuYnV0dG9ucy5zdG9wSm9iJyklPjwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJzZC1yZXN1bWUtam9iLWJ1dHRvbiBzZC1oaWRkZW5cXFwiPjwlPSBpMThuLnQoJ3NlbnNpdGl2aXR5QW5hbHlzaXNEaWFsb2cuYnV0dG9ucy5yZXN1bWVKb2InKSU+PC9idXR0b24+XFxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XFxcInNkLWJhY2stYnV0dG9uICBzZC1oaWRkZW5cXFwiPjwlPSBpMThuLnQoJ3NlbnNpdGl2aXR5QW5hbHlzaXNEaWFsb2cuYnV0dG9ucy5iYWNrJyklPjwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJzZC1kb3dubG9hZC1jc3YtYnV0dG9uIHNkLWhpZGRlblxcXCI+PCU9IGkxOG4udCgnc2Vuc2l0aXZpdHlBbmFseXNpc0RpYWxvZy5idXR0b25zLmRvd25sb2FkQ3N2JyklPjwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJzZC1jbGVhci1idXR0b24gXFxcIj48JT0gaTE4bi50KCdzZW5zaXRpdml0eUFuYWx5c2lzRGlhbG9nLmJ1dHRvbnMuY2xlYXInKSU+PC9idXR0b24+XFxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XFxcInNkLXJ1bi1qb2ItYnV0dG9uXFxcIj48JT0gaTE4bi50KCdzZW5zaXRpdml0eUFuYWx5c2lzRGlhbG9nLmJ1dHRvbnMucnVuSm9iJyklPjwvYnV0dG9uPlxcblxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbjwvZGl2PlxcblwiO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgaWQ9XFxcInNkLXNldHRpbmdzLWRpYWxvZ1xcXCIgY2xhc3M9XFxcInNkLW1vZGFsXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwic2QtbW9kYWwtY29udGVudFxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzZC1tb2RhbC1oZWFkZXJcXFwiPlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzZC1tb2RhbC1idXR0b24gc2QtY2xvc2UtbW9kYWxcXFwiPjxpIGNsYXNzPVxcXCJtYXRlcmlhbC1pY29uc1xcXCI+Y2xvc2U8L2k+PC9zcGFuPlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzZC1tb2RhbC1idXR0b24gc2QtZXh0ZW5kLW1vZGFsXFxcIj48aSBjbGFzcz1cXFwibWF0ZXJpYWwtaWNvbnNcXFwiPmZ1bGxzY3JlZW48L2k+PC9zcGFuPlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzZC1tb2RhbC1idXR0b24gc2Qtc2hyaW5rLW1vZGFsXFxcIj48aSBjbGFzcz1cXFwibWF0ZXJpYWwtaWNvbnNcXFwiPmZ1bGxzY3JlZW5fZXhpdDwvaT48L3NwYW4+XFxuICAgICAgICAgICAgPGgyPjwlPSBpMThuLnQoXFxcInNldHRpbmdzRGlhbG9nLnRpdGxlXFxcIiklPjwvaDI+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInNkLW1vZGFsLWJvZHlcXFwiPlxcbiAgICAgICAgICAgIDxmb3JtIGlkPVxcXCJzZC1zZXR0aW5ncy1mb3JtXFxcIj5cXG4gICAgICAgICAgICA8L2Zvcm0+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuPC9kaXY+XFxuXCI7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1cXFwiaGVhZGVyXFxcIj5cXHJcXG4gICAgPGg0PjwlPSBpMThuLnQoXFxcInNldHRpbmdzRGlhbG9nLlxcXCIrbmFtZStcXFwiLnRpdGxlXFxcIiklPlxcclxcbiAgICAgICAgPHNwYW4gY2xhc3M9XFxcInRvZ2dsZS1idXR0b25cXFwiPlxcclxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJtYXRlcmlhbC1pY29ucyBpY29uLWFycm93LXVwXFxcIj5rZXlib2FyZF9hcnJvd191cDwvaT5cXHJcXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwibWF0ZXJpYWwtaWNvbnMgaWNvbi1hcnJvdy1kb3duXFxcIj5rZXlib2FyZF9hcnJvd19kb3duPC9pPlxcclxcbiAgICAgICAgPC9zcGFuPlxcclxcbiAgICA8L2g0PlxcclxcbjwvZGl2PlxcclxcbjxkaXYgY2xhc3M9XFxcInNkLWZvcm0tZ3JvdXAtY29udGVudFxcXCI+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcInNkLWZvcm0tZ3JvdXAtaW5wdXRzXFxcIj48L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwic2QtZm9ybS1ncm91cC1jaGlsZC1ncm91cHNcXFwiPjwvZGl2PlxcclxcbjwvZGl2PlxcclxcblwiO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgaWQ9XFxcInNkLXNpZGViYXItZGVmaW5pdGlvbnNcXFwiPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJoZWFkZXJcXFwiPlxcclxcbiAgICAgICAgPCU9IGkxOG4udChcXFwic2lkZWJhckRlZmluaXRpb25zLmhlYWRlclxcXCIpJT5cXHJcXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJ0b2dnbGUtYnV0dG9uXFxcIj5cXHJcXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwibWF0ZXJpYWwtaWNvbnMgaWNvbi1hcnJvdy11cFxcXCI+a2V5Ym9hcmRfYXJyb3dfdXA8L2k+XFxyXFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcIm1hdGVyaWFsLWljb25zIGljb24tYXJyb3ctZG93blxcXCI+a2V5Ym9hcmRfYXJyb3dfZG93bjwvaT5cXHJcXG4gICAgICAgIDwvc3Bhbj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImNvbnRlbnRcXFwiPlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXBcXFwiPlxcclxcbiAgICAgICAgICAgIDx0ZXh0YXJlYSByb3dzPVxcXCIxXFxcIiBpZD1cXFwic2Qtc2lkZWJhci1kZWZpbml0aW9ucy1jb2RlXFxcIiB0eXBlPVxcXCJ0ZXh0XFxcIiBuYW1lPVxcXCJzaWRlYmFyLWRlZmluaXRpb25zLWNvZGVcXFwiPjwvdGV4dGFyZWE+XFxyXFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImJhclxcXCI+PC9zcGFuPlxcclxcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcInNkLXNpZGViYXItZGVmaW5pdGlvbnMtY29kZVxcXCI+PCU9IGkxOG4udChcXFwic2lkZWJhckRlZmluaXRpb25zLmNvZGVcXFwiKSAlPjwvbGFiZWw+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImV2YWx1YXRlZC12YXJpYWJsZXMtcHJldmlld1xcXCI+XFxyXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZXZhbHVhdGVkLXZhcmlhYmxlcy1wcmV2aWV3LWhlYWRlclxcXCI+XFxyXFxuICAgICAgICAgICAgICAgIDwlPSBpMThuLnQoJ3NpZGViYXJEZWZpbml0aW9ucy5ldmFsdWF0ZWRWYXJpYWJsZXMnKSU+XFxyXFxuICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICAgICAgPGRpdiBpZD1cXFwic2Qtc2lkZWJhci1kZWZpbml0aW9ucy1ldmFsdWF0ZWQtdmFsdWVzXFxcIj48L2Rpdj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwic2QtYWN0aW9uLWJ1dHRvbnNcXFwiPlxcclxcbiAgICAgICAgICAgIDxidXR0b24gaWQ9XFxcInNkLXNpZGViYXItZGVmaW5pdGlvbnMtb3Blbi1kaWFsb2ctYnV0dG9uXFxcIiBjbGFzcz1cXFwiaWNvbi1idXR0b25cXFwiICB0aXRsZT1cXFwiPCU9IGkxOG4udCgnc2lkZWJhckRlZmluaXRpb25zLmJ1dHRvbnMub3BlbkRpYWxvZycpJT5cXFwiPjxpIGNsYXNzPVxcXCJtYXRlcmlhbC1pY29uc1xcXCI+b3Blbl9pbl9uZXc8L2k+PC9idXR0b24+XFxyXFxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cXFwic2Qtc2lkZWJhci1kZWZpbml0aW9ucy1yZWNhbGN1bGF0ZS1idXR0b25cXFwiIGNsYXNzPVxcXCJpY29uLWJ1dHRvblxcXCIgIHRpdGxlPVxcXCI8JT0gaTE4bi50KCdzaWRlYmFyRGVmaW5pdGlvbnMuYnV0dG9ucy5yZWNhbGN1bGF0ZScpJT5cXFwiPjxpIGNsYXNzPVxcXCJtYXRlcmlhbC1pY29uc1xcXCI+cmVmcmVzaDwvaT48L2J1dHRvbj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICA8L2Rpdj5cXHJcXG48L2Rpdj5cXHJcXG5cIjtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGlkPVxcXCJkaWFncmFtLWRldGFpbHMtYm94XFxcIj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiaGVhZGVyXFxcIj5cXHJcXG4gICAgICAgIDwlPSBpMThuLnQoXFxcImRpYWdyYW1EZXRhaWxzLmhlYWRlclxcXCIpJT5cXHJcXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJ0b2dnbGUtYnV0dG9uXFxcIj5cXHJcXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwibWF0ZXJpYWwtaWNvbnMgaWNvbi1hcnJvdy11cFxcXCI+a2V5Ym9hcmRfYXJyb3dfdXA8L2k+XFxyXFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcIm1hdGVyaWFsLWljb25zIGljb24tYXJyb3ctZG93blxcXCI+a2V5Ym9hcmRfYXJyb3dfZG93bjwvaT5cXHJcXG4gICAgICAgIDwvc3Bhbj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImNvbnRlbnRcXFwiPlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXBcXFwiPlxcclxcbiAgICAgICAgICAgIDxpbnB1dCBpZD1cXFwiZGlhZ3JhbS10aXRsZVxcXCIgdHlwZT1cXFwidGV4dFxcXCIgbmFtZT1cXFwiZGlhZ3JhbS10aXRsZVxcXCI+XFxyXFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImJhclxcXCI+PC9zcGFuPlxcclxcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImRpYWdyYW0tdGl0bGVcXFwiPjwlPSBpMThuLnQoXFxcImRpYWdyYW1EZXRhaWxzLnRpdGxlXFxcIikgJT48L2xhYmVsPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cFxcXCI+XFxyXFxuICAgICAgICAgICAgPHRleHRhcmVhIGlkPVxcXCJkaWFncmFtLWRlc2NyaXB0aW9uXFxcIiBuYW1lPVxcXCJkaWFncmFtLWRlc2NyaXB0aW9uXFxcIj48L3RleHRhcmVhPlxcclxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJiYXJcXFwiPjwvc3Bhbj5cXHJcXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJkaWFncmFtLWRlc2NyaXB0aW9uXFxcIj48JT0gaTE4bi50KFxcXCJkaWFncmFtRGV0YWlscy5kZXNjcmlwdGlvblxcXCIpICU+PC9sYWJlbD5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICA8L2Rpdj5cXHJcXG48L2Rpdj5cXHJcXG5cIjtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGlkPVxcXCJsYXlvdXQtb3B0aW9uc1xcXCI+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImhlYWRlclxcXCI+XFxyXFxuICAgICAgICA8JT0gaTE4bi50KFxcXCJsYXlvdXRPcHRpb25zLmhlYWRlclxcXCIpJT5cXHJcXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJ0b2dnbGUtYnV0dG9uXFxcIj5cXHJcXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwibWF0ZXJpYWwtaWNvbnMgaWNvbi1hcnJvdy11cFxcXCI+a2V5Ym9hcmRfYXJyb3dfdXA8L2k+XFxyXFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcIm1hdGVyaWFsLWljb25zIGljb24tYXJyb3ctZG93blxcXCI+a2V5Ym9hcmRfYXJyb3dfZG93bjwvaT5cXHJcXG4gICAgICAgIDwvc3Bhbj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImNvbnRlbnRcXFwiPlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXBcXFwiPlxcclxcbiAgICAgICAgICAgIDxpbnB1dCBpZD1cXFwibWFyZ2luLWhvcml6b250YWxcXFwiIG5hbWU9XFxcIm1hcmdpbi1ob3Jpem9udGFsXFxcIiB0eXBlPVxcXCJyYW5nZVxcXCIgbWluPVxcXCI1XFxcIiBtYXg9XFxcIjE1MFxcXCIgc3RlcD1cXFwiNVxcXCIvPlxcclxcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcIm1hcmdpbi1ob3Jpem9udGFsXFxcIj48JT0gaTE4bi50KFxcXCJsYXlvdXRPcHRpb25zLm1hcmdpbkhvcml6b250YWxcXFwiKSU+PC9sYWJlbD5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXBcXFwiPlxcclxcbiAgICAgICAgICAgIDxpbnB1dCBpZD1cXFwibWFyZ2luLXZlcnRpY2FsXFxcIiBuYW1lPVxcXCJtYXJnaW4tdmVydGljYWxcXFwiIHR5cGU9XFxcInJhbmdlXFxcIiBtaW49XFxcIjVcXFwiIG1heD1cXFwiMTUwXFxcIiBzdGVwPVxcXCI1XFxcIi8+XFxyXFxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwibWFyZ2luLXZlcnRpY2FsXFxcIj48JT0gaTE4bi50KFxcXCJsYXlvdXRPcHRpb25zLm1hcmdpblZlcnRpY2FsXFxcIiklPjwvbGFiZWw+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImlucHV0LWdyb3VwXFxcIj5cXHJcXG4gICAgICAgICAgICA8aW5wdXQgaWQ9XFxcIm5vZGUtc2l6ZVxcXCIgbmFtZT1cXFwibm9kZS1zaXplXFxcIiB0eXBlPVxcXCJyYW5nZVxcXCIgbWluPVxcXCIyMFxcXCIgbWF4PVxcXCI2MFxcXCIgc3RlcD1cXFwiNVxcXCIvPlxcclxcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcIm5vZGUtc2l6ZVxcXCI+PCU9IGkxOG4udChcXFwibGF5b3V0T3B0aW9ucy5ub2RlU2l6ZVxcXCIpJT48L2xhYmVsPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cFxcXCI+XFxyXFxuICAgICAgICAgICAgPGlucHV0IGlkPVxcXCJlZGdlLXNsYW50LXdpZHRoLW1heFxcXCIgbmFtZT1cXFwiZWRnZS1zbGFudC13aWR0aC1tYXhcXFwiIHR5cGU9XFxcInJhbmdlXFxcIiBtaW49XFxcIjBcXFwiIG1heD1cXFwiMTUwXFxcIiBzdGVwPVxcXCI1XFxcIi8+XFxyXFxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiZWRnZS1zbGFudC13aWR0aC1tYXhcXFwiPjwlPSBpMThuLnQoXFxcImxheW91dE9wdGlvbnMuZWRnZVNsYW50V2lkdGhNYXhcXFwiKSU+PC9sYWJlbD5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBpZD1cXFwiYXV0by1sYXlvdXQtb3B0aW9uc1xcXCI+XFxyXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXBcXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9XFxcImdyaWQtd2lkdGhcXFwiIG5hbWU9XFxcImdyaWQtd2lkdGhcXFwiIHR5cGU9XFxcInJhbmdlXFxcIiBtaW49XFxcIjEwNVxcXCIgbWF4PVxcXCIzMDBcXFwiIHN0ZXA9XFxcIjVcXFwiLz5cXHJcXG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiZ3JpZC13aWR0aFxcXCI+PCU9IGkxOG4udChcXFwibGF5b3V0T3B0aW9ucy5ncmlkV2lkdGhcXFwiKSU+PC9sYWJlbD5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cFxcXCI+XFxyXFxuICAgICAgICAgICAgICAgIDxpbnB1dCBpZD1cXFwiZ3JpZC1oZWlnaHRcXFwiIG5hbWU9XFxcImdyaWQtaGVpZ2h0XFxcIiB0eXBlPVxcXCJyYW5nZVxcXCIgbWluPVxcXCI1NVxcXCIgbWF4PVxcXCIxNTBcXFwiIHN0ZXA9XFxcIjVcXFwiLz5cXHJcXG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiZ3JpZC1oZWlnaHRcXFwiPjwlPSBpMThuLnQoXFxcImxheW91dE9wdGlvbnMuZ3JpZEhlaWdodFxcXCIpJT48L2xhYmVsPlxcclxcbiAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgIDwvZGl2PlxcclxcbjwvZGl2PlxcclxcblwiO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgaWQ9XFxcIm9iamVjdC1wcm9wZXJ0aWVzXFxcIj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiaGVhZGVyXFxcIj48L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiY29udGVudFxcXCI+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJtYWluLXByb3BlcnRpZXNcXFwiPjwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2hpbGRyZW4tcHJvcGVydGllc1xcXCI+XFxyXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2hpbGRyZW4tcHJvcGVydGllcy1oZWFkZXJcXFwiPjwvZGl2PlxcclxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNoaWxkcmVuLXByb3BlcnRpZXMtY29udGVudFxcXCI+PC9kaXY+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuPC9kaXY+XFxyXFxuXCI7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBpZD1cXFwic2Qtc2lkZWJhclxcXCI+XFxyXFxuICAgIDxkaXYgaWQ9XFxcInNkLXNpZGViYXItaW5uZXJcXFwiPlxcclxcbiAgICAgICAgPCU9IGluY2x1ZGUoJ2xheW91dE9wdGlvbnMnLCB2YXJpYWJsZXMpICU+XFxyXFxuICAgICAgICA8JT0gaW5jbHVkZSgnZGlhZ3JhbURldGFpbHNCb3gnLCB2YXJpYWJsZXMpICU+XFxyXFxuICAgICAgICA8JT0gaW5jbHVkZSgnZGVmaW5pdGlvbnMnLCB2YXJpYWJsZXMpICU+XFxyXFxuICAgICAgICA8JT0gaW5jbHVkZSgnb2JqZWN0UHJvcGVydGllcycsIHZhcmlhYmxlcykgJT5cXHJcXG4gICAgPC9kaXY+XFxyXFxuPC9kaXY+XFxyXFxuXCI7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBpZD1cXFwic2QtdG9vbGJhclxcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcInRvb2xiYXItZ3JvdXBcXFwiPlxcbiAgICAgICAgPGJ1dHRvbiBpZD1cXFwibmV3LWRpYWdyYW0tYnV0dG9uXFxcIiBjbGFzcz1cXFwiaWNvbi1idXR0b25cXFwiIHRpdGxlPVxcXCI8JT0gaTE4bi50KCd0b29sYmFyLm5ld0RpYWdyYW0nKSU+XFxcIj48aSBjbGFzcz1cXFwibWF0ZXJpYWwtaWNvbnNcXFwiPmluc2VydF9kcml2ZV9maWxlPC9pPjwvYnV0dG9uPlxcbiAgICAgICAgPGJ1dHRvbiBpZD1cXFwib3Blbi1kaWFncmFtLWJ1dHRvblxcXCIgY2xhc3M9XFxcImljb24tYnV0dG9uXFxcIiB0aXRsZT1cXFwiPCU9IGkxOG4udCgndG9vbGJhci5vcGVuRGlhZ3JhbScpJT5cXFwiPjxpIGNsYXNzPVxcXCJtYXRlcmlhbC1pY29uc1xcXCI+Zm9sZGVyX29wZW48L2k+PC9idXR0b24+XFxuICAgICAgICA8YnV0dG9uIGlkPVxcXCJzYXZlLWRpYWdyYW0tYnV0dG9uXFxcIiBjbGFzcz1cXFwiaWNvbi1idXR0b25cXFwiIHRpdGxlPVxcXCI8JT0gaTE4bi50KCd0b29sYmFyLnNhdmVEaWFncmFtJyklPlxcXCI+PGkgY2xhc3M9XFxcIm1hdGVyaWFsLWljb25zXFxcIj5zYXZlPC9pPjwvYnV0dG9uPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBpZD1cXFwiZXhwb3J0LXRvb2xiYXItZ3JvdXBcXFwiIGNsYXNzPVxcXCJ0b29sYmFyLWdyb3VwXFxcIj5cXG4gICAgICAgIDxsYWJlbD48JT0gaTE4bi50KFxcXCJ0b29sYmFyLmV4cG9ydC5sYWJlbFxcXCIpJT48L2xhYmVsPlxcbiAgICAgICAgPGJ1dHRvbiBpZD1cXFwic2F2ZUJ1dHRvblxcXCI+PCU9IGkxOG4udChcXFwidG9vbGJhci5leHBvcnQucG5nXFxcIiklPjwvYnV0dG9uPlxcbiAgICAgICAgPGJ1dHRvbiBpZD1cXFwic2F2ZUJ1dHRvblN2Z1xcXCI+PCU9IGkxOG4udChcXFwidG9vbGJhci5leHBvcnQuc3ZnXFxcIiklPjwvYnV0dG9uPlxcbiAgICAgICAgPGJ1dHRvbiBpZD1cXFwic2F2ZUJ1dHRvblBkZlxcXCI+PCU9IGkxOG4udChcXFwidG9vbGJhci5leHBvcnQucGRmXFxcIiklPjwvYnV0dG9uPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwidG9vbGJhci1ncm91cFxcXCI+XFxuICAgICAgICA8bGFiZWw+PCU9IGkxOG4udChcXFwidG9vbGJhci5sYXlvdXQubGFiZWxcXFwiKSU+PC9sYWJlbD5cXG4gICAgICAgIDxidXR0b24gaWQ9XFxcIm1hbnVhbExheW91dEJ1dHRvblxcXCI+PCU9IGkxOG4udChcXFwidG9vbGJhci5sYXlvdXQubWFudWFsXFxcIiklPjwvYnV0dG9uPlxcbiAgICAgICAgPGJ1dHRvbiBpZD1cXFwidHJlZUF1dG9MYXlvdXRCdXR0b25cXFwiPjwlPSBpMThuLnQoXFxcInRvb2xiYXIubGF5b3V0LnRyZWVcXFwiKSU+PC9idXR0b24+XFxuICAgICAgICA8YnV0dG9uIGlkPVxcXCJjbHVzdGVyQXV0b0xheW91dEJ1dHRvblxcXCI+PCU9IGkxOG4udChcXFwidG9vbGJhci5sYXlvdXQuY2x1c3RlclxcXCIpJT48L2J1dHRvbj5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgaWQ9XFxcIm9iamVjdGl2ZS1ydWxlLXRvb2xiYXItZ3JvdXBcXFwiIGNsYXNzPVxcXCJ0b29sYmFyLWdyb3VwXFxcIj5cXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcIm9iamVjdGl2ZS1ydWxlLXNlbGVjdFxcXCI+PCU9IGkxOG4udChcXFwidG9vbGJhci5vYmplY3RpdmVSdWxlLmxhYmVsXFxcIiklPjwvbGFiZWw+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cCBuby1mbG9hdGluZy1sYWJlbFxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IGlubGluZS1ibG9ja1xcXCI+XFxuICAgICAgICAgICAgPHNlbGVjdCBpZD1cXFwib2JqZWN0aXZlLXJ1bGUtc2VsZWN0XFxcIj48L3NlbGVjdD5cXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiYmFyXFxcIj48L3NwYW4+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcInRvb2xiYXItZ3JvdXBcXFwiPlxcbiAgICAgICAgPGJ1dHRvbiBpZD1cXFwidW5kb0J1dHRvblxcXCIgY2xhc3M9XFxcImljb24tYnV0dG9uXFxcIiBkaXNhYmxlZD1cXFwiZGlzYWJsZWRcXFwiIHRpdGxlPVxcXCI8JT0gaTE4bi50KCd0b29sYmFyLnVuZG8nKSU+XFxcIj48aSBjbGFzcz1cXFwibWF0ZXJpYWwtaWNvbnNcXFwiPnVuZG88L2k+PC9idXR0b24+XFxuICAgICAgICA8YnV0dG9uIGlkPVxcXCJyZWRvQnV0dG9uXFxcIiBjbGFzcz1cXFwiaWNvbi1idXR0b25cXFwiIGRpc2FibGVkPVxcXCJkaXNhYmxlZFxcXCIgdGl0bGU9XFxcIjwlPSBpMThuLnQoJ3Rvb2xiYXIucmVkbycpJT5cXFwiPjxpIGNsYXNzPVxcXCJtYXRlcmlhbC1pY29uc1xcXCI+cmVkbzwvaT48L2J1dHRvbj5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcInRvb2xiYXItZ3JvdXBcXFwiPlxcbiAgICAgICAgPGJ1dHRvbiBpZD1cXFwic2Vuc2l0aXZpdHktYW5hbHlzaXMtYnV0dG9uXFxcIiBjbGFzcz1cXFwiaWNvbi1idXR0b25cXFwiIHRpdGxlPVxcXCI8JT0gaTE4bi50KCd0b29sYmFyLnNlbnNpdGl2aXR5QW5hbHlzaXMnKSU+XFxcIj48aSBjbGFzcz1cXFwibWF0ZXJpYWwtaWNvbnNcXFwiPmFzc2Vzc21lbnQ8L2k+PC9idXR0b24+XFxuICAgICAgICA8YnV0dG9uIGlkPVxcXCJyZWNvbXB1dGUtYnV0dG9uXFxcIiBjbGFzcz1cXFwiaWNvbi1idXR0b25cXFwiIHRpdGxlPVxcXCI8JT0gaTE4bi50KCd0b29sYmFyLnJlY29tcHV0ZScpJT5cXFwiPjxpIGNsYXNzPVxcXCJtYXRlcmlhbC1pY29uc1xcXCI+cmVmcmVzaDwvaT48L2J1dHRvbj5cXG4gICAgICAgIDxidXR0b24gaWQ9XFxcInNldHRpbmdzLWJ1dHRvblxcXCIgY2xhc3M9XFxcImljb24tYnV0dG9uXFxcIiB0aXRsZT1cXFwiPCU9IGkxOG4udCgndG9vbGJhci5zZXR0aW5ncycpJT5cXFwiPjxpIGNsYXNzPVxcXCJtYXRlcmlhbC1pY29uc1xcXCI+c2V0dGluZ3M8L2k+PC9idXR0b24+XFxuICAgICAgICA8YnV0dG9uIGlkPVxcXCJhYm91dC1idXR0b25cXFwiIGNsYXNzPVxcXCJpY29uLWJ1dHRvblxcXCIgdGl0bGU9XFxcIjwlPSBpMThuLnQoJ3Rvb2xiYXIuYWJvdXQnKSU+XFxcIj48aSBjbGFzcz1cXFwibWF0ZXJpYWwtaWNvbnNcXFwiPmluZm9fb3V0bGluZTwvaT48L2J1dHRvbj5cXG4gICAgPC9kaXY+XFxuPC9kaXY+XFxuXCI7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1cXFwic2Qtd2FybmluZy1tZXNzYWdlXFxcIj5cXG4gICAgPGkgY2xhc3M9XFxcIm1hdGVyaWFsLWljb25zIHNkLWljb25cXFwiPndhcm5pbmc8L2k+XFxuICAgIDxkaXYgY2xhc3M9XFxcInNkLXdhcm5pbmctbWVzc2FnZS10ZXh0XFxcIj5cXG4gICAgICAgPCU9IG1lc3NhZ2UgJT5cXG4gICAgPC9kaXY+XFxuPC9kaXY+XFxuXCI7XG4iLCJpbXBvcnQgKiBhcyBkMyBmcm9tICcuL2QzJ1xuaW1wb3J0IHtpMThufSBmcm9tICcuL2kxOG4vaTE4bidcbmltcG9ydCB7QXBwVXRpbHN9IGZyb20gJy4vYXBwLXV0aWxzJ1xuaW1wb3J0IHtFeHBvcnRlcn0gZnJvbSAnLi9leHBvcnRlcidcbmltcG9ydCB7RmlsZUxvYWRlcn0gZnJvbSAnLi9maWxlLWxvYWRlcidcblxuZXhwb3J0IGNsYXNzIFRvb2xiYXJ7XG5cbiAgICBhcHA7XG4gICAgY29udGFpbmVyO1xuICAgIGhpZGRlbkNsYXNzID0gJ3NkLWhpZGRlbic7XG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyLCBhcHApe1xuICAgICAgICB0aGlzLmFwcCA9IGFwcDtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMuaW5pdERpYWdyYW1CdXR0b25zKCk7XG4gICAgICAgIHRoaXMuaW5pdEV4cG9ydFRvb2xiYXJHcm91cCgpO1xuICAgICAgICB0aGlzLmluaXRMYXlvdXRCdXR0b25zKCk7XG4gICAgICAgIHRoaXMuaW5pdFVuZG9SZWRvQnV0dG9ucygpO1xuICAgICAgICB0aGlzLmluaXRTZXR0aW5nc0J1dHRvbigpO1xuICAgICAgICB0aGlzLmluaXRBYm91dEJ1dHRvbigpO1xuICAgICAgICB0aGlzLmluaXRTZW5zaXRpdml0eUFuYWx5c2lzQnV0dG9uKCk7XG4gICAgICAgIHRoaXMuaW5pdFJlY29tcHV0ZUJ1dHRvbigpO1xuICAgICAgICB0aGlzLmluaXRPYmplY3RpdmVSdWxlVG9vbGJhckdyb3VwKCk7XG4gICAgfVxuXG4gICAgaW5pdERpYWdyYW1CdXR0b25zKCl7XG5cblxuICAgICAgICB0aGlzLm5ld0RpYWdyYW1CdXR0b24gPSB0aGlzLmNvbnRhaW5lci5zZWxlY3QoJyNuZXctZGlhZ3JhbS1idXR0b24nKS5vbignY2xpY2snLCAoKT0+e1xuICAgICAgICAgICAgaWYoIWNvbmZpcm0oaTE4bi50KCdjb25maXJtLm5ld0RpYWdyYW0nKSkpe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYXBwLm5ld0RpYWdyYW0oKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmV3RGlhZ3JhbUJ1dHRvbi5jbGFzc2VkKHRoaXMuaGlkZGVuQ2xhc3MsICF0aGlzLmFwcC5jb25maWcuYnV0dG9ucy5uZXcpO1xuICAgICAgICB0aGlzLm9wZW5EaWFncmFtQnV0dG9uID0gdGhpcy5jb250YWluZXIuc2VsZWN0KCcjb3Blbi1kaWFncmFtLWJ1dHRvbicpLm9uKCdjbGljaycsICgpPT57XG4gICAgICAgICAgICBpZighY29uZmlybShpMThuLnQoJ2NvbmZpcm0ub3BlbkRpYWdyYW0nKSkpe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEZpbGVMb2FkZXIub3BlbkZpbGUobW9kZWw9PntcbiAgICAgICAgICAgICAgICB0aGlzLmFwcC5vcGVuRGlhZ3JhbShtb2RlbCk7XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9wZW5EaWFncmFtQnV0dG9uLmNsYXNzZWQodGhpcy5oaWRkZW5DbGFzcywgIXRoaXMuYXBwLmNvbmZpZy5idXR0b25zLm9wZW4pO1xuICAgICAgICB0aGlzLnNhdmVEaWFncmFtQnV0dG9uID0gdGhpcy5jb250YWluZXIuc2VsZWN0KCcjc2F2ZS1kaWFncmFtLWJ1dHRvbicpLm9uKCdjbGljaycsICgpPT57XG4gICAgICAgICAgICB0aGlzLmFwcC5zZXJpYWxpemUoKS50aGVuKChqc29uKT0+e1xuICAgICAgICAgICAgICAgIEFwcFV0aWxzLmRpc3BhdGNoRXZlbnQoJ1NpbHZlckRlY2lzaW9uc1NhdmVFdmVudCcsIGpzb24pO1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuYXBwLmNvbmZpZy5qc29uRmlsZURvd25sb2FkKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbanNvbl0sIHt0eXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIn0pO1xuICAgICAgICAgICAgICAgICAgICBFeHBvcnRlci5zYXZlQXMoYmxvYiwgRXhwb3J0ZXIuZ2V0RXhwb3J0RmlsZU5hbWUoJ2pzb24nKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cblxuXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNhdmVEaWFncmFtQnV0dG9uLmNsYXNzZWQodGhpcy5oaWRkZW5DbGFzcywgIXRoaXMuYXBwLmNvbmZpZy5idXR0b25zLnNhdmUpO1xuICAgIH1cblxuXG5cbiAgICBpbml0TGF5b3V0QnV0dG9ucygpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBzZWxmLmFwcC50cmVlRGVzaWduZXIubGF5b3V0Lm9uQXV0b0xheW91dENoYW5nZWQucHVzaCgobGF5b3V0KT0+c2VsZi5vbkxheW91dENoYW5nZWQobGF5b3V0KSk7XG4gICAgICAgIHRoaXMubGF5b3V0QnV0dG9ucz17fTtcbiAgICAgICAgdGhpcy5sYXlvdXRCdXR0b25zWydtYW51YWwnXSA9IHRoaXMuY29udGFpbmVyLnNlbGVjdCgnI21hbnVhbExheW91dEJ1dHRvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmKHNlbGYuYXBwLnRyZWVEZXNpZ25lci5jb25maWcubGF5b3V0LnR5cGU9PSdtYW51YWwnKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxmLmFwcC50cmVlRGVzaWduZXIubGF5b3V0LmRpc2FibGVBdXRvTGF5b3V0KCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxheW91dEJ1dHRvbnNbJ3RyZWUnXSA9IHRoaXMuY29udGFpbmVyLnNlbGVjdCgnI3RyZWVBdXRvTGF5b3V0QnV0dG9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYoc2VsZi5hcHAudHJlZURlc2lnbmVyLmNvbmZpZy5sYXlvdXQudHlwZT09J3RyZWUnKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxmLmFwcC50cmVlRGVzaWduZXIuYXV0b0xheW91dCgndHJlZScpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5sYXlvdXRCdXR0b25zWydjbHVzdGVyJ10gPSB0aGlzLmNvbnRhaW5lci5zZWxlY3QoJyNjbHVzdGVyQXV0b0xheW91dEJ1dHRvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmKHNlbGYuYXBwLnRyZWVEZXNpZ25lci5jb25maWcubGF5b3V0LnR5cGU9PSdjbHVzdGVyJyl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5hcHAudHJlZURlc2lnbmVyLmF1dG9MYXlvdXQoJ2NsdXN0ZXInKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy51cGRhdGVMYXlvdXRCdXR0b25zKCk7XG4gICAgfVxuXG4gICAgdXBkYXRlTGF5b3V0QnV0dG9ucygpIHtcbiAgICAgICAgdGhpcy5vbkxheW91dENoYW5nZWQodGhpcy5hcHAudHJlZURlc2lnbmVyLmNvbmZpZy5sYXlvdXQudHlwZSlcbiAgICB9XG5cbiAgICBpbml0U2V0dGluZ3NCdXR0b24oKXtcbiAgICAgICAgdGhpcy5zZXR0aW5nc0J1dHRvbiA9IHRoaXMuY29udGFpbmVyLnNlbGVjdCgnI3NldHRpbmdzLWJ1dHRvbicpLm9uKCdjbGljaycsICgpPT57XG4gICAgICAgICAgICB0aGlzLmFwcC5zZXR0aW5nc0RpYWxvZy5vcGVuKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGluaXRBYm91dEJ1dHRvbigpe1xuICAgICAgICB0aGlzLmFib3V0QnV0dG9uID0gdGhpcy5jb250YWluZXIuc2VsZWN0KCcjYWJvdXQtYnV0dG9uJykub24oJ2NsaWNrJywgKCk9PntcbiAgICAgICAgICAgIHRoaXMuYXBwLmFib3V0RGlhbG9nLm9wZW4oKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaW5pdFJlY29tcHV0ZUJ1dHRvbigpe1xuICAgICAgICB0aGlzLnJlY29tcHV0ZUJ1dHRvbiA9IHRoaXMuY29udGFpbmVyLnNlbGVjdCgnI3JlY29tcHV0ZS1idXR0b24nKS5vbignY2xpY2snLCAoKT0+e1xuICAgICAgICAgICAgdGhpcy5hcHAucmVjb21wdXRlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGluaXRTZW5zaXRpdml0eUFuYWx5c2lzQnV0dG9uKCl7XG4gICAgICAgIHRoaXMuc2Vuc2l0aXZpdHlBbmFseXNpc0J1dHRvbiA9IHRoaXMuY29udGFpbmVyLnNlbGVjdCgnI3NlbnNpdGl2aXR5LWFuYWx5c2lzLWJ1dHRvbicpLm9uKCdjbGljaycsICgpPT57XG4gICAgICAgICAgICB0aGlzLmFwcC5vcGVuU2Vuc2l0aXZpdHlBbmFseXNpcygpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB1cGRhdGVTZW5zaXRpdml0eUFuYWx5c2lzQnV0dG9uKCl7XG4gICAgICAgIHRoaXMuc2Vuc2l0aXZpdHlBbmFseXNpc0J1dHRvbi5hdHRyKFwiZGlzYWJsZWRcIiwgdGhpcy5hcHAuaXNTZW5zaXRpdml0eUFuYWx5c2lzQXZhaWxhYmxlKCkgPyBudWxsIDogJ2Rpc2FibGVkJyk7XG4gICAgfVxuXG5cbiAgICBvbkxheW91dENoYW5nZWQobGF5b3V0KXtcbiAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcy5sYXlvdXRCdXR0b25zKS5mb3JFYWNoKGw9PntcbiAgICAgICAgICAgIHRoaXMubGF5b3V0QnV0dG9uc1tsXS5jbGFzc2VkKCdhY3RpdmUnLCBmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgYnV0dG9uID0gdGhpcy5sYXlvdXRCdXR0b25zW2xheW91dF07XG4gICAgICAgIGlmKGJ1dHRvbil7XG4gICAgICAgICAgICBidXR0b24uY2xhc3NlZCgnYWN0aXZlJywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbml0VW5kb1JlZG9CdXR0b25zKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNlbGYuYXBwLmRhdGFNb2RlbC51bmRvUmVkb1N0YXRlQ2hhbmdlZENhbGxiYWNrID0gKCk9PnRoaXMub25VbmRvUmVkb0NoYW5nZWQoKTtcbiAgICAgICAgdGhpcy51bmRvQnV0dG9uID0gdGhpcy5jb250YWluZXIuc2VsZWN0KCcjdW5kb0J1dHRvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbGYuYXBwLnVuZG8oKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmVkb0J1dHRvbiA9IHRoaXMuY29udGFpbmVyLnNlbGVjdCgnI3JlZG9CdXR0b24nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZWxmLmFwcC5yZWRvKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uVW5kb1JlZG9DaGFuZ2VkKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVVuZG9SZWRvQnV0dG9ucygpO1xuICAgICAgICB0aGlzLnVwZGF0ZVNlbnNpdGl2aXR5QW5hbHlzaXNCdXR0b24oKTtcbiAgICB9XG4gICAgdXBkYXRlVW5kb1JlZG9CdXR0b25zKCl7XG4gICAgICAgIHRoaXMudW5kb0J1dHRvbi5hdHRyKFwiZGlzYWJsZWRcIiwgdGhpcy5hcHAuZGF0YU1vZGVsLmlzVW5kb0F2YWlsYWJsZSgpID8gbnVsbCA6ICdkaXNhYmxlZCcpO1xuICAgICAgICB0aGlzLnJlZG9CdXR0b24uYXR0cihcImRpc2FibGVkXCIsIHRoaXMuYXBwLmRhdGFNb2RlbC5pc1JlZG9BdmFpbGFibGUoKSA/IG51bGwgOiAnZGlzYWJsZWQnKTtcbiAgICB9XG5cbiAgICB1cGRhdGUoKXtcbiAgICAgICAgdGhpcy51cGRhdGVVbmRvUmVkb0J1dHRvbnMoKTtcbiAgICAgICAgdGhpcy51cGRhdGVTZW5zaXRpdml0eUFuYWx5c2lzQnV0dG9uKCk7XG4gICAgICAgIHRoaXMudXBkYXRlTGF5b3V0QnV0dG9ucygpO1xuICAgICAgICB0aGlzLnVwZGF0ZU9iamVjdGl2ZVJ1bGVWYWx1ZSgpO1xuICAgIH1cblxuICAgIGluaXRFeHBvcnRUb29sYmFyR3JvdXAoKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnNlbGVjdCgnI2V4cG9ydC10b29sYmFyLWdyb3VwJykuY2xhc3NlZCh0aGlzLmhpZGRlbkNsYXNzLCAhdGhpcy5hcHAuY29uZmlnLmV4cG9ydHMuc2hvdyk7XG4gICAgICAgIGlmKCF0aGlzLmFwcC5jb25maWcuZXhwb3J0cy5zaG93KXtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluaXRFeHBvcnRUb1BuZ0J1dHRvbigpO1xuICAgICAgICB0aGlzLmluaXRFeHBvcnRTdmdCdXR0b24oKTtcbiAgICAgICAgdGhpcy5pbml0RXhwb3J0UGRmQnV0dG9uKCk7XG5cbiAgICB9XG4gICAgaW5pdEV4cG9ydFRvUG5nQnV0dG9uKCkge1xuICAgICAgICB2YXIgc3ZnID0gdGhpcy5hcHAudHJlZURlc2lnbmVyLnN2ZztcbiAgICAgICAgdGhpcy5jb250YWluZXIuc2VsZWN0KCcjc2F2ZUJ1dHRvbicpXG4gICAgICAgICAgICAub24oJ2NsaWNrJywgKCkgPT4gRXhwb3J0ZXIuc2F2ZUFzUG5nKHN2ZywgdGhpcy5hcHAuY29uZmlnLmV4cG9ydHMpKVxuICAgICAgICAgICAgLmNsYXNzZWQodGhpcy5oaWRkZW5DbGFzcywgIXRoaXMuYXBwLmNvbmZpZy5idXR0b25zLmV4cG9ydFRvUG5nKVxuICAgIH1cblxuICAgIGluaXRFeHBvcnRTdmdCdXR0b24oKSB7XG4gICAgICAgIHZhciBzdmcgPSB0aGlzLmFwcC50cmVlRGVzaWduZXIuc3ZnO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZWxlY3QoJyNzYXZlQnV0dG9uU3ZnJylcbiAgICAgICAgICAgIC5vbignY2xpY2snLCAoKSA9PiBFeHBvcnRlci5zYXZlQXNTdmcoc3ZnKSlcbiAgICAgICAgICAgIC5jbGFzc2VkKHRoaXMuaGlkZGVuQ2xhc3MsICF0aGlzLmFwcC5jb25maWcuYnV0dG9ucy5leHBvcnRUb1N2ZylcbiAgICB9XG5cbiAgICBpbml0RXhwb3J0UGRmQnV0dG9uKCkge1xuICAgICAgICB2YXIgc3ZnID0gdGhpcy5hcHAudHJlZURlc2lnbmVyLnN2ZztcbiAgICAgICAgdGhpcy5jb250YWluZXIuc2VsZWN0KCcjc2F2ZUJ1dHRvblBkZicpXG4gICAgICAgICAgICAub24oJ2NsaWNrJywgKCkgPT4gRXhwb3J0ZXIuc2F2ZUFzUGRmKHN2ZywgdGhpcy5hcHAuY29uZmlnLmV4cG9ydHMpKVxuICAgICAgICAgICAgLmNsYXNzZWQodGhpcy5oaWRkZW5DbGFzcywgIXRoaXMuYXBwLmNvbmZpZy5idXR0b25zLmV4cG9ydFRvUGRmKVxuICAgIH1cblxuICAgIGluaXRPYmplY3RpdmVSdWxlVG9vbGJhckdyb3VwKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMub2JqZWN0aXZlUnVsZVNlbGVjdCA9IHRoaXMuY29udGFpbmVyLnNlbGVjdCgnI29iamVjdGl2ZS1ydWxlLXNlbGVjdCcpO1xuICAgICAgICB2YXIgcnVsZXMgPSB0aGlzLmFwcC5nZXRPYmplY3RpdmVSdWxlcygpO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub2JqZWN0aXZlUnVsZVNlbGVjdC5zZWxlY3RBbGwoJ29wdGlvbicpLmRhdGEocnVsZXMpO1xuICAgICAgICBvcHRpb25zLmVudGVyKClcbiAgICAgICAgICAgIC5hcHBlbmQoJ29wdGlvbicpXG4gICAgICAgICAgICAubWVyZ2Uob3B0aW9ucylcbiAgICAgICAgICAgIC5hdHRyKCd2YWx1ZScsIGQ9PmQubmFtZSlcbiAgICAgICAgICAgIC50ZXh0KGQ9PmkxOG4udCgndG9vbGJhci5vYmplY3RpdmVSdWxlLm9wdGlvbnMuJytkLm5hbWUpKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZU9iamVjdGl2ZVJ1bGVWYWx1ZSgpO1xuXG4gICAgICAgIHRoaXMub2JqZWN0aXZlUnVsZVNlbGVjdC5vbignY2hhbmdlJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHNlbGYuYXBwLnNldE9iamVjdGl2ZVJ1bGUodGhpcy52YWx1ZSk7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgdXBkYXRlT2JqZWN0aXZlUnVsZVZhbHVlKCl7XG4gICAgICAgIHRoaXMub2JqZWN0aXZlUnVsZVNlbGVjdC5ub2RlKCkudmFsdWUgPSB0aGlzLmFwcC5nZXRDdXJyZW50T2JqZWN0aXZlUnVsZSgpLm5hbWU7XG4gICAgfVxufVxuIiwiaW1wb3J0ICogYXMgZDMgZnJvbSAnLi9kMydcbmltcG9ydCB7aTE4bn0gZnJvbSAnLi9pMThuL2kxOG4nXG5cbmltcG9ydCB7VXRpbHN9IGZyb20gJ3NkLXV0aWxzJ1xuXG5leHBvcnQgY2xhc3MgVG9vbHRpcCB7XG4gICAgc3RhdGljIGdldENvbnRhaW5lcigpe1xuICAgICAgICByZXR1cm4gZDMuc2VsZWN0KFwiYm9keVwiKS5zZWxlY3RPckFwcGVuZCgnZGl2LnNkLXRvb2x0aXAnKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2hvdyhodG1sLCB4T2Zmc2V0ID0gNSwgeU9mZnNldCA9IDI4LCBldmVudCwgZHVyYXRpb249bnVsbCkge1xuICAgICAgICB2YXIgY29udGFpbmVyID0gVG9vbHRpcC5nZXRDb250YWluZXIoKVxuICAgICAgICAgICAgLnN0eWxlKFwib3BhY2l0eVwiLCAwKTtcbiAgICAgICAgY29udGFpbmVyLnRyYW5zaXRpb24oKVxuICAgICAgICAgICAgLmR1cmF0aW9uKDIwMClcbiAgICAgICAgICAgIC5zdHlsZShcIm9wYWNpdHlcIiwgLjk4KTtcbiAgICAgICAgY29udGFpbmVyLmh0bWwoaHRtbCk7XG4gICAgICAgIFRvb2x0aXAudXBkYXRlUG9zaXRpb24oeE9mZnNldCwgeU9mZnNldCwgZXZlbnQpO1xuICAgICAgICBpZihkdXJhdGlvbil7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgVG9vbHRpcC5oaWRlKCk7XG4gICAgICAgICAgICB9LCBkdXJhdGlvbilcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyB1cGRhdGVQb3NpdGlvbih4T2Zmc2V0ID0gNSwgeU9mZnNldCA9IDI4LCBldmVudCkge1xuICAgICAgICBldmVudCA9IGV2ZW50IHx8IGQzLmV2ZW50O1xuICAgICAgICBUb29sdGlwLmdldENvbnRhaW5lcigpXG4gICAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChldmVudC5wYWdlWCArIHhPZmZzZXQpICsgXCJweFwiKVxuICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChldmVudC5wYWdlWSAtIHlPZmZzZXQpICsgXCJweFwiKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaGlkZShkdXJhdGlvbiA9IDUwMCkge1xuICAgICAgICB2YXIgdCA9IFRvb2x0aXAuZ2V0Q29udGFpbmVyKCk7XG4gICAgICAgIGlmKGR1cmF0aW9uKXtcbiAgICAgICAgICAgIHQgPSB0LnRyYW5zaXRpb24oKS5kdXJhdGlvbihkdXJhdGlvbilcbiAgICAgICAgfVxuICAgICAgICB0LnN0eWxlKFwib3BhY2l0eVwiLCAwKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYXR0YWNoKHRhcmdldCwgaHRtbE9yRm4sIHhPZmZzZXQsIHlPZmZzZXQpIHtcbiAgICAgICAgdGFyZ2V0Lm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgdmFyIGh0bWwgPSBudWxsO1xuICAgICAgICAgICAgaWYgKFV0aWxzLmlzRnVuY3Rpb24oaHRtbE9yRm4pKSB7XG4gICAgICAgICAgICAgICAgaHRtbCA9IGh0bWxPckZuKGQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBodG1sID0gaHRtbE9yRm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChodG1sICE9PSBudWxsICYmIGh0bWwgIT09IHVuZGVmaW5lZCAmJiBodG1sICE9PSAnJykge1xuICAgICAgICAgICAgICAgIFRvb2x0aXAuc2hvdyhodG1sLCB4T2Zmc2V0LCB5T2Zmc2V0KTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIFRvb2x0aXAuaGlkZSgwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KS5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIFRvb2x0aXAudXBkYXRlUG9zaXRpb24oeE9mZnNldCwgeU9mZnNldCk7XG4gICAgICAgIH0pLm9uKFwibW91c2VvdXRcIiwgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIFRvb2x0aXAuaGlkZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgKiBhcyBkMyBmcm9tICcuLi9kMydcblxuLypiYXNlZCBvbjpcbiAqIGdpdGh1Yi5jb20vcGF0b3Jqay9kMy1jb250ZXh0LW1lbnUgKi9cblxuZXhwb3J0IGNsYXNzIENvbnRleHRNZW51IHtcbiAgICBvcGVuQ2FsbGJhY2s7XG4gICAgY2xvc2VDYWxsYmFjaztcblxuICAgIGNvbnN0cnVjdG9yKG1lbnUsIG9wdHMpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgc2VsZi5vcGVuQ2FsbGJhY2sgPSBvcHRzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0cyA9IG9wdHMgfHwge307XG4gICAgICAgICAgICBzZWxmLm9wZW5DYWxsYmFjayA9IG9wdHMub25PcGVuO1xuICAgICAgICAgICAgc2VsZi5jbG9zZUNhbGxiYWNrID0gb3B0cy5vbkNsb3NlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY3JlYXRlIHRoZSBkaXYgZWxlbWVudCB0aGF0IHdpbGwgaG9sZCB0aGUgY29udGV4dCBtZW51XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnLmQzLWNvbnRleHQtbWVudScpLmRhdGEoWzFdKVxuICAgICAgICAgICAgLmVudGVyKClcbiAgICAgICAgICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnZDMtY29udGV4dC1tZW51Jyk7XG5cbiAgICAgICAgLy8gY2xvc2UgbWVudVxuICAgICAgICBkMy5zZWxlY3QoJ2JvZHknKS5vbignY2xpY2suZDMtY29udGV4dC1tZW51JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZDMuc2VsZWN0KCcuZDMtY29udGV4dC1tZW51Jykuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICAgICAgaWYgKHNlbGYuY2xvc2VDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHNlbGYuY2xvc2VDYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyB0aGlzIGdldHMgZXhlY3V0ZWQgd2hlbiBhIGNvbnRleHRtZW51IGV2ZW50IG9jY3Vyc1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGRhdGEsIGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgZWxtID0gdGhpcztcblxuICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuZDMtY29udGV4dC1tZW51JykuaHRtbCgnJyk7XG4gICAgICAgICAgICB2YXIgbGlzdCA9IGQzLnNlbGVjdEFsbCgnLmQzLWNvbnRleHQtbWVudScpXG4gICAgICAgICAgICAgICAgLm9uKCdjb250ZXh0bWVudScsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdCgnLmQzLWNvbnRleHQtbWVudScpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgICAgICAgICAgICAgZDMuZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgZDMuZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCd1bCcpO1xuICAgICAgICAgICAgbGlzdC5zZWxlY3RBbGwoJ2xpJykuZGF0YSh0eXBlb2YgbWVudSA9PT0gJ2Z1bmN0aW9uJyA/IG1lbnUoZGF0YSkgOiBtZW51KS5lbnRlcigpXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgnbGknKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXQgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQuZGl2aWRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0ICs9ICcgaXMtZGl2aWRlcic7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGQuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldCArPSAnIGlzLWRpc2FibGVkJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWQuYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXQgKz0gJyBpcy1oZWFkZXInO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuaHRtbChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZC5kaXZpZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJzxocj4nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghZC50aXRsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignTm8gdGl0bGUgYXR0cmlidXRlIHNldC4gQ2hlY2sgdGhlIHNwZWxsaW5nIG9mIHlvdXIgb3B0aW9ucy4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHR5cGVvZiBkLnRpdGxlID09PSAnc3RyaW5nJykgPyBkLnRpdGxlIDogZC50aXRsZShkYXRhKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoZCwgaSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZC5kaXNhYmxlZCkgcmV0dXJuOyAvLyBkbyBub3RoaW5nIGlmIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgIGlmICghZC5hY3Rpb24pIHJldHVybjsgLy8gaGVhZGVycyBoYXZlIG5vIFwiYWN0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgZC5hY3Rpb24oZWxtLCBkYXRhLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdCgnLmQzLWNvbnRleHQtbWVudScpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5jbG9zZUNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNsb3NlQ2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyB0aGUgb3BlbkNhbGxiYWNrIGFsbG93cyBhbiBhY3Rpb24gdG8gZmlyZSBiZWZvcmUgdGhlIG1lbnUgaXMgZGlzcGxheWVkXG4gICAgICAgICAgICAvLyBhbiBleGFtcGxlIHVzYWdlIHdvdWxkIGJlIGNsb3NpbmcgYSB0b29sdGlwXG4gICAgICAgICAgICBpZiAoc2VsZi5vcGVuQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5vcGVuQ2FsbGJhY2soZGF0YSwgaW5kZXgpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBkaXNwbGF5IGNvbnRleHQgbWVudVxuICAgICAgICAgICAgZDMuc2VsZWN0KCcuZDMtY29udGV4dC1tZW51JylcbiAgICAgICAgICAgICAgICAuc3R5bGUoJ2xlZnQnLCAoZDMuZXZlbnQucGFnZVggLSAyKSArICdweCcpXG4gICAgICAgICAgICAgICAgLnN0eWxlKCd0b3AnLCAoZDMuZXZlbnQucGFnZVkgLSAyKSArICdweCcpXG4gICAgICAgICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG5cbiAgICAgICAgICAgIGQzLmV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBkMy5ldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgc3RhdGljIGhpZGUoKSB7XG4gICAgICAgIGQzLnNlbGVjdCgnLmQzLWNvbnRleHQtbWVudScpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICB9XG5cbn1cbiIsImltcG9ydCB7Q29udGV4dE1lbnV9IGZyb20gJy4vY29udGV4dC1tZW51J1xuaW1wb3J0IHtVdGlsc30gZnJvbSAnc2QtdXRpbHMnXG5pbXBvcnQgKiBhcyBkMyBmcm9tICcuLi9kMydcbmltcG9ydCB7aTE4bn0gZnJvbSBcIi4uL2kxOG4vaTE4blwiO1xuXG5leHBvcnQgY2xhc3MgRWRnZUNvbnRleHRNZW51IGV4dGVuZHMgQ29udGV4dE1lbnUge1xuICAgIHRyZWVEZXNpZ25lcjtcblxuICAgIGNvbnN0cnVjdG9yKHRyZWVEZXNpZ25lcikge1xuICAgICAgICB2YXIgbWVudSA9IGZ1bmN0aW9uIChkKSB7XG5cbiAgICAgICAgICAgIHZhciBtZW51ID0gW107XG5cbiAgICAgICAgICAgIG1lbnUucHVzaCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IGkxOG4udCgnY29udGV4dE1lbnUuZWRnZS5pbmplY3REZWNpc2lvbk5vZGUnKSxcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChlbG0sIGQsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJlZURlc2lnbmVyLmluamVjdERlY2lzaW9uTm9kZShkKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbWVudS5wdXNoKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogaTE4bi50KCdjb250ZXh0TWVudS5lZGdlLmluamVjdENoYW5jZU5vZGUnKSxcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChlbG0sIGQsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJlZURlc2lnbmVyLmluamVjdENoYW5jZU5vZGUoZClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgICByZXR1cm4gbWVudTtcbiAgICAgICAgfTtcblxuICAgICAgICBzdXBlcihtZW51KTtcbiAgICAgICAgdGhpcy50cmVlRGVzaWduZXIgPSB0cmVlRGVzaWduZXI7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtVdGlsc30gZnJvbSAnc2QtdXRpbHMnXG5pbXBvcnQge2RvbWFpbiBhcyBtb2RlbH0gZnJvbSAnc2QtbW9kZWwnXG5pbXBvcnQgKiBhcyBkMyBmcm9tICcuLi9kMydcbmltcG9ydCBjaXJjbGVTeW1ib2wgZnJvbSAnLi9zeW1ib2xzL2NpcmNsZSdcbmltcG9ydCB0cmlhbmdsZVN5bWJvbCBmcm9tICcuL3N5bWJvbHMvdHJpYW5nbGUnXG5cbi8qVHJlZSBsYXlvdXQgbWFuYWdlciovXG5leHBvcnQgY2xhc3MgTGF5b3V0e1xuXG4gICAgdHJlZURlc2lnbmVyO1xuICAgIGRhdGE7XG4gICAgY29uZmlnO1xuXG4gICAgbm9kZVR5cGVUb1N5bWJvbCA9IHtcbiAgICAgICAgJ2RlY2lzaW9uJzogZDMuc3ltYm9sU3F1YXJlLFxuICAgICAgICAnY2hhbmNlJzogY2lyY2xlU3ltYm9sLFxuICAgICAgICBcInRlcm1pbmFsXCI6IHRyaWFuZ2xlU3ltYm9sXG4gICAgfTtcblxuICAgIHN0YXRpYyBNQU5VQUxfTEFZT1VUX05BTUUgPSAnbWFudWFsJztcblxuXG4gICAgb25BdXRvTGF5b3V0Q2hhbmdlZD1bXTtcblxuICAgIG5vZGVUeXBlT3JkZXIgPSB7XG4gICAgICAgICdkZWNpc2lvbicgOiAwLFxuICAgICAgICAnY2hhbmNlJzogMCxcbiAgICAgICAgJ3Rlcm1pbmFsJzogMVxuICAgIH07XG5cbiAgICB0cmVlTWFyZ2luID0gNTA7XG4gICAgdGFyZ2V0U3ltYm9sU2l6ZT17fTtcbiAgICBub2RlU2VwYXJhdGlvbiA9IChhLCBiKSA9PiBhLnBhcmVudCA9PSBiLnBhcmVudCA/IDEgOiAxLjJcblxuICAgIGNvbnN0cnVjdG9yKHRyZWVEZXNpZ25lciwgZGF0YSwgY29uZmlnKXtcbiAgICAgICAgdGhpcy50cmVlRGVzaWduZXIgPSB0cmVlRGVzaWduZXI7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuXG4gICAgfVxuXG4gICAgdXBkYXRlKG5vZGUpe1xuICAgICAgICBpZihub2RlICYmIG5vZGUuJHBhcmVudCl7XG4gICAgICAgICAgICBub2RlLiRwYXJlbnQuY2hpbGRFZGdlcy5zb3J0KChhLGIpPT5hLmNoaWxkTm9kZS5sb2NhdGlvbi55IC0gYi5jaGlsZE5vZGUubG9jYXRpb24ueSlcbiAgICAgICAgfVxuICAgICAgICBpZighdGhpcy5pc01hbnVhbExheW91dCgpKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmF1dG9MYXlvdXQodGhpcy5jb25maWcudHlwZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYobm9kZSl7XG4gICAgICAgICAgICB0aGlzLm1vdmVOb2RlVG9FbXB0eVBsYWNlKG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNNYW51YWxMYXlvdXQoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLnR5cGUgPT0gTGF5b3V0Lk1BTlVBTF9MQVlPVVRfTkFNRTtcbiAgICB9XG5cbiAgICBnZXROZXdDaGlsZExvY2F0aW9uKHBhcmVudCl7XG4gICAgICAgIHZhciB4ID0gcGFyZW50LmxvY2F0aW9uLnggKyB0aGlzLmNvbmZpZy5ncmlkV2lkdGg7XG4gICAgICAgIHZhciB5ID0gcGFyZW50LmxvY2F0aW9uLnk7XG4gICAgICAgIGlmKHBhcmVudC5jaGlsZEVkZ2VzLmxlbmd0aCl7XG4gICAgICAgICAgICB5ID0gcGFyZW50LmNoaWxkRWRnZXNbcGFyZW50LmNoaWxkRWRnZXMubGVuZ3RoLTFdLmNoaWxkTm9kZS5sb2NhdGlvbi55KzE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IG1vZGVsLlBvaW50KHgsIHkpXG4gICAgfVxuXG4gICAgZ2V0SW5qZWN0ZWROb2RlTG9jYXRpb24oZWRnZSl7XG5cbiAgICAgICAgdmFyIHAgPSBlZGdlLiRsaW5lUG9pbnRzWzJdO1xuXG4gICAgICAgIHJldHVybiBuZXcgbW9kZWwuUG9pbnQocFswXSwgcFsxXSlcbiAgICB9XG5cbiAgICBtb3ZlTm9kZVRvRW1wdHlQbGFjZShub2RlLCByZWRyYXdJZkNoYW5nZWQ9dHJ1ZSl7XG4gICAgICAgIHZhciBwb3NpdGlvbk1hcCA9IHt9O1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIG5vZGUubG9jYXRpb24ueCA9IE1hdGgubWF4KHRoaXMuZ2V0Tm9kZU1pblgobm9kZSksIG5vZGUubG9jYXRpb24ueCk7XG4gICAgICAgIG5vZGUubG9jYXRpb24ueSA9IE1hdGgubWF4KHRoaXMuZ2V0Tm9kZU1pblkobm9kZSksIG5vZGUubG9jYXRpb24ueSk7XG5cblxuICAgICAgICB0aGlzLm5vZGVzU29ydGVkQnlYID0gdGhpcy5kYXRhLm5vZGVzLnNsaWNlKCk7XG4gICAgICAgIHRoaXMubm9kZXNTb3J0ZWRCeVguc29ydCgoYSxiKT0+YS5sb2NhdGlvbi54IC0gYi5sb2NhdGlvbi54KTtcblxuICAgICAgICBmdW5jdGlvbiBmaW5kQ29sbGlkaW5nTm9kZShub2RlLCBsb2NhdGlvbil7XG4gICAgICAgICAgICByZXR1cm4gVXRpbHMuZmluZChzZWxmLm5vZGVzU29ydGVkQnlYLCBuPT57XG4gICAgICAgICAgICAgICAgaWYobm9kZSA9PSBuKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBtYXJnaW4gPSBzZWxmLmNvbmZpZy5ub2RlU2l6ZS8zO1xuICAgICAgICAgICAgICAgIHZhciB4ID0gbi5sb2NhdGlvbi54O1xuICAgICAgICAgICAgICAgIHZhciB5ID0gbi5sb2NhdGlvbi55O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIChsb2NhdGlvbi54IC0gbWFyZ2luIDw9IHggJiYgbG9jYXRpb24ueCArIG1hcmdpbiA+PSB4XG4gICAgICAgICAgICAgICAgICAgICYmIGxvY2F0aW9uLnkgLSBtYXJnaW4gPD0geSAmJiBsb2NhdGlvbi55ICsgbWFyZ2luID49IHkpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdGVwWCA9IHRoaXMuY29uZmlnLm5vZGVTaXplLzI7XG4gICAgICAgIHZhciBzdGVwWSA9IHRoaXMuY29uZmlnLm5vZGVTaXplKzEwO1xuICAgICAgICB2YXIgc3RlcFhzYW1lUGFyZW50ID0gMDtcbiAgICAgICAgdmFyIHN0ZXBZc2FtZVBhcmVudCA9IDc1O1xuICAgICAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgY29saWRpbmdOb2RlO1xuICAgICAgICB2YXIgbmV3TG9jYXRpb24gPSBuZXcgbW9kZWwuUG9pbnQobm9kZS5sb2NhdGlvbik7XG4gICAgICAgIHdoaWxlKGNvbGlkaW5nTm9kZSA9IGZpbmRDb2xsaWRpbmdOb2RlKG5vZGUsIG5ld0xvY2F0aW9uKSl7XG4gICAgICAgICAgICBjaGFuZ2VkPXRydWU7XG4gICAgICAgICAgICB2YXIgc2FtZVBhcmVudCA9IG5vZGUuJHBhcmVudCAmJiBjb2xpZGluZ05vZGUuJHBhcmVudCAmJiBub2RlLiRwYXJlbnQ9PWNvbGlkaW5nTm9kZS4kcGFyZW50O1xuICAgICAgICAgICAgaWYoc2FtZVBhcmVudCl7XG4gICAgICAgICAgICAgICAgbmV3TG9jYXRpb24ubW92ZShzdGVwWHNhbWVQYXJlbnQsIHN0ZXBZc2FtZVBhcmVudCk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBuZXdMb2NhdGlvbi5tb3ZlKHN0ZXBYLCBzdGVwWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYoY2hhbmdlZCl7XG4gICAgICAgICAgICBub2RlLm1vdmVUbyhuZXdMb2NhdGlvbi54LG5ld0xvY2F0aW9uLnksIHRydWUpO1xuICAgICAgICAgICAgaWYocmVkcmF3SWZDaGFuZ2VkKXtcbiAgICAgICAgICAgICAgICB0aGlzLnRyZWVEZXNpZ25lci5yZWRyYXcodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkaXNhYmxlQXV0b0xheW91dCgpe1xuICAgICAgICB0aGlzLmNvbmZpZy50eXBlID0gTGF5b3V0Lk1BTlVBTF9MQVlPVVRfTkFNRTtcbiAgICAgICAgdGhpcy5fZmlyZU9uQXV0b0xheW91dENoYW5nZWRDYWxsYmFja3MoKTtcbiAgICB9XG5cblxuICAgIG5vZGVTeW1ib2xTaXplID0ge307XG4gICAgZHJhd05vZGVTeW1ib2wocGF0aCwgdHJhbnNpdGlvbil7XG5cbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgbm9kZVNpemUgPSB0aGlzLmNvbmZpZy5ub2RlU2l6ZTtcbiAgICAgICAgdGhpcy5ub2RlU3ltYm9sID0gZDMuc3ltYm9sKCkudHlwZShkPT4gc2VsZi5ub2RlVHlwZVRvU3ltYm9sW2QudHlwZV0pXG4gICAgICAgICAgICAuc2l6ZShkPT5zZWxmLm5vZGVTeW1ib2xTaXplW2QuJGlkXSA/IFV0aWxzLmdldChzZWxmLnRhcmdldFN5bWJvbFNpemUsIGQudHlwZStcIlsnXCIrc2VsZi5jb25maWcubm9kZVNpemUrXCInXVwiLCA2NCkgOiA2NCk7XG5cbiAgICAgICAgcGF0aFxuICAgICAgICAgICAgLmVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGF0aCA9IGQzLnNlbGVjdCh0aGlzKTtcbiAgICAgICAgICAgICAgICB2YXIgcHJldiA9IHBhdGguYXR0cihcImRcIik7XG4gICAgICAgICAgICAgICAgaWYoIXByZXYpe1xuICAgICAgICAgICAgICAgICAgICBwYXRoLmF0dHIoXCJkXCIsIHNlbGYubm9kZVN5bWJvbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBzaXplID0gVXRpbHMuZ2V0KHNlbGYudGFyZ2V0U3ltYm9sU2l6ZSwgZC50eXBlK1wiWydcIitzZWxmLmNvbmZpZy5ub2RlU2l6ZStcIiddXCIpO1xuICAgICAgICAgICAgICAgIGlmKCFzaXplKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJveCA9IHBhdGgubm9kZSgpLmdldEJCb3goKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gTWF0aC5taW4obm9kZVNpemUgLyBib3gud2lkdGgsIG5vZGVTaXplIC8gYm94LmhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIHNpemUgPSBlcnJvciAqIGVycm9yICogKHNlbGYubm9kZVN5bWJvbFNpemVbZC4kaWRdfHw2NCk7XG4gICAgICAgICAgICAgICAgICAgIFV0aWxzLnNldChzZWxmLnRhcmdldFN5bWJvbFNpemUsIGQudHlwZStcIlsnXCIrc2VsZi5jb25maWcubm9kZVNpemUrXCInXVwiLCBzaXplKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYodHJhbnNpdGlvbil7XG4gICAgICAgICAgICAgICAgICAgIHBhdGggPSAgcGF0aC50cmFuc2l0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5ub2RlU3ltYm9sU2l6ZVtkLiRpZF0gPSBzaXplO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXRoLmF0dHIoXCJkXCIsIHNlbGYubm9kZVN5bWJvbCk7XG4gICAgICAgICAgICAgICAgaWYodHJhbnNpdGlvbil7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYubm9kZVN5bWJvbFNpemVbZC4kaWRdID0gc2l6ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBub2RlTGFiZWxQb3NpdGlvbihzZWxlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHNlbGVjdGlvblxuICAgICAgICAgICAgLmF0dHIoJ3gnLCAwKVxuICAgICAgICAgICAgLmF0dHIoJ3knLCAtdGhpcy5jb25maWcubm9kZVNpemUgLyAyIC0gNylcbiAgICB9XG5cbiAgICBub2RlUGF5b2ZmUG9zaXRpb24oc2VsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBMYXlvdXQuc2V0SGFuZ2luZ1Bvc2l0aW9uKHNlbGVjdGlvbilcbiAgICAgICAgICAgIC5hdHRyKCd4JywgMClcbiAgICAgICAgICAgIC5hdHRyKCd5JywgdGhpcy5jb25maWcubm9kZVNpemUgLyAyICsgNylcbiAgICAgICAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxuICAgIH1cblxuICAgIG5vZGVBZ2dyZWdhdGVkUGF5b2ZmUG9zaXRpb24oc2VsZWN0aW9uKSB7XG4gICAgICAgIHZhciBmb250U2l6ZSA9IDEyO1xuICAgICAgICByZXR1cm4gTGF5b3V0LnNldEhhbmdpbmdQb3NpdGlvbihzZWxlY3Rpb24pXG4gICAgICAgICAgICAuYXR0cigneCcsIHRoaXMuY29uZmlnLm5vZGVTaXplIC8gMiArIDcpXG4gICAgICAgICAgICAuYXR0cigneScsIC1NYXRoLm1heChmb250U2l6ZSsgNSwgdGhpcy5jb25maWcubm9kZVNpemUgLyAyKSsgNSlcblxuICAgICAgICAgICAgLy8gLmF0dHIoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpXG4gICAgICAgICAgICAvLyAuYXR0cignZG9taW5hbnQtYmFzZWxpbmUnLCAnaGFuZ2luZycpXG4gICAgfVxuXG4gICAgbm9kZVByb2JhYmlsaXR5VG9FbnRlclBvc2l0aW9uKHNlbGVjdGlvbikge1xuICAgICAgICB2YXIgZm9udFNpemUgPSAxMjtcbiAgICAgICAgcmV0dXJuIHNlbGVjdGlvblxuICAgICAgICAgICAgLmF0dHIoJ3gnLCB0aGlzLmNvbmZpZy5ub2RlU2l6ZSAvIDIgKyA3KVxuICAgICAgICAgICAgLmF0dHIoJ3knLCBNYXRoLm1heChmb250U2l6ZSsgNSwgdGhpcy5jb25maWcubm9kZVNpemUgLyAyKSAtNSlcbiAgICAgICAgICAgIC8vIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxuICAgICAgICAgICAgLy8gLmF0dHIoJ2RvbWluYW50LWJhc2VsaW5lJywgJ2NlbnRyYWwnKVxuICAgIH1cblxuICAgIG5vZGVJbmRpY2F0b3JQb3NpdGlvbihzZWxlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHNlbGVjdGlvblxuICAgICAgICAgICAgLmF0dHIoJ3gnLCB0aGlzLmNvbmZpZy5ub2RlU2l6ZSAvIDIgKyA4KVxuICAgICAgICAgICAgLmF0dHIoJ3knLCAtIHRoaXMuY29uZmlnLm5vZGVTaXplLzIpXG4gICAgICAgICAgICAuYXR0cignZG9taW5hbnQtYmFzZWxpbmUnLCAnY2VudHJhbCcpXG4gICAgICAgICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJylcbiAgICB9XG5cbiAgICBlZGdlTGluZUQoZWRnZSl7XG4gICAgICAgIHZhciBsaW5lID0gZDMubGluZSgpXG4gICAgICAgICAgICAueChkPT4gZFswXSlcbiAgICAgICAgICAgIC55KGQ9PiBkWzFdKTtcbiAgICAgICAgLy8gLmN1cnZlKGQzLmN1cnZlQ2F0bXVsbFJvbS5hbHBoYSgwLjUpKTtcblxuXG4gICAgICAgIHZhciBwYXJlbnROb2RlID0gZWRnZS5wYXJlbnROb2RlO1xuICAgICAgICB2YXIgY2hpbGROb2RlID0gZWRnZS5jaGlsZE5vZGU7XG5cbiAgICAgICAgdmFyIGRYID0gY2hpbGROb2RlLmxvY2F0aW9uLnggLSBwYXJlbnROb2RlLmxvY2F0aW9uLng7XG4gICAgICAgIHZhciBkWSA9IGNoaWxkTm9kZS5sb2NhdGlvbi55IC0gcGFyZW50Tm9kZS5sb2NhdGlvbi55O1xuXG4gICAgICAgIHZhciBzaWduID0gZFg+PTAgPyAxIDogLTE7XG5cbiAgICAgICAgdmFyIHNsYW50U3RhcnRYT2Zmc2V0ID0gTWF0aC5taW4oZFgvMiwgdGhpcy5jb25maWcubm9kZVNpemUvMisxMCk7XG4gICAgICAgIHZhciBzbGFudFdpZHRoID0gTWF0aC5taW4odGhpcy5jb25maWcuZWRnZVNsYW50V2lkdGhNYXgsIE1hdGgubWF4KGRYLzIgLSBzbGFudFN0YXJ0WE9mZnNldCwgMCkpO1xuXG4gICAgICAgIHZhciBwb2ludDEgPSBbcGFyZW50Tm9kZS5sb2NhdGlvbi54ICt0aGlzLmNvbmZpZy5ub2RlU2l6ZS8yICsgMSwgcGFyZW50Tm9kZS5sb2NhdGlvbi55XTtcbiAgICAgICAgdmFyIHBvaW50MiA9IFtNYXRoLm1heChwYXJlbnROb2RlLmxvY2F0aW9uLngrc2xhbnRTdGFydFhPZmZzZXQsIHBvaW50MVswXSksIHBhcmVudE5vZGUubG9jYXRpb24ueV07XG4gICAgICAgIHZhciBwb2ludDMgPSBbcGFyZW50Tm9kZS5sb2NhdGlvbi54K3NsYW50U3RhcnRYT2Zmc2V0K3NsYW50V2lkdGgsIGNoaWxkTm9kZS5sb2NhdGlvbi55XTtcbiAgICAgICAgdmFyIHBvaW50NCA9IFtjaGlsZE5vZGUubG9jYXRpb24ueCAtIChzaWduKihNYXRoLm1heCgwLCBNYXRoLm1pbih0aGlzLmNvbmZpZy5ub2RlU2l6ZS8yKzgsIGRYLzIpKSkpLCBjaGlsZE5vZGUubG9jYXRpb24ueV07XG4gICAgICAgIC8vIHZhciBwb2ludDIgPSBbcGFyZW50Tm9kZS5sb2NhdGlvbi54K2RYLzItc2xhbnRXaWR0aC8yLCBwYXJlbnROb2RlLmxvY2F0aW9uLnldO1xuICAgICAgICAvLyB2YXIgcG9pbnQzID0gW2NoaWxkTm9kZS5sb2NhdGlvbi54LShkWC8yLXNsYW50V2lkdGgvMiksIGNoaWxkTm9kZS5sb2NhdGlvbi55XTtcblxuICAgICAgICBlZGdlLiRsaW5lUG9pbnRzID0gW3BvaW50MSwgcG9pbnQyLCBwb2ludDMsIHBvaW50NF07XG4gICAgICAgIHJldHVybiBsaW5lKGVkZ2UuJGxpbmVQb2ludHMpO1xuICAgIH1cblxuICAgIGVkZ2VQYXlvZmZQb3NpdGlvbihzZWxlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIExheW91dC5zZXRIYW5naW5nUG9zaXRpb24oc2VsZWN0aW9uKVxuICAgICAgICAgICAgLmF0dHIoJ3gnLCBkPT5kLiRsaW5lUG9pbnRzWzJdWzBdICsgMilcbiAgICAgICAgICAgIC5hdHRyKCd5JywgZD0+ZC4kbGluZVBvaW50c1syXVsxXSArIDcpXG5cbiAgICB9XG5cbiAgICBlZGdlTGFiZWxQb3NpdGlvbihzZWxlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHNlbGVjdGlvblxuICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGQ9Pid0cmFuc2xhdGUoJysoZC4kbGluZVBvaW50c1syXVswXSArIDIpKycsJysoZC4kbGluZVBvaW50c1syXVsxXSAtIDcpKycpJylcbiAgICAgICAgICAgIC8vIC5hdHRyKCd4JywgZD0+ZC4kbGluZVBvaW50c1syXVswXSArIDIpXG4gICAgICAgICAgICAvLyAuYXR0cigneScsIGQ9PmQuJGxpbmVQb2ludHNbMl1bMV0gLSA3KVxuXG4gICAgfVxuXG4gICAgZWRnZVByb2JhYmlsaXR5UG9zaXRpb24oc2VsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBMYXlvdXQuc2V0SGFuZ2luZ1Bvc2l0aW9uKHNlbGVjdGlvbilcbiAgICAgICAgICAgIC5hdHRyKCd4JywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGVuID0gZDMuc2VsZWN0KHRoaXMpLm5vZGUoKS5nZXRDb21wdXRlZFRleHRMZW5ndGgoKTtcbiAgICAgICAgICAgICAgICB2YXIgbWluID0gZC4kbGluZVBvaW50c1syXVswXSArIDIgKyBkMy5zZWxlY3QodGhpcy5wcmV2aW91c1NpYmxpbmcpLm5vZGUoKS5nZXRCQm94KCkud2lkdGggKyA3ICsgbGVuO1xuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1heChtaW4sIGQuJGxpbmVQb2ludHNbM11bMF0gLSA4KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuYXR0cigneScsIGQ9PmQuJGxpbmVQb2ludHNbMl1bMV0gKyA3KVxuXG5cbiAgICB9XG5cbiAgICBnZXRNaW5NYXJnaW5CZXR3ZWVuTm9kZXMoKXtcbiAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5ub2RlU2l6ZSArIDMwO1xuICAgIH1cblxuXG4gICAgZ2V0Tm9kZU1pblgoZCl7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYoZCAmJiBkLiRwYXJlbnQpey8vICYmICFzZWxmLmlzTm9kZVNlbGVjdGVkKGQuJHBhcmVudClcbiAgICAgICAgICAgIHJldHVybiBkLiRwYXJlbnQubG9jYXRpb24ueCArIHNlbGYuZ2V0TWluTWFyZ2luQmV0d2Vlbk5vZGVzKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlbGYuY29uZmlnLm5vZGVTaXplLzI7XG4gICAgfVxuXG4gICAgZ2V0Tm9kZU1pblkoZCl7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5ub2RlU2l6ZS8yO1xuICAgIH1cblxuICAgIGdldE5vZGVNYXhYKGQpe1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIGlmKGQgJiYgZC5jaGlsZEVkZ2VzLmxlbmd0aCl7XG4gICAgICAgICAgICByZXR1cm4gZDMubWluKGQuY2hpbGRFZGdlcywgZT0+ZS5jaGlsZE5vZGUubG9jYXRpb24ueCktc2VsZi5nZXRNaW5NYXJnaW5CZXR3ZWVuTm9kZXMoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gOTk5OTk5OTtcbiAgICB9XG5cbiAgICBzZXRHcmlkV2lkdGgod2lkdGgsIHdpdGhvdXRTdGF0ZVNhdmluZyl7XG4gICAgICAgIHZhciBzZWxmPXRoaXM7XG4gICAgICAgIGlmKHRoaXMuY29uZmlnLmdyaWRXaWR0aD09d2lkdGgpe1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmKCF3aXRob3V0U3RhdGVTYXZpbmcpe1xuICAgICAgICAgICAgdGhpcy5kYXRhLnNhdmVTdGF0ZSh7XG4gICAgICAgICAgICAgICAgZGF0YTp7XG4gICAgICAgICAgICAgICAgICAgIGdyaWRXaWR0aDogc2VsZi5jb25maWcuZ3JpZFdpZHRoXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvblVuZG86IChkYXRhKT0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zZXRHcmlkV2lkdGgoZGF0YS5ncmlkV2lkdGgsIHRydWUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25SZWRvOiAoZGF0YSk9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0R3JpZFdpZHRoKHdpZHRoLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY29uZmlnLmdyaWRXaWR0aD13aWR0aDtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG5cbiAgICBzZXRHcmlkSGVpZ2h0KGdyaWRIZWlnaHQsIHdpdGhvdXRTdGF0ZVNhdmluZyl7XG4gICAgICAgIHZhciBzZWxmPXRoaXM7XG4gICAgICAgIGlmKHRoaXMuY29uZmlnLmdyaWRIZWlnaHQ9PWdyaWRIZWlnaHQpe1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmKCF3aXRob3V0U3RhdGVTYXZpbmcpe1xuICAgICAgICAgICAgdGhpcy5kYXRhLnNhdmVTdGF0ZSh7XG4gICAgICAgICAgICAgICAgZGF0YTp7XG4gICAgICAgICAgICAgICAgICAgIGdyaWRIZWlnaHQ6IHNlbGYuY29uZmlnLmdyaWRIZWlnaHRcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uVW5kbzogKGRhdGEpPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnNldEdyaWRIZWlnaHQoZGF0YS5ncmlkSGVpZ2h0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uUmVkbzogKGRhdGEpPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnNldEdyaWRIZWlnaHQoZ3JpZEhlaWdodCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbmZpZy5ncmlkSGVpZ2h0PWdyaWRIZWlnaHQ7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgc2V0Tm9kZVNpemUobm9kZVNpemUsIHdpdGhvdXRTdGF0ZVNhdmluZyl7XG4gICAgICAgIHZhciBzZWxmPXRoaXM7XG4gICAgICAgIGlmKHRoaXMuY29uZmlnLm5vZGVTaXplPT1ub2RlU2l6ZSl7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYoIXdpdGhvdXRTdGF0ZVNhdmluZyl7XG4gICAgICAgICAgICB0aGlzLmRhdGEuc2F2ZVN0YXRlKHtcbiAgICAgICAgICAgICAgICBkYXRhOntcbiAgICAgICAgICAgICAgICAgICAgbm9kZVNpemU6IHNlbGYuY29uZmlnLm5vZGVTaXplXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvblVuZG86IChkYXRhKT0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zZXROb2RlU2l6ZShkYXRhLm5vZGVTaXplLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uUmVkbzogKGRhdGEpPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnNldE5vZGVTaXplKG5vZGVTaXplLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY29uZmlnLm5vZGVTaXplPW5vZGVTaXplO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICBpZih0aGlzLmlzTWFudWFsTGF5b3V0KCkpe1xuICAgICAgICAgICAgdGhpcy5maXROb2Rlc0luUGxvdHRpbmdSZWdpb24oc2VsZi5kYXRhLmdldFJvb3RzKCkpO1xuICAgICAgICAgICAgdGhpcy50cmVlRGVzaWduZXIucmVkcmF3KHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0RWRnZVNsYW50V2lkdGhNYXgod2lkdGgsIHdpdGhvdXRTdGF0ZVNhdmluZyl7XG4gICAgICAgIHZhciBzZWxmPXRoaXM7XG4gICAgICAgIGlmKHRoaXMuY29uZmlnLmVkZ2VTbGFudFdpZHRoTWF4PT13aWR0aCl7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYoIXdpdGhvdXRTdGF0ZVNhdmluZyl7XG4gICAgICAgICAgICB0aGlzLmRhdGEuc2F2ZVN0YXRlKHtcbiAgICAgICAgICAgICAgICBkYXRhOntcbiAgICAgICAgICAgICAgICAgICAgZWRnZVNsYW50V2lkdGhNYXg6IHNlbGYuY29uZmlnLmVkZ2VTbGFudFdpZHRoTWF4XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvblVuZG86IChkYXRhKT0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zZXRFZGdlU2xhbnRXaWR0aE1heChkYXRhLmVkZ2VTbGFudFdpZHRoTWF4LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uUmVkbzogKGRhdGEpPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnNldEVkZ2VTbGFudFdpZHRoTWF4KHdpZHRoLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY29uZmlnLmVkZ2VTbGFudFdpZHRoTWF4PXdpZHRoO1xuICAgICAgICB0aGlzLnRyZWVEZXNpZ25lci5yZWRyYXcodHJ1ZSk7XG4gICAgfVxuXG4gICAgYXV0b0xheW91dCh0eXBlLCB3aXRob3V0U3RhdGVTYXZpbmcpe1xuICAgICAgICB2YXIgc2VsZj10aGlzO1xuXG5cblxuICAgICAgICBpZighd2l0aG91dFN0YXRlU2F2aW5nKXtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5zYXZlU3RhdGUoe1xuICAgICAgICAgICAgICAgIGRhdGE6e1xuICAgICAgICAgICAgICAgICAgICBuZXdMYXlvdXQ6IHR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRMYXlvdXQ6IHNlbGYuY29uZmlnLnR5cGVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uVW5kbzogKGRhdGEpPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbmZpZy50eXBlID0gZGF0YS5jdXJyZW50TGF5b3V0O1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9maXJlT25BdXRvTGF5b3V0Q2hhbmdlZENhbGxiYWNrcygpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25SZWRvOiAoZGF0YSk9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYXV0b0xheW91dChkYXRhLm5ld0xheW91dCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25maWcudHlwZSA9IHR5cGU7XG4gICAgICAgIGlmKCF0aGlzLmRhdGEubm9kZXMubGVuZ3RoKXtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVPbkF1dG9MYXlvdXRDaGFuZ2VkQ2FsbGJhY2tzKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcHJldlRyZWVNYXhZID0gc2VsZi5nZXROb2RlTWluWSgpO1xuICAgICAgICB0aGlzLmRhdGEuZ2V0Um9vdHMoKS5mb3JFYWNoKHI9PntcbiAgICAgICAgICAgIHZhciByb290ID0gZDMuaGllcmFyY2h5KHIsIGQ9PntcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5jaGlsZEVkZ2VzLm1hcChlPT5lLmNoaWxkTm9kZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gcm9vdC5zb3J0KChhLGIpPT5zZWxmLm5vZGVUeXBlT3JkZXJbYS5kYXRhLnR5cGVdLXNlbGYubm9kZVR5cGVPcmRlcltiLmRhdGEudHlwZV0pO1xuICAgICAgICAgICAgcm9vdC5zb3J0KChhLGIpPT5hLmRhdGEubG9jYXRpb24ueSAtIGIuZGF0YS5sb2NhdGlvbi55KTtcblxuXG4gICAgICAgICAgICB2YXIgbGF5b3V0O1xuICAgICAgICAgICAgaWYodHlwZT09J2NsdXN0ZXInKXtcbiAgICAgICAgICAgICAgICBsYXlvdXQgPSBkMy5jbHVzdGVyKCk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBsYXlvdXQgPSBkMy50cmVlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXlvdXQubm9kZVNpemUoW3NlbGYuY29uZmlnLmdyaWRIZWlnaHQsIHNlbGYuY29uZmlnLmdyaWRXaWR0aF0pO1xuICAgICAgICAgICAgbGF5b3V0LnNlcGFyYXRpb24oc2VsZi5ub2RlU2VwYXJhdGlvbik7XG5cbiAgICAgICAgICAgIGxheW91dChyb290KTtcbiAgICAgICAgICAgIHZhciBtaW5ZID0gOTk5OTk5OTk5O1xuICAgICAgICAgICAgcm9vdC5lYWNoKGQ9PntcbiAgICAgICAgICAgICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgZC54KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgZHkgPSByb290LnggLSBtaW5ZICsgcHJldlRyZWVNYXhZO1xuICAgICAgICAgICAgdmFyIGR4ID0gc2VsZi5nZXROb2RlTWluWCgpO1xuICAgICAgICAgICAgdmFyIG1heFk9MDtcbiAgICAgICAgICAgIHJvb3QuZWFjaChkPT57XG4gICAgICAgICAgICAgICAgZC5kYXRhLmxvY2F0aW9uLnggPSBkLnkgKyBkeDtcbiAgICAgICAgICAgICAgICBkLmRhdGEubG9jYXRpb24ueSA9IGQueCArIGR5O1xuXG4gICAgICAgICAgICAgICAgbWF4WSA9IE1hdGgubWF4KG1heFksIGQuZGF0YS5sb2NhdGlvbi55KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBwcmV2VHJlZU1heFkgPSBtYXhZICsgc2VsZi5jb25maWcubm9kZVNpemUrc2VsZi50cmVlTWFyZ2luO1xuICAgICAgICB9KTtcblxuXG4gICAgICAgIC8vIHRoaXMudHJhbnNpdGlvbiA9IHRydWU7XG4gICAgICAgIHRoaXMudHJlZURlc2lnbmVyLnJlZHJhdyh0cnVlKTtcbiAgICAgICAgLy8gdGhpcy50cmFuc2l0aW9uID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fZmlyZU9uQXV0b0xheW91dENoYW5nZWRDYWxsYmFja3MoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZml0Tm9kZXNJblBsb3R0aW5nUmVnaW9uKG5vZGVzKXtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgdG9wWSA9IGQzLm1pbihub2Rlcywgbj0+bi5sb2NhdGlvbi55KTtcbiAgICAgICAgdmFyIG1pblkgPSBzZWxmLmdldE5vZGVNaW5ZKCk7XG4gICAgICAgIHZhciBkeSA9IHRvcFkgLSBtaW5ZO1xuXG4gICAgICAgIHZhciBtaW5YID0gZDMubWluKG5vZGVzLCBuPT5uLmxvY2F0aW9uLngpO1xuICAgICAgICB2YXIgZHggPSBtaW5YIC0gc2VsZi5nZXROb2RlTWluWCgpO1xuXG4gICAgICAgIGlmKGR5PDAgfHwgIGR4PDApe1xuICAgICAgICAgICAgbm9kZXMuZm9yRWFjaChuPT5uLm1vdmUoLWR4LCAtZHkpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1vdmVOb2Rlcyhub2RlcywgZHgsIGR5LCBwaXZvdCl7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIGxpbWl0ID0gc2VsZi5jb25maWcubGltaXROb2RlUG9zaXRpb25pbmc7XG4gICAgICAgIGlmKGxpbWl0KXtcbiAgICAgICAgICAgIGlmKGR4PDApe1xuICAgICAgICAgICAgICAgIG5vZGVzLnNvcnQoKGEsYik9PmEubG9jYXRpb24ueC1iLmxvY2F0aW9uLngpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgbm9kZXMuc29ydCgoYSxiKT0+Yi5sb2NhdGlvbi54LWEubG9jYXRpb24ueCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgICAgIHZhciBtaW5ZID0gZDMubWluKG5vZGVzLCBkPT5kLmxvY2F0aW9uLnkpO1xuICAgICAgICBpZihtaW5ZICsgZHkgPCBzZWxmLmdldE5vZGVNaW5ZKCkpe1xuICAgICAgICAgICAgZHkgPSBzZWxmLmdldE5vZGVNaW5ZKCkgLSBtaW5ZO1xuICAgICAgICB9XG5cbiAgICAgICAgbm9kZXMuZm9yRWFjaChkPT57XG4gICAgICAgICAgICBpZihsaW1pdCl7XG4gICAgICAgICAgICAgICAgTGF5b3V0LmJhY2t1cE5vZGVMb2NhdGlvbihkKTtcbiAgICAgICAgICAgICAgICB2YXIgbWluWCA9IHNlbGYuZ2V0Tm9kZU1pblgoZCk7XG4gICAgICAgICAgICAgICAgdmFyIG1heFggPSBzZWxmLmdldE5vZGVNYXhYKGQpO1xuXG4gICAgICAgICAgICAgICAgZC5sb2NhdGlvbi54ID0gTWF0aC5taW4oTWF0aC5tYXgoZC5sb2NhdGlvbi54K2R4LCBtaW5YKSwgbWF4WCk7XG4gICAgICAgICAgICAgICAgZC5sb2NhdGlvbi55ICs9IGR5O1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgZC5sb2NhdGlvbi54ICs9ZHg7XG4gICAgICAgICAgICAgICAgZC5sb2NhdGlvbi55ICs9IGR5O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgdmFyIHJldmVydFggPSBwaXZvdCAmJiBzZWxmLmNvbmZpZy5saW1pdE5vZGVQb3NpdGlvbmluZyAmJiAocGl2b3QubG9jYXRpb24ueCA9PSBwaXZvdC4kbG9jYXRpb24ueCk7XG5cbiAgICAgICAgbm9kZXMuZm9yRWFjaChkPT57XG4gICAgICAgICAgICBpZihyZXZlcnRYKXtcbiAgICAgICAgICAgICAgICBkLmxvY2F0aW9uLnggPSBkLiRsb2NhdGlvbi54O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi50cmVlRGVzaWduZXIudXBkYXRlTm9kZVBvc2l0aW9uKGQpO1xuICAgICAgICB9KTtcblxuXG4gICAgfVxuXG4gICAgc3RhdGljIGJhY2t1cE5vZGVMb2NhdGlvbihub2RlKSB7XG4gICAgICAgIG5vZGUuJGxvY2F0aW9uID0gbmV3IG1vZGVsLlBvaW50KG5vZGUubG9jYXRpb24pO1xuICAgIH1cblxuICAgIF9maXJlT25BdXRvTGF5b3V0Q2hhbmdlZENhbGxiYWNrcygpe1xuICAgICAgICB0aGlzLm9uQXV0b0xheW91dENoYW5nZWQuZm9yRWFjaChjPT5jKHRoaXMuY29uZmlnLnR5cGUpKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0SGFuZ2luZ1Bvc2l0aW9uKHNlbGVjdGlvbil7XG4gICAgICAgIC8vIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgIC8vICAgICBzZWxlY3Rpb24uZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAvLyAgICAgICAgIHZhciBoID0gIHRoaXMuZ2V0QkJveCgpLmhlaWdodDtcbiAgICAgICAgLy8gICAgICAgICBkMy5zZWxlY3QodGhpcykuYXR0cignZHknLCBoKTtcbiAgICAgICAgLy8gICAgIH0pO1xuICAgICAgICAvLyB9LDApO1xuICAgICAgICBzZWxlY3Rpb24uZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgdmFyIGggPSAgdGhpcy5nZXRCQm94KCkuaGVpZ2h0O1xuICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLmF0dHIoJ2R5JywgJzAuNzVlbScpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc2VsZWN0aW9uO1xuICAgIH1cblxufVxuXG5cbiIsImltcG9ydCB7Q29udGV4dE1lbnV9IGZyb20gJy4vY29udGV4dC1tZW51J1xuaW1wb3J0IHtVdGlsc30gZnJvbSAnc2QtdXRpbHMnXG5pbXBvcnQge2RvbWFpbiBhcyBtb2RlbH0gZnJvbSAnc2QtbW9kZWwnXG5pbXBvcnQgKiBhcyBkMyBmcm9tICcuLi9kMydcbmltcG9ydCB7aTE4bn0gZnJvbSBcIi4uL2kxOG4vaTE4blwiO1xuXG5leHBvcnQgY2xhc3MgTWFpbkNvbnRleHRNZW51IGV4dGVuZHMgQ29udGV4dE1lbnUge1xuICAgIHRyZWVEZXNpZ25lcjtcblxuICAgIGNvbnN0cnVjdG9yKHRyZWVEZXNpZ25lcikge1xuICAgICAgICB2YXIgbW91c2VQb3NpdGlvbiA9IG51bGw7XG4gICAgICAgIHZhciBtZW51ID0gZnVuY3Rpb24gKGQpIHtcblxuICAgICAgICAgICAgdmFyIG1lbnUgPSBbXTtcbiAgICAgICAgICAgIG1lbnUucHVzaCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IGkxOG4udCgnY29udGV4dE1lbnUubWFpbi5hZGREZWNpc2lvbk5vZGUnKSxcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChlbG0sIGQsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld05vZGUgPSBuZXcgbW9kZWwuRGVjaXNpb25Ob2RlKG1vdXNlUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB0cmVlRGVzaWduZXIuYWRkTm9kZShuZXdOb2RlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbWVudS5wdXNoKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogaTE4bi50KCdjb250ZXh0TWVudS5tYWluLmFkZENoYW5jZU5vZGUnKSxcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChlbG0sIGQsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld05vZGUgPSBuZXcgbW9kZWwuQ2hhbmNlTm9kZShtb3VzZVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdHJlZURlc2lnbmVyLmFkZE5vZGUobmV3Tm9kZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG1lbnUucHVzaCh7ZGl2aWRlcjogdHJ1ZX0pO1xuICAgICAgICAgICAgbWVudS5wdXNoKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogaTE4bi50KCdjb250ZXh0TWVudS5tYWluLmFkZFRleHQnKSxcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChlbG0sIGQsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1RleHQgPSBuZXcgbW9kZWwuVGV4dChtb3VzZVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdHJlZURlc2lnbmVyLmFkZFRleHQobmV3VGV4dCk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBtZW51LnB1c2goe2RpdmlkZXI6IHRydWV9KTtcbiAgICAgICAgICAgIG1lbnUucHVzaCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IGkxOG4udCgnY29udGV4dE1lbnUubWFpbi5wYXN0ZScpLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKGVsbSwgZCwgaSkge1xuICAgICAgICAgICAgICAgICAgICB0cmVlRGVzaWduZXIucGFzdGVUb05ld0xvY2F0aW9uKG1vdXNlUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ6ICF0cmVlRGVzaWduZXIuY29waWVkTm9kZXMgfHwgIXRyZWVEZXNpZ25lci5jb3BpZWROb2Rlcy5sZW5ndGhcblxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBtZW51LnB1c2goe2RpdmlkZXI6IHRydWV9KTtcblxuICAgICAgICAgICAgbWVudS5wdXNoKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogaTE4bi50KCdjb250ZXh0TWVudS5tYWluLnNlbGVjdEFsbE5vZGVzJyksXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoZWxtLCBkLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyZWVEZXNpZ25lci5zZWxlY3RBbGxOb2RlcygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIG1lbnU7XG4gICAgICAgIH07XG5cbiAgICAgICAgc3VwZXIobWVudSwge29uT3BlbjogKCkgPT4ge1xuICAgICAgICAgICAgdHJlZURlc2lnbmVyLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICAgICAgICBtb3VzZVBvc2l0aW9uID0gbmV3IG1vZGVsLlBvaW50KGQzLm1vdXNlKHRyZWVEZXNpZ25lci5zdmcubm9kZSgpKSkubW92ZSh0cmVlRGVzaWduZXIuZ2V0TWFpbkdyb3VwVHJhbnNsYXRpb24odHJ1ZSkpO1xuXG4gICAgICAgIH19KTtcbiAgICAgICAgdGhpcy50cmVlRGVzaWduZXIgPSB0cmVlRGVzaWduZXI7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtDb250ZXh0TWVudX0gZnJvbSAnLi9jb250ZXh0LW1lbnUnXG5pbXBvcnQge1V0aWxzfSBmcm9tICdzZC11dGlscydcbmltcG9ydCB7ZG9tYWluIGFzIG1vZGVsfSBmcm9tICdzZC1tb2RlbCdcbmltcG9ydCAqIGFzIGQzIGZyb20gJy4uL2QzJ1xuaW1wb3J0IHtpMThufSBmcm9tIFwiLi4vaTE4bi9pMThuXCI7XG5cbmV4cG9ydCBjbGFzcyBOb2RlQ29udGV4dE1lbnUgZXh0ZW5kcyBDb250ZXh0TWVudSB7XG4gICAgdHJlZURlc2lnbmVyO1xuXG4gICAgY29uc3RydWN0b3IodHJlZURlc2lnbmVyLCBvcGVyYXRpb25zRm9yT2JqZWN0KSB7XG4gICAgICAgIHZhciBtZW51ID0gZnVuY3Rpb24gKGQpIHtcblxuICAgICAgICAgICAgdmFyIGNvcHlNZW51SXRlbSA9IHtcbiAgICAgICAgICAgICAgICB0aXRsZTogaTE4bi50KCdjb250ZXh0TWVudS5ub2RlLmNvcHknKSxcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChlbG0sIGQsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJlZURlc2lnbmVyLnNlbGVjdE5vZGUoZCwgIXRyZWVEZXNpZ25lci5pc05vZGVTZWxlY3RlZChkKSk7XG4gICAgICAgICAgICAgICAgICAgIHRyZWVEZXNpZ25lci5jb3B5U2VsZWN0ZWROb2RlcygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgY3V0TWVudUl0ZW0gPSB7XG4gICAgICAgICAgICAgICAgdGl0bGU6IGkxOG4udCgnY29udGV4dE1lbnUubm9kZS5jdXQnKSxcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChlbG0sIGQsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJlZURlc2lnbmVyLnNlbGVjdE5vZGUoZCwgIXRyZWVEZXNpZ25lci5pc05vZGVTZWxlY3RlZChkKSk7XG4gICAgICAgICAgICAgICAgICAgIHRyZWVEZXNpZ25lci5jdXRTZWxlY3RlZE5vZGVzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBwYXN0ZU1lbnVJdGVtID0ge1xuICAgICAgICAgICAgICAgIHRpdGxlOiBpMThuLnQoJ2NvbnRleHRNZW51Lm5vZGUucGFzdGUnKSxcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChlbG0sIGQsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJlZURlc2lnbmVyLnBhc3RlVG9Ob2RlKGQpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ6ICF0cmVlRGVzaWduZXIuY29waWVkTm9kZXMgfHwgIXRyZWVEZXNpZ25lci5jb3BpZWROb2Rlcy5sZW5ndGhcblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBkZWxldGVNZW51SXRlbSA9IHtcbiAgICAgICAgICAgICAgICB0aXRsZTogaTE4bi50KCdjb250ZXh0TWVudS5ub2RlLmRlbGV0ZScpLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKGVsbSwgZCwgaSkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRyZWVEZXNpZ25lci5zZWxlY3ROb2RlKGQsICF0cmVlRGVzaWduZXIuaXNOb2RlU2VsZWN0ZWQoZCkpO1xuICAgICAgICAgICAgICAgICAgICB0cmVlRGVzaWduZXIucmVtb3ZlU2VsZWN0ZWROb2RlcygpO1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBtZW51ID0gW107XG4gICAgICAgICAgICBpZiAoZC50eXBlID09IG1vZGVsLlRlcm1pbmFsTm9kZS4kVFlQRSkge1xuICAgICAgICAgICAgICAgIG1lbnUgPSBbY29weU1lbnVJdGVtLCBjdXRNZW51SXRlbSwgZGVsZXRlTWVudUl0ZW1dO1xuICAgICAgICAgICAgICAgIE5vZGVDb250ZXh0TWVudS5hZGROb2RlQ29udmVyc2lvbk9wdGlvbnMoZCwgbWVudSwgdHJlZURlc2lnbmVyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVudTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1lbnUucHVzaCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IGkxOG4udCgnY29udGV4dE1lbnUubm9kZS5hZGREZWNpc2lvbk5vZGUnKSxcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChlbG0sIGQsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJlZURlc2lnbmVyLmFkZERlY2lzaW9uTm9kZShkKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbWVudS5wdXNoKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogaTE4bi50KCdjb250ZXh0TWVudS5ub2RlLmFkZENoYW5jZU5vZGUnKSxcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChlbG0sIGQsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJlZURlc2lnbmVyLmFkZENoYW5jZU5vZGUoZClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG1lbnUucHVzaCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IGkxOG4udCgnY29udGV4dE1lbnUubm9kZS5hZGRUZXJtaW5hbE5vZGUnKSxcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChlbG0sIGQsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJlZURlc2lnbmVyLmFkZFRlcm1pbmFsTm9kZShkKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbWVudS5wdXNoKHtkaXZpZGVyOiB0cnVlfSk7XG4gICAgICAgICAgICBtZW51LnB1c2goY29weU1lbnVJdGVtKTtcbiAgICAgICAgICAgIG1lbnUucHVzaChjdXRNZW51SXRlbSk7XG4gICAgICAgICAgICBtZW51LnB1c2gocGFzdGVNZW51SXRlbSk7XG4gICAgICAgICAgICBtZW51LnB1c2goZGVsZXRlTWVudUl0ZW0pO1xuXG4gICAgICAgICAgICBOb2RlQ29udGV4dE1lbnUuYWRkTm9kZUNvbnZlcnNpb25PcHRpb25zKGQsIG1lbnUsIHRyZWVEZXNpZ25lcik7XG4gICAgICAgICAgICBtZW51LnB1c2goe2RpdmlkZXI6IHRydWV9KTtcbiAgICAgICAgICAgIG1lbnUucHVzaCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IGkxOG4udCgnY29udGV4dE1lbnUubm9kZS5zZWxlY3RTdWJ0cmVlJyksXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoZWxtLCBkLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyZWVEZXNpZ25lci5zZWxlY3RTdWJUcmVlKGQsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZihvcGVyYXRpb25zRm9yT2JqZWN0KXtcbiAgICAgICAgICAgICAgICB2YXIgb3BlcmF0aW9ucyA9IG9wZXJhdGlvbnNGb3JPYmplY3QoZCk7XG4gICAgICAgICAgICAgICAgaWYob3BlcmF0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVudS5wdXNoKHtkaXZpZGVyOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbnMuZm9yRWFjaChvcD0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVudS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogaTE4bi50KCdjb250ZXh0TWVudS5ub2RlLicrb3AubmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoZWxtLCBkLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyZWVEZXNpZ25lci5wZXJmb3JtT3BlcmF0aW9uKGQsIG9wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiAhb3AuY2FuUGVyZm9ybShkKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbWVudTtcbiAgICAgICAgfTtcblxuICAgICAgICBzdXBlcihtZW51KTtcbiAgICAgICAgdGhpcy50cmVlRGVzaWduZXIgPSB0cmVlRGVzaWduZXI7XG4gICAgfVxuXG4gICAgc3RhdGljIGFkZE5vZGVDb252ZXJzaW9uT3B0aW9ucyhkLCBtZW51LCB0cmVlRGVzaWduZXIpe1xuICAgICAgICB2YXIgY29udmVyc2lvbk9wdGlvbnMgPSBOb2RlQ29udGV4dE1lbnUuZ2V0Tm9kZUNvbnZlcnNpb25PcHRpb25zKGQsIHRyZWVEZXNpZ25lcik7XG4gICAgICAgIGlmKGNvbnZlcnNpb25PcHRpb25zLmxlbmd0aCl7XG4gICAgICAgICAgICBtZW51LnB1c2goe2RpdmlkZXI6IHRydWV9KTtcbiAgICAgICAgICAgIGNvbnZlcnNpb25PcHRpb25zLmZvckVhY2gobz0+bWVudS5wdXNoKG8pKTtcblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldE5vZGVDb252ZXJzaW9uT3B0aW9ucyhkLCB0cmVlRGVzaWduZXIpe1xuICAgICAgICB2YXIgb3B0aW9ucyA9IFtdO1xuICAgICAgICB2YXIgYWxsQWxsb3dlZFR5cGVzID0gW21vZGVsLkRlY2lzaW9uTm9kZS4kVFlQRSwgbW9kZWwuQ2hhbmNlTm9kZS4kVFlQRSwgbW9kZWwuVGVybWluYWxOb2RlLiRUWVBFXTtcblxuICAgICAgICBpZighZC5jaGlsZEVkZ2VzLmxlbmd0aCAmJiBkLiRwYXJlbnQpe1xuICAgICAgICAgICAgYWxsQWxsb3dlZFR5cGVzLmZpbHRlcih0PT50IT09ZC50eXBlKS5mb3JFYWNoKHR5cGU9PntcbiAgICAgICAgICAgICAgICBvcHRpb25zLnB1c2goTm9kZUNvbnRleHRNZW51LmdldE5vZGVDb252ZXJzaW9uT3B0aW9uKHR5cGUsIHRyZWVEZXNpZ25lcikpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGlmKGQgaW5zdGFuY2VvZiBtb2RlbC5EZWNpc2lvbk5vZGUpe1xuICAgICAgICAgICAgICAgIG9wdGlvbnMucHVzaChOb2RlQ29udGV4dE1lbnUuZ2V0Tm9kZUNvbnZlcnNpb25PcHRpb24obW9kZWwuQ2hhbmNlTm9kZS4kVFlQRSwgdHJlZURlc2lnbmVyKSlcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIG9wdGlvbnMucHVzaChOb2RlQ29udGV4dE1lbnUuZ2V0Tm9kZUNvbnZlcnNpb25PcHRpb24obW9kZWwuRGVjaXNpb25Ob2RlLiRUWVBFLCB0cmVlRGVzaWduZXIpKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXROb2RlQ29udmVyc2lvbk9wdGlvbih0eXBlVG9Db252ZXJ0VG8sIHRyZWVEZXNpZ25lcil7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0aXRsZTogaTE4bi50KCdjb250ZXh0TWVudS5ub2RlLmNvbnZlcnQuJyt0eXBlVG9Db252ZXJ0VG8pLFxuICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoZWxtLCBkLCBpKSB7XG4gICAgICAgICAgICAgICAgdHJlZURlc2lnbmVyLmNvbnZlcnROb2RlKGQsIHR5cGVUb0NvbnZlcnRUbyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHtBcHBVdGlsc30gZnJvbSAnLi4vYXBwLXV0aWxzJ1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnLi4vZDMnXG5pbXBvcnQge0NvbnRleHRNZW51fSBmcm9tICcuL2NvbnRleHQtbWVudSdcblxuZXhwb3J0IGNsYXNzIE5vZGVEcmFnSGFuZGxlcntcblxuICAgIHRyZWVEZXNpZ25lcjtcbiAgICBkYXRhO1xuICAgIGNvbmZpZztcblxuICAgIGRyYWc7XG5cblxuICAgIGNvbnN0cnVjdG9yKHRyZWVEZXNpZ25lciwgZGF0YSl7XG4gICAgICAgIHRoaXMudHJlZURlc2lnbmVyID0gdHJlZURlc2lnbmVyO1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5kcmFnID0gZDMuZHJhZygpXG4gICAgICAgICAgICAuc3ViamVjdChmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgaWYoZD09bnVsbCl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAge1xuICAgICAgICAgICAgICAgICAgICAgICAgeDogZXZlbnQueCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IGV2ZW50LnlcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHQgPSBkMy5zZWxlY3QodGhpcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgeDogdC5hdHRyKFwieFwiKSArIEFwcFV0aWxzLmdldFRyYW5zbGF0aW9uKHQuYXR0cihcInRyYW5zZm9ybVwiKSlbMF0sXG4gICAgICAgICAgICAgICAgICAgIHk6IHQuYXR0cihcInlcIikgKyBBcHBVdGlscy5nZXRUcmFuc2xhdGlvbih0LmF0dHIoXCJ0cmFuc2Zvcm1cIikpWzFdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oXCJzdGFydFwiLCBmdW5jdGlvbihkKXtcbiAgICAgICAgICAgICAgICBzZWxmLmRyYWdTdGFydGVkLmNhbGwodGhpcyxkLCBzZWxmKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbihcImRyYWdcIiwgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICBzZWxmLm9uRHJhZy5jYWxsKHRoaXMsIGQsIHNlbGYpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbihcImVuZFwiLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgIHNlbGYuZHJhZ0VuZGVkLmNhbGwodGhpcywgZCwgc2VsZik7XG4gICAgICAgICAgICB9KVxuICAgIH1cblxuXG4gICAgZHJhZ1N0YXJ0ZWQoZCxzZWxmKSB7XG4gICAgICAgIGlmKHNlbGYuaWdub3JlRHJhZyl7XG4gICAgICAgICAgICBzZWxmLmlnbm9yZURyYWc9ZmFsc2U7XG4gICAgICAgICAgICBzZWxmLmlnbm9yZWREcmFnPXRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5pZ25vcmVkRHJhZz1mYWxzZTtcblxuICAgICAgICAvLyBzZWxmLnRyZWVEZXNpZ25lci5sYXlvdXQuZGlzYWJsZUF1dG9MYXlvdXQoKTtcbiAgICAgICAgQ29udGV4dE1lbnUuaGlkZSgpO1xuICAgICAgICB2YXIgbm9kZSA9IGQzLnNlbGVjdCh0aGlzKTtcbiAgICAgICAgaWYoIW5vZGUuY2xhc3NlZChcInNlbGVjdGVkXCIpKXtcbiAgICAgICAgICAgIHNlbGYudHJlZURlc2lnbmVyLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLnRyZWVEZXNpZ25lci5zZWxlY3ROb2RlKGQpO1xuICAgICAgICBub2RlLmNsYXNzZWQoXCJzZWxlY3RlZCBkcmFnZ2luZ1wiLCB0cnVlKTtcbiAgICAgICAgc2VsZi5zZWxlY3RlZE5vZGVzID0gc2VsZi50cmVlRGVzaWduZXIuZ2V0U2VsZWN0ZWROb2RlcygpO1xuICAgICAgICBzZWxmLnByZXZEcmFnRXZlbnQgPSBkMy5ldmVudDtcbiAgICAgICAgc2VsZi5kcmFnRXZlbnRDb3VudCA9IDA7XG4gICAgfVxuXG4gICAgb25EcmFnKGRyYWdnZWROb2RlLCBzZWxmKXtcbiAgICAgICAgaWYoc2VsZi5pZ25vcmVkRHJhZyl7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZihzZWxmLmRyYWdFdmVudENvdW50PT0yKXtcbiAgICAgICAgICAgIHNlbGYuZGF0YS5zYXZlU3RhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLmRyYWdFdmVudENvdW50Kys7XG4gICAgICAgIGlmKHNlbGYuc2VsZWN0ZWROb2Rlcy5sZW5ndGg+NSAmJiBzZWxmLmRyYWdFdmVudENvdW50JTIhPTEpe1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGR4ID0gZDMuZXZlbnQueCAtIHNlbGYucHJldkRyYWdFdmVudC54O1xuICAgICAgICB2YXIgZHkgPSBkMy5ldmVudC55LSBzZWxmLnByZXZEcmFnRXZlbnQueTtcbiAgICAgICAgc2VsZi50cmVlRGVzaWduZXIubGF5b3V0Lm1vdmVOb2RlcyhzZWxmLnNlbGVjdGVkTm9kZXMsIGR4LCBkeSwgZHJhZ2dlZE5vZGUpO1xuXG5cbiAgICAgICAgc2VsZi5wcmV2RHJhZ0V2ZW50ID0gZDMuZXZlbnQ7XG4gICAgICAgIHNlbGYudHJlZURlc2lnbmVyLnJlZHJhd0VkZ2VzKCk7XG4gICAgICAgIHNlbGYudHJlZURlc2lnbmVyLnVwZGF0ZVBsb3R0aW5nUmVnaW9uU2l6ZSgpO1xuICAgIH1cblxuICAgIGRyYWdFbmRlZChkcmFnZ2VkTm9kZSwgc2VsZil7XG4gICAgICAgIHZhciBub2RlID0gZDMuc2VsZWN0KHRoaXMpLmNsYXNzZWQoXCJkcmFnZ2luZ1wiLCBmYWxzZSk7XG4gICAgICAgIGlmKHNlbGYuaWdub3JlZERyYWcpe1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYudHJlZURlc2lnbmVyLmxheW91dC51cGRhdGUoZHJhZ2dlZE5vZGUpXG4gICAgfVxuXG4gICAgY2FuY2VsRHJhZygpe1xuICAgICAgICB0aGlzLmlnbm9yZURyYWcgPSB0cnVlO1xuICAgIH1cblxufVxuXG5cbiIsInZhciBlcHNpbG9uID0gMWUtMTI7XHJcbnZhciBwaSA9IE1hdGguUEk7XHJcbnZhciBoYWxmUGkgPSBwaSAvIDI7XHJcbnZhciB0YXUgPSAyICogcGk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICAvKmRyYXc6IGZ1bmN0aW9uKGNvbnRleHQsIHNpemUpIHtcclxuICAgICAgICB2YXIgciA9IE1hdGguc3FydChzaXplIC8gcGkpO1xyXG4gICAgICAgIGNvbnRleHQubW92ZVRvKHIsIDApO1xyXG4gICAgICAgIGNvbnRleHQuYXJjKDAsIDAsIHIsIDAsIHRhdSk7XHJcbiAgICB9Ki9cclxuICAgIGRyYXc6IGZ1bmN0aW9uKGNvbnRleHQsIHNpemUpIHtcclxuXHJcbiAgICAgICAgdmFyIHIgPSBNYXRoLnNxcnQoc2l6ZSAvIHBpKTtcclxuICAgICAgICB2YXIgZGlzdCA9MC41NTIyODQ3NDk4MzEgKiByO1xyXG5cclxuICAgICAgICBjb250ZXh0Lm1vdmVUbygtciwgMClcclxuICAgICAgICAvLyBjb250ZXh0LmxpbmVUbygyKnIsIDIqcilcclxuICAgICAgICAvLyBjb250ZXh0LmJlemllckN1cnZlVG8oLXIsIC1kaXN0LCAtZGlzdCwgLXIsIDAsLXIpO1xyXG4gICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbygtciwgLWRpc3QsIC1kaXN0LCAtciwgMCwtcik7XHJcblxyXG4gICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyhkaXN0LCAtciwgciwgLWRpc3QsIHIsMCk7XHJcblxyXG4gICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyhyLCBkaXN0LCBkaXN0LCByLCAwLCByKTtcclxuXHJcbiAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKC1kaXN0LCByLCAtciwgZGlzdCwgLXIsIDApO1xyXG4gICAgfVxyXG59O1xyXG4iLCJ2YXIgc3FydDMgPSBNYXRoLnNxcnQoMyk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICBkcmF3OiBmdW5jdGlvbihjb250ZXh0LCBzaXplKSB7XHJcbiAgICAgICAgdmFyIHIgPSBNYXRoLnNxcnQoc2l6ZSAvIE1hdGguUEkpO1xyXG4gICAgICAgIGNvbnRleHQubW92ZVRvKC1yLCAwKTtcclxuICAgICAgICBjb250ZXh0LmxpbmVUbygwLjkqciwgLXIpO1xyXG4gICAgICAgIGNvbnRleHQubGluZVRvKDAuOSpyLCByKTtcclxuICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xyXG4gICAgfVxyXG59O1xyXG4iLCJpbXBvcnQge0NvbnRleHRNZW51fSBmcm9tICcuL2NvbnRleHQtbWVudSdcbmltcG9ydCB7VXRpbHN9IGZyb20gJ3NkLXV0aWxzJ1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnLi4vZDMnXG5pbXBvcnQge2kxOG59IGZyb20gXCIuLi9pMThuL2kxOG5cIjtcblxuZXhwb3J0IGNsYXNzIFRleHRDb250ZXh0TWVudSBleHRlbmRzIENvbnRleHRNZW51IHtcbiAgICB0cmVlRGVzaWduZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih0cmVlRGVzaWduZXIpIHtcbiAgICAgICAgdmFyIG1lbnUgPSBmdW5jdGlvbiAoZCkge1xuXG5cbiAgICAgICAgICAgIHZhciBkZWxldGVNZW51SXRlbSA9IHtcbiAgICAgICAgICAgICAgICB0aXRsZTogaTE4bi50KCdjb250ZXh0TWVudS50ZXh0LmRlbGV0ZScpLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKGVsbSwgZCwgaSkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRyZWVEZXNpZ25lci5zZWxlY3RUZXh0KGQsIHRydWUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0cmVlRGVzaWduZXIucmVtb3ZlU2VsZWN0ZWRUZXh0cygpXG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIG1lbnUgPSBbXTtcbiAgICAgICAgICAgIG1lbnUucHVzaChkZWxldGVNZW51SXRlbSk7XG4gICAgICAgICAgICByZXR1cm4gbWVudTtcbiAgICAgICAgfTtcblxuICAgICAgICBzdXBlcihtZW51KTtcbiAgICAgICAgdGhpcy50cmVlRGVzaWduZXIgPSB0cmVlRGVzaWduZXI7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtBcHBVdGlsc30gZnJvbSAnLi4vYXBwLXV0aWxzJ1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnLi4vZDMnXG5pbXBvcnQge0NvbnRleHRNZW51fSBmcm9tICcuL2NvbnRleHQtbWVudSdcblxuZXhwb3J0IGNsYXNzIFRleHREcmFnSGFuZGxlcntcblxuICAgIHRyZWVEZXNpZ25lcjtcbiAgICBkYXRhO1xuICAgIGNvbmZpZztcblxuICAgIGRyYWc7XG5cblxuICAgIGNvbnN0cnVjdG9yKHRyZWVEZXNpZ25lciwgZGF0YSl7XG4gICAgICAgIHRoaXMudHJlZURlc2lnbmVyID0gdHJlZURlc2lnbmVyO1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5kcmFnID0gZDMuZHJhZygpXG4gICAgICAgICAgICAuc3ViamVjdChmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgaWYoZD09bnVsbCl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAge1xuICAgICAgICAgICAgICAgICAgICAgICAgeDogZXZlbnQueCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IGV2ZW50LnlcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHQgPSBkMy5zZWxlY3QodGhpcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgeDogdC5hdHRyKFwieFwiKSArIEFwcFV0aWxzLmdldFRyYW5zbGF0aW9uKHQuYXR0cihcInRyYW5zZm9ybVwiKSlbMF0sXG4gICAgICAgICAgICAgICAgICAgIHk6IHQuYXR0cihcInlcIikgKyBBcHBVdGlscy5nZXRUcmFuc2xhdGlvbih0LmF0dHIoXCJ0cmFuc2Zvcm1cIikpWzFdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oXCJzdGFydFwiLCBmdW5jdGlvbihkKXtcbiAgICAgICAgICAgICAgICBzZWxmLmRyYWdTdGFydGVkLmNhbGwodGhpcyxkLCBzZWxmKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbihcImRyYWdcIiwgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICBzZWxmLm9uRHJhZy5jYWxsKHRoaXMsIGQsIHNlbGYpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbihcImVuZFwiLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgIHNlbGYuZHJhZ0VuZGVkLmNhbGwodGhpcywgZCwgc2VsZik7XG4gICAgICAgICAgICB9KVxuICAgIH1cblxuXG4gICAgZHJhZ1N0YXJ0ZWQoZCxzZWxmKSB7XG4gICAgICAgIC8vIHNlbGYudHJlZURlc2lnbmVyLmxheW91dC5kaXNhYmxlQXV0b0xheW91dCgpO1xuICAgICAgICBDb250ZXh0TWVudS5oaWRlKCk7XG4gICAgICAgIHZhciB0ZXh0ID0gZDMuc2VsZWN0KHRoaXMpO1xuICAgICAgICBpZighdGV4dC5jbGFzc2VkKFwic2VsZWN0ZWRcIikpe1xuICAgICAgICAgICAgc2VsZi50cmVlRGVzaWduZXIuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYudHJlZURlc2lnbmVyLnNlbGVjdFRleHQoZCk7XG4gICAgICAgIHRleHQuY2xhc3NlZChcInNlbGVjdGVkIGRyYWdnaW5nXCIsIHRydWUpO1xuICAgICAgICBzZWxmLnNlbGVjdGVkTm9kZXMgPSBzZWxmLnRyZWVEZXNpZ25lci5nZXRTZWxlY3RlZE5vZGVzKCk7XG4gICAgICAgIHNlbGYucHJldkRyYWdFdmVudCA9IGQzLmV2ZW50O1xuICAgICAgICBzZWxmLmRyYWdFdmVudENvdW50ID0gMDtcbiAgICB9XG5cbiAgICBvbkRyYWcoZHJhZ2dlZFRleHQsIHNlbGYpe1xuICAgICAgICBpZihzZWxmLmRyYWdFdmVudENvdW50PT0yKXtcbiAgICAgICAgICAgIHNlbGYuZGF0YS5zYXZlU3RhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLmRyYWdFdmVudENvdW50Kys7XG5cbiAgICAgICAgdmFyIGR4ID0gZDMuZXZlbnQueCAtIHNlbGYucHJldkRyYWdFdmVudC54O1xuICAgICAgICB2YXIgZHkgPSBkMy5ldmVudC55LSBzZWxmLnByZXZEcmFnRXZlbnQueTtcblxuICAgICAgICBkcmFnZ2VkVGV4dC5sb2NhdGlvbi5tb3ZlKGR4LCBkeSk7XG4gICAgICAgIHNlbGYudHJlZURlc2lnbmVyLnVwZGF0ZVRleHRQb3NpdGlvbihkcmFnZ2VkVGV4dCk7XG5cbiAgICAgICAgc2VsZi5wcmV2RHJhZ0V2ZW50ID0gZDMuZXZlbnQ7XG4gICAgICAgIHNlbGYudHJlZURlc2lnbmVyLnVwZGF0ZVBsb3R0aW5nUmVnaW9uU2l6ZSgpO1xuICAgIH1cblxuICAgIGRyYWdFbmRlZChkcmFnZ2VkTm9kZSwgc2VsZil7XG4gICAgICAgICBkMy5zZWxlY3QodGhpcykuY2xhc3NlZChcImRyYWdnaW5nXCIsIGZhbHNlKTtcbiAgICB9XG5cbn1cblxuXG4iLCJpbXBvcnQgKiBhcyBkMyBmcm9tICcuLi9kMydcblxuaW1wb3J0IHtVdGlsc30gZnJvbSAnc2QtdXRpbHMnXG5pbXBvcnQge0FwcFV0aWxzfSBmcm9tICcuLi9hcHAtdXRpbHMnXG5pbXBvcnQge2RvbWFpbiBhcyBtb2RlbH0gZnJvbSAnc2QtbW9kZWwnXG5pbXBvcnQge0NvbnRleHRNZW51fSBmcm9tICcuL2NvbnRleHQtbWVudSdcbmltcG9ydCB7TWFpbkNvbnRleHRNZW51fSBmcm9tICcuL21haW4tY29udGV4dC1tZW51J1xuaW1wb3J0IHtOb2RlQ29udGV4dE1lbnV9IGZyb20gJy4vbm9kZS1jb250ZXh0LW1lbnUnXG5pbXBvcnQge0xheW91dH0gZnJvbSAnLi9sYXlvdXQnXG5pbXBvcnQge05vZGVEcmFnSGFuZGxlcn0gZnJvbSAnLi9ub2RlLWRyYWctaGFuZGxlcidcbmltcG9ydCB7VG9vbHRpcH0gZnJvbSAnLi4vdG9vbHRpcCdcbmltcG9ydCB7VGVtcGxhdGVzfSBmcm9tIFwiLi4vdGVtcGxhdGVzXCI7XG5pbXBvcnQge1RleHREcmFnSGFuZGxlcn0gZnJvbSBcIi4vdGV4dC1kcmFnLWhhbmRsZXJcIjtcbmltcG9ydCB7VGV4dENvbnRleHRNZW51fSBmcm9tIFwiLi90ZXh0LWNvbnRleHQtbWVudVwiO1xuaW1wb3J0IHtFZGdlQ29udGV4dE1lbnV9IGZyb20gXCIuL2VkZ2UtY29udGV4dC1tZW51XCI7XG5pbXBvcnQgKiBhcyBIYW1tZXIgZnJvbSBcImhhbW1lcmpzXCJcbmltcG9ydCB7aTE4bn0gZnJvbSBcIi4uL2kxOG4vaTE4blwiO1xuXG5leHBvcnQgY2xhc3MgVHJlZURlc2lnbmVyQ29uZmlnIHtcbiAgICB3aWR0aCA9IHVuZGVmaW5lZDtcbiAgICBoZWlnaHQgPSB1bmRlZmluZWQ7XG4gICAgbWFyZ2luID0ge1xuICAgICAgICBsZWZ0OiAyNSxcbiAgICAgICAgcmlnaHQ6IDI1LFxuICAgICAgICB0b3A6IDI1LFxuICAgICAgICBib3R0b206IDI1XG4gICAgfTtcbiAgICBsYXlvdXQ9IHtcbiAgICAgICAgdHlwZTogJ3RyZWUnLFxuICAgICAgICBub2RlU2l6ZTogNDAsXG4gICAgICAgIGxpbWl0Tm9kZVBvc2l0aW9uaW5nOiB0cnVlLFxuICAgICAgICBncmlkSGVpZ2h0OiA3NSxcbiAgICAgICAgZ3JpZFdpZHRoOiAxNTAsXG4gICAgICAgIGVkZ2VTbGFudFdpZHRoTWF4OiAyMFxuICAgIH07XG4gICAgZm9udEZhbWlseSA9ICdzYW5zLXNlcmlmJztcbiAgICBmb250U2l6ZSA9ICcxMnB4JztcbiAgICBmb250V2VpZ2h0ID0gJ25vcm1hbCc7XG4gICAgZm9udFN0eWxlID0gJ25vcm1hbCc7XG4gICAgbm9kZSA9IHtcbiAgICAgICAgc3Ryb2tlV2lkdGg6ICcxcHgnLFxuICAgICAgICBvcHRpbWFsOiB7XG4gICAgICAgICAgICBzdHJva2U6ICcjMDA2ZjAwJyxcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAnMS41cHgnLFxuICAgICAgICB9LFxuICAgICAgICBsYWJlbDoge1xuICAgICAgICAgICAgZm9udFNpemU6ICcxZW0nLFxuICAgICAgICAgICAgY29sb3I6ICdibGFjaydcbiAgICAgICAgfSxcbiAgICAgICAgcGF5b2ZmOiB7XG4gICAgICAgICAgICBmb250U2l6ZTogJzFlbScsXG4gICAgICAgICAgICBjb2xvcjogJ2JsYWNrJyxcbiAgICAgICAgICAgIG5lZ2F0aXZlQ29sb3I6ICcjYjYwMDAwJ1xuICAgICAgICB9LFxuICAgICAgICBkZWNpc2lvbjoge1xuICAgICAgICAgICAgZmlsbDogJyNmZjc3NzcnLFxuICAgICAgICAgICAgc3Ryb2tlOiAnIzY2MDAwMCcsXG5cbiAgICAgICAgICAgIHNlbGVjdGVkOiB7XG4gICAgICAgICAgICAgICAgZmlsbDogJyNhYTMzMzMnLFxuICAgICAgICAgICAgICAgIC8vIHN0cm9rZTogJyM2NjY2MDAnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNoYW5jZToge1xuICAgICAgICAgICAgZmlsbDogJyNmZmZmNDQnLFxuICAgICAgICAgICAgc3Ryb2tlOiAnIzY2NjYwMCcsXG5cbiAgICAgICAgICAgIHNlbGVjdGVkOiB7XG4gICAgICAgICAgICAgICAgZmlsbDogJyNhYWFhMDAnLFxuICAgICAgICAgICAgICAgIC8vIHN0cm9rZTogJyM2NjY2MDAnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHRlcm1pbmFsOntcbiAgICAgICAgICAgIGZpbGw6ICcjNDRmZjQ0JyxcbiAgICAgICAgICAgIHN0cm9rZTogJ2JsYWNrJyxcbiAgICAgICAgICAgIHNlbGVjdGVkOiB7XG4gICAgICAgICAgICAgICAgZmlsbDogJyMwMGFhMDAnLFxuICAgICAgICAgICAgICAgIC8vIHN0cm9rZTogJ2JsYWNrJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBheW9mZjoge1xuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMWVtJyxcbiAgICAgICAgICAgICAgICBjb2xvcjogJ2JsYWNrJyxcbiAgICAgICAgICAgICAgICBuZWdhdGl2ZUNvbG9yOiAnI2I2MDAwMCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICB9O1xuICAgIGVkZ2U9e1xuICAgICAgICBzdHJva2U6ICcjNDI0MjQyJyxcbiAgICAgICAgc3Ryb2tlV2lkdGg6ICcxLjUnLFxuICAgICAgICBvcHRpbWFsOntcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDZmMDAnLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6ICcyLjQnLFxuICAgICAgICB9LFxuICAgICAgICBzZWxlY3RlZDp7XG4gICAgICAgICAgICBzdHJva2U6ICcjMDQ1YWQxJyxcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAnMy41JyxcbiAgICAgICAgfSxcbiAgICAgICAgbGFiZWw6IHtcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMWVtJyxcbiAgICAgICAgICAgIGNvbG9yOiAnYmFjaydcbiAgICAgICAgfSxcbiAgICAgICAgcGF5b2ZmOntcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMWVtJyxcbiAgICAgICAgICAgIGNvbG9yOiAnYmxhY2snLFxuICAgICAgICAgICAgbmVnYXRpdmVDb2xvcjogJyNiNjAwMDAnXG4gICAgICAgIH1cblxuICAgIH07XG4gICAgcHJvYmFiaWxpdHkgPSB7XG4gICAgICAgIGZvbnRTaXplOiAnMWVtJyxcbiAgICAgICAgY29sb3I6ICcjMDAwMGQ3J1xuICAgIH07XG4gICAgdGl0bGUgPSB7XG4gICAgICAgIGZvbnRTaXplOiAnMTZweCcsXG4gICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcbiAgICAgICAgZm9udFN0eWxlOiAnbm9ybWFsJyxcbiAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcbiAgICAgICAgbWFyZ2luOntcbiAgICAgICAgICAgIHRvcDogMTUsXG4gICAgICAgICAgICBib3R0b206IDEwXG4gICAgICAgIH1cbiAgICB9O1xuICAgIGRlc2NyaXB0aW9uID0ge1xuICAgICAgICBzaG93OiB0cnVlLFxuICAgICAgICBmb250U2l6ZTogJzEycHgnLFxuICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXG4gICAgICAgIGZvbnRTdHlsZTogJ25vcm1hbCcsXG4gICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXG4gICAgICAgIG1hcmdpbjp7XG4gICAgICAgICAgICB0b3A6IDUsXG4gICAgICAgICAgICBib3R0b206IDEwXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgJHJlYWRPbmx5PSBmYWxzZTtcbiAgICBkaXNhYmxlQW5pbWF0aW9ucz1mYWxzZTtcbiAgICBmb3JjZUZ1bGxFZGdlUmVkcmF3PWZhbHNlO1xuICAgIGhpZGVMYWJlbHM9ZmFsc2U7XG4gICAgaGlkZVBheW9mZnM9ZmFsc2U7XG4gICAgaGlkZVByb2JhYmlsaXRpZXM9ZmFsc2U7XG4gICAgcmF3PWZhbHNlO1xuXG5cbiAgICBwYXlvZmZOdW1iZXJGb3JtYXR0ZXIgPSAodik9PiB2O1xuICAgIHByb2JhYmlsaXR5TnVtYmVyRm9ybWF0dGVyICA9ICh2KT0+IHY7XG5cbiAgICBvbk5vZGVTZWxlY3RlZCA9IChub2RlKSA9PiB7fTtcbiAgICBvbkVkZ2VTZWxlY3RlZCA9IChlZGdlKSA9PiB7fTtcbiAgICBvblRleHRTZWxlY3RlZCA9ICh0ZXh0KSA9PiB7fTtcbiAgICBvblNlbGVjdGlvbkNsZWFyZWQgPSAoKSA9PiB7fTtcblxuICAgIG9wZXJhdGlvbnNGb3JPYmplY3QgPSAobykgPT4gW107XG5cblxuICAgIGNvbnN0cnVjdG9yKGN1c3RvbSkge1xuICAgICAgICBpZiAoY3VzdG9tKSB7XG4gICAgICAgICAgICBVdGlscy5kZWVwRXh0ZW5kKHRoaXMsIGN1c3RvbSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuZXhwb3J0IGNsYXNzIFRyZWVEZXNpZ25lciB7XG5cbiAgICBjb25maWc7XG4gICAgY29udGFpbmVyO1xuICAgIGRhdGE7IC8vZGF0YSBtb2RlbCBtYW5hZ2VyXG4gICAgc3ZnO1xuXG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyLCBkYXRhTW9kZWwsIGNvbmZpZyl7XG4gICAgICAgIHRoaXMuc2V0Q29uZmlnKGNvbmZpZyk7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGFNb2RlbDtcbiAgICAgICAgdGhpcy5pbml0Q29udGFpbmVyKGNvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIHNldENvbmZpZyhjb25maWcpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSBuZXcgVHJlZURlc2lnbmVyQ29uZmlnKGNvbmZpZyk7XG4gICAgICAgIGlmKHRoaXMubGF5b3V0KXtcbiAgICAgICAgICAgIHRoaXMubGF5b3V0LmNvbmZpZz10aGlzLmNvbmZpZy5sYXlvdXQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVDdXN0b21TdHlsZXMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgaW5pdCgpe1xuXG4gICAgICAgIHRoaXMuaW5pdFN2ZygpO1xuICAgICAgICB0aGlzLmluaXRMYXlvdXQoKTtcblxuICAgICAgICB0aGlzLmluaXRCcnVzaCgpO1xuICAgICAgICB0aGlzLmluaXRFZGdlTWFya2VycygpO1xuXG4gICAgICAgIHRoaXMudXBkYXRlQ3VzdG9tU3R5bGVzKCk7XG4gICAgICAgIGlmKCF0aGlzLmNvbmZpZy4kcmVhZE9ubHkpe1xuICAgICAgICAgICAgdGhpcy5pbml0TWFpbkNvbnRleHRNZW51KCk7XG4gICAgICAgICAgICB0aGlzLmluaXROb2RlQ29udGV4dE1lbnUoKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdEVkZ2VDb250ZXh0TWVudSgpO1xuICAgICAgICAgICAgdGhpcy5pbml0Tm9kZURyYWdIYW5kbGVyKCk7XG4gICAgICAgICAgICB0aGlzLmluaXRUZXh0RHJhZ0hhbmRsZXIoKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdFRleHRDb250ZXh0TWVudSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVkcmF3KCk7XG4gICAgfVxuXG4gICAgdXBkYXRlQ3VzdG9tU3R5bGVzKCl7XG4gICAgICAgIGQzLnNlbGVjdCgnaGVhZCcpLnNlbGVjdE9yQXBwZW5kKCdzdHlsZSNzZC10cmVlLWRlc2lnbmVyLXN0eWxlJykuaHRtbChUZW1wbGF0ZXMuZ2V0KCd0cmVlRGVzaWduZXJTdHlsZXMnLCB0aGlzLmNvbmZpZykpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBpbml0TGF5b3V0KCl7XG4gICAgICAgIHRoaXMubGF5b3V0ID0gbmV3IExheW91dCh0aGlzLCB0aGlzLmRhdGEsIHRoaXMuY29uZmlnLmxheW91dCk7XG4gICAgfVxuXG4gICAgaW5pdE5vZGVEcmFnSGFuZGxlcigpe1xuICAgICAgICB0aGlzLm5vZGVEcmFnSGFuZGxlciA9IG5ldyBOb2RlRHJhZ0hhbmRsZXIodGhpcywgdGhpcy5kYXRhKTtcbiAgICB9XG5cbiAgICBpbml0VGV4dERyYWdIYW5kbGVyKCl7XG4gICAgICAgIHRoaXMudGV4dERyYWdIYW5kbGVyID0gbmV3IFRleHREcmFnSGFuZGxlcih0aGlzLCB0aGlzLmRhdGEpO1xuICAgIH1cblxuICAgIHJlZHJhdyh3aXRoVHJhbnNpdGlvbnM9ZmFsc2Upe1xuXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgd2l0aFRyYW5zaXRpb25zID0gIXNlbGYuY29uZmlnLmRpc2FibGVBbmltYXRpb25zICYmIHdpdGhUcmFuc2l0aW9ucztcbiAgICAgICAgdGhpcy5yZWRyYXdEaWFncmFtVGl0bGUoKTtcbiAgICAgICAgdGhpcy5yZWRyYXdEaWFncmFtRGVzY3JpcHRpb24oKTtcbiAgICAgICAgdGhpcy51cGRhdGVNYXJnaW4od2l0aFRyYW5zaXRpb25zKTtcbiAgICAgICAgaWYod2l0aFRyYW5zaXRpb25zKXtcbiAgICAgICAgICAgIHNlbGYudHJhbnNpdGlvblByZXYgPSBzZWxmLnRyYW5zaXRpb247XG4gICAgICAgICAgICBzZWxmLnRyYW5zaXRpb24gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVkcmF3Tm9kZXMoKTtcbiAgICAgICAgdGhpcy5yZWRyYXdFZGdlcygpO1xuICAgICAgICB0aGlzLnJlZHJhd0Zsb2F0aW5nVGV4dHMoKTtcbiAgICAgICAgdGhpcy51cGRhdGVWYWxpZGF0aW9uTWVzc2FnZXMoKTtcbiAgICAgICAgaWYod2l0aFRyYW5zaXRpb25zKXtcbiAgICAgICAgICAgIHNlbGYudHJhbnNpdGlvbiA9ICBzZWxmLnRyYW5zaXRpb25QcmV2O1xuICAgICAgICB9XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHNlbGYudXBkYXRlUGxvdHRpbmdSZWdpb25TaXplKCk7XG4gICAgICAgIH0sMTApO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNvbXB1dGVBdmFpbGFibGVTcGFjZSgpe1xuICAgICAgICB0aGlzLmF2YWlsYWJsZUhlaWdodCA9IEFwcFV0aWxzLnNhbml0aXplSGVpZ2h0KHRoaXMuY29uZmlnLmhlaWdodCwgdGhpcy5jb250YWluZXIsIHRoaXMuY29uZmlnLm1hcmdpbik7XG4gICAgICAgIHRoaXMuYXZhaWxhYmxlV2lkdGggPSBBcHBVdGlscy5zYW5pdGl6ZVdpZHRoKHRoaXMuY29uZmlnLndpZHRoLCB0aGlzLmNvbnRhaW5lciwgdGhpcy5jb25maWcubWFyZ2luKTtcbiAgICB9XG5cbiAgICBpbml0U3ZnKCkge1xuICAgICAgICB2YXIgYyA9IHRoaXM7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5jb21wdXRlQXZhaWxhYmxlU3BhY2UoKTtcbiAgICAgICAgdGhpcy5zdmcgPSB0aGlzLmNvbnRhaW5lci5zZWxlY3RPckFwcGVuZCgnc3ZnLnRyZWUtZGVzaWduZXInKTtcbiAgICAgICAgdGhpcy5zdmcuYXR0cignd2lkdGgnLCB0aGlzLmF2YWlsYWJsZVdpZHRoKS5hdHRyKCdoZWlnaHQnLCB0aGlzLmF2YWlsYWJsZUhlaWdodCk7XG5cbiAgICAgICAgdGhpcy5tYWluR3JvdXAgPSB0aGlzLnN2Zy5zZWxlY3RPckFwcGVuZCgnZy5tYWluLWdyb3VwJyk7XG4gICAgICAgIHRoaXMudXBkYXRlTWFyZ2luKCk7XG5cblxuICAgICAgICBpZiAoIXRoaXMuY29uZmlnLndpZHRoKSB7XG4gICAgICAgICAgICBkMy5zZWxlY3Qod2luZG93KVxuICAgICAgICAgICAgICAgIC5vbihcInJlc2l6ZS50cmVlLWRlc2lnbmVyXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi51cGRhdGVQbG90dGluZ1JlZ2lvblNpemUoKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWRyYXdEaWFncmFtVGl0bGUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtYyA9IG5ldyBIYW1tZXIuTWFuYWdlcih0aGlzLnN2Zy5ub2RlKCksIHt0b3VjaEFjdGlvbiA6ICdhdXRvJ30pO1xuICAgICAgICBtYy5hZGQobmV3IEhhbW1lci5QcmVzcyh7XG4gICAgICAgICAgICBwb2ludGVyVHlwZTogJ3RvdWNoJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgbWMuYWRkKG5ldyBIYW1tZXIuUGluY2goe1xuICAgICAgICAgICAgcG9pbnRlclR5cGU6ICd0b3VjaCdcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHZhciBjYW5jZWw7XG4gICAgICAgIG1jLm9uKCdwaW5jaHN0YXJ0JywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHNlbGYuZGlzYWJsZUJydXNoKCk7XG4gICAgICAgIH0pXG4gICAgICAgIG1jLm9uKCdwaW5jaCcsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBjYW5jZWwgPSBVdGlscy53YWl0Rm9yRmluYWxFdmVudCgoKT0+c2VsZi5lbmFibGVCcnVzaCgpLCAncGluY2hlbmQnLCA1MDAwKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHVwZGF0ZU1hcmdpbih3aXRoVHJhbnNpdGlvbnMpe1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBtYXJnaW4gPSB0aGlzLmNvbmZpZy5tYXJnaW47XG4gICAgICAgIHZhciBncm91cCA9IHRoaXMubWFpbkdyb3VwO1xuICAgICAgICBpZih3aXRoVHJhbnNpdGlvbnMpe1xuICAgICAgICAgICAgZ3JvdXAgPSBncm91cC50cmFuc2l0aW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRvcE1hcmdpbiA9IG1hcmdpbi50b3A7XG4gICAgICAgIGlmKHRoaXMuZGlhZ3JhbVRpdGxlfHx0aGlzLmRpYWdyYW1EZXNjcmlwdGlvbil7XG4gICAgICAgICAgICB0aGlzLnRvcE1hcmdpbiA9IHBhcnNlSW50KHRoaXMuZGlhZ3JhbVRpdGxlID8gdGhpcy5jb25maWcudGl0bGUubWFyZ2luLnRvcCA6IDApICsgdGhpcy5nZXRUaXRsZUdyb3VwSGVpZ2h0KClcbiAgICAgICAgICAgICAgICArICBNYXRoLm1heCh0aGlzLnRvcE1hcmdpbiwgcGFyc2VJbnQodGhpcy5jb25maWcudGl0bGUubWFyZ2luLmJvdHRvbSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ3JvdXAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIG1hcmdpbi5sZWZ0ICsgXCIsXCIgKyB0aGlzLnRvcE1hcmdpbiArIFwiKVwiKS5vbihcImVuZFwiLCAoKT0+IHNlbGYudXBkYXRlUGxvdHRpbmdSZWdpb25TaXplKCkpO1xuICAgIH1cblxuICAgIHNldE1hcmdpbihtYXJnaW4sIHdpdGhvdXRTdGF0ZVNhdmluZyl7XG4gICAgICAgIHZhciBzZWxmPXRoaXM7XG4gICAgICAgIGlmKCF3aXRob3V0U3RhdGVTYXZpbmcpe1xuICAgICAgICAgICAgdGhpcy5kYXRhLnNhdmVTdGF0ZSh7XG4gICAgICAgICAgICAgICAgZGF0YTp7XG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbjogVXRpbHMuY2xvbmUoc2VsZi5jb25maWcubWFyZ2luKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25VbmRvOiAoZGF0YSk9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0TWFyZ2luKGRhdGEubWFyZ2luLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uUmVkbzogKGRhdGEpPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnNldE1hcmdpbihtYXJnaW4sIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFV0aWxzLmRlZXBFeHRlbmQodGhpcy5jb25maWcubWFyZ2luLCBtYXJnaW4pO1xuICAgICAgICB0aGlzLnJlZHJhd0RpYWdyYW1UaXRsZSgpO1xuICAgICAgICB0aGlzLnVwZGF0ZU1hcmdpbih0cnVlKTtcbiAgICB9XG5cbiAgICBpbml0Q29udGFpbmVyKGNvbnRhaW5lcikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICB1cGRhdGVQbG90dGluZ1JlZ2lvblNpemUoKSB7XG4gICAgICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29tcHV0ZUF2YWlsYWJsZVNwYWNlKCk7XG4gICAgICAgIHZhciBtYXJnaW4gPSB0aGlzLmNvbmZpZy5tYXJnaW47XG4gICAgICAgIHZhciBzdmdXaWR0aCA9IHRoaXMuc3ZnLmF0dHIoJ3dpZHRoJyk7XG4gICAgICAgIHZhciBzdmdIZWlnaHQgPSB0aGlzLnN2Zy5hdHRyKCdoZWlnaHQnKTtcbiAgICAgICAgdmFyIG1haW5Hcm91cEJveCA9IHRoaXMubWFpbkdyb3VwLm5vZGUoKS5nZXRCQm94KCk7XG4gICAgICAgIHZhciBuZXdTdmdXaWR0aCA9IG1haW5Hcm91cEJveC53aWR0aCttYWluR3JvdXBCb3gueCttYXJnaW4ubGVmdCttYXJnaW4ucmlnaHQ7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzZWQoJ3dpdGgtb3ZlcmZsb3cteCcsIG5ld1N2Z1dpZHRoPj10aGlzLmF2YWlsYWJsZVdpZHRoKTtcbiAgICAgICAgbmV3U3ZnV2lkdGggPSBNYXRoLm1heChuZXdTdmdXaWR0aCwgdGhpcy5hdmFpbGFibGVXaWR0aCk7XG4gICAgICAgIGlmKHN2Z1dpZHRoIT1uZXdTdmdXaWR0aCl7XG4gICAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuc3ZnLmF0dHIoJ3dpZHRoJywgbmV3U3ZnV2lkdGgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuZXdTdmdIZWlnaHQgPSBtYWluR3JvdXBCb3guaGVpZ2h0K21haW5Hcm91cEJveC55K3RoaXMudG9wTWFyZ2luK21hcmdpbi5ib3R0b207XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NlZCgnd2l0aC1vdmVyZmxvdy15JywgbmV3U3ZnSGVpZ2h0Pj10aGlzLmF2YWlsYWJsZUhlaWdodCk7XG4gICAgICAgIG5ld1N2Z0hlaWdodCA9IE1hdGgubWF4KG5ld1N2Z0hlaWdodCwgdGhpcy5hdmFpbGFibGVIZWlnaHQpO1xuICAgICAgICBpZihzdmdIZWlnaHQhPW5ld1N2Z0hlaWdodCl7XG4gICAgICAgICAgICBjaGFuZ2VkPXRydWU7XG4gICAgICAgICAgICB0aGlzLnN2Zy5hdHRyKCdoZWlnaHQnLCBuZXdTdmdIZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmKGNoYW5nZWQpe1xuICAgICAgICAgICAgdGhpcy51cGRhdGVCcnVzaEV4dGVudCgpXG4gICAgICAgIH1cblxuXG4gICAgfVxuXG4gICAgcmVkcmF3Tm9kZXMoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuXG4gICAgICAgIHZhciBub2Rlc0NvbnRhaW5lciA9IHRoaXMubWFpbkdyb3VwLnNlbGVjdE9yQXBwZW5kKCdnLm5vZGVzJyk7XG4gICAgICAgIHZhciBub2RlcyA9IG5vZGVzQ29udGFpbmVyLnNlbGVjdEFsbCgnLm5vZGUnKS5kYXRhKHRoaXMuZGF0YS5ub2RlcywgKGQsaSk9PiBkLiRpZCk7XG4gICAgICAgIG5vZGVzLmV4aXQoKS5yZW1vdmUoKTtcbiAgICAgICAgdmFyIG5vZGVzRW50ZXIgPSBub2Rlcy5lbnRlcigpLmFwcGVuZCgnZycpXG4gICAgICAgICAgICAuYXR0cignaWQnLCBkPT4nbm9kZS0nK2QuJGlkKVxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgZD0+ZC50eXBlKyctbm9kZSBub2RlJylcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBkPT4ndHJhbnNsYXRlKCcgKyBkLmxvY2F0aW9uLnggKyAnICAnICsgZC5sb2NhdGlvbi55ICsgJyknKTtcbiAgICAgICAgbm9kZXNFbnRlci5hcHBlbmQoJ3BhdGgnKTtcblxuICAgICAgICB2YXIgbGFiZWxFbnRlciA9IG5vZGVzRW50ZXIuYXBwZW5kKCd0ZXh0JykuYXR0cignY2xhc3MnLCAnbGFiZWwnKTtcbiAgICAgICAgdmFyIHBheW9mZkVudGVyID0gbm9kZXNFbnRlci5hcHBlbmQoJ3RleHQnKS5hdHRyKCdjbGFzcycsICdwYXlvZmYgY29tcHV0ZWQnKTtcbiAgICAgICAgdmFyIGluZGljYXRvckVudGVyID0gbm9kZXNFbnRlci5hcHBlbmQoJ3RleHQnKS5hdHRyKCdjbGFzcycsICdlcnJvci1pbmRpY2F0b3InKS50ZXh0KCchIScpO1xuICAgICAgICB2YXIgYWdncmVnYXRlZFBheW9mZkVudGVyID0gbm9kZXNFbnRlci5hcHBlbmQoJ3RleHQnKS5hdHRyKCdjbGFzcycsICdhZ2dyZWdhdGVkLXBheW9mZicpO1xuICAgICAgICB2YXIgcHJvYmFiaWxpdHlUb0VudGVyRW50ZXIgPSBub2Rlc0VudGVyLmFwcGVuZCgndGV4dCcpLmF0dHIoJ2NsYXNzJywgJ3Byb2JhYmlsaXR5LXRvLWVudGVyJyk7XG5cbiAgICAgICAgdmFyIG5vZGVzTWVyZ2UgPSBub2Rlc0VudGVyLm1lcmdlKG5vZGVzKTtcbiAgICAgICAgbm9kZXNNZXJnZS5jbGFzc2VkKCdvcHRpbWFsJywgKGQpPT5zZWxmLmlzT3B0aW1hbChkKSk7XG5cbiAgICAgICAgdmFyIG5vZGVzTWVyZ2VUID0gbm9kZXNNZXJnZTtcbiAgICAgICAgaWYodGhpcy50cmFuc2l0aW9uKXtcbiAgICAgICAgICAgIG5vZGVzTWVyZ2VUID0gbm9kZXNNZXJnZS50cmFuc2l0aW9uKCk7XG4gICAgICAgICAgICBub2Rlc01lcmdlVC5vbignZW5kJywgKCk9PiBzZWxmLnVwZGF0ZVBsb3R0aW5nUmVnaW9uU2l6ZSgpKVxuICAgICAgICB9XG4gICAgICAgIG5vZGVzTWVyZ2VUXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZD0+J3RyYW5zbGF0ZSgnICsgZC5sb2NhdGlvbi54ICsgJyAgJyArIGQubG9jYXRpb24ueSArICcpJylcblxuICAgICAgICB2YXIgcGF0aCA9IG5vZGVzTWVyZ2Uuc2VsZWN0KCdwYXRoJyk7XG4gICAgICAgIHRoaXMubGF5b3V0LmRyYXdOb2RlU3ltYm9sKHBhdGgsdGhpcy50cmFuc2l0aW9uKTtcblxuICAgICAgICAvKnBhdGhcbiAgICAgICAgICAgIC5zdHlsZSgnZmlsbCcsIGQ9PiB7XG4gICAgICAgICAgICAgICAgLy8gaWYoc2VsZi5pc05vZGVTZWxlY3RlZChkKSl7XG4gICAgICAgICAgICAgICAgLy8gICAgIHJldHVybiBzZWxmLmNvbmZpZy5ub2RlW2QudHlwZV0uc2VsZWN0ZWQuZmlsbFxuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5jb25maWcubm9kZVtkLnR5cGVdLmZpbGxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3R5bGUoJ3N0cm9rZScsIGQ9PiBzZWxmLmNvbmZpZy5ub2RlW2QudHlwZV0uc3Ryb2tlKVxuICAgICAgICAgICAgLnN0eWxlKCdzdHJva2Utd2lkdGgnLCBkPT4ge1xuICAgICAgICAgICAgICAgIGlmKHNlbGYuY29uZmlnLm5vZGVbZC50eXBlXS5zdHJva2VXaWR0aCE9PXVuZGVmaW5lZCl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmNvbmZpZy5ub2RlW2QudHlwZV0uc3Ryb2tlV2lkdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmNvbmZpZy5ub2RlLnN0cm9rZVdpZHRoO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICovXG4gICAgICAgIHRoaXMubGF5b3V0Lm5vZGVMYWJlbFBvc2l0aW9uKGxhYmVsRW50ZXIpO1xuICAgICAgICB2YXIgbGFiZWxNZXJnZSA9IG5vZGVzTWVyZ2Uuc2VsZWN0KCd0ZXh0LmxhYmVsJyk7XG4gICAgICAgIGxhYmVsTWVyZ2UuY2xhc3NlZCgnc2QtaGlkZGVuJywgdGhpcy5jb25maWcuaGlkZUxhYmVscyk7XG4gICAgICAgIHZhciBsYWJlbE1lcmdlVCA9IG5vZGVzTWVyZ2VULnNlbGVjdCgndGV4dC5sYWJlbCcpO1xuICAgICAgICBsYWJlbE1lcmdlVC5lYWNoKHRoaXMudXBkYXRlVGV4dExpbmVzKTtcbiAgICAgICAgdGhpcy5sYXlvdXQubm9kZUxhYmVsUG9zaXRpb24obGFiZWxNZXJnZVQpXG4gICAgICAgICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJylcblxuICAgICAgICB2YXIgcGF5b2ZmID0gbm9kZXNNZXJnZS5zZWxlY3QoJ3RleHQucGF5b2ZmJylcbiAgICAgICAgICAgIC8vIC5hdHRyKCdkb21pbmFudC1iYXNlbGluZScsICdoYW5naW5nJylcbiAgICAgICAgICAgIC5jbGFzc2VkKCduZWdhdGl2ZScsIGQ9PiB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IGQuZGlzcGxheVZhbHVlKCdjaGlsZHJlblBheW9mZicpO1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWwhPT1udWxsICYmIHZhbDwwO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jbGFzc2VkKCdzZC1oaWRkZW4nLCB0aGlzLmNvbmZpZy5oaWRlUGF5b2ZmcyB8fCB0aGlzLmNvbmZpZy5yYXcpXG4gICAgICAgICAgICAudGV4dChkPT4ge1xuICAgICAgICAgICAgICAgIHZhciB2YWwgPSBkLmRpc3BsYXlWYWx1ZSgnY2hpbGRyZW5QYXlvZmYnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsIT09bnVsbCA/IChpc05hTih2YWwpID8gdmFsIDogc2VsZi5jb25maWcucGF5b2ZmTnVtYmVyRm9ybWF0dGVyKHZhbCkpOiAnJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgVG9vbHRpcC5hdHRhY2gocGF5b2ZmLCBkPT5pMThuLnQoJ3Rvb2x0aXAubm9kZS5wYXlvZmYnLHt2YWx1ZTogZC5wYXlvZmZ9KSk7XG5cbiAgICAgICAgdmFyIHBheW9mZlQgPSBwYXlvZmY7XG4gICAgICAgIGlmKHRoaXMudHJhbnNpdGlvbil7XG4gICAgICAgICAgICBwYXlvZmZUID0gcGF5b2ZmLnRyYW5zaXRpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubGF5b3V0Lm5vZGVQYXlvZmZQb3NpdGlvbihwYXlvZmZFbnRlcik7XG4gICAgICAgIHRoaXMubGF5b3V0Lm5vZGVQYXlvZmZQb3NpdGlvbihwYXlvZmZUKTtcblxuICAgICAgICB2YXIgYWdncmVnYXRlZFBheW9mZiA9IG5vZGVzTWVyZ2Uuc2VsZWN0KCd0ZXh0LmFnZ3JlZ2F0ZWQtcGF5b2ZmJylcbiAgICAgICAgICAgIC5jbGFzc2VkKCduZWdhdGl2ZScsIGQ9PiB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IGQuZGlzcGxheVZhbHVlKCdhZ2dyZWdhdGVkUGF5b2ZmJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbCE9PW51bGwgJiYgdmFsPDA7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNsYXNzZWQoJ3NkLWhpZGRlbicsIHRoaXMuY29uZmlnLmhpZGVQYXlvZmZzIHx8IHRoaXMuY29uZmlnLnJhdylcbiAgICAgICAgICAgIC50ZXh0KGQ9PiB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IGQuZGlzcGxheVZhbHVlKCdhZ2dyZWdhdGVkUGF5b2ZmJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbCE9PW51bGwgPyAoaXNOYU4odmFsKSA/IHZhbCA6IHNlbGYuY29uZmlnLnBheW9mZk51bWJlckZvcm1hdHRlcih2YWwpKTogJydcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBUb29sdGlwLmF0dGFjaChhZ2dyZWdhdGVkUGF5b2ZmLCBpMThuLnQoJ3Rvb2x0aXAubm9kZS5hZ2dyZWdhdGVkUGF5b2ZmJykpO1xuXG5cbiAgICAgICAgdmFyIGFnZ3JlZ2F0ZWRQYXlvZmZUID0gYWdncmVnYXRlZFBheW9mZjtcbiAgICAgICAgaWYodGhpcy50cmFuc2l0aW9uKXtcbiAgICAgICAgICAgIGFnZ3JlZ2F0ZWRQYXlvZmZUID0gYWdncmVnYXRlZFBheW9mZi50cmFuc2l0aW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxheW91dC5ub2RlQWdncmVnYXRlZFBheW9mZlBvc2l0aW9uKGFnZ3JlZ2F0ZWRQYXlvZmZFbnRlcik7XG4gICAgICAgIHRoaXMubGF5b3V0Lm5vZGVBZ2dyZWdhdGVkUGF5b2ZmUG9zaXRpb24oYWdncmVnYXRlZFBheW9mZlQpO1xuXG4gICAgICAgIHZhciBwcm9iYWJpbGl0eVRvRW50ZXIgPSBub2Rlc01lcmdlLnNlbGVjdCgndGV4dC5wcm9iYWJpbGl0eS10by1lbnRlcicpXG4gICAgICAgICAgICAudGV4dChkPT57XG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IGQuZGlzcGxheVZhbHVlKCdwcm9iYWJpbGl0eVRvRW50ZXInKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsIT09bnVsbCA/IChpc05hTih2YWwpID8gdmFsIDogc2VsZi5jb25maWcucHJvYmFiaWxpdHlOdW1iZXJGb3JtYXR0ZXIodmFsKSk6ICcnXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNsYXNzZWQoJ3NkLWhpZGRlbicsIHRoaXMuY29uZmlnLmhpZGVQcm9iYWJpbGl0aWVzIHx8IHRoaXMuY29uZmlnLnJhdyk7XG4gICAgICAgIFRvb2x0aXAuYXR0YWNoKHByb2JhYmlsaXR5VG9FbnRlciwgaTE4bi50KCd0b29sdGlwLm5vZGUucHJvYmFiaWxpdHlUb0VudGVyJykpO1xuXG5cbiAgICAgICAgdmFyIHByb2JhYmlsaXR5VG9FbnRlclQgPSBwcm9iYWJpbGl0eVRvRW50ZXI7XG4gICAgICAgIGlmKHRoaXMudHJhbnNpdGlvbil7XG4gICAgICAgICAgICBwcm9iYWJpbGl0eVRvRW50ZXJUID0gcHJvYmFiaWxpdHlUb0VudGVyLnRyYW5zaXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxheW91dC5ub2RlUHJvYmFiaWxpdHlUb0VudGVyUG9zaXRpb24ocHJvYmFiaWxpdHlUb0VudGVyRW50ZXIpO1xuICAgICAgICB0aGlzLmxheW91dC5ub2RlUHJvYmFiaWxpdHlUb0VudGVyUG9zaXRpb24ocHJvYmFiaWxpdHlUb0VudGVyVCk7XG5cblxuICAgICAgICB2YXIgaW5kaWNhdG9yID0gbm9kZXNNZXJnZS5zZWxlY3QoJ3RleHQuZXJyb3ItaW5kaWNhdG9yJyk7XG4gICAgICAgIGluZGljYXRvci5jbGFzc2VkKCdzZC1oaWRkZW4nLCB0aGlzLmNvbmZpZy5yYXcpXG4gICAgICAgIHRoaXMubGF5b3V0Lm5vZGVJbmRpY2F0b3JQb3NpdGlvbihpbmRpY2F0b3JFbnRlcik7XG4gICAgICAgIHRoaXMubGF5b3V0Lm5vZGVJbmRpY2F0b3JQb3NpdGlvbihpbmRpY2F0b3IpO1xuXG4gICAgICAgIGlmKHRoaXMubm9kZURyYWdIYW5kbGVyKXtcbiAgICAgICAgICAgIG5vZGVzTWVyZ2UuY2FsbCh0aGlzLm5vZGVEcmFnSGFuZGxlci5kcmFnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5vZGVzTWVyZ2Uub24oJ2NvbnRleHRtZW51JywgdGhpcy5ub2RlQ29udGV4dE1lbnUpO1xuICAgICAgICBub2Rlc01lcmdlLm9uKCdkYmxjbGljaycsIHRoaXMubm9kZUNvbnRleHRNZW51KVxuICAgICAgICBub2Rlc01lcmdlLmVhY2goZnVuY3Rpb24oZCwgaSl7XG4gICAgICAgICAgICB2YXIgbm9kZUVsZW0gPSB0aGlzO1xuICAgICAgICAgICAgdmFyIG1jID0gbmV3IEhhbW1lci5NYW5hZ2VyKG5vZGVFbGVtKTtcbiAgICAgICAgICAgIG1jLmFkZChuZXcgSGFtbWVyLlByZXNzKHtcbiAgICAgICAgICAgICAgICBwb2ludGVyVHlwZTogJ3RvdWNoJ1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgbWMub24oJ3ByZXNzJywgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgaWYoZS5wb2ludGVyVHlwZT09J3RvdWNoJyl7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYubm9kZURyYWdIYW5kbGVyLmNhbmNlbERyYWcoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHVwZGF0ZVRleHRMaW5lcyhkKXsgLy9oZWxwZXIgbWV0aG9kIGZvciBzcGxpdHRpbmcgdGV4dCB0byB0c3BhbnNcbiAgICAgICAgdmFyIGxpbmVzID0gZC5uYW1lID8gZC5uYW1lLnNwbGl0KCdcXG4nKSA6IFtdO1xuICAgICAgICBsaW5lcy5yZXZlcnNlKCk7XG4gICAgICAgIHZhciB0c3BhbnMgPSBkMy5zZWxlY3QodGhpcykuc2VsZWN0QWxsKCd0c3BhbicpLmRhdGEobGluZXMpO1xuICAgICAgICB0c3BhbnMuZW50ZXIoKS5hcHBlbmQoJ3RzcGFuJylcbiAgICAgICAgICAgIC5tZXJnZSh0c3BhbnMpXG4gICAgICAgICAgICAudGV4dChsPT5sKVxuICAgICAgICAgICAgLmF0dHIoJ2R5JywgKGQsaSk9Pmk+MCA/ICctMS4xZW0nOiB1bmRlZmluZWQpXG4gICAgICAgICAgICAuYXR0cigneCcsICcwJyk7XG5cbiAgICAgICAgdHNwYW5zLmV4aXQoKS5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICBpc09wdGltYWwoZCl7XG4gICAgICAgIHJldHVybiBkLmRpc3BsYXlWYWx1ZSgnb3B0aW1hbCcpO1xuICAgIH1cblxuICAgIHJlZHJhd0VkZ2VzKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBlZGdlc0NvbnRhaW5lciA9IHRoaXMubWFpbkdyb3VwLnNlbGVjdE9yQXBwZW5kKCdnLmVkZ2VzJyk7XG4gICAgICAgIGlmKHNlbGYuY29uZmlnLmZvcmNlRnVsbEVkZ2VSZWRyYXcpe1xuICAgICAgICAgICAgZWRnZXNDb250YWluZXIuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBlZGdlcyA9IGVkZ2VzQ29udGFpbmVyLnNlbGVjdEFsbCgnLmVkZ2UnKS5kYXRhKHRoaXMuZGF0YS5lZGdlcywgKGQsaSk9PiBkLiRpZCk7XG4gICAgICAgIGVkZ2VzLmV4aXQoKS5yZW1vdmUoKTtcbiAgICAgICAgdmFyIGVkZ2VzRW50ZXIgPSBlZGdlcy5lbnRlcigpLmFwcGVuZCgnZycpXG4gICAgICAgICAgICAuYXR0cignaWQnLCBkPT4nZWRnZS0nK2QuJGlkKVxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2VkZ2UnKTtcblxuXG4gICAgICAgIGVkZ2VzRW50ZXIuYXBwZW5kKCdwYXRoJyk7XG4gICAgICAgIHZhciBsYWJlbEVudGVyID0gZWRnZXNFbnRlci5hcHBlbmRTZWxlY3RvcignZy5sYWJlbC1ncm91cCcpO1xuICAgICAgICBsYWJlbEVudGVyLmFwcGVuZCgndGV4dCcpLmF0dHIoJ2NsYXNzJywgJ2xhYmVsJyk7XG4gICAgICAgIHZhciBwYXlvZmZFbnRlciA9IGVkZ2VzRW50ZXIuYXBwZW5kKCd0ZXh0JykuYXR0cignY2xhc3MnLCAncGF5b2ZmJyk7XG4gICAgICAgIHZhciBwcm9iYWJpbGl0eUVudGVyID0gZWRnZXNFbnRlci5hcHBlbmQoJ3RleHQnKS5hdHRyKCdjbGFzcycsICdwcm9iYWJpbGl0eScpO1xuXG5cbiAgICAgICAgdmFyIGVkZ2VzTWVyZ2UgPSBlZGdlc0VudGVyLm1lcmdlKGVkZ2VzKTtcblxuXG4gICAgICAgIHZhciBvcHRpbWFsQ2xhc3NOYW1lID0gJ29wdGltYWwnO1xuICAgICAgICBlZGdlc01lcmdlLmNsYXNzZWQob3B0aW1hbENsYXNzTmFtZSwgKGQpPT5zZWxmLmlzT3B0aW1hbChkKSk7XG5cbiAgICAgICAgdmFyIGVkZ2VzTWVyZ2VUID0gZWRnZXNNZXJnZTtcbiAgICAgICAgaWYodGhpcy50cmFuc2l0aW9uKXtcbiAgICAgICAgICAgIGVkZ2VzTWVyZ2VUID0gZWRnZXNNZXJnZS50cmFuc2l0aW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICBlZGdlc01lcmdlVC5zZWxlY3QoJ3BhdGgnKVxuICAgICAgICAgICAgLmF0dHIoJ2QnLCBkPT4gdGhpcy5sYXlvdXQuZWRnZUxpbmVEKGQpKVxuICAgICAgICAgICAgLy8gLmF0dHIoXCJzdHJva2VcIiwgXCJibGFja1wiKVxuICAgICAgICAgICAgLy8gLmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgMilcbiAgICAgICAgICAgIC5hdHRyKFwiZmlsbFwiLCBcIm5vbmVcIilcbiAgICAgICAgICAgIC5hdHRyKFwibWFya2VyLWVuZFwiLCBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN1ZmZpeCA9IGQzLnNlbGVjdCh0aGlzLnBhcmVudE5vZGUpLmNsYXNzZWQoJ3NlbGVjdGVkJykgPyAnLXNlbGVjdGVkJyA6IChzZWxmLmlzT3B0aW1hbChkKT8nLW9wdGltYWwnOicnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJ1cmwoI2Fycm93XCIrIHN1ZmZpeCtcIilcIlxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC8vIC5hdHRyKFwic2hhcGUtcmVuZGVyaW5nXCIsIFwib3B0aW1pemVRdWFsaXR5XCIpXG5cblxuICAgICAgICBlZGdlc01lcmdlLm9uKCdjbGljaycsIGQ9PntcbiAgICAgICAgICAgIHNlbGYuc2VsZWN0RWRnZShkLCB0cnVlKVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmxheW91dC5lZGdlTGFiZWxQb3NpdGlvbihsYWJlbEVudGVyKTtcbiAgICAgICAgZWRnZXNNZXJnZVQuc2VsZWN0KCd0ZXh0LmxhYmVsJykuZWFjaCh0aGlzLnVwZGF0ZVRleHRMaW5lcyk7XG4gICAgICAgIHZhciBsYWJlbE1lcmdlID0gZWRnZXNNZXJnZS5zZWxlY3QoJ2cubGFiZWwtZ3JvdXAnKTtcbiAgICAgICAgbGFiZWxNZXJnZS5jbGFzc2VkKCdzZC1oaWRkZW4nLCB0aGlzLmNvbmZpZy5oaWRlTGFiZWxzKTtcbiAgICAgICAgdmFyIGxhYmVsTWVyZ2VUID0gZWRnZXNNZXJnZVQuc2VsZWN0KCdnLmxhYmVsLWdyb3VwJyk7XG4gICAgICAgIHRoaXMubGF5b3V0LmVkZ2VMYWJlbFBvc2l0aW9uKGxhYmVsTWVyZ2VUKTtcbiAgICAgICAgICAgIC8vIC50ZXh0KGQ9PmQubmFtZSk7XG5cbiAgICAgICAgdmFyIHBheW9mZlRleHQgPSBlZGdlc01lcmdlLnNlbGVjdCgndGV4dC5wYXlvZmYnKVxuICAgICAgICAgICAgLy8gLmF0dHIoJ2RvbWluYW50LWJhc2VsaW5lJywgJ2hhbmdpbmcnKVxuICAgICAgICAgICAgLmNsYXNzZWQoJ25lZ2F0aXZlJywgZD0+IHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gZC5kaXNwbGF5UGF5b2ZmKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbCE9PW51bGwgJiYgdmFsPDA7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNsYXNzZWQoJ3NkLWhpZGRlbicsIHRoaXMuY29uZmlnLmhpZGVQYXlvZmZzKVxuICAgICAgICAgICAgLy8gLnRleHQoZD0+IGlzTmFOKGQucGF5b2ZmKSA/IGQucGF5b2ZmIDogc2VsZi5jb25maWcucGF5b2ZmTnVtYmVyRm9ybWF0dGVyKGQucGF5b2ZmKSlcbiAgICAgICAgICAgIC50ZXh0KGQ9PntcbiAgICAgICAgICAgICAgICBpZih0aGlzLmNvbmZpZy5yYXcpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5wYXlvZmY7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IGQuZGlzcGxheVBheW9mZigpO1xuICAgICAgICAgICAgICAgIGlmKHZhbCE9PW51bGwpe1xuICAgICAgICAgICAgICAgICAgICBpZighaXNOYU4odmFsKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5jb25maWcucGF5b2ZmTnVtYmVyRm9ybWF0dGVyKHZhbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYoVXRpbHMuaXNTdHJpbmcodmFsKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYoZC5wYXlvZmYhPT1udWxsICYmICFpc05hTihkLnBheW9mZikpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmNvbmZpZy5wYXlvZmZOdW1iZXJGb3JtYXR0ZXIoZC5wYXlvZmYpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGQucGF5b2ZmO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIFRvb2x0aXAuYXR0YWNoKHBheW9mZlRleHQsIGQ9PmkxOG4udCgndG9vbHRpcC5lZGdlLnBheW9mZicse3ZhbHVlOiBkLnBheW9mZn0pKTtcblxuICAgICAgICB2YXIgcGF5b2ZmVGV4dFQgPSBwYXlvZmZUZXh0O1xuICAgICAgICBpZih0aGlzLnRyYW5zaXRpb24pe1xuICAgICAgICAgICAgcGF5b2ZmVGV4dFQgPSBwYXlvZmZUZXh0LnRyYW5zaXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxheW91dC5lZGdlUGF5b2ZmUG9zaXRpb24ocGF5b2ZmRW50ZXIpO1xuICAgICAgICB0aGlzLmxheW91dC5lZGdlUGF5b2ZmUG9zaXRpb24ocGF5b2ZmVGV4dFQpO1xuXG4gICAgICAgIFRvb2x0aXAuYXR0YWNoKGVkZ2VzTWVyZ2Uuc2VsZWN0KCd0ZXh0LnByb2JhYmlsaXR5JyksIGQ9PmkxOG4udCgndG9vbHRpcC5lZGdlLnByb2JhYmlsaXR5Jyx7dmFsdWU6IGQucHJvYmFiaWxpdHk9PT0gdW5kZWZpbmVkID8gZC5kaXNwbGF5UHJvYmFiaWxpdHkoKSA6IGQucHJvYmFiaWxpdHl9KSk7XG5cbiAgICAgICAgZWRnZXNNZXJnZS5zZWxlY3QoJ3RleHQucHJvYmFiaWxpdHknKVxuICAgICAgICAgICAgLmNsYXNzZWQoJ3NkLWhpZGRlbicsIHRoaXMuY29uZmlnLmhpZGVQcm9iYWJpbGl0aWVzKTtcbiAgICAgICAgdmFyIHByb2JhYmlsaXR5TWVyZ2UgPSBlZGdlc01lcmdlLnNlbGVjdCgndGV4dC5wcm9iYWJpbGl0eScpO1xuICAgICAgICBwcm9iYWJpbGl0eU1lcmdlXG4gICAgICAgICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnZW5kJylcbiAgICAgICAgICAgIC50ZXh0KGQ9PntcbiAgICAgICAgICAgICAgICBpZih0aGlzLmNvbmZpZy5yYXcpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5wcm9iYWJpbGl0eTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IGQuZGlzcGxheVByb2JhYmlsaXR5KCk7XG5cbiAgICAgICAgICAgICAgICBpZih2YWwhPT1udWxsKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoIWlzTmFOKHZhbCkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuY29uZmlnLnByb2JhYmlsaXR5TnVtYmVyRm9ybWF0dGVyKHZhbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYoVXRpbHMuaXNTdHJpbmcodmFsKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYoZC5wcm9iYWJpbGl0eSE9PW51bGwgJiYgIWlzTmFOKGQucHJvYmFiaWxpdHkpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5jb25maWcucHJvYmFiaWxpdHlOdW1iZXJGb3JtYXR0ZXIoZC5wcm9iYWJpbGl0eSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZC5wcm9iYWJpbGl0eTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB2YXIgcHJvYmFiaWxpdHlNZXJnZVQgPSBwcm9iYWJpbGl0eU1lcmdlO1xuICAgICAgICBpZih0aGlzLnRyYW5zaXRpb24pe1xuICAgICAgICAgICAgcHJvYmFiaWxpdHlNZXJnZVQgPSBwcm9iYWJpbGl0eU1lcmdlLnRyYW5zaXRpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubGF5b3V0LmVkZ2VQcm9iYWJpbGl0eVBvc2l0aW9uKHByb2JhYmlsaXR5RW50ZXIpO1xuICAgICAgICB0aGlzLmxheW91dC5lZGdlUHJvYmFiaWxpdHlQb3NpdGlvbihwcm9iYWJpbGl0eU1lcmdlVCk7XG5cbiAgICAgICAgZWRnZXNNZXJnZS5vbignY29udGV4dG1lbnUnLCB0aGlzLmVkZ2VDb250ZXh0TWVudSk7XG4gICAgICAgIGVkZ2VzTWVyZ2Uub24oJ2RibGNsaWNrJywgdGhpcy5lZGdlQ29udGV4dE1lbnUpXG4gICAgICAgIGVkZ2VzTWVyZ2UuZWFjaChmdW5jdGlvbihkLCBpKXtcbiAgICAgICAgICAgIHZhciBlbGVtID0gdGhpcztcbiAgICAgICAgICAgIHZhciBtYyA9IG5ldyBIYW1tZXIuTWFuYWdlcihlbGVtKTtcbiAgICAgICAgICAgIG1jLmFkZChuZXcgSGFtbWVyLlByZXNzKHtcbiAgICAgICAgICAgICAgICBwb2ludGVyVHlwZTogSGFtbWVyLlBPSU5URVJfVE9VQ0hcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICByZWRyYXdGbG9hdGluZ1RleHRzKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cblxuICAgICAgICB2YXIgdGV4dHNDb250YWluZXIgPSB0aGlzLm1haW5Hcm91cC5zZWxlY3RPckFwcGVuZCgnZy5mbG9hdGluZy10ZXh0cycpO1xuICAgICAgICB2YXIgdGV4dHMgPSB0ZXh0c0NvbnRhaW5lci5zZWxlY3RBbGwoJy5mbG9hdGluZy10ZXh0JykuZGF0YSh0aGlzLmRhdGEudGV4dHMsIChkLGkpPT4gZC4kaWQpO1xuICAgICAgICB0ZXh0cy5leGl0KCkucmVtb3ZlKCk7XG4gICAgICAgIHZhciB0ZXh0c0VudGVyID0gdGV4dHMuZW50ZXIoKS5hcHBlbmRTZWxlY3RvcignZy5mbG9hdGluZy10ZXh0JylcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsIGQ9Pid0ZXh0LScrZC4kaWQpO1xuXG5cbiAgICAgICAgdmFyIHJlY3RXaWR0aCA9IDQwO1xuICAgICAgICB2YXIgcmVjdEhlaWdodCA9IDIwO1xuXG4gICAgICAgIHRleHRzRW50ZXIuYXBwZW5kKCdyZWN0JykuYXR0cigneCcsIC01KS5hdHRyKCd5JywgLTE2KS5hdHRyKCdmaWxsLW9wYWNpdHknLCAwKTtcbiAgICAgICAgdGV4dHNFbnRlci5hcHBlbmQoJ3RleHQnKTtcblxuICAgICAgICB2YXIgdGV4dHNNZXJnZSA9IHRleHRzRW50ZXIubWVyZ2UodGV4dHMpO1xuICAgICAgICB2YXIgdGV4dHNNZXJnZVQgPSB0ZXh0c01lcmdlO1xuICAgICAgICBpZih0aGlzLnRyYW5zaXRpb24pe1xuICAgICAgICAgICAgdGV4dHNNZXJnZVQgPSB0ZXh0c01lcmdlLnRyYW5zaXRpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRleHRzTWVyZ2VULmF0dHIoJ3RyYW5zZm9ybScsIGQ9Pid0cmFuc2xhdGUoJyArIGQubG9jYXRpb24ueCArICcgICcgKyBkLmxvY2F0aW9uLnkgKyAnKScpO1xuXG4gICAgICAgIHZhciB0c3BhbnMgPSB0ZXh0c01lcmdlLnNlbGVjdCgndGV4dCcpLnNlbGVjdEFsbCgndHNwYW4nKS5kYXRhKGQ9PmQudmFsdWUgPyBkLnZhbHVlLnNwbGl0KCdcXG4nKSA6IFtdKTtcblxuICAgICAgICB0c3BhbnMuZW50ZXIoKS5hcHBlbmQoJ3RzcGFuJylcbiAgICAgICAgICAgIC5tZXJnZSh0c3BhbnMpXG4gICAgICAgICAgICAuaHRtbChsPT5BcHBVdGlscy5yZXBsYWNlVXJscyhBcHBVdGlscy5lc2NhcGVIdG1sKGwpKSlcbiAgICAgICAgICAgIC5hdHRyKCdkeScsIChkLGkpPT5pPjAgPyAnMS4xZW0nOiB1bmRlZmluZWQpXG4gICAgICAgICAgICAuYXR0cigneCcsICcwJyk7XG5cbiAgICAgICAgdHNwYW5zLmV4aXQoKS5yZW1vdmUoKTtcbiAgICAgICAgdGV4dHNNZXJnZS5jbGFzc2VkKCdzZC1lbXB0eScsIGQ9PiFkLnZhbHVlIHx8ICFkLnZhbHVlLnRyaW0oKSk7XG4gICAgICAgIHRleHRzTWVyZ2Uuc2VsZWN0KCdyZWN0JykuYXR0cignd2lkdGgnLCByZWN0V2lkdGgpLmF0dHIoJ2hlaWdodCcsIHJlY3RIZWlnaHQpO1xuXG4gICAgICAgIHRleHRzTWVyZ2UuZWFjaChmdW5jdGlvbihkKXtcbiAgICAgICAgICAgIGlmKCFkLnZhbHVlKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgYmIgPSBkMy5zZWxlY3QodGhpcykuc2VsZWN0KCd0ZXh0Jykubm9kZSgpLmdldEJCb3goKTtcbiAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLnNlbGVjdCgncmVjdCcpXG4gICAgICAgICAgICAgICAuYXR0cigneScsIGJiLnktNSlcbiAgICAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIE1hdGgubWF4KGJiLndpZHRoKzEwLCByZWN0V2lkdGgpKVxuICAgICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIE1hdGgubWF4KGJiLmhlaWdodCsxMCwgcmVjdEhlaWdodCkpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmKHRoaXMudGV4dERyYWdIYW5kbGVyKXtcbiAgICAgICAgICAgIHRleHRzTWVyZ2UuY2FsbCh0aGlzLnRleHREcmFnSGFuZGxlci5kcmFnKTtcbiAgICAgICAgfVxuICAgICAgICB0ZXh0c01lcmdlLm9uKCdjb250ZXh0bWVudScsIHRoaXMudGV4dENvbnRleHRNZW51KTtcbiAgICAgICAgdGV4dHNNZXJnZS5vbignZGJsY2xpY2snLCB0aGlzLnRleHRDb250ZXh0TWVudSk7XG4gICAgICAgIHRleHRzTWVyZ2UuZWFjaChmdW5jdGlvbihkLCBpKXtcbiAgICAgICAgICAgIHZhciBlbGVtID0gdGhpcztcbiAgICAgICAgICAgIHZhciBtYyA9IG5ldyBIYW1tZXIuTWFuYWdlcihlbGVtKTtcbiAgICAgICAgICAgIG1jLmFkZChuZXcgSGFtbWVyLlByZXNzKHtcbiAgICAgICAgICAgICAgICBwb2ludGVyVHlwZTogJ3RvdWNoJ1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KVxuXG4gICAgfVxuXG4gICAgdXBkYXRlVmFsaWRhdGlvbk1lc3NhZ2VzKCkge1xuICAgICAgICB2YXIgbm9kZXMgPSB0aGlzLm1haW5Hcm91cC5zZWxlY3RBbGwoJy5ub2RlJyk7XG4gICAgICAgIG5vZGVzLmNsYXNzZWQoJ2Vycm9yJywgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuZGF0YS52YWxpZGF0aW9uUmVzdWx0cy5mb3JFYWNoKHZhbGlkYXRpb25SZXN1bHQ9PntcbiAgICAgICAgICAgIGlmKHZhbGlkYXRpb25SZXN1bHQuaXNWYWxpZCgpKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbGlkYXRpb25SZXN1bHQub2JqZWN0SWRUb0Vycm9yKS5mb3JFYWNoKGlkPT57XG4gICAgICAgICAgICAgICAgdmFyIGVycm9ycyA9IHZhbGlkYXRpb25SZXN1bHQub2JqZWN0SWRUb0Vycm9yW2lkXTtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZVNlbGVjdGlvbiA9IHRoaXMuZ2V0Tm9kZUQzU2VsZWN0aW9uQnlJZChpZCk7XG4gICAgICAgICAgICAgICAgbm9kZVNlbGVjdGlvbi5jbGFzc2VkKCdlcnJvcicsIHRydWUpO1xuICAgICAgICAgICAgICAgIHZhciB0b29sdGlwSHRtbCA9ICcnO1xuICAgICAgICAgICAgICAgIGVycm9ycy5mb3JFYWNoKGU9PntcbiAgICAgICAgICAgICAgICAgICAgaWYodG9vbHRpcEh0bWwpe1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcEh0bWwrPSc8YnIvPidcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwSHRtbCs9QXBwVXRpbHMuZ2V0VmFsaWRhdGlvbk1lc3NhZ2UoZSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBUb29sdGlwLmF0dGFjaChub2RlU2VsZWN0aW9uLnNlbGVjdCgnLmVycm9yLWluZGljYXRvcicpLCB0b29sdGlwSHRtbCk7XG5cblxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBpbml0RWRnZU1hcmtlcnMoKSB7XG4gICAgICAgIHZhciBkZWZzID0gdGhpcy5zdmcuYXBwZW5kKFwic3ZnOmRlZnNcIik7XG5cbiAgICAgICAgdGhpcy5pbml0QXJyb3dNYXJrZXIoXCJhcnJvd1wiKTtcbiAgICAgICAgdGhpcy5pbml0QXJyb3dNYXJrZXIoXCJhcnJvdy1vcHRpbWFsXCIpO1xuICAgICAgICB0aGlzLmluaXRBcnJvd01hcmtlcihcImFycm93LXNlbGVjdGVkXCIpO1xuICAgIH1cblxuICAgIGluaXRBcnJvd01hcmtlcihpZCkge1xuXG4gICAgICAgIHZhciBkZWZzID0gdGhpcy5zdmcuc2VsZWN0KFwiZGVmc1wiKTtcbiAgICAgICAgZGVmcy5hcHBlbmQoXCJtYXJrZXJcIilcbiAgICAgICAgICAgIC5hdHRyKFwiaWRcIixpZClcbiAgICAgICAgICAgIC5hdHRyKFwidmlld0JveFwiLFwiMCAtNSAxMCAxMFwiKVxuICAgICAgICAgICAgLmF0dHIoXCJyZWZYXCIsNSlcbiAgICAgICAgICAgIC5hdHRyKFwicmVmWVwiLDApXG4gICAgICAgICAgICAuYXR0cihcIm1hcmtlcldpZHRoXCIsNClcbiAgICAgICAgICAgIC5hdHRyKFwibWFya2VySGVpZ2h0XCIsNClcbiAgICAgICAgICAgIC5hdHRyKFwib3JpZW50XCIsXCJhdXRvXCIpXG4gICAgICAgICAgICAuYXBwZW5kKFwicGF0aFwiKVxuICAgICAgICAgICAgLmF0dHIoXCJkXCIsIFwiTTAsLTVMMTAsMEwwLDVcIilcbiAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIixcImFycm93SGVhZFwiKTtcbiAgICB9XG5cbiAgICB1cGRhdGVCcnVzaEV4dGVudCgpIHtcbiAgICAgICAgdmFyIHNlbGYgPXRoaXM7XG4gICAgICAgIHRoaXMuYnJ1c2guZXh0ZW50KFtbMCwgMF0sIFtzZWxmLnN2Zy5hdHRyKCd3aWR0aCcpLCBzZWxmLnN2Zy5hdHRyKCdoZWlnaHQnKV1dKTtcbiAgICAgICAgdGhpcy5icnVzaENvbnRhaW5lci5jYWxsKHRoaXMuYnJ1c2gpO1xuICAgIH1cbiAgICBpbml0QnJ1c2goKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICB2YXIgYnJ1c2hDb250YWluZXIgPSBzZWxmLmJydXNoQ29udGFpbmVyID0gdGhpcy5icnVzaENvbnRhaW5lcj0gdGhpcy5zdmcuc2VsZWN0T3JJbnNlcnQoXCJnLmJydXNoXCIsIFwiOmZpcnN0LWNoaWxkXCIpXG4gICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiYnJ1c2hcIik7XG5cbiAgICAgICAgdmFyIGJydXNoID0gdGhpcy5icnVzaCA9IGQzLmJydXNoKClcbiAgICAgICAgICAgIC5vbihcInN0YXJ0XCIsIGJydXNoc3RhcnQpXG4gICAgICAgICAgICAub24oXCJicnVzaFwiLCBicnVzaG1vdmUpXG4gICAgICAgICAgICAub24oXCJlbmRcIiwgYnJ1c2hlbmQpO1xuXG5cblxuICAgICAgICB0aGlzLnVwZGF0ZUJydXNoRXh0ZW50KCk7XG5cbiAgICAgICAgYnJ1c2hDb250YWluZXIuc2VsZWN0KCcub3ZlcmxheScpLm9uKFwibW91c2Vtb3ZlLmVkZ2VTZWxlY3Rpb25cIiwgbW91c2Vtb3ZlZCk7XG4gICAgICAgIGZ1bmN0aW9uIG1vdXNlbW92ZWQoKSB7XG4gICAgICAgICAgICB2YXIgbSA9IGQzLm1vdXNlKHRoaXMpO1xuICAgICAgICAgICAgdmFyIG1ndCA9IHNlbGYuZ2V0TWFpbkdyb3VwVHJhbnNsYXRpb24oKTtcbiAgICAgICAgICAgIHZhciBtYXJnaW4gPSAxMDtcblxuICAgICAgICAgICAgdmFyIGNsb3Nlc3QgPSBbbnVsbCwgOTk5OTk5OTk5XTtcbiAgICAgICAgICAgIHZhciBjbG9zZUVkZ2VzID0gW107XG4gICAgICAgICAgICBzZWxmLm1haW5Hcm91cC5zZWxlY3RBbGwoJy5lZGdlJykuZWFjaChmdW5jdGlvbihkKXtcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0aW9uID0gZDMuc2VsZWN0KHRoaXMpO1xuICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5jbGFzc2VkKCdzZC1ob3ZlcicsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB2YXIgcGF0aE5vZGUgPSBzZWxlY3Rpb24uc2VsZWN0KCdwYXRoJykubm9kZSgpO1xuICAgICAgICAgICAgICAgIHZhciBiID0gcGF0aE5vZGUuZ2V0QkJveCgpO1xuICAgICAgICAgICAgICAgIGlmKGIueCttZ3RbMF0gPD1tWzBdICYmIGIueCtiLndpZHRoK21ndFswXSA+PSBtWzBdICYmXG4gICAgICAgICAgICAgICAgICAgYi55K21ndFsxXS1tYXJnaW4gPD1tWzFdICYmIGIueStiLmhlaWdodCttZ3RbMV0rbWFyZ2luID49IG1bMV0pe1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjcCA9IEFwcFV0aWxzLmNsb3Nlc3RQb2ludChwYXRoTm9kZSwgW21bMF0tbWd0WzBdLCBtWzFdLW1ndFsxXV0pO1xuICAgICAgICAgICAgICAgICAgICBpZihjcC5kaXN0YW5jZSA8IG1hcmdpbiAmJiBjcC5kaXN0YW5jZTxjbG9zZXN0WzFdKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3Nlc3QgPSBbc2VsZWN0aW9uLCBjcC5kaXN0YW5jZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzZWxmLmhvdmVyZWRFZGdlID0gbnVsbDtcbiAgICAgICAgICAgIGlmKGNsb3Nlc3RbMF0pe1xuICAgICAgICAgICAgICAgIGNsb3Nlc3RbMF0uY2xhc3NlZCgnc2QtaG92ZXInLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBzZWxmLmhvdmVyZWRFZGdlID0gY2xvc2VzdFswXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYnJ1c2hzdGFydCgpIHtcbiAgICAgICAgICAgIGlmICghZDMuZXZlbnQuc2VsZWN0aW9uKSByZXR1cm47XG4gICAgICAgICAgICBpZihzZWxmLmhvdmVyZWRFZGdlKXtcbiAgICAgICAgICAgICAgICBzZWxmLnNlbGVjdEVkZ2Uoc2VsZi5ob3ZlcmVkRWRnZS5kYXR1bSgpLCB0cnVlKVxuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgc2VsZi5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgQ29udGV4dE1lbnUuaGlkZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGlnaGxpZ2h0IHRoZSBzZWxlY3RlZCBub2Rlcy5cbiAgICAgICAgZnVuY3Rpb24gYnJ1c2htb3ZlKCkge1xuICAgICAgICAgICAgdmFyIHMgPSBkMy5ldmVudC5zZWxlY3Rpb247XG4gICAgICAgICAgICBpZighcylyZXR1cm47XG5cbiAgICAgICAgICAgIHNlbGYubWFpbkdyb3VwLnNlbGVjdEFsbChcIi5ub2RlXCIpLmNsYXNzZWQoJ3NlbGVjdGVkJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFpbkdyb3VwVHJhbnNsYXRpb24gPSBzZWxmLmdldE1haW5Hcm91cFRyYW5zbGF0aW9uKCk7XG4gICAgICAgICAgICAgICAgdmFyIHggPSBkLmxvY2F0aW9uLngrbWFpbkdyb3VwVHJhbnNsYXRpb25bMF07XG4gICAgICAgICAgICAgICAgdmFyIHkgPSBkLmxvY2F0aW9uLnkrbWFpbkdyb3VwVHJhbnNsYXRpb25bMV07XG4gICAgICAgICAgICAgICAgdmFyIG5vZGVTaXplID0gc2VsZi5jb25maWcubGF5b3V0Lm5vZGVTaXplO1xuICAgICAgICAgICAgICAgIHZhciBvZmZzZXQgPSBub2RlU2l6ZSowLjI1O1xuICAgICAgICAgICAgICAgIHJldHVybiBzWzBdWzBdIDw9IHgrb2Zmc2V0ICYmIHgtb2Zmc2V0IDw9IHNbMV1bMF1cbiAgICAgICAgICAgICAgICAgICAgJiYgc1swXVsxXSA8PSB5K29mZnNldCAmJiB5LW9mZnNldCA8PSBzWzFdWzFdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlIGJydXNoIGlzIGVtcHR5LCBzZWxlY3QgYWxsIGNpcmNsZXMuXG4gICAgICAgIGZ1bmN0aW9uIGJydXNoZW5kKCkge1xuICAgICAgICAgICAgaWYgKCFkMy5ldmVudC5zZWxlY3Rpb24pIHJldHVybjtcbiAgICAgICAgICAgIGJydXNoLm1vdmUoYnJ1c2hDb250YWluZXIsIG51bGwpO1xuXG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWROb2RlcyA9IHNlbGYuZ2V0U2VsZWN0ZWROb2RlcygpO1xuICAgICAgICAgICAgaWYoc2VsZWN0ZWROb2RlcyAmJiBzZWxlY3RlZE5vZGVzLmxlbmd0aCA9PT0gMSl7XG4gICAgICAgICAgICAgICAgc2VsZi5zZWxlY3ROb2RlKHNlbGVjdGVkTm9kZXNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgKCFkMy5ldmVudC5zZWxlY3Rpb24pIHNlbGYubWFpbkdyb3VwLnNlbGVjdEFsbChcIi5zZWxlY3RlZFwiKS5jbGFzc2VkKCdzZWxlY3RlZCcsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRpc2FibGVCcnVzaCgpe1xuICAgICAgICBpZighdGhpcy5icnVzaERpc2FibGVkKXtcbiAgICAgICAgICAgIFV0aWxzLmdyb3dsKGkxOG4udCgnZ3Jvd2wuYnJ1c2hEaXNhYmxlZCcpLCAnaW5mbycsICdsZWZ0JylcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJydXNoRGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmJydXNoQ29udGFpbmVyLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIGVuYWJsZUJydXNoKCl7XG4gICAgICAgIGlmKHRoaXMuYnJ1c2hEaXNhYmxlZCl7XG4gICAgICAgICAgICBVdGlscy5ncm93bChpMThuLnQoJ2dyb3dsLmJydXNoRW5hYmxlZCcpLCAnaW5mbycsICdsZWZ0JylcbiAgICAgICAgICAgIHRoaXMuaW5pdEJydXNoKCk7XG4gICAgICAgICAgICB0aGlzLmJydXNoRGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG5cbiAgICB9XG5cbiAgICBnZXRNYWluR3JvdXBUcmFuc2xhdGlvbihpbnZlcnQpIHtcbiAgICAgICAgdmFyIHRyYW5zbGF0aW9uID0gQXBwVXRpbHMuZ2V0VHJhbnNsYXRpb24odGhpcy5tYWluR3JvdXAuYXR0cihcInRyYW5zZm9ybVwiKSk7XG4gICAgICAgIGlmKGludmVydCl7XG4gICAgICAgICAgICB0cmFuc2xhdGlvblswXSA9IC10cmFuc2xhdGlvblswXTtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uWzFdID0gLXRyYW5zbGF0aW9uWzFdXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uO1xuICAgIH1cblxuICAgIGluaXROb2RlQ29udGV4dE1lbnUoKSB7XG4gICAgICAgIHRoaXMubm9kZUNvbnRleHRNZW51ID0gbmV3IE5vZGVDb250ZXh0TWVudSh0aGlzLCB0aGlzLmNvbmZpZy5vcGVyYXRpb25zRm9yT2JqZWN0KTtcbiAgICB9XG5cbiAgICBpbml0RWRnZUNvbnRleHRNZW51KCkge1xuICAgICAgICB0aGlzLmVkZ2VDb250ZXh0TWVudSA9IG5ldyBFZGdlQ29udGV4dE1lbnUodGhpcyk7XG4gICAgfVxuXG4gICAgaW5pdFRleHRDb250ZXh0TWVudSgpIHtcbiAgICAgICAgdGhpcy50ZXh0Q29udGV4dE1lbnUgPSBuZXcgVGV4dENvbnRleHRNZW51KHRoaXMpO1xuICAgIH1cblxuXG5cbiAgICBpbml0TWFpbkNvbnRleHRNZW51KCkge1xuICAgICAgICB0aGlzLm1haW5Db250ZXh0TWVudSA9IG5ldyBNYWluQ29udGV4dE1lbnUodGhpcyk7XG4gICAgICAgIHRoaXMuc3ZnLm9uKCdjb250ZXh0bWVudScsdGhpcy5tYWluQ29udGV4dE1lbnUpO1xuICAgICAgICB0aGlzLnN2Zy5vbignZGJsY2xpY2snLHRoaXMubWFpbkNvbnRleHRNZW51KTtcbiAgICB9XG5cbiAgICBhZGRUZXh0KHRleHQpe1xuICAgICAgICB0aGlzLmRhdGEuc2F2ZVN0YXRlKCk7XG4gICAgICAgIHRoaXMuZGF0YS5hZGRUZXh0KHRleHQpO1xuICAgICAgICB0aGlzLnJlZHJhdygpO1xuICAgICAgICB0aGlzLnNlbGVjdFRleHQodGV4dCk7XG4gICAgfVxuXG4gICAgYWRkTm9kZShub2RlLCBwYXJlbnQsIHJlZHJhdz1mYWxzZSl7XG4gICAgICAgIHRoaXMuZGF0YS5zYXZlU3RhdGUoKTtcbiAgICAgICAgdGhpcy5kYXRhLmFkZE5vZGUobm9kZSwgcGFyZW50KTtcbiAgICAgICAgdGhpcy5yZWRyYXcodHJ1ZSk7XG4gICAgICAgIHRoaXMubGF5b3V0LnVwZGF0ZShub2RlKTtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuXG4gICAgYWRkRGVjaXNpb25Ob2RlKHBhcmVudCl7XG4gICAgICAgIHZhciBuZXdOb2RlID0gbmV3IG1vZGVsLkRlY2lzaW9uTm9kZSh0aGlzLmxheW91dC5nZXROZXdDaGlsZExvY2F0aW9uKHBhcmVudCkpO1xuICAgICAgICB0aGlzLmFkZE5vZGUobmV3Tm9kZSwgcGFyZW50KVxuICAgIH1cbiAgICBhZGRDaGFuY2VOb2RlKHBhcmVudCl7XG4gICAgICAgIHZhciBuZXdOb2RlID0gbmV3IG1vZGVsLkNoYW5jZU5vZGUodGhpcy5sYXlvdXQuZ2V0TmV3Q2hpbGRMb2NhdGlvbihwYXJlbnQpKTtcbiAgICAgICAgdGhpcy5hZGROb2RlKG5ld05vZGUsIHBhcmVudClcbiAgICB9XG4gICAgYWRkVGVybWluYWxOb2RlKHBhcmVudCl7XG4gICAgICAgIHZhciBuZXdOb2RlID0gbmV3IG1vZGVsLlRlcm1pbmFsTm9kZSh0aGlzLmxheW91dC5nZXROZXdDaGlsZExvY2F0aW9uKHBhcmVudCkpO1xuICAgICAgICB0aGlzLmFkZE5vZGUobmV3Tm9kZSwgcGFyZW50KVxuICAgIH1cblxuICAgIGluamVjdE5vZGUobm9kZSwgZWRnZSl7XG4gICAgICAgIHRoaXMuZGF0YS5zYXZlU3RhdGUoKTtcbiAgICAgICAgdGhpcy5kYXRhLmluamVjdE5vZGUobm9kZSwgZWRnZSk7XG4gICAgICAgIHRoaXMucmVkcmF3KCk7XG4gICAgICAgIHRoaXMubGF5b3V0LnVwZGF0ZShub2RlKTtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuXG4gICAgaW5qZWN0RGVjaXNpb25Ob2RlKGVkZ2Upe1xuICAgICAgICB2YXIgbmV3Tm9kZSA9IG5ldyBtb2RlbC5EZWNpc2lvbk5vZGUodGhpcy5sYXlvdXQuZ2V0SW5qZWN0ZWROb2RlTG9jYXRpb24oZWRnZSkpO1xuICAgICAgICB0aGlzLmluamVjdE5vZGUobmV3Tm9kZSwgZWRnZSk7XG5cbiAgICB9XG5cbiAgICBpbmplY3RDaGFuY2VOb2RlKGVkZ2Upe1xuICAgICAgICB2YXIgbmV3Tm9kZSA9IG5ldyBtb2RlbC5DaGFuY2VOb2RlKHRoaXMubGF5b3V0LmdldEluamVjdGVkTm9kZUxvY2F0aW9uKGVkZ2UpKTtcbiAgICAgICAgdGhpcy5pbmplY3ROb2RlKG5ld05vZGUsIGVkZ2UpO1xuICAgIH1cblxuICAgIHJlbW92ZU5vZGUobm9kZSkge1xuICAgICAgICB0aGlzLmRhdGEuc2F2ZVN0YXRlKCk7XG4gICAgICAgIHRoaXMuZGF0YS5yZW1vdmVOb2RlKG5vZGUpO1xuXG5cbiAgICAgICAgaWYoIXRoaXMubGF5b3V0LmlzTWFudWFsTGF5b3V0KCkpe1xuICAgICAgICAgICAgdGhpcy5sYXlvdXQudXBkYXRlKCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5yZWRyYXcoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbW92ZVNlbGVjdGVkTm9kZXMoKSB7XG4gICAgICAgIHZhciBzZWxlY3RlZE5vZGVzID0gdGhpcy5nZXRTZWxlY3RlZE5vZGVzKCk7XG4gICAgICAgIGlmKCFzZWxlY3RlZE5vZGVzLmxlbmd0aCl7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kYXRhLnNhdmVTdGF0ZSgpO1xuICAgICAgICB0aGlzLmRhdGEucmVtb3ZlTm9kZXMoc2VsZWN0ZWROb2Rlcyk7XG4gICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgdGhpcy5yZWRyYXcoKTtcbiAgICAgICAgdGhpcy5sYXlvdXQudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgcmVtb3ZlU2VsZWN0ZWRUZXh0cygpe1xuICAgICAgICB2YXIgc2VsZWN0ZWRUZXh0cyA9IHRoaXMuZ2V0U2VsZWN0ZWRUZXh0cygpO1xuXG4gICAgICAgIGlmKCFzZWxlY3RlZFRleHRzLmxlbmd0aCl7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kYXRhLnNhdmVTdGF0ZSgpO1xuICAgICAgICB0aGlzLmRhdGEucmVtb3ZlVGV4dHMoc2VsZWN0ZWRUZXh0cyk7XG4gICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgdGhpcy5yZWRyYXcoKTtcbiAgICB9XG5cbiAgICBjb3B5Tm9kZShkLCBub3RDbGVhclByZXZTZWxlY3Rpb24pIHtcbiAgICAgICAgdmFyIGNsb25lID0gdGhpcy5kYXRhLmNsb25lU3VidHJlZShkKTtcbiAgICAgICAgaWYobm90Q2xlYXJQcmV2U2VsZWN0aW9uKXtcbiAgICAgICAgICAgIGlmKCF0aGlzLmNvcGllZE5vZGVzKXtcbiAgICAgICAgICAgICAgICB0aGlzLmNvcGllZE5vZGVzPVtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jb3BpZWROb2Rlcy5wdXNoKGNsb25lKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLmNvcGllZE5vZGVzID0gW2Nsb25lXTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgY3V0Tm9kZShkKSB7XG4gICAgICAgIHRoaXMuY29weU5vZGUoZCk7XG4gICAgICAgIHRoaXMucmVtb3ZlTm9kZShkKTtcbiAgICB9XG5cbiAgICBjdXRTZWxlY3RlZE5vZGVzKCl7XG4gICAgICAgIHZhciBzZWxlY3RlZE5vZGVzID0gdGhpcy5nZXRTZWxlY3RlZE5vZGVzKCk7XG4gICAgICAgIHZhciBzZWxlY3RlZFJvb3RzID0gdGhpcy5kYXRhLmZpbmRTdWJ0cmVlUm9vdHMoc2VsZWN0ZWROb2Rlcyk7XG4gICAgICAgIHRoaXMuY29weU5vZGVzKHNlbGVjdGVkUm9vdHMpO1xuICAgICAgICB0aGlzLnJlbW92ZVNlbGVjdGVkTm9kZXMoKTtcbiAgICB9XG5cbiAgICBjb3B5U2VsZWN0ZWROb2RlcygpIHtcbiAgICAgICAgdmFyIHNlbGY7XG4gICAgICAgIHZhciBzZWxlY3RlZE5vZGVzID0gdGhpcy5nZXRTZWxlY3RlZE5vZGVzKCk7XG5cbiAgICAgICAgdmFyIHNlbGVjdGVkUm9vdHMgPSB0aGlzLmRhdGEuZmluZFN1YnRyZWVSb290cyhzZWxlY3RlZE5vZGVzKTtcbiAgICAgICAgdGhpcy5jb3B5Tm9kZXMoc2VsZWN0ZWRSb290cyk7XG5cblxuICAgIH1cblxuICAgIGNvcHlOb2Rlcyhub2Rlcyl7XG4gICAgICAgIHRoaXMuY29waWVkTm9kZXMgPSBub2Rlcy5tYXAoZD0+dGhpcy5kYXRhLmNsb25lU3VidHJlZShkKSk7XG4gICAgfVxuXG5cblxuICAgIHBhc3RlVG9Ob2RlKG5vZGUpIHtcbiAgICAgICAgaWYoIXRoaXMuY29waWVkTm9kZXMgfHwgIXRoaXMuY29waWVkTm9kZXMubGVuZ3RoKXtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRhdGEuc2F2ZVN0YXRlKCk7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgc2VsZi5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgICB2YXIgbm9kZXNUb0F0dGFjaCA9IHRoaXMuY29waWVkTm9kZXM7XG4gICAgICAgIHNlbGYuY29weU5vZGVzKHRoaXMuY29waWVkTm9kZXMpO1xuICAgICAgICBub2Rlc1RvQXR0YWNoLmZvckVhY2godG9BdHRhY2g9PntcbiAgICAgICAgICAgIHZhciBhdHRhY2hlZCA9IHRoaXMuZGF0YS5hdHRhY2hTdWJ0cmVlKHRvQXR0YWNoLCBub2RlKS5jaGlsZE5vZGU7XG4gICAgICAgICAgICB2YXIgbG9jYXRpb24gPSBzZWxmLmxheW91dC5nZXROZXdDaGlsZExvY2F0aW9uKG5vZGUpO1xuICAgICAgICAgICAgYXR0YWNoZWQubW92ZVRvKGxvY2F0aW9uLngsIGxvY2F0aW9uLnksIHRydWUpO1xuICAgICAgICAgICAgc2VsZi5sYXlvdXQubW92ZU5vZGVUb0VtcHR5UGxhY2UoYXR0YWNoZWQsIGZhbHNlKTtcbiAgICAgICAgICAgIHNlbGYubGF5b3V0LmZpdE5vZGVzSW5QbG90dGluZ1JlZ2lvbih0aGlzLmRhdGEuZ2V0QWxsRGVzY2VuZGFudE5vZGVzKGF0dGFjaGVkKSk7XG5cbiAgICAgICAgICAgIHNlbGYuc2VsZWN0U3ViVHJlZShhdHRhY2hlZCwgZmFsc2UsIG5vZGVzVG9BdHRhY2gubGVuZ3RoPjEpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgc2VsZi5yZWRyYXcoKTtcbiAgICAgICAgICAgIHNlbGYubGF5b3V0LnVwZGF0ZSgpO1xuICAgICAgICB9LDEwKVxuXG4gICAgfVxuXG4gICAgcGFzdGVUb05ld0xvY2F0aW9uKHBvaW50KSB7XG4gICAgICAgIHRoaXMuZGF0YS5zYXZlU3RhdGUoKTtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBzZWxmLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICAgIHZhciBub2Rlc1RvQXR0YWNoID0gdGhpcy5jb3BpZWROb2RlcztcbiAgICAgICAgc2VsZi5jb3B5Tm9kZXModGhpcy5jb3BpZWROb2Rlcyk7XG4gICAgICAgIG5vZGVzVG9BdHRhY2guZm9yRWFjaCh0b0F0dGFjaD0+IHtcbiAgICAgICAgICAgIHZhciBhdHRhY2hlZCA9IHRoaXMuZGF0YS5hdHRhY2hTdWJ0cmVlKHRvQXR0YWNoKTtcblxuICAgICAgICAgICAgYXR0YWNoZWQubW92ZVRvKHBvaW50LngsIHBvaW50LnksIHRydWUpO1xuICAgICAgICAgICAgc2VsZi5sYXlvdXQubW92ZU5vZGVUb0VtcHR5UGxhY2UoYXR0YWNoZWQsIGZhbHNlKTtcbiAgICAgICAgICAgIHNlbGYubGF5b3V0LmZpdE5vZGVzSW5QbG90dGluZ1JlZ2lvbih0aGlzLmRhdGEuZ2V0QWxsRGVzY2VuZGFudE5vZGVzKGF0dGFjaGVkKSk7XG5cbiAgICAgICAgICAgIHNlbGYuc2VsZWN0U3ViVHJlZShhdHRhY2hlZCwgZmFsc2UsIG5vZGVzVG9BdHRhY2gubGVuZ3RoPjEpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBzZWxmLnJlZHJhdygpO1xuICAgICAgICAgICAgc2VsZi5sYXlvdXQudXBkYXRlKCk7XG4gICAgICAgIH0sMTApXG5cbiAgICB9XG5cbiAgICBjb252ZXJ0Tm9kZShub2RlLCB0eXBlVG9Db252ZXJ0VG8pe1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMuZGF0YS5zYXZlU3RhdGUoKTtcbiAgICAgICAgdGhpcy5kYXRhLmNvbnZlcnROb2RlKG5vZGUsIHR5cGVUb0NvbnZlcnRUbyk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHNlbGYucmVkcmF3KHRydWUpO1xuICAgICAgICB9LDEwKVxuICAgIH1cblxuICAgIHBlcmZvcm1PcGVyYXRpb24ob2JqZWN0LCBvcGVyYXRpb24pe1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMuZGF0YS5zYXZlU3RhdGUoKTtcbiAgICAgICAgb3BlcmF0aW9uLnBlcmZvcm0ob2JqZWN0KTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgc2VsZi5yZWRyYXcoKTtcbiAgICAgICAgICAgIHNlbGYubGF5b3V0LnVwZGF0ZSgpO1xuICAgICAgICB9LDEwKVxuICAgIH1cblxuXG4gICAgbW92ZU5vZGVUbyh4LHkpe1xuXG4gICAgfVxuXG4gICAgdXBkYXRlTm9kZVBvc2l0aW9uKG5vZGUpIHtcbiAgICAgICAgdGhpcy5nZXROb2RlRDNTZWxlY3Rpb24obm9kZSkucmFpc2UoKS5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcrbm9kZS5sb2NhdGlvbi54KycgJytub2RlLmxvY2F0aW9uLnkrJyknKTtcbiAgICB9XG5cbiAgICB1cGRhdGVUZXh0UG9zaXRpb24odGV4dCkge1xuICAgICAgICB0aGlzLmdldFRleHREM1NlbGVjdGlvbih0ZXh0KS5yYWlzZSgpLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyt0ZXh0LmxvY2F0aW9uLngrJyAnK3RleHQubG9jYXRpb24ueSsnKScpO1xuICAgIH1cblxuICAgIGdldE5vZGVEM1NlbGVjdGlvbihub2RlKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Tm9kZUQzU2VsZWN0aW9uQnlJZChub2RlLiRpZCk7XG4gICAgfVxuXG4gICAgZ2V0Tm9kZUQzU2VsZWN0aW9uQnlJZChpZCl7XG4gICAgICAgIHJldHVybiB0aGlzLm1haW5Hcm91cC5zZWxlY3QoJyNub2RlLScraWQpO1xuICAgIH1cbiAgICBnZXRUZXh0RDNTZWxlY3Rpb24odGV4dCl7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRleHREM1NlbGVjdGlvbkJ5SWQodGV4dC4kaWQpO1xuICAgIH1cbiAgICBnZXRUZXh0RDNTZWxlY3Rpb25CeUlkKGlkKXtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFpbkdyb3VwLnNlbGVjdCgnI3RleHQtJytpZCk7XG4gICAgfVxuXG4gICAgZ2V0U2VsZWN0ZWROb2RlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFpbkdyb3VwLnNlbGVjdEFsbChcIi5ub2RlLnNlbGVjdGVkXCIpLmRhdGEoKTtcbiAgICB9XG5cbiAgICBnZXRTZWxlY3RlZFRleHRzKCl7XG4gICAgICAgIHJldHVybiB0aGlzLm1haW5Hcm91cC5zZWxlY3RBbGwoXCIuZmxvYXRpbmctdGV4dC5zZWxlY3RlZFwiKS5kYXRhKCk7XG4gICAgfVxuXG4gICAgY2xlYXJTZWxlY3Rpb24oKXtcbiAgICAgICAgdGhpcy5tYWluR3JvdXAuc2VsZWN0QWxsKFwiLmVkZ2Uuc2VsZWN0ZWRcIikuc2VsZWN0KCdwYXRoJykuYXR0cihcIm1hcmtlci1lbmRcIiwgZCA9PiBcInVybCgjYXJyb3dcIisodGhpcy5pc09wdGltYWwoZCk/Jy1vcHRpbWFsJzonJykrXCIpXCIpXG4gICAgICAgIHRoaXMubWFpbkdyb3VwLnNlbGVjdEFsbChcIi5zZWxlY3RlZFwiKS5jbGFzc2VkKCdzZWxlY3RlZCcsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5jb25maWcub25TZWxlY3Rpb25DbGVhcmVkKCk7XG4gICAgfVxuXG4gICAgc2VsZWN0RWRnZShlZGdlLCBjbGVhclNlbGVjdGlvbkJlZm9yZVNlbGVjdCl7XG4gICAgICAgIGlmKGNsZWFyU2VsZWN0aW9uQmVmb3JlU2VsZWN0KXtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbmZpZy5vbkVkZ2VTZWxlY3RlZChlZGdlKTtcbiAgICAgICAgdGhpcy5tYWluR3JvdXAuc2VsZWN0KCcjZWRnZS0nK2VkZ2UuJGlkKVxuICAgICAgICAgICAgLmNsYXNzZWQoJ3NlbGVjdGVkJywgdHJ1ZSlcbiAgICAgICAgICAgIC5zZWxlY3QoJ3BhdGgnKVxuICAgICAgICAgICAgLmF0dHIoXCJtYXJrZXItZW5kXCIsIGQgPT4gXCJ1cmwoI2Fycm93LXNlbGVjdGVkKVwiKVxuICAgIH1cblxuICAgIGlzTm9kZVNlbGVjdGVkKG5vZGUpe1xuICAgICAgICByZXR1cm4gdGhpcy5nZXROb2RlRDNTZWxlY3Rpb24obm9kZSkuY2xhc3NlZCgnc2VsZWN0ZWQnKTtcbiAgICB9XG5cbiAgICBzZWxlY3ROb2RlKG5vZGUsIGNsZWFyU2VsZWN0aW9uQmVmb3JlU2VsZWN0LCBza2lwQ2FsbGJhY2spe1xuICAgICAgICBpZihjbGVhclNlbGVjdGlvbkJlZm9yZVNlbGVjdCl7XG4gICAgICAgICAgICB0aGlzLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZighc2tpcENhbGxiYWNrKXtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLm9uTm9kZVNlbGVjdGVkKG5vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nZXROb2RlRDNTZWxlY3Rpb25CeUlkKG5vZGUuJGlkKS5jbGFzc2VkKCdzZWxlY3RlZCcsIHRydWUpO1xuICAgIH1cblxuICAgIHNlbGVjdFRleHQodGV4dCwgY2xlYXJTZWxlY3Rpb25CZWZvcmVTZWxlY3QsIHNraXBDYWxsYmFjayl7XG4gICAgICAgIGlmKGNsZWFyU2VsZWN0aW9uQmVmb3JlU2VsZWN0KXtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKCFza2lwQ2FsbGJhY2spe1xuICAgICAgICAgICAgdGhpcy5jb25maWcub25UZXh0U2VsZWN0ZWQodGV4dClcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2V0VGV4dEQzU2VsZWN0aW9uQnlJZCh0ZXh0LiRpZCkuY2xhc3NlZCgnc2VsZWN0ZWQnLCB0cnVlKTtcbiAgICB9XG5cbiAgICBzZWxlY3RTdWJUcmVlKG5vZGUsIGNsZWFyU2VsZWN0aW9uQmVmb3JlU2VsZWN0LHNraXBDYWxsYmFjaykge1xuICAgICAgICBpZihjbGVhclNlbGVjdGlvbkJlZm9yZVNlbGVjdCl7XG4gICAgICAgICAgICB0aGlzLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZWxlY3ROb2RlKG5vZGUsIGZhbHNlLCBza2lwQ2FsbGJhY2spO1xuICAgICAgICBub2RlLmNoaWxkRWRnZXMuZm9yRWFjaChlPT50aGlzLnNlbGVjdFN1YlRyZWUoZS5jaGlsZE5vZGUsIGZhbHNlLCB0cnVlKSk7XG4gICAgfVxuXG4gICAgc2VsZWN0QWxsTm9kZXMoKSB7XG4gICAgICAgIHRoaXMubWFpbkdyb3VwLnNlbGVjdEFsbChcIi5ub2RlXCIpLmNsYXNzZWQoJ3NlbGVjdGVkJywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgYXV0b0xheW91dCh0eXBlLCB3aXRob3V0U3RhdGVTYXZpbmcpe1xuICAgICAgICB0aGlzLmxheW91dC5hdXRvTGF5b3V0KHR5cGUsIHdpdGhvdXRTdGF0ZVNhdmluZyk7XG4gICAgfVxuXG4gICAgdXBkYXRlRGlhZ3JhbVRpdGxlKHRpdGxlVmFsdWUpe1xuICAgICAgICBpZighdGl0bGVWYWx1ZSl7XG4gICAgICAgICAgICB0aXRsZVZhbHVlID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaWFncmFtVGl0bGUgPSB0aXRsZVZhbHVlO1xuICAgICAgICB0aGlzLnJlZHJhd0RpYWdyYW1UaXRsZSgpO1xuICAgICAgICB0aGlzLnJlZHJhd0RpYWdyYW1EZXNjcmlwdGlvbigpO1xuICAgICAgICB0aGlzLnVwZGF0ZU1hcmdpbih0cnVlKTtcbiAgICB9XG5cbiAgICByZWRyYXdEaWFncmFtVGl0bGUoKXtcbiAgICAgICAgdmFyIHN2Z1dpZHRoID0gdGhpcy5zdmcuYXR0cignd2lkdGgnKTtcbiAgICAgICAgdmFyIHN2Z0hlaWdodCA9IHRoaXMuc3ZnLmF0dHIoJ2hlaWdodCcpO1xuICAgICAgICB0aGlzLnRpdGxlQ29udGFpbmVyID0gdGhpcy5zdmcuc2VsZWN0T3JBcHBlbmQoJ2cuc2QtdGl0bGUtY29udGFpbmVyJyk7XG5cbiAgICAgICAgdmFyIHRpdGxlID0gdGhpcy50aXRsZUNvbnRhaW5lci5zZWxlY3RPckFwcGVuZCgndGV4dC5zZC10aXRsZScpO1xuICAgICAgICB0aXRsZS50ZXh0KHRoaXMuZGlhZ3JhbVRpdGxlKTtcbiAgICAgICAgTGF5b3V0LnNldEhhbmdpbmdQb3NpdGlvbih0aXRsZSk7XG5cbiAgICAgICAgdmFyIG1hcmdpblRvcCA9IHBhcnNlSW50KHRoaXMuY29uZmlnLnRpdGxlLm1hcmdpbi50b3ApO1xuICAgICAgICB0aGlzLnRpdGxlQ29udGFpbmVyLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJysoc3ZnV2lkdGgvMikrJywnKyggbWFyZ2luVG9wKSsnKScpO1xuICAgIH1cbiAgICByZWRyYXdEaWFncmFtRGVzY3JpcHRpb24oKXtcbiAgICAgICAgdmFyIHN2Z1dpZHRoID0gdGhpcy5zdmcuYXR0cignd2lkdGgnKTtcbiAgICAgICAgdmFyIHN2Z0hlaWdodCA9IHRoaXMuc3ZnLmF0dHIoJ2hlaWdodCcpO1xuICAgICAgICB0aGlzLnRpdGxlQ29udGFpbmVyID0gdGhpcy5zdmcuc2VsZWN0T3JBcHBlbmQoJ2cuc2QtdGl0bGUtY29udGFpbmVyJyk7XG5cbiAgICAgICAgdmFyIGRlc2MgPSB0aGlzLnRpdGxlQ29udGFpbmVyLnNlbGVjdE9yQXBwZW5kKCd0ZXh0LnNkLWRlc2NyaXB0aW9uJyk7XG5cbiAgICAgICAgaWYoIXRoaXMuY29uZmlnLmRlc2NyaXB0aW9uLnNob3cpe1xuICAgICAgICAgICAgZGVzYy5yZW1vdmUoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsaW5lcyA9IHRoaXMuZGlhZ3JhbURlc2NyaXB0aW9uID8gdGhpcy5kaWFncmFtRGVzY3JpcHRpb24uc3BsaXQoJ1xcbicpIDogW107XG4gICAgICAgIHZhciB0c3BhbnMgPSBkZXNjLnNlbGVjdEFsbCgndHNwYW4nKS5kYXRhKGxpbmVzKTtcbiAgICAgICAgdHNwYW5zLmVudGVyKCkuYXBwZW5kKCd0c3BhbicpXG4gICAgICAgICAgICAubWVyZ2UodHNwYW5zKVxuICAgICAgICAgICAgLmh0bWwobD0+QXBwVXRpbHMucmVwbGFjZVVybHMoQXBwVXRpbHMuZXNjYXBlSHRtbChsKSkpXG4gICAgICAgICAgICAuYXR0cignZHknLCAoZCxpKT0+aT4wID8gJzEuMWVtJzogdW5kZWZpbmVkKVxuICAgICAgICAgICAgLmF0dHIoJ3gnLCAnMCcpO1xuXG4gICAgICAgIHRzcGFucy5leGl0KCkucmVtb3ZlKCk7XG4gICAgICAgIExheW91dC5zZXRIYW5naW5nUG9zaXRpb24oZGVzYyk7XG5cbiAgICAgICAgdmFyIHRpdGxlID0gdGhpcy50aXRsZUNvbnRhaW5lci5zZWxlY3RPckFwcGVuZCgndGV4dC5zZC10aXRsZScpO1xuXG4gICAgICAgIHZhciBtYXJnaW5Ub3AgPSAwO1xuICAgICAgICBpZih0aGlzLmRpYWdyYW1UaXRsZSl7XG4gICAgICAgICAgICBtYXJnaW5Ub3AgKz0gdGl0bGUubm9kZSgpLmdldEJCb3goKS5oZWlnaHQ7XG4gICAgICAgICAgICBtYXJnaW5Ub3ArPSBNYXRoLm1heChwYXJzZUludCh0aGlzLmNvbmZpZy5kZXNjcmlwdGlvbi5tYXJnaW4udG9wKSwgMCk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGRlc2MuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgwLCcrKCBtYXJnaW5Ub3ApKycpJyk7XG4gICAgfVxuXG4gICAgdXBkYXRlRGlhZ3JhbURlc2NyaXB0aW9uKGRlc2NyaXB0aW9uVmFsdWUpe1xuICAgICAgICBpZighZGVzY3JpcHRpb25WYWx1ZSl7XG4gICAgICAgICAgICBkZXNjcmlwdGlvblZhbHVlID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaWFncmFtRGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvblZhbHVlO1xuICAgICAgICB0aGlzLnJlZHJhd0RpYWdyYW1UaXRsZSgpO1xuICAgICAgICB0aGlzLnJlZHJhd0RpYWdyYW1EZXNjcmlwdGlvbigpO1xuICAgICAgICB0aGlzLnVwZGF0ZU1hcmdpbih0cnVlKTtcbiAgICB9XG5cblxuICAgIGdldFRpdGxlR3JvdXBIZWlnaHQod2l0aE1hcmdpbnMpe1xuICAgICAgICBpZighdGhpcy50aXRsZUNvbnRhaW5lcil7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaCA9IHRoaXMudGl0bGVDb250YWluZXIubm9kZSgpLmdldEJCb3goKS5oZWlnaHQ7XG4gICAgICAgIGlmKHdpdGhNYXJnaW5zKXtcbiAgICAgICAgICAgIGgrPSBwYXJzZUludCh0aGlzLmNvbmZpZy50aXRsZS5tYXJnaW4uYm90dG9tKTtcbiAgICAgICAgICAgIGgrPSBwYXJzZUludCh0aGlzLmNvbmZpZy50aXRsZS5tYXJnaW4udG9wKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaDtcbiAgICB9XG5cbn1cbiIsImltcG9ydCB7VXRpbHN9IGZyb20gXCJzZC11dGlsc1wiO1xuXG5leHBvcnQgY2xhc3MgUGF5b2ZmSW5wdXRWYWxpZGF0b3J7XG4gICAgZXhwcmVzc2lvbkVuZ2luZTtcbiAgICBjb25zdHJ1Y3RvcihleHByZXNzaW9uRW5naW5lKXtcbiAgICAgICAgdGhpcy5leHByZXNzaW9uRW5naW5lPWV4cHJlc3Npb25FbmdpbmU7XG4gICAgfVxuXG4gICAgdmFsaWRhdGUodmFsdWUsIGVkZ2Upe1xuICAgICAgICBpZih2YWx1ZT09PW51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgKz0gXCJcIjtcbiAgICAgICAgaWYoIXZhbHVlLnRyaW0oKSl7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5leHByZXNzaW9uRW5naW5lLmNvbnN0cnVjdG9yLmhhc0Fzc2lnbm1lbnRFeHByZXNzaW9uKHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmV4cHJlc3Npb25FbmdpbmUudmFsaWRhdGUodmFsdWUpO1xuICAgIH1cblxufVxuIiwiZXhwb3J0IGNsYXNzIFByb2JhYmlsaXR5SW5wdXRWYWxpZGF0b3J7XG4gICAgZXhwcmVzc2lvbkVuZ2luZTtcbiAgICBjb25zdHJ1Y3RvcihleHByZXNzaW9uRW5naW5lKXtcbiAgICAgICAgdGhpcy5leHByZXNzaW9uRW5naW5lPWV4cHJlc3Npb25FbmdpbmU7XG4gICAgfVxuXG4gICAgdmFsaWRhdGUodmFsdWUsIGVkZ2Upe1xuICAgICAgICBpZih2YWx1ZT09PW51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YWx1ZSArPSBcIlwiO1xuICAgICAgICBpZighdmFsdWUudHJpbSgpKXtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKHRoaXMuZXhwcmVzc2lvbkVuZ2luZS5jb25zdHJ1Y3Rvci5pc0hhc2godmFsdWUpKXtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYodGhpcy5leHByZXNzaW9uRW5naW5lLmNvbnN0cnVjdG9yLmhhc0Fzc2lnbm1lbnRFeHByZXNzaW9uKHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzY29wZSA9IGVkZ2UucGFyZW50Tm9kZS5leHByZXNzaW9uU2NvcGU7XG4gICAgICAgIHJldHVybiB0aGlzLmV4cHJlc3Npb25FbmdpbmUudmFsaWRhdGUodmFsdWUsIHNjb3BlKTtcbiAgICB9XG5cbn1cbiIsIm1vZHVsZS5leHBvcnRzID0ge1wiYnVpbGRUaW1lc3RhbXBcIjoxNDkyNjExNzk3NDQzfVxuIiwiaW1wb3J0IHtVdGlsc30gZnJvbSBcInNkLXV0aWxzXCI7XG5leHBvcnQgY29uc3QgUEFSQU1FVEVSX1RZUEUgPSB7XG4gICAgU1RSSU5HOiAnU1RSSU5HJyxcbiAgICBEQVRFOiAnREFURScsXG4gICAgSU5URUdFUjogJ0lOVEVHRVInLFxuICAgIE5VTUJFUjogJ0ZMT0FUJyxcbiAgICBCT09MRUFOOiAnQk9PTEVBTicsXG4gICAgTlVNQkVSX0VYUFJFU1NJT046ICdOVU1CRVJfRVhQUkVTU0lPTicsXG4gICAgQ09NUE9TSVRFOiAnQ09NUE9TSVRFJyAvL2NvbXBvc2l0ZSBwYXJhbWV0ZXIgd2l0aCBuZXN0ZWQgc3VicGFyYW1ldGVyc1xufTtcblxuZXhwb3J0IGNsYXNzIEpvYlBhcmFtZXRlckRlZmluaXRpb24ge1xuICAgIG5hbWU7XG4gICAgdHlwZTtcbiAgICBuZXN0ZWRQYXJhbWV0ZXJzID0gW107XG4gICAgbWluT2NjdXJzO1xuICAgIG1heE9jY3VycztcbiAgICByZXF1aXJlZCA9IHRydWU7XG5cbiAgICBpZGVudGlmeWluZztcbiAgICB2YWxpZGF0b3I7XG4gICAgc2luZ2xlVmFsdWVWYWxpZGF0b3I7XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lLCB0eXBlT3JOZXN0ZWRQYXJhbWV0ZXJzRGVmaW5pdGlvbnMsIG1pbk9jY3VycyA9IDEsIG1heE9jY3VycyA9IDEsIGlkZW50aWZ5aW5nID0gZmFsc2UsIHNpbmdsZVZhbHVlVmFsaWRhdG9yID0gbnVsbCwgdmFsaWRhdG9yID0gbnVsbCkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICBpZiAoVXRpbHMuaXNBcnJheSh0eXBlT3JOZXN0ZWRQYXJhbWV0ZXJzRGVmaW5pdGlvbnMpKSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBQQVJBTUVURVJfVFlQRS5DT01QT1NJVEU7XG4gICAgICAgICAgICB0aGlzLm5lc3RlZFBhcmFtZXRlcnMgPSB0eXBlT3JOZXN0ZWRQYXJhbWV0ZXJzRGVmaW5pdGlvbnM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSB0eXBlT3JOZXN0ZWRQYXJhbWV0ZXJzRGVmaW5pdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52YWxpZGF0b3IgPSB2YWxpZGF0b3I7XG4gICAgICAgIHRoaXMuc2luZ2xlVmFsdWVWYWxpZGF0b3IgPSBzaW5nbGVWYWx1ZVZhbGlkYXRvcjtcbiAgICAgICAgdGhpcy5pZGVudGlmeWluZyA9IGlkZW50aWZ5aW5nO1xuICAgICAgICB0aGlzLm1pbk9jY3VycyA9IG1pbk9jY3VycztcbiAgICAgICAgdGhpcy5tYXhPY2N1cnMgPSBtYXhPY2N1cnM7XG4gICAgfVxuXG4gICAgc2V0KGtleSwgdmFsKSB7XG4gICAgICAgIHRoaXNba2V5XSA9IHZhbDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdmFsaWRhdGUodmFsdWUpIHtcbiAgICAgICAgdmFyIGlzQXJyYXkgPSBVdGlscy5pc0FycmF5KHZhbHVlKTtcblxuICAgICAgICBpZiAodGhpcy5tYXhPY2N1cnMgPiAxICYmICFpc0FycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWlzQXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlVmFsdWUodmFsdWUpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsdWUubGVuZ3RoIDwgdGhpcy5taW5PY2N1cnMgfHwgdmFsdWUubGVuZ3RoID4gdGhpcy5tYXhPY2N1cnMpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdmFsdWUuZXZlcnkodGhpcy52YWxpZGF0ZVNpbmdsZVZhbHVlLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudmFsaWRhdG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWxpZGF0b3IodmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdmFsaWRhdGVTaW5nbGVWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBpZiAoKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpICYmIHRoaXMubWluT2NjdXJzID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5yZXF1aXJlZCAmJiAoIXZhbHVlICYmIHZhbHVlICE9PSAwICYmIHZhbHVlICE9PSBmYWxzZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChQQVJBTUVURVJfVFlQRS5TVFJJTkcgPT09IHRoaXMudHlwZSAmJiAhVXRpbHMuaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFBBUkFNRVRFUl9UWVBFLkRBVEUgPT09IHRoaXMudHlwZSAmJiAhVXRpbHMuaXNEYXRlKHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChQQVJBTUVURVJfVFlQRS5JTlRFR0VSID09PSB0aGlzLnR5cGUgJiYgIVV0aWxzLmlzSW50KHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChQQVJBTUVURVJfVFlQRS5OVU1CRVIgPT09IHRoaXMudHlwZSAmJiAhVXRpbHMuaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoUEFSQU1FVEVSX1RZUEUuQ09NUE9TSVRFID09PSB0aGlzLnR5cGUpIHtcbiAgICAgICAgICAgIGlmICghVXRpbHMuaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLm5lc3RlZFBhcmFtZXRlcnMuZXZlcnkoKG5lc3RlZERlZiwgaSk9Pm5lc3RlZERlZi52YWxpZGF0ZSh2YWx1ZVtuZXN0ZWREZWYubmFtZV0pKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnNpbmdsZVZhbHVlVmFsaWRhdG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaW5nbGVWYWx1ZVZhbGlkYXRvcih2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG4iLCJcbmV4cG9ydCBjbGFzcyBEZWNpc2lvbntcbiAgICBub2RlO1xuICAgIGRlY2lzaW9uVmFsdWU7IC8vaW5kZXggb2YgIHNlbGVjdGVkIGVkZ2VcbiAgICBjaGlsZHJlbiA9IFtdO1xuICAgIGtleTtcblxuICAgIGNvbnN0cnVjdG9yKG5vZGUsIGRlY2lzaW9uVmFsdWUpIHtcbiAgICAgICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICAgICAgdGhpcy5kZWNpc2lvblZhbHVlID0gZGVjaXNpb25WYWx1ZTtcbiAgICAgICAgdGhpcy5rZXkgPSBEZWNpc2lvbi5nZW5lcmF0ZUtleSh0aGlzKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2VuZXJhdGVLZXkoZGVjaXNpb24sIGtleVByb3BlcnR5PSckaWQnKXtcbiAgICAgICAgdmFyIGUgPSBkZWNpc2lvbi5ub2RlLmNoaWxkRWRnZXNbZGVjaXNpb24uZGVjaXNpb25WYWx1ZV07XG4gICAgICAgIHZhciBrZXkgPSBkZWNpc2lvbi5ub2RlW2tleVByb3BlcnR5XStcIjpcIisoZVtrZXlQcm9wZXJ0eV0/IGVba2V5UHJvcGVydHldIDogZGVjaXNpb24uZGVjaXNpb25WYWx1ZSsxKTtcbiAgICAgICAgcmV0dXJuIGtleS5yZXBsYWNlKC9cXG4vZywgJyAnKTtcbiAgICB9XG5cbiAgICBhZGREZWNpc2lvbihub2RlLCBkZWNpc2lvblZhbHVlKXtcbiAgICAgICAgdmFyIGRlY2lzaW9uID0gbmV3IERlY2lzaW9uKG5vZGUsIGRlY2lzaW9uVmFsdWUpO1xuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goZGVjaXNpb24pO1xuICAgICAgICB0aGlzLmtleSA9IERlY2lzaW9uLmdlbmVyYXRlS2V5KHRoaXMpO1xuICAgICAgICByZXR1cm4gZGVjaXNpb247XG4gICAgfVxuXG4gICAgZ2V0RGVjaXNpb24oZGVjaXNpb25Ob2RlKXtcbiAgICAgICAgcmV0dXJuIERlY2lzaW9uLmdldERlY2lzaW9uKHRoaXMsIGRlY2lzaW9uTm9kZSlcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0RGVjaXNpb24oZGVjaXNpb24sIGRlY2lzaW9uTm9kZSl7XG4gICAgICAgIGlmKGRlY2lzaW9uLm5vZGU9PT1kZWNpc2lvbk5vZGUgfHwgZGVjaXNpb24ubm9kZS4kaWQgPT09IGRlY2lzaW9uTm9kZS4kaWQpe1xuICAgICAgICAgICAgcmV0dXJuIGRlY2lzaW9uO1xuICAgICAgICB9XG4gICAgICAgIGZvcih2YXIgaT0wOyBpPGRlY2lzaW9uLmNoaWxkcmVuLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIHZhciBkID0gRGVjaXNpb24uZ2V0RGVjaXNpb24oZGVjaXNpb24uY2hpbGRyZW5baV0sIGRlY2lzaW9uTm9kZSk7XG4gICAgICAgICAgICBpZihkKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyB0b0RlY2lzaW9uU3RyaW5nKGRlY2lzaW9uLCBleHRlbmRlZD1mYWxzZSwga2V5UHJvcGVydHk9J25hbWUnLCBpbmRlbnQgPSAnJyl7XG5cbiAgICAgICAgdmFyIHJlcyA9IERlY2lzaW9uLmdlbmVyYXRlS2V5KGRlY2lzaW9uLCBrZXlQcm9wZXJ0eSk7XG4gICAgICAgIHZhciBjaGlsZHJlblJlcyA9IFwiXCI7XG5cbiAgICAgICAgZGVjaXNpb24uY2hpbGRyZW4uZm9yRWFjaChkPT57XG4gICAgICAgICAgICBpZihjaGlsZHJlblJlcyl7XG4gICAgICAgICAgICAgICAgaWYoZXh0ZW5kZWQpe1xuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlblJlcyArPSAnXFxuJytpbmRlbnQ7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuUmVzICs9IFwiLCBcIlxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hpbGRyZW5SZXMgKz0gRGVjaXNpb24udG9EZWNpc2lvblN0cmluZyhkLGV4dGVuZGVkLGtleVByb3BlcnR5LCBpbmRlbnQrJ1xcdCcpXG4gICAgICAgIH0pO1xuICAgICAgICBpZihkZWNpc2lvbi5jaGlsZHJlbi5sZW5ndGgpe1xuICAgICAgICAgICAgaWYoZXh0ZW5kZWQpe1xuICAgICAgICAgICAgICAgIGNoaWxkcmVuUmVzID0gICdcXG4nK2luZGVudCArY2hpbGRyZW5SZXM7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBjaGlsZHJlblJlcyA9IFwiIC0gKFwiICsgY2hpbGRyZW5SZXMgKyBcIilcIjtcbiAgICAgICAgICAgIH1cblxuXG5cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXMrY2hpbGRyZW5SZXM7XG4gICAgfVxuXG4gICAgdG9EZWNpc2lvblN0cmluZyhpbmRlbnQ9ZmFsc2Upe1xuICAgICAgICByZXR1cm4gRGVjaXNpb24udG9EZWNpc2lvblN0cmluZyh0aGlzLCBpbmRlbnQpXG4gICAgfVxufVxuIiwiaW1wb3J0IHtEZWNpc2lvbn0gZnJvbSBcIi4vZGVjaXNpb25cIjtcblxuZXhwb3J0IGNsYXNzIFBvbGljeXtcbiAgICBpZDtcbiAgICBkZWNpc2lvbnMgPSBbXTtcblxuICAgIGNvbnN0cnVjdG9yKGlkLCBkZWNpc2lvbnMpe1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMuZGVjaXNpb25zID0gZGVjaXNpb25zIHx8IFtdO1xuICAgICAgICB0aGlzLmtleSA9IFBvbGljeS5nZW5lcmF0ZUtleSh0aGlzKTtcbiAgICB9XG5cbiAgICBhZGREZWNpc2lvbihub2RlLCBkZWNpc2lvblZhbHVlKXtcbiAgICAgICAgdmFyIGRlY2lzaW9uID0gbmV3IERlY2lzaW9uKG5vZGUsIGRlY2lzaW9uVmFsdWUpO1xuICAgICAgICB0aGlzLmRlY2lzaW9ucyAucHVzaChkZWNpc2lvbik7XG4gICAgICAgIHRoaXMua2V5ID0gUG9saWN5LmdlbmVyYXRlS2V5KHRoaXMpO1xuICAgICAgICByZXR1cm4gZGVjaXNpb247XG4gICAgfVxuXG4gICAgc3RhdGljIGdlbmVyYXRlS2V5KHBvbGljeSl7XG4gICAgICAgIHZhciBrZXkgPSBcIlwiO1xuICAgICAgICBwb2xpY3kuZGVjaXNpb25zLmZvckVhY2goZD0+a2V5Kz0oa2V5PyBcIiZcIjogXCJcIikrZC5rZXkpO1xuICAgICAgICByZXR1cm4ga2V5O1xuICAgIH1cblxuICAgIGVxdWFscyhwb2xpY3ksIGlnbm9yZUlkPXRydWUpe1xuICAgICAgICBpZih0aGlzLmtleSAhPSBwb2xpY3kua2V5KXtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpZ25vcmVJZCB8fCB0aGlzLmlkID09PSBwb2xpY3kuaWQ7XG4gICAgfVxuXG4gICAgZ2V0RGVjaXNpb24oZGVjaXNpb25Ob2RlKXtcbiAgICAgICAgcmV0dXJuIFBvbGljeS5nZXREZWNpc2lvbih0aGlzLCBkZWNpc2lvbk5vZGUpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXREZWNpc2lvbihwb2xpY3ksIGRlY2lzaW9uTm9kZSl7XG4gICAgICAgIGZvcih2YXIgaT0wOyBpPHBvbGljeS5kZWNpc2lvbnMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgdmFyIGRlY2lzaW9uID0gRGVjaXNpb24uZ2V0RGVjaXNpb24ocG9saWN5LmRlY2lzaW9uc1tpXSwgZGVjaXNpb25Ob2RlKTtcbiAgICAgICAgICAgIGlmKGRlY2lzaW9uKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVjaXNpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgc3RhdGljIHRvUG9saWN5U3RyaW5nKHBvbGljeSwgZXh0ZW5kZWQ9ZmFsc2UsIHByZXBlbmRJZD1mYWxzZSl7XG5cbiAgICAgICAgdmFyIHJlcyA9IFwiXCI7XG4gICAgICAgIHBvbGljeS5kZWNpc2lvbnMuZm9yRWFjaChkPT57XG4gICAgICAgICAgICBpZihyZXMpe1xuICAgICAgICAgICAgICAgIGlmKGV4dGVuZGVkKXtcbiAgICAgICAgICAgICAgICAgICAgcmVzICs9IFwiXFxuXCJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgcmVzICs9IFwiLCBcIlxuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXMgKz0gRGVjaXNpb24udG9EZWNpc2lvblN0cmluZyhkLCBleHRlbmRlZCwgJ25hbWUnLCAnXFx0Jyk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZihwcmVwZW5kSWQgJiYgcG9saWN5LmlkIT09dW5kZWZpbmVkKXtcbiAgICAgICAgICAgIHJldHVybiBwb2xpY3kuaWQrXCIgXCIrcmVzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG5cbiAgICB0b1BvbGljeVN0cmluZyhpbmRlbnQ9ZmFsc2Upe1xuICAgICAgICByZXR1cm4gUG9saWN5LnRvUG9saWN5U3RyaW5nKHRoaXMsIGluZGVudClcbiAgICB9XG5cblxufVxuIl19
